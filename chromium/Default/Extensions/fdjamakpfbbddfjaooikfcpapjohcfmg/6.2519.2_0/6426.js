"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[6426,4910],{88134:(e,t,a)=>{a.d(t,{t:()=>f});var i=a(96832),c=a(73704),s=a(62264),r=a(8180),_=a(78346),l=a(14877),o=a(39431),n=a(92077),d=a(45272),u=a(88203),p=a(42670),b=a(55752),y=a(63847),m=a(14900),w=a(36351);const h=({formId:e,handleCancel:t,hasDataBeenModified:a,isSubmitting:i})=>{const{translate:c}=(0,u.Z)();return(0,w.BX)(y.k,{sx:{padding:"24px"},as:"footer",justifyContent:"flex-end",flexWrap:"nowrap",children:[a?(0,w.tZ)(m.zxk,{type:"submit",form:e,disabled:i,children:c("webapp_panel_edition_generic_save_changes")}):null,(0,w.tZ)(m.zxk,{sx:{marginLeft:"16px"},nature:"secondary",onClick:t,type:"button",children:c("webapp_panel_edition_generic_cancel_changes")})]})},E="id-add-form",I={GENERIC_ERROR:"_common_generic_error"};function f({children:e,initialValues:t,listRoute:a,reportError:y,countryToKeys:m,header:f,type:g,requiredProperty:S="idNumber"}){const{translate:C}=(0,u.Z)(),{openDialog:L,shouldShowFrozenStateDialog:N}=(0,p.Ub)(),[R,T]=i.useState(!1),[A,B]=i.useState(!1),[Z,v]=i.useState(t.country),{createVaultItem:x}=(0,r.u)(l.L),{showToast:D}=(0,s.p)();i.useEffect((()=>{const e={[o.U.DriversLicense]:c.PageView.ItemDriverLicenceCreate,[o.U.FiscalId]:c.PageView.ItemFiscalStatementCreate,[o.U.IdCard]:c.PageView.ItemIdCardCreate,[o.U.Passport]:c.PageView.ItemPassportCreate,[o.U.SocialSecurityId]:c.PageView.ItemSocialSecurityStatementCreate};(0,d.Nc)(e[g])}),[g]),i.useEffect((()=>{N&&L()}),[N]);const P=()=>{(0,d.Nc)(c.PageView.ItemIdList),(0,n.uX)(a)},U=()=>{D({description:C(I.GENERIC_ERROR),mood:"danger",isManualDismiss:!0})},O=i.useRef((e=>{if(null!==e){const{dirty:t,isSubmitting:a,values:i}=e;T(t),B(a),v(i.country)}}));return(0,w.BX)(i.Fragment,{children:[f(Z),(0,w.tZ)(b.P,{formId:E,formRef:O.current,handleSubmit:async(e,{setSubmitting:t,setFieldError:a})=>{if(!e[S])return a(S,"");try{const a=await x({vaultItemType:g,content:e});(0,_.d6)(a)?(D({description:C(m(Z).success)}),P()):(t(!1),U(),y(new Error("[ids][add] Unable to add id"),a.error?.errorMessage))}catch(e){t(!1),U(),y(e,"[ids][add] Unexpected exception while add id")}},initialValues:t,variant:"add",children:t=>e({values:t})}),(0,w.tZ)(h,{formId:E,handleCancel:()=>{P()},hasDataBeenModified:R,isSubmitting:A})]})}},34355:(e,t,a)=>{a.r(t),a.d(t,{SocialSecurityIdAddPanel:()=>y}),a(96832);var i,c=a(44105),s=a(39431),r=a(88203),_=a(39649),l=a(88134),o=a(66219),n=a(74910),d=a(47121),u=a(36351);const p={[c.c.BR]:{title:"webapp_id_creation_socialsecurity_title_br",success:"webapp_id_creation_socialsecurity_alert_add_success_br"},[c.c.CA]:{title:"webapp_id_creation_socialsecurity_title_ca",success:"webapp_id_creation_socialsecurity_alert_add_success_ca"},[c.c.GB]:{title:"webapp_id_creation_socialsecurity_title_gb",success:"webapp_id_creation_socialsecurity_alert_add_success_gb"},[c.c.IE]:{title:"webapp_id_creation_socialsecurity_title_ie",success:"webapp_id_creation_socialsecurity_alert_add_success_ie"},[c.c.IT]:{title:"webapp_id_creation_socialsecurity_title_it",success:"webapp_id_creation_socialsecurity_alert_add_success_it"},[c.c.JP]:{title:"webapp_id_creation_socialsecurity_title_jp",success:"webapp_id_creation_socialsecurity_alert_add_success_jp"},[c.c.NL]:{title:"webapp_id_creation_socialsecurity_title_nl",success:"webapp_id_creation_socialsecurity_alert_add_success_nl"},[c.c.NO]:{title:"webapp_id_creation_socialsecurity_title_no",success:"webapp_id_creation_socialsecurity_alert_add_success_no"},[c.c.PT]:{title:"webapp_id_creation_socialsecurity_title_pt",success:"webapp_id_creation_socialsecurity_alert_add_success_pt"},[c.c.SE]:{title:"webapp_id_creation_socialsecurity_title_se",success:"webapp_id_creation_socialsecurity_alert_add_success_se"}},b=e=>{var t;return null!=(t=p[e])?t:{title:"webapp_id_creation_socialsecurity_title_default",success:"webapp_id_creation_socialsecurity_alert_add_success_default"}},y=({lee:e,listRoute:t})=>{var a;const{translate:c}=(0,r.Z)(),p={idName:"",idNumber:"",country:(0,o.lt)(e.carbon.currentLocation),spaceId:null!=(a=(0,_.B)(e.globalState))?a:""};return(0,u.tZ)(l.t,{initialValues:p,listRoute:t,reportError:e.reportError,countryToKeys:b,header:e=>(0,u.tZ)(n.h,{title:c(b(e).title),type:s.U.SocialSecurityId}),type:s.U.SocialSecurityId,children:()=>i||(i=(0,u.tZ)(d.x,{variant:"add"}))})}},47121:(e,t,a)=>{a.d(t,{x:()=>y});var i=a(96832),c=a(88355),s=a(88203),r=a(49023),_=a(42670),l=a(16792),o=a(87773),n=a(82207),d=a(68037),u=a(36351);const p={...l.k,DETAILS_CONTENT_LABEL:"webapp_id_form_social_security_content_details_label"},b=({variant:e,handleCopy:t})=>{const{translate:a}=(0,s.Z)(),{shouldShowFrozenStateDialog:l}=(0,_.Ub)(),b=i.useRef(null),{values:y}=(0,c.u6)();return i.useEffect("add"===e?()=>{const e=setTimeout((()=>{b.current?.focus()}),r.sc);return()=>clearTimeout(e)}:()=>{},[]),(0,u.BX)(i.Fragment,{children:[(0,u.BX)(d.u,{title:a(p.DETAILS_CONTENT_LABEL),additionalSx:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,u.tZ)(o.YI,{name:"idName",label:a(p.NAME_LABEL),placeholder:a(p.NAME_PLACEHOLDER),ref:b,disabled:!!l}),(0,u.tZ)(o.YI,{name:"idNumber",label:a(p.ID_NUMBER_LABEL),placeholder:a(p.ID_NUMBER_PLACEHOLDER),actions:"edit"===e?[(0,u.tZ)(n.m,{data:y.idNumber,onCopy:t},"copy")]:void 0,disabled:!!l}),(0,u.tZ)(o.Dz,{name:"country",label:a(p.COUNTRY_LABEL),disabled:!!l})]}),(0,u.tZ)(o.A0,{name:"spaceId",disabled:!!l,wrapInContentCard:!0,contentCardLabel:a(p.ORGANIZATION_CONTENT_LABEL)})]})},y=i.memo(b)}}]);