"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[7232],{42521:(e,t,a)=>{a.d(t,{Jh:()=>r,UE:()=>l,ZP:()=>o});var s=a(96832),n=a(26849);const l=(0,n.compose)(n.not,n.isEmpty,n.trim,(0,n.defaultTo)("")),i=/.+@.+\..+/,r=e=>i.test(e.trim());class o extends s.Component{constructor(e){super(e),this.setInternalState=e=>{this.setState({internal:{...this.state.internal,...e}})},this.setUpdatedValues=e=>{const{signalEditedValues:t,onValuesUpdated:a}=this.props,s={...this.state.values,...e};this.setState({values:s},(()=>{t&&t(this.hasFormBeenEdited()),a&&a(s)}))},this.handleChange=(e,t="")=>{if(e instanceof Event&&t)throw new Error("handleChange was called with both a ChangeEvent and key.");const a=e?.target?{[e.target.dataset.name]:e.target.value}:{[t]:e};this.setUpdatedValues(a)},this.handleChanges=e=>{this.setUpdatedValues(e)},this.validateValues=e=>{if(0===Object.keys(e).length)return!0;const t=(0,n.reduce)(((t,a)=>(t[a]=e[a]?(0,n.compose)(n.not,e[a]):()=>!1,t)),{},Object.keys(this.state.values)),a=(0,n.evolve)(t,this.state.values);return this.setState({errors:a}),(0,n.all)((0,n.equals)(!1),(0,n.values)(a))},this.hasFormBeenEdited=()=>!(0,n.equals)(this.state.values,this.props.currentValues),this.getValues=()=>this.state.values;const t=Object.keys(e.currentValues).reduce(((e,t)=>(e[t]=!1,e)),{});this.state={internal:{},values:e.currentValues,errors:t}}componentDidUpdate(e){(0,n.equals)(this.props.currentValues,e.currentValues)||this.setState({values:this.props.currentValues})}}},53748:(e,t,a)=>{a.d(t,{B:()=>w});var s=a(96832),n=a(73704),l=a(14900),i=a(8180),r=a(14877),o=a(39431),d=a(92077),u=a(39649),c=a(86498),h=a(88203),p=a(45272),m=a(42670),g=a(63520),v=a(15446),V=a(18462),b=a(36351);function w(e){const{renderForm:t,vaultItemType:a,iconType:w}=e;return({lee:e})=>{const{translate:_}=(0,h.Z)(),{routes:I}=(0,d.Xo)(),y=(0,c.V)(),{createVaultItem:f}=(0,i.u)(r.L),C=(0,s.useRef)(null),{openDialog:U,shouldShowFrozenStateDialog:x}=(0,m.Ub)(),[E,P]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e={[o.U.Address]:n.PageView.ItemAddressCreate,[o.U.Company]:n.PageView.ItemCompanyCreate,[o.U.Email]:n.PageView.ItemEmailCreate,[o.U.Identity]:n.PageView.ItemIdentityCreate,[o.U.Phone]:n.PageView.ItemPhoneCreate,[o.U.Website]:n.PageView.ItemWebsiteCreate};(0,p.Nc)(e[a])}),[]),(0,s.useEffect)((()=>{x&&U()}),[x]);const S=()=>{(0,p.Nc)(n.PageView.ItemPersonalInfoList),(0,d.uX)(I.userPersonalInfo)},Z=(0,u.B)(e.globalState),T=(0,b.tZ)(v.ZP,{iconSize:v.Jh.headerEditPanelIcon,iconType:w}),B=(0,V.gV)(_,a);return(0,b.tZ)(g.zI,{isUsingNewDesign:!0,isViewingExistingItem:!1,itemHasBeenEdited:E,onNavigateOut:S,onSubmit:async()=>{Boolean(C.current?.isFormValid())&&(await(async()=>{const e=C.current?.getValues();e&&"success"!==(await f({vaultItemType:a,content:e})).tag&&y.showAlert(_("_common_generic_error"),l.BLW.ERROR)})(),S())},formId:"add_personalinfo_panel",header:(0,b.tZ)(g.V9,{icon:T,title:B}),children:t(e,C,(()=>P(!0)),Z)})}}},87232:(e,t,a)=>{a.r(t),a.d(t,{WebsiteAddPanel:()=>o}),a(96832);var s=a(39431),n=a(47837),l=a(53748),i=a(15446),r=a(36351);const o=(0,l.B)({iconType:i.Tu.website,vaultItemType:s.U.Website,renderForm:(e,t,a,s)=>{const l={itemName:"",spaceId:s,URL:""};return(0,r.tZ)(n.m,{lee:e,currentValues:l,signalEditedValues:a,ref:t})}})},47837:(e,t,a)=>{a.d(t,{m:()=>d});var s=a(93853),n=a(42670),l=a(42521),i=a(67406),r=a(68037),o=a(36351);class d extends l.ZP{isFormValid(){return this.validateValues({URL:l.UE})}render(){var e;const t=this.props.lee.translate.namespace("webapp_personal_info_edition_website_"),{shouldShowFrozenStateDialog:a}=this.context;return(0,o.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,o.tZ)(r.u,{title:t("content_card_details_label"),additionalSx:{display:"flex",flexDirection:"column",gap:"8px"},children:(0,o.tZ)(s.n,{required:!0,label:t("website_label"),placeholder:t("placeholder_no_website"),"data-name":"URL",value:this.state.values.URL,error:this.state.errors.URL,onChange:this.handleChange,readOnly:!!a},"website")}),(0,o.BX)(r.u,{title:t("content_card_organization_label"),additionalSx:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,o.tZ)(s.n,{label:t("name_label"),placeholder:t("placeholder_no_name"),"data-name":"itemName",value:this.state.values.itemName,onChange:this.handleChange,readOnly:!!a},"name"),(0,o.tZ)(i.M,{isUsingNewDesign:!0,labelSx:i.e,spaceId:null!=(e=this.state.values.spaceId)?e:"",onChange:e=>this.handleChange(e,"spaceId"),disabled:!!a})]})]})}}d.contextType=n.CQ}}]);