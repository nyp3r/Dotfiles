"use strict";(globalThis.webpackChunk_dashlane_amphora=globalThis.webpackChunk_dashlane_amphora||[]).push([["418"],{1881:function(e,t,r){r.r(t),r.d(t,{AsyncResource:()=>s});let s={bind:e=>e}},56509:function(e,t,r){r.r(t),r.d(t,{performance:()=>s});let s={now:()=>{}}},71181:function(e,t,r){r.d(t,{O:()=>eN});var s=r(46939),i=r(6223),n=r(60825),o=r(41835),a=r(20933),c=r(35358),u=r(11838),d=r(10281),l=r(59064),p=r(50702),h=r(50113),m=r(4466),y=r(70472),g=r(22636),v=r(68280),f=r(59842),E=r(36031),b=r(34832),S=r(90834),T=r(43530),w=r(77878),x=r(15468),A=r(70985),C=r(19868),_=r(88978),R=r(67602),D=r(85662),F=r(14690),U=r(73827),P=r(98222),I=r(3068),j=r(42596),O=r(72268),q=r(13473),k=r(52562),V=r(65430),N=r(41908),L=r(74677),M=r(89797),H=r(54637),G=r(41681),W=r(36127),z=r(4631),K=r(6502),$=r(57429),B=r(63365),Q=r(4625),Y=r(31303),J=r(73466),X=r(70710),Z=r(47146),ee=r(31460),et=r(70160),er=r(50018),es=r(36501),ei=r(8616),en=r(44790),eo=r(83461),ea=r(41721),ec=r(7809),eu=r(26195),ed=r(52087),el=r(76315),ep=r(45840),eh=r(76249),em=r(1457),ey=r(8886),eg=r(79662),ev=r(85813),ef=r(39523),eE=r(73500),eb=r(13017),eS=r(2401),eT=r(76592),ew=r(11856),ex=r(93906),eA=r(10743),eC=r(83114),e_=r(87055),eR=r(26224),eD=r(86825),eF=r(84501),eU=r(6970),eP=r(84323),eI=r(83783),ej=r(1748),eO=r(61428),eq=r(7832),ek=r(85360);let eV=Object.freeze({background:"background",foregroundWebapps:"foreground-webapps",foregroundPopup:"foreground-popup",others:[]}),eN=(0,s.t)(eV.background,eV.others).with({module:eg.t$,on:eV.background}).with({module:ev.P,on:eV.background}).with({module:i.W,on:eV.background}).with({module:n.H,on:eV.background}).with({module:o.M,on:eV.background}).with({module:b.K,on:eV.background}).with({module:f.y,on:eV.background}).with({module:E.m,on:eV.background}).with({module:a.d,on:eV.background}).with({module:l.a,on:eV.background}).with({module:p.X,on:eV.background}).with({module:S.V,on:eV.background}).with({module:T.F,on:eV.background}).with({module:w.i,on:eV.background}).with({module:x.M,on:eV.background}).with({module:O.c,on:eV.background}).with({module:q._,on:eV.background}).with({module:k.V,on:eV.background}).with({module:V.I,on:eV.background}).with({module:N.Y,on:eV.background}).with({module:L.G,on:eV.background}).with({module:h.t,on:eV.background}).with({module:m.A,on:eV.background}).with({module:y.k,on:eV.background}).with({module:e_.J,on:eV.background}).with({module:j.r,on:eV.background}).with({module:H.B,on:eV.background}).with({module:c.f,on:eV.background}).with({module:G.L,on:eV.background}).with({module:W.R,on:eV.background}).with({module:z.v,on:eV.background}).with({module:K.e,on:eV.background}).with({module:$.e,on:eV.background}).with({module:B.Z,on:eV.background}).with({module:ee.g,on:eV.background}).with({module:et.Q,on:eV.background}).with({module:u.J,on:eV.background}).with({module:d.i,on:eV.background}).with({module:eh.J,on:eV.background}).with({module:J.D,on:eV.background}).with({module:X.L,on:eV.background}).with({module:Z.j,on:eV.background}).with({module:ef.Yu,on:eV.background}).with({module:U.Q,on:eV.background}).with({module:ei.L,on:eV.background}).with({module:ep.u,on:eV.background}).with({module:en.o,on:eV.background}).with({module:eo.K,on:eV.background}).with({module:ea.a,on:eV.background}).with({module:eE.cV,on:eV.background}).with({module:eO.k,on:eV.background}).with({module:ey.B,on:eV.background}).with({module:P.v,on:eV.background}).with({module:ec.t,on:eV.background}).with({module:eu.B,on:eV.background}).with({module:em.y,on:eV.background}).with({module:I.Y,on:eV.background}).with({module:eR.d,on:eV.background}).with({module:eD.N,on:eV.background}).with({module:eF.l,on:eV.background}).with({module:eI.U,on:eV.background}).with({module:A.G,on:eV.background}).with({module:eb.Dm,on:eV.background}).with({module:eS.J,on:eV.background}).with({module:Y.z,on:eV.background}).with({module:eU.X,on:eV.background}).with({module:C.n,on:eV.background}).with({module:_.n,on:eV.background}).with({module:F.c,on:eV.background}).with({module:er.v,on:eV.background}).with({module:eq.c,on:eV.background}).with({module:ed.t,on:eV.background}).with({module:el.k,on:eV.background}).with({module:es.R,on:eV.background}).with({module:eT.T,on:eV.background}).with({module:ew.L,on:eV.background}).with({module:ex.a,on:eV.background}).with({module:ej.d,on:eV.background}).with({module:eP.v,on:eV.background}).with({module:eA.m,on:eV.background}).with({module:M.a,on:eV.background}).with({module:eC.Z,on:eV.background}).with({module:g.X,on:eV.background}).with({module:v.m,on:eV.background}).with({module:ek.y,on:eV.background}).with({module:Q.T,on:eV.background}).with({module:R.I,on:eV.background}).with({module:D.d,on:eV.background}).define()},74437:function(e,t,r){r.d(t,{d:()=>s});class s{addExternalComponentReadyCondition(e){this.externalComponentReadyConditions.push(e)}addAppReadyHook(e){this.appReadyHooks.push(e)}addShutdownHook(e){this.shutdownHooks.push(e)}removeShutdownHook(e){let t=this.shutdownHooks.indexOf(e);t>=0&&this.shutdownHooks.splice(t,1)}startup(){let e=this.waitAndTriggerAppReady();if(!this.externalComponentReadyConditions.length)return e;this.addShutdownHook(async()=>await e)}async shutDown(){for(;this.shutdownHooks.length>0;){let e=this.shutdownHooks.pop();e&&await e()}}async waitAndTriggerAppReady(){this.logger?.debug("Waiting for external components before running startup hooks"),(await Promise.allSettled(this.externalComponentReadyConditions.map(e=>e()))).forEach(e=>{if("rejected"!==e.status)return;let t=Error("Failed to init external component",{cause:e.reason});this.logger?.error(t)}),this.logger?.debug(" Done waiting for external components before running startup hooks"),await this.executeStartupHooks(this.appReadyHooks)}async executeStartupHooks(e){let t=1;for(;e.length>0;){let r=e.shift();if(r){this.logger?.debug(`Executing startup hook ${t}`);try{let e=await r();e&&this.addShutdownHook(e),this.logger?.debug(`Done executing startup hook ${t}`),t++}catch(t){let e=Error("Failed executing startup hook",{cause:t});this.logger?.error(e)}}}}constructor(e){this.logger=e,this.shutdownHooks=[],this.externalComponentReadyConditions=[],this.appReadyHooks=[]}}},97415:function(e,t,r){r.d(t,{O:()=>c,r:()=>u});var s=r(44577),i=r(56144),n=r(23596),o=r(84408),a=r(42589);class c{async waitTimeout(e){await (0,s.z)(this.createObservableTimer(e,e))}}class u extends c{fireTimer(e=1){this.time+=e,[...this.subscribers$.value].forEach(e=>{e.next(this.time)})}async allSubscribersDisconnected(){await (0,s.z)(this.pendingTimerCount$.pipe((0,i.h)(e=>!e)))}createObservableTimer(){return new n.y(e=>(this.subscribers$.next(new Set([...this.subscribers$.value,e])),()=>{this.subscribers$.next(new Set([...this.subscribers$.value].filter(t=>t!==e)))}))}constructor(...e){super(...e),this.subscribers$=new o.X(new Set),this.time=0,this.pendingTimerCount$=this.subscribers$.pipe((0,a.U)(e=>e.size))}}},46939:function(e,t,r){r.d(t,{t:()=>o,u:()=>a});var s=r(79662),i=r(85813);let n=()=>{let e=t=>({define:()=>t,with:r=>{let s={api:r.module,main:r.on,queryOnly:r.queryOnly??[]},i=r.module.name;return e({...t,[i]:s})}});return e({})},o=(e,t)=>n(),a=o().with({module:s.t$,on:"node"}).with({module:i.P,on:"node"})},45622:function(e,t,r){r.d(t,{b:()=>k});var s=r(15673),i=r(91986),n=r(8018),o=r(20458),a=r(15018),c=r(23506),u=r(83101),d=r(74492),l=r(86417),p=r(74437),h=r(41650),m=r(21636),y=r(33221),g=r(42030),v=r(63062),f=r(15021),E=r(90385),b=r(3750),S=r(2825);class T{async execute(e){let t=s.ContextIdFactory.getByRequest(e),{type:r}=e;if(!(e.module in this.introspection.modules))throw Error("Unknown module "+e.module);let i=this.introspection.modules[e.module],n=i.api??v.w,o=i.handlers??S.TB;switch(r){case g.Y.Query:{let{queries:r}=n;if(e.name in r){let s=new r[e.name](e.body),i=o.queries[e.name];return{result:(await this.moduleRef.resolve(i,t,{strict:!1})).execute(s,{name:e.name})}}throw Error("Unknown query "+e.name)}case g.Y.Command:{let{commands:r}=n;if(e.name in r){let s=new r[e.name](e.body),i=o.commands[e.name],n=await this.moduleRef.resolve(i,t,{strict:!1});return{result:await n.execute(s,{name:e.name})}}throw Error("Unknown command "+e.name)}case g.Y.Event:{let{events:r}=n;if(e.name in r){let s=new r[e.name](e.body),i=Object.values(this.introspection.modules).flatMap(t=>(t.handlers??S.TB).events[e.module]?.events[e.name]),n=await Promise.all(i.filter(e=>this.introspection.supportedEventHandlers.has(e)).map(async e=>await this.moduleRef.resolve(e,t,{strict:!1})));await Promise.all(n.map(e=>e.handle(s)));return}throw Error("Unknown event "+e.name)}case g.Y.Cron:{let r=(i.crons??[]).find(t=>t.name===e.name);if(!r)throw Error("unknown cron "+e.name);if(r.scope===f.F.User&&!e.context.getOrFail(b.l.UserName,{errorMessage:`Expected ${b.l.UserName} to be set in the request context`}))return{result:!1};let s=await this.moduleRef.resolve(r.handler,t,{strict:!1});if(s.isRunnable&&!await s.isRunnable())return{result:!1};return await s.run(),{result:!0}}}return(0,E.U)(r)}constructor(e,t){this.introspection=e,this.moduleRef=t}}(0,m.gn)([(0,y.All)(),(0,m.fM)(0,(0,y.Req)()),(0,m.w6)("design:type",Function),(0,m.w6)("design:paramtypes",["undefined"==typeof ApplicationRequest?Object:ApplicationRequest]),(0,m.w6)("design:returntype",Promise)],T.prototype,"execute",null),T=(0,m.gn)([(0,y.Controller)({scope:y.Scope.REQUEST,durable:!1}),(0,m.w6)("design:type",Function),(0,m.w6)("design:paramtypes",[void 0===S.Q1?Object:S.Q1,void 0===s.ModuleRef?Object:s.ModuleRef])],T);var w=r(97415),x=r(25690),A=r(29047),C=r(57455),_=r(3171);class R{catch(e,t){t.switchToHttp().getResponse().fail(e)}}R=(0,m.gn)([(0,y.Catch)(Error)],R);let D={provide:b.f,scope:y.Scope.REQUEST,inject:[s.REQUEST],useFactory:e=>(()=>{switch(e.type){case g.Y.Command:case g.Y.Event:case g.Y.Query:case g.Y.Cron:case g.Y.Init:return e.context;default:(0,E.U)(e)}})()};var F=r(68798),U=r(93781),P=r(91978),I=r(11198),j=r(75264),O=r(66251),q=r(99481);class k{static addGlobalNestInterceptor(e){this.globalInterceptors.push(e)}static create({brokers:e,configProviders:t,keyValueStorageInfrastructure:r,managedStorageInfrastructure:m,lifeCycle:y,logger:g,modules:v,nodeConfiguration:f,storeInfrastructureFactory:E,timers:V,jsonFetcher:N,defaultDeviceStorageEncryptionCodecProvider:L,defaultUserStorageEncryptionCodecProvider:M,storeList:H,interceptors:G,introspection:W,moduleClientsProviders:z,userUseCaseScopeProvider:K,queriesCache:$},B="full"){let Q=(0,q.Qi)(U.H),Y=[],J=[];return Y.push({provide:P.QI,useValue:r}),J.push(P.QI),m&&(Y.push({provide:P.Rx,useValue:m}),J.push(P.Rx)),Y.push({provide:p.d,useValue:y}),J.push(p.d),f&&(Y.push({provide:d.$,useValue:f}),J.push(d.$)),e&&(Y.push({provide:a.d,useValue:e.cqrs}),J.push(a.d)),$&&(Y.push({provide:I.z,useValue:$}),J.push(I.z)),e&&(Y.push({provide:u.a,useValue:e.event}),J.push(u.a)),N&&(Y.push({provide:j.X,useValue:N}),J.push(j.X)),e&&(Y.push(c.w),J.push(c.w),Y.push(c.m),J.push(c.m)),Y.push(...t),J.push(...t.map(({provide:e})=>e)),Y.push({provide:h.V,useValue:g}),J.push(h.V),Y.push(D),J.push(b.f),E&&(Y.push({provide:l.G,useValue:E}),J.push(l.G)),V&&(Y.push({provide:w.O,useValue:V}),J.push(w.O)),Y.push({provide:O.u,useValue:new O.u(r)}),J.push(O.u),Y.push(i.z),J.push(i.z),Y.push(L),J.push(x.h),M&&(Y.push(M),J.push(x.s)),Y.push(n.b),J.push(n.b),Y.push(o.E),J.push(o.E),Y.push({provide:S.Q1,useValue:W}),J.push(S.Q1),H&&Y.push({provide:_.D,useValue:H}),"full"===B&&(Y.push(C.X),J.push(C.X),Y.push(A.J),J.push(A.J)),Y.push({provide:U.H,useFactory:Q.asyncFactory,inject:Q.inject}),J.push(Q.token),Y.push({provide:s.APP_FILTER,useClass:R}),Y.push(...[...this.globalInterceptors,...G??[]].flatMap(e=>[{provide:s.APP_INTERCEPTOR,useClass:e}])),z&&(Y.push(...z),J.push(...z.map(({provide:e})=>e))),K&&(Y.push(K),J.push(F.g)),{module:k,providers:Y,imports:[...v],exports:J,controllers:[T],global:!0}}}k.globalInterceptors=[]},42030:function(e,t,r){r.d(t,{Y:()=>a});var s,i=r(41001),n=r(17623),o=r(3750),a=((s={}).Command="command",s.Query="query",s.Event="event",s.Init="init",s.Cron="cron",s);let c=i.ContextIdFactory.create();new o.f().withValue(o.l.UseCaseId,String(c.id)),n.REQUEST_CONTEXT_ID},84504:function(e,t,r){let s;r.d(t,{Rn:()=>eW,uT:()=>eH,Wj:()=>eG});var i=r(56144),n=r(44577),o=r(81433),a=r(15673),c=r(41001),u=r(79662),d=r(20458),l=r(18550);let p=e=>[...e.entries()].reduce((e,[t,r])=>{let s=r.handlers?.events??{};return e[t]=Object.values(s).reduce((e,t)=>(t.name&&(e[t.name]=Object.keys(t.events)),e),(0,l.Ay)({})),e},(0,l.Ay)({}));var h=r(45622),m=r(33221),y=r(17623),g=r(306),v=r(90385),f=r(5049),E=r(1833),b=r(47890),S=r(84408),T=r(42030),w=r(3750);let x=()=>{},A=()=>{throw Error("Not supported")};class C{isHeadersSent(){return!1}setAppInstance(e){this.app=e}bindHandler(e){if(this.cqrsCallbacks||this.eventCallbacks)throw Error("Handler already registered");this.cqrsCallbacks={onCommand:(t,r,s,i)=>new Promise((n,o)=>{e(this.initRequest({type:T.Y.Command,module:t,name:r,body:s,context:i}),{type:T.Y.Command,value:{result:(0,g.Vp)(void 0)},reply:n,fail:o})}),onQuery:(t,r,s,i)=>{let n=new Promise((n,o)=>{e(this.initRequest({type:T.Y.Query,module:t,name:r,body:s,context:i}),{type:T.Y.Query,value:{result:f.E},reply:n,fail:o})});return(0,E.D)(n).pipe((0,b.J)())}},this.eventCallbacks={onLocalEvent:(t,r,s,i,n)=>new Promise((r,o)=>{e(this.initRequest({type:T.Y.Event,body:i,context:n,name:s,module:t}),{type:T.Y.Event,reply:r,fail:o})})},this.cronCallbacks=(t,r)=>new Promise((s,i)=>{let n=new w.f().withValue(w.l.UseCaseId,String(c.ContextIdFactory.create().id));e(this.initRequest({type:T.Y.Cron,context:n,module:t,name:r}),{type:T.Y.Cron,value:{result:!1},reply:s,fail:i})})}all(e,t){if(!t)throw Error("Provide a handler");return this.bindHandler(t)}async listen(){if(!this.cqrsCallbacks||!this.eventCallbacks||!this.cronCallbacks)throw Error("Please call `all(path, handler)` first");let e=await this.cqrsBroker.connect(this.cqrsCallbacks).start(),t=await this.eventsBroker.connect(this.eventCallbacks).start(),r=await this.cronsBroker.connect(this.cronCallbacks).start(),{isListening$:s}=this;this.disconnect=()=>{e.stop(),t.stop(),r.stop(),s.complete()},this.close=this.disconnect,this.isListening$.next(!0)}reply(e,t){switch(e.type){case T.Y.Query:case T.Y.Command:e.reply(t.result);break;case T.Y.Event:e.reply();break;case T.Y.Cron:e.reply(t.result);break;default:(0,v.U)(e)}}getInstance(){return this}getHttpServer(){return{once:x,address:()=>"",removeListener:x}}getType(){return"AppCoreNode"}initRequest(e){let{context:t}=e,r=Number.parseInt(t.getOrFail(w.l.UseCaseId),10);if(Number.isNaN(r))throw Error("Unexpected contextId format. Not a number.");let s={id:r},i={...e,[y.REQUEST_CONTEXT_ID]:s};if(!this.app)throw Error("Unexpected null app");return this.app.registerRequestByContextId(i,s),i}constructor(e,t,r){this.cqrsBroker=e,this.eventsBroker=t,this.cronsBroker=r,this.isListening$=new S.X(!1),this.use=A,this.get=A,this.post=A,this.head=A,this.delete=A,this.put=A,this.options=A,this.patch=A,this.end=A,this.applyVersionFilter=A,this.disconnect=x,this.close=x,this.status=A,this.render=A,this.redirect=A,this.setHeader=A,this.enableCors=A,this.initHttpServer=A,this.registerParserMiddleware=A,this.createMiddlewareFactory=A}}let _=()=>{};class R extends a.AbstractHttpAdapter{setAppInstance(e){this.getInstance().setAppInstance(e)}initHttpServer(){this.setHttpServer({once:_,address:()=>"",removeListener:_})}getRequestMethod(){return m.RequestMethod.ALL}getRequestUrl(){return"/"}getType(){return"CoreApp"}isHeadersSent(){return!1}applyVersionFilter(){throw Error("Versioning not supported")}constructor(e,t,r){super(new C(e,t,r)),this.createMiddlewareFactory=this.instance.createMiddlewareFactory,this.close=this.instance.close,this.reply=this.instance.reply,this.useStaticAssets=_,this.setViewEngine=_,this.getRequestHostname=_,this.status=_,this.render=_,this.redirect=_,this.setNotFoundHandler=_,this.setHeader=_,this.registerParserMiddleware=_,this.enableCors=_,this.setErrorHandler=_,this.end=_,this.getHeader=_,this.appendHeader=_,this.isListening$=this.instance.isListening$}}let D=()=>{},F=()=>{throw Error("Not supported")};class U extends a.AbstractHttpAdapter{getRequestMethod(){return m.RequestMethod.ALL}getRequestUrl(){return"/"}getType(){return"CoreApp"}initHttpServer(){this.setHttpServer({once:D,address:()=>"",removeListener:D})}isHeadersSent(){return!1}applyVersionFilter(){throw Error("Versioning not supported")}constructor(...e){super(...e),this.close=D,this.reply=D,this.createMiddlewareFactory=F,this.useStaticAssets=D,this.setViewEngine=D,this.getRequestHostname=D,this.status=D,this.render=D,this.redirect=D,this.setNotFoundHandler=D,this.setHeader=D,this.registerParserMiddleware=D,this.enableCors=D,this.setErrorHandler=D,this.end=D,this.getHeader=D,this.appendHeader=D,this.all=D,this.listen=D}}var P=r(74437),I=r(83101),j=r(15018),O=r(83423),q=r(424),k=r(14234),V=r(2825);let N=(e,t,r,s)=>{let i=new Set([...r.keys()]),n=new Set(Object.values(e).filter(e=>e.main===t||e.queryOnly.includes(t)).map(e=>e.api.name)),o=[...n].filter(e=>!i.has(e)),a=[...i].filter(e=>!n.has(e));o.length>0&&s?.error("These APIs are not implemented ",{APIs:JSON.stringify({unImplementedApis:o})}),a.length>0&&s?.error("Some implementations do not have APIS",{implementations:JSON.stringify({implementationWithoutApis:a})})},L=(e,t)=>t.reduce((t,r)=>{let s=Reflect.getMetadata(k.o,r.module);if(!(0,V.Vy)(s))return t;let i=s.api?.name??s.sharedModuleName??"unnamed";if(s.onFrameworkInit){let e=e=>({moduleName:i,initClass:e});s.onFrameworkInit instanceof Array?t.onFrameworkInits=t.onFrameworkInits.concat(s.onFrameworkInit.map(e)):t.onFrameworkInits.push(e(s.onFrameworkInit))}return t.configProviders.push(...function(e,t,r,s){if(!t.configurations)return[];let{configurations:i}=t,n=[];return Object.keys(i).forEach(t=>{let s=i[t].token,o=r.configurations?.[t];if(!o)throw Error(`Missing '${t}' configuration for '${e}' module`);n.push({...o,provide:s})}),Object.keys(r.configurations??{}).forEach(r=>{t.configurations?.[r]||s?.error(`Unknown '${r}' configuration for '${e}' module will be unused`)}),n}(i,s,r,e)),s.api?.name&&t.modulesMetadata.set(s.api.name,s),t.modules.push(r.module),s.crons&&t.crons.push(...s.crons.map(e=>({...e,moduleName:i}))),s.handlers?.events&&t.eventHandlers.push(...Object.values(s.handlers.events).flatMap(e=>Object.values(e.events))),s.stores&&t.stores.push(...s.stores),t.allDeclarations[i]=s,t},{configProviders:[],modules:[],modulesMetadata:new Map,onFrameworkInits:[],crons:[],eventHandlers:[],stores:[],allDeclarations:(0,l.Ay)({})});var M=r(25690),H=r(80426),G=r(86417),W=r(78230),z=r(15232);async function K(e,t,r){r.debug("Run modules initialization handlers...");let s=Object.freeze({id:-1}),i=e.map(async({moduleName:e,initClass:i})=>{try{r.debug(`Running module initialization handler ${e}`);let n={type:T.Y.Init,[y.REQUEST_CONTEXT_ID]:s,module:e,name:"init",context:new w.f().withValue(w.l.UseCaseId,String(s.id))};t.registerRequestByContextId(n,s);let o=await t.resolve(i,s,{strict:!1});await o.onFrameworkInit(),r.debug(`Done running module initialization handler ${e}`)}catch(s){let t=Error(`Failed running module initialization handler ${e}`,{cause:s});r.error(t)}});await Promise.all(i),r.debug("Done running modules initialization handlers")}function $(e){let{parameterProvider:t,token:r}=e;switch(t.type){case z.j.CLASS_PROVIDER:return{provide:r,useClass:t.useClass};case z.j.VALUE_PROVIDER:return{provide:r,useValue:t.useValue};default:(0,v.U)(t)}}var B=r(3171),Q=r(90573),Y=r(43225),J=r(27192);let X=class extends J.i{process(e){return Promise.resolve(Object.keys(e).reduce((e,t)=>(e[t]=!1,e),{}))}},Z=(0,Y.z)(new X);var ee=r(59303),et=r(21636),er=r(72907),es=r(69853),ei=r(80262),en=r(53868),eo=r(42589),ea=r(96272),ec=r(51721),eu=r(15021),ed=r(23506),el=r(74492);let ep=(0,ea.Vj)("no-user-logged-in-override","User is not logged in - override")(),eh={tag:""};class em{intercept(e,t){let r=e.switchToHttp().getRequest(),{appDefinition:s}=this.config;if(r.type===T.Y.Cron)return this.checkCronActiveUser(t,r);if(!(r.module in s))return t.handle();let i=s[r.module].api;switch(r.type){case T.Y.Query:return this.checkQueryActiveUser(t,r,i);case T.Y.Command:return this.checkCommandActiveUser(t,r,i);case T.Y.Event:return this.checkEventActiveUser(t,r,i);default:(0,v.U)(r)}}checkCronActiveUser(e,t){let r=(this.introspection.modules[t.module].crons??[]).find(e=>e.name===t.name);if(!r)throw Error("No such cron "+t.name);return r.scope===eu.F.Device?e.handle():this.checkActiveUserPromise(e,t.context,{noUserError:eh,scope:eu.F.User},"Cron")}checkQueryActiveUser(e,t,r){let{queries:s}=r;if(t.name in s){let{metadata:r}=s[t.name];return this.checkActiveUserObservable(e,t,r,`Query ${t.module}.${t.name}`)}return e.handle()}checkCommandActiveUser(e,t,r){let{commands:s}=r;if(t.name in s){let{metadata:r}=s[t.name];return this.checkActiveUserPromise(e,t.context,r,`Command ${t.module}.${t.name}`)}return e.handle()}checkEventActiveUser(e,t,r){let{events:s}=r;if(t.name in s){let{metadata:r}=s[t.name];return this.checkActiveUserPromise(e,t.context,r,`Event ${t.module}.${t.name}`)}return e.handle()}checkActiveUserPromise(e,t,r,s){if(r.scope!==eu.F.User)return e.handle();let{noUserError:i}=r;return(0,E.D)(t.getOrAdd(w.l.UserName,()=>this.queryUserName())).pipe((0,er.w)(t=>{if(t)return e.handle();if(i)return(0,es.of)({result:(0,g.Rn)(i)});throw Error(`Not logged in : ${s}`)}))}checkActiveUserObservable(e,t,r,s){if(r.scope!==eu.F.User)return e.handle();let{noUserError:i,noUserErrorOverrideEnabled:n}=r,o=n&&(0,ec.K)(t.body)&&"noUserErrorOverride"in t.body&&!0===t.body.noUserErrorOverride&&ep||i;return(0,es.of)({result:o?this.createResultObservable(e,t.context,()=>new S.X((0,g.Rn)(o))):this.createResultObservable(e,t.context,()=>(0,ei._)(()=>Error(`Not logged in : ${s}`)))})}createResultObservable(e,t,r){return this.queryUserName$().pipe((0,en.b)(e=>{t.set(w.l.UserName,e)}),(0,er.w)(t=>t?e.handle().pipe((0,er.w)(({result:e})=>e)):r()))}queryUserName$(){return this.clients.getClient(u.t$).queries.activeUser().pipe((0,eo.U)(e=>{if((0,g.d6)(e)&&(0,g.db)(e).userName)return e.data.userName}))}queryUserName(){return(0,n.z)(this.queryUserName$())}constructor(e,t,r){this.clients=e,this.config=t,this.introspection=r}}em=(0,et.gn)([(0,m.Injectable)(),(0,et.w6)("design:type",Function),(0,et.w6)("design:paramtypes",[void 0===ed.m?Object:ed.m,void 0===el.$?Object:el.$,void 0===V.Q1?Object:V.Q1])],em);class ey{async setState(e){await this.storage.set(this.storageKey,JSON.stringify(e))}async getState(){let e=await this.storage.get(this.storageKey);if(!e)return{entries:[]};let t=JSON.parse(e);return t&&"object"==typeof t&&"entries"in t&&Array.isArray(t.entries)&&t.entries.every(e=>!!e&&"object"==typeof e&&"dueTimestamp"in e&&"moduleName"in e&&"name"in e&&"string"==typeof e.name&&"string"==typeof e.moduleName&&"number"==typeof e.dueTimestamp)?t:{entries:[]}}constructor(e,t){this.storage=e,this.storageKey=`crons.${t}`}}var eg=r(92291);function ev(e){return 6e4*Math.ceil(e/6e4)}function ef(e){return 6e4*Math.floor(e/6e4)}class eE{async init(){let e=ev(this.infra.timers.time),t=await this.infra.repository.getState(),r=this.definitions.filter(e=>!t.entries.find(t=>t.name===e.name&&t.moduleName===e.moduleName)),s={entries:[...t.entries.filter(e=>this.definitions.find(t=>t.name===e.name&&t.moduleName===e.moduleName)),...r.map(t=>({...t,dueTimestamp:e+6e4*t.periodInMinutes}))]};await this.infra.repository.setState(s)}connect(e){let{infra:t,definitions:r}=this;async function s(r,s,i,n){let o=!1;try{o=await e(i.moduleName,i.name)}finally{o&&(i.dueTimestamp=ef(r+6e4*n.periodInMinutes),await t.repository.setState(s))}}return{start:async()=>{await this.init();let e=t.cronSource.alarm$.pipe((0,eg.b)(async()=>{let e=await t.repository.getState(),i=ev(t.timers.time),n=ef(t.timers.time),o=e.entries.filter(e=>e.dueTimestamp<=i);await Promise.allSettled(o.map(t=>{let i=r.find(e=>e.moduleName===t.moduleName&&e.name===t.name);if(!i)throw Error("we should have a declaration");return s(n,e,t,i)}))})).subscribe();return{stop:()=>{e.unsubscribe()}}}}}constructor(e,t){this.infra=e,this.definitions=t}}var eb=r(71105);class eS{intercept(e,t){return this.useCaseStacktraceRepo.append(this.request.name),t.handle()}constructor(e,t){this.request=e,this.useCaseStacktraceRepo=t}}eS=(0,et.gn)([(0,m.Injectable)({scope:m.Scope.REQUEST}),(0,et.fM)(0,(0,m.Inject)(a.REQUEST)),(0,et.w6)("design:type",Function),(0,et.w6)("design:paramtypes",[Object,void 0===eb.FT?Object:eb.FT])],eS);var eT=r(94190);let ew=class{get commands(){return this.client.commands}get queries(){return this.client.queries}constructor(e,t){this.client=e.getClient(t)}};var ex=r(61393),eA=r(68798),eC=r(64103);function e_(e){return"module"in e?e:{module:e}}var eR=r(52792),eD=r(41650),eF=r(16308),eU=r(61633);class eP{mapLogArgs(e,t,...r){return["string"==typeof t&&t||"NestLoggerServiceAdapter message fallback",{log:{level:e,message:t,optionalParams:r}}]}fatal(e,...t){this.logger.fatal(...this.mapLogArgs("fatal",e,...t))}error(e,...t){this.logger.error(...this.mapLogArgs("error",e,...t))}warn(e,...t){this.logger.warn(...this.mapLogArgs("warn",e,...t))}log(e,...t){this.logger.log(...this.mapLogArgs("log",e,...t))}debug(e,...t){this.logger.debug(...this.mapLogArgs("debug",e,...t))}verbose(e,...t){this.logger.debug(...this.mapLogArgs("verbose",e,...t))}setLogLevels(...e){this.logger.error(Error("Unexpected call to NestLoggerServiceAdapter.setLogsLevels",{cause:e}))}constructor(e){this.logger=e}}var eI=r(82348),ej=r(15459),eO=r(48862);let eq=[eS,em],ek=e=>{eO.abort=()=>{throw e.error("Unexpected call to process.abort"),Error("Aborted")},eO.exit=()=>{throw e.error("Unexpected call to process.exit"),Error("Exited")}},eV=async({appDefinition:e,currentNode:t,logger:r,externalLoggers:s,exceptionLogging:i,diagnosticsLogProcessor:n,otherModules:o,implementations:a})=>{let c=new P.d(r),u=[];u.push(Q.G.configure({...i,exceptionsLogsSources:(0,Y.z)(new eU.Yq([r,...s].map(e=>e.anomalyLogger.getLogsStream$())))})),n&&u.push(eF.y.configure({externalDiagnosticsLogsSources:(0,Y.z)(new J.U([r,...s].map(e=>e.diagnostics.getLogsStream$()))),processorAdapter:n}));let d=L(r,[...u,...o,...Object.keys(a).map(e=>e).map(e=>a[e])].map(e_));N(e,t,d.modulesMetadata,r);let l=new B.D;d.stores.forEach(e=>{l.registerClass(e)});let h=p(d.modulesMetadata),m=new V.Q1(new Set(d.eventHandlers),d.allDeclarations);return{appDefinition:e,lifeCycle:c,metadataFromModules:d,storeList:l,subscriptions:h,introspection:m}},eN=async({currentNode:e,logger:t,appModule:r,httpAdapter:s,keyValueStorageInfrastructure:i})=>{t.debug("Creating NestApplication");let n=await a.NestFactory.create(r,s,{logger:new eP(eD.V.create({container:e,domain:"framework",module:"nest",infra:i}))});return s instanceof R&&s.setAppInstance(n),t.debug("Initializing NestApplication"),await n.init()};async function eL({onFrameworkInits:e,app:t,logger:r,httpAdapter:s,lifeCycle:o}){try{if(await K(e,t,r),r.debug("Nest.js application listening to incoming requests"),t.listen(""),s instanceof R){let e=s.isListening$.pipe((0,i.h)(e=>!!e));await (0,n.z)(e),r.debug("Nest.js application http adapter ready to handle incoming requests")}o.addShutdownHook(()=>t.close()),await o.startup()}catch(e){throw r.error("Error initializing the framework",{error:e}),e}}let eM=(e,t)=>eD.V.create({container:e,module:"kernel",domain:"framework",infra:t}),eH=async({appDefinition:e,channels:t,currentNode:r,implementations:i,otherModules:n=[],storeInfrastructureFactory:a=new G.N,channelsListener:l=ej.y,timers:p=new q.m,keyValueStorageInfrastructure:m=new H.s,managedStorageInfrastructure:y=new H.I,logger:g=eM(r,m),externalLoggers:v=[],jsonFetcher:f=new q.k,cronSource:E=new W._C(p),defaultDeviceStorageEncryptionCodec:b={type:z.j.CLASS_PROVIDER,useClass:d.E},defaultUserStorageEncryptionCodec:S={type:z.j.CLASS_PROVIDER,useClass:d.E},exceptionLogging:T=ee.I,diagnosticsLogProcessor:x=Z})=>{try{g.debug("Starting application node"),ek(g),n.push(eR.q);let{lifeCycle:d,metadataFromModules:A,storeList:C,subscriptions:_,introspection:D}=await eV({appDefinition:e,currentNode:r,logger:g,externalLoggers:v,exceptionLogging:T,diagnosticsLogProcessor:x,otherModules:n,implementations:i}),F=new el.$({appDefinition:e,channels:t,channelsListener:l,currentNode:r,subscriptions:_}),U=new j.d(F),q=new I.a(F),k=new eE({cronSource:E,repository:new ey(m,r),timers:p},A.crons),V=new R(U,q,k),N=new eI.v(d),L=new ed.m(F,U,N,g);d.addAppReadyHook(()=>{let e=L.getClient(u.t$).queries.activeUser().pipe((0,o.x)()).subscribe(()=>{N.clearUserCache()});return()=>e.unsubscribe()});let H=h.b.create({nodeConfiguration:F,brokers:{cqrs:U,event:q},modules:A.modules,configProviders:A.configProviders,logger:g,lifeCycle:d,storeInfrastructureFactory:a,timers:p,keyValueStorageInfrastructure:m,managedStorageInfrastructure:y,jsonFetcher:f,defaultDeviceStorageEncryptionCodecProvider:$({token:M.h,parameterProvider:b}),defaultUserStorageEncryptionCodecProvider:$({token:M.s,parameterProvider:S}),storeList:C,interceptors:eq,introspection:D,moduleClientsProviders:function(e){let t=[];return Object.values(e).forEach(e=>{let{api:r}=e,{ClientClass:s}=r;s&&((0,eT.GS)()(s),t.push({provide:s,useFactory:e=>new ew(e,r),inject:[ed.w]}))}),t}(e),userUseCaseScopeProvider:{useFactory:(e,t,r)=>{let i=e.get(w.l.UserName);if(i)return s&&s.status!==eC.p.Closed||(s=new eA.g(i,r,t)),Promise.resolve(s)},provide:eA.g,inject:[w.f,ex.Q,P.d]},queriesCache:N});g.log("AppModule created"),g.debug("Creating Nest.js application ...");let G=await eN({currentNode:r,logger:g,appModule:H,httpAdapter:V,keyValueStorageInfrastructure:m});return g.debug("Nest.js application created"),g.debug("Initializing Framework ..."),await eL({onFrameworkInits:A.onFrameworkInits,app:G,logger:g,httpAdapter:V,lifeCycle:d}),g.debug("Framework initialized"),{stop:()=>d.shutDown(),createClient:()=>(0,O.R)(r,e,U,N,g),sendEvent:(e,t,r,s)=>{let i=s??new w.f().withValue(w.l.UseCaseId,String(c.ContextIdFactory.create().id));return q.publishEvent(e,t,r,i)}}}catch(e){throw g.error("Exception when starting application node",{error:e}),e}},eG=e=>eH({...e,appDefinition:e.appDefinition,channels:{},currentNode:"node"}),eW=async({appDefinition:e,currentNode:t,implementations:r,otherModules:s,storeInfrastructureFactory:i,keyValueStorageInfrastructure:n,logger:o=eM(t,n),externalLoggers:a,exceptionLogging:c=ee.I})=>{try{o.debug("Starting foreground application node"),ek(o);let{lifeCycle:u,metadataFromModules:l,storeList:p,subscriptions:m,introspection:y}=await eV({appDefinition:e,currentNode:t,logger:o,externalLoggers:a,exceptionLogging:c,otherModules:s,implementations:r}),g=new el.$({appDefinition:e,channels:{},channelsListener:{},currentNode:t,subscriptions:m}),v=new U,f={type:z.j.CLASS_PROVIDER,useClass:d.E},E=h.b.create({nodeConfiguration:g,modules:l.modules,configProviders:l.configProviders,logger:o,lifeCycle:u,storeInfrastructureFactory:i,keyValueStorageInfrastructure:n,defaultDeviceStorageEncryptionCodecProvider:$({token:M.h,parameterProvider:f}),storeList:p,introspection:y},"foreground"),b=await eN({currentNode:t,logger:o,appModule:E,httpAdapter:v,keyValueStorageInfrastructure:n});return await eL({onFrameworkInits:l.onFrameworkInits,app:b,logger:o,httpAdapter:v,lifeCycle:u}),{stop:()=>u.shutDown()}}catch(e){throw o.error("Exception when starting foreground application node",{error:e}),e}}},15018:function(e,t,r){r.d(t,{d:()=>y});var s=r(1833),i=r(44577),n=r(56144),o=r(42589),a=r(5049),c=r(90385),u=r(18550);let d=e=>"response"===e.type,l=(e,t,r,s)=>{let i=i=>{let{main:n,queryOnly:o}=e[i],a={type:"local",onMessage:s};if(n===t)return{commandMailbox:a,queryMailbox:a};let c={type:"remote",channel:r[n]};return{commandMailbox:c,queryMailbox:t&&o.includes(t)?a:c}};return Object.keys(e).reduce((e,t)=>{let{commandMailbox:r,queryMailbox:s}=i(t);return e[`command-${t}`]=r,e[`query-${t}`]=s,e},(0,u.Ay)({}))};var p=r(54313),h=r(3750);let m=()=>(0,s.D)([]);class y{async sendCommand(e,t,r,s){if(!this.broker)throw Error("call connect() first");return await (0,i.z)(this.broker.sendMessage(`command-${e}`,{type:"command",module:e,commandName:String(t),command:r,context:s.toSerializable()}).pipe((0,n.h)(d),(0,o.U)(e=>e.response)))}sendQuery(e,t,r,s){if(!this.broker)throw Error("call connect() first");return this.broker.sendMessage(`query-${e}`,{type:"query",module:e,queryName:String(t),query:r,context:s.toSerializable()}).pipe((0,n.h)(d),(0,o.U)(e=>e.response))}connect(e){let t=e?(t,r,i)=>{switch(r.type){case"response":return a.E;case"command":return(0,s.D)(e.onCommand(r.module,r.commandName,r.command,h.f.fromSerializable(r.context),{isReminder:i.isReminder})).pipe((0,o.U)(e=>({type:"response",response:e})));case"query":return(0,s.D)(e.onQuery(r.module,r.queryName,r.query,h.f.fromSerializable(r.context))).pipe((0,o.U)(e=>({type:"response",response:e})))}(0,c.U)(r)}:m,r=l(this.config.appDefinition,this.config.currentNode,this.config.channels,t);return this.broker=new p.U(r),this.broker.connect(Object.values(this.config.channels),this.config.channelsListener)}constructor(e){this.config=e}}},23506:function(e,t,r){r.d(t,{m:()=>p,w:()=>l});var s=r(21636),i=r(94190),n=r(74492),o=r(15018),a=r(83423),c=r(3750),u=r(11198),d=r(41650);class l{getClient(e){return(0,a.c)(this.configuration.currentNode,this.configuration.appDefinition,this.broker,e.name,this.logger,this.queriesCache,this.context)}constructor(e,t,r,s,i){this.broker=e,this.configuration=t,this.context=r,this.queriesCache=s,this.logger=i}}l=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o.d?Object:o.d,void 0===n.$?Object:n.$,void 0===c.f?Object:c.f,void 0===u.z?Object:u.z,void 0===d.V?Object:d.V])],l);class p{getClient(e){return(0,a.c)(this.configuration.currentNode,this.configuration.appDefinition,this.broker,e.name,this.logger,this.queriesCache)}constructor(e,t,r,s){this.configuration=e,this.broker=t,this.queriesCache=r,this.logger=s}}p=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.$?Object:n.$,void 0===o.d?Object:o.d,void 0===u.z?Object:u.z,void 0===d.V?Object:d.V])],p)},83423:function(e,t,r){r.d(t,{R:()=>y,c:()=>m});var s=r(53868),i=r(72233),n=r(29742),o=(r(33523),r(56144),r(60025)),a=r(14564),c=(r(20661),r(41001)),u=r(306),d=r(18550),l=r(3750),p=r(71105);let h=e=>{let t=e.get(p.mH);return{useCaseStackTrace:t,useCaseName:t&&t.length>=1?t[t.length-1]:void 0}};function m(e,t,r,p,m,y,g){return{commands:Object.keys(t[p].api.commands).reduce((t,s)=>(t[s]=async t=>{let i=g??new l.f().withValue(l.l.UseCaseId,String(c.ContextIdFactory.create().id));m?.debug(`[${e}] Sending ${p}.${s} command`,{id:i.get(l.l.UseCaseId),...h(i)});let n=await r.sendCommand(p,s,t,i);return m?.debug(`[${e}] Received ${p}.${s} command result`,{id:i.get(l.l.UseCaseId),...h(i),sucess:u.d6(n)}),n},t),(0,d.Ay)({})),queries:(()=>{let v=t[p].api.queries;return Object.keys(v).reduce((d,f)=>(d[f]=d=>{let E;function b(t,o=!0){return o&&m?.debug(`[${e}] Creating ${p}.${f} ${"carbonState"===f?JSON.stringify(d)+" ":""}observable query`,{id:t.get(l.l.UseCaseId),...h(t)}),r.sendQuery(p,f,d,t).pipe((0,s.b)(r=>{o&&m?.debug(`[${e}] Received ${p}.${f} observable query value`,{...["session.selectedOpenSession","vault-access.isAllowed","authentication-flow.authenticationFlowStatus"].includes(p)?{result:JSON.stringify(r)}:{},id:t.get(l.l.UseCaseId),...h(t),sucess:u.d6(r)})}),(0,i.K)(r=>{throw m?.error(`[${e}] Exception during ${p}.${f} observable query`,{id:t.get(l.l.UseCaseId),...h(t)}),r}),(0,n.x)(()=>{o&&m?.debug(`[${e}] Completed ${p}.${f} observable query`,{id:t.get(l.l.UseCaseId),...h(t)})}))}let S=v[f].metadata.useCache??!1;if(S&&y){let e=(E=y.for(t,p,f,d)).get();if(e)return e}let T=g??new l.f().withValue(l.l.UseCaseId,String(c.ContextIdFactory.create().id));if(S&&E){let e=(0,o.P)(()=>b(T)).pipe((0,n.x)(()=>E?.invalidate()),(0,a.d)(1));return E.set(e),e}return b(T)},d),(0,d.Ay)({}))})()}}function y(e,t,r,s,i){return Object.keys(t).map(e=>e).reduce((n,o)=>(n[o]=m(e,t,r,o,i,s),n),{})}},17507:function(e,t,r){r.d(t,{C:()=>l,f:()=>d});var s=r(21636),i=r(33221),n=r(94190),o=r(12927),a=r(83101),c=r(3750),u=r(41001);class d{sendEvent(e,t){return this.broker.publishEvent(this.apiName,e,t,this.context)}constructor(e,t,r){this.apiName=e,this.broker=t,this.context=r}}d=(0,s.gn)([(0,n.GS)(),(0,s.fM)(0,(0,i.Inject)(o.r)),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[Object,void 0===a.a?Object:a.a,void 0===c.f?Object:c.f])],d);class l{sendEvent(e,t,r){let s=r??new c.f().withValue(c.l.UseCaseId,String(u.ContextIdFactory.create().id));return this.broker.publishEvent(this.apiName,e,t,s)}constructor(e,t){this.apiName=e,this.broker=t}}l=(0,s.gn)([(0,n.GS)(),(0,s.fM)(0,(0,i.Inject)(o.r)),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[Object,void 0===a.a?Object:a.a])],l)},32208:function(e,t,r){r.d(t,{O:()=>o});var s=r(42016),i=r(44577),n=r(41509);async function o(e,t=1e4){if(!(0,s.b)(e))throw Error("Error in getQueryValue: the argument is not an observable");try{return await (0,i.z)(e.pipe((0,n.V)({first:t})))}catch(e){throw Error("Error in getQueryValue: "+e)}}},83101:function(e,t,r){r.d(t,{a:()=>b});var s=r(21636),i=r(1833),n=r(42589),o=r(5049),a=r(69853),c=r(39314),u=r(43572),d=r(60645),l=r(90625),p=r(18550);let h={type:"ask"},m={type:"eventResponse"},y=(e,t)=>e.getNodeList().reduce((r,s)=>(s===e.currentNode?r[`event-${s}`]={type:"local",onMessage:t}:r[`event-${s}`]={type:"remote",channel:e.channels[s]},r),(0,p.Ay)({}));var g=r(94190),v=r(74492),f=r(3750),E=r(54313);class b{async publishEvent(e,t,r,s){let{broker:i,eventToSubscriber:n}=this;if(!i)throw Error("Not started");let o=(n[e].get(t)??[]).map(i=>({type:"event",context:s.toSerializable(),event:r,eventName:t,moduleSource:e,nodeDestination:i}));await Promise.all(o.map(async e=>{await i.trySendMessage(`event-${e.nodeDestination}`,e)}))}connect(e){let{configuration:t}=this,r=Object.keys(t.subscriptions).reduce((e,r)=>{let s=t.subscriptions[r];return(0,c.Z)((0,u.Z)(d.Z,l.Z),e,s)},(0,p.Ay)({})),s={type:"subscriptions",nodeName:t.currentNode,subscribesTo:r},g=y(this.configuration,(t,r,c)=>{switch(r.type){case"event":return(0,i.D)(e.onLocalEvent(r.moduleSource,r.nodeDestination,r.eventName,r.event,f.f.fromSerializable(r.context),c)).pipe((0,n.U)(()=>m));case"eventResponse":return o.E;case"subscriptions":return this.subscriberToEvent[r.nodeName]=r.subscribesTo,this.eventToSubscriber=this.regenerateReverseSubscriptionMap(),(0,a.of)(m);case"ask":return(0,a.of)(s)}}),v=new E.U(g);return t.getNodeList().map(async e=>{await v.trySendMessage(`event-${e}`,s),await v.trySendMessage(`event-${e}`,h)}),this.broker=v,v.connect(Object.values(t.channels),t.channelsListener)}regenerateReverseSubscriptionMap(){let{configuration:e,subscriberToEvent:t}=this,r=e.getModuleNames().reduce((e,t)=>({...e,[t]:new Map}),{});return e.getNodeList().reduce((e,r)=>(Object.entries(t[r]).forEach(([t,s])=>{if(!(t in e))throw Error("A module depends on events from "+t+" but this one is not in the app def");let i=e[t];s.forEach(e=>{let t=[...i.get(e)??[],r];i.set(e,t)})}),e),r)}constructor(e){this.configuration=e;let t=Object.entries(e.appDefinition).reduce((e,[t,r])=>(e[t]=Object.keys(r.api.events),e),{});this.subscriberToEvent=this.configuration.getNodeList().reduce((e,r)=>(e[r]={...t},e),{}),this.eventToSubscriber=this.regenerateReverseSubscriptionMap()}}b=(0,s.gn)([(0,g.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===v.$?Object:v.$])],b)},11198:function(e,t,r){r.d(t,{z:()=>s});class s{}},82348:function(e,t,r){r.d(t,{v:()=>o});var s=r(15021);class i{get(){let{cache:e,key:t}=this;if(e.has(t)){let r=e.get(t)?.deref();if(r)return r;e.delete(t)}return null}set(e){let{key:t}=this;this.cache.set(t,new WeakRef(e))}invalidate(){let{key:e}=this;this.cache.delete(e)}initCacheKey(){let{apiName:e,queryName:t,queryBody:r}=this;return`${e}#${t}#${JSON.stringify(r)}`}constructor(e,t,r,s){this.apiName=e,this.queryName=t,this.queryBody=r,this.cache=s,this.key=this.initCacheKey()}}var n=r(11198);class o extends n.z{for(e,t,r,n){let{scope:o}=e[t].api.queries[r].metadata;return new i(t,r,n,o===s.F.Device?this.deviceCache:this.userCache)}clearUserCache(){this.userCache.clear()}constructor(e){super(),this.lifeCycle=e,this.deviceCache=new Map,this.userCache=new Map,this.lifeCycle.addShutdownHook(()=>{this.deviceCache.clear(),this.userCache.clear()})}}},14968:function(e,t,r){r.d(t,{j:()=>i});var s=r(44046);class i extends s.c{stop(){this.source.removeListener(this.listener)}internalListener(e,t){if(!this.filter(e,t))return!1;super.emit(e,t)}constructor({source:e,filter:t}){super(),this.source=e,this.filter=t,this.listener=this.internalListener.bind(this),this.source.addListener(this.listener)}}},44046:function(e,t,r){r.d(t,{c:()=>i});var s=r(23596);class i{emit(e,t){this.registeredSubscribers.size?this.registeredSubscribers.forEach(r=>r.next([e,t])):this.queuedEvents.push([e,t])}constructor(){this.queuedEvents=[],this.registeredSubscribers=new Set,this.events$=new s.y(e=>(this.registeredSubscribers.size||(this.queuedEvents.forEach(t=>e.next(t)),this.queuedEvents=[]),this.registeredSubscribers.add(e),()=>{this.registeredSubscribers.delete(e)}))}}},40250:function(e,t,r){r.d(t,{H:()=>o,R:()=>n});var s=r(93639),i=r(44046);class n{addSource(e){this.sub.unsubscribe(),this.events$.push(e),this.sub=(0,s.T)(...this.events$).subscribe(e=>{this.logsSource.emit(e[0],e[1])})}constructor(e){this.events$=e,this.logsSource=new i.c,this.events$=e,this.sub=(0,s.T)(...e).subscribe(e=>{this.logsSource.emit(e[0],e[1])})}}class o extends n{addSource(e){}constructor(){super([]),this.logsSource=new i.c}}},37368:function(e,t,r){r.d(t,{W:()=>i});var s=r(94190);function i(e){let t=(0,s.GS)();return r=>{Reflect.defineMetadata("dl-handler",r,e),t(r)}}},51870:function(e,t,r){r.d(t,{b:()=>i});var s=r(94190);function i(e){let t=(0,s.GS)();return r=>{Reflect.hasMetadata("dl-handlers",e)?Reflect.defineMetadata("dl-handlers",[...Reflect.getMetadata("dl-handlers",e),r],e):Reflect.defineMetadata("dl-handlers",[r],e),t(r)}}},62506:function(e,t,r){r.d(t,{e:()=>i});var s=r(94190);function i(e){let t=(0,s.GS)();return r=>{Reflect.defineMetadata("dl-handler",r,e),t(r)}}},14234:function(e,t,r){r.d(t,{o:()=>s});let s="dl-module"},70438:function(e,t,r){r.d(t,{H:()=>c});var s=r(15673),i=r(70410),n=r(94190),o=r(31256),a=r(74437);let c=(e,t)=>{let r=t.token??(0,i.Z)(),c=class{getOrCreate(e,t){return this.mutex.runExclusive(async()=>(this.instance||(t.addShutdownHook(()=>{this.invalidate()}),this.instance=await e()),this.instance))}invalidate(){this.instance=void 0}constructor(){this.mutex=new o.WU}};(0,n.GS)()(c);let u={token:e,inject:[c,a.d,s.ModuleRef,s.REQUEST],asyncFactory:(e,t,i,n)=>{let o=s.ContextIdFactory.getByRequest(n);return e.getOrCreate(()=>i.resolve(r,o),t)}};return[{...t,token:r},c,u]}},94190:function(e,t,r){r.d(t,{GS:()=>n,ar:()=>o,xB:()=>i});var s=r(33221);function i(){return(0,s.Global)()}function n(e){return(0,s.Injectable)({scope:e?.neverReuseInstance?s.Scope.TRANSIENT:s.Scope.DEFAULT})}let o=()=>n()},48035:function(e,t,r){r.d(t,{Y:()=>f,g:()=>g}),r(36846);var s=r(14234),i=r(33221),n=r(12927),o=r(21636),a=r(8018),c=r(91986),u=r(91978),d=r(3750);let l=new a.b,p=new c.z;class h{async getBatchState(e){let t=await this.kv.get(`${this.prefix}.${e}`);return t?this.stringToState(t):{queue:[]}}async setBatchState(e,t){let r=this.stateToString(t);return await this.kv.set(`${this.prefix}.${e}`,r)}stateToString(e){let t=l.encode(e);return p.encode(t)}stringToState(e){let t=p.decode(e);return l.decode(t)}constructor(e,t,r){this.kv=e,this.prefix=`batch-storage.${r}.${t.get(d.l.UserName)}`}}h=(0,o.gn)([(0,o.fM)(2,(0,i.Inject)(n.r)),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[void 0===u.QI?Object:u.QI,void 0===d.f?Object:d.f,String])],h);class m{getProviders(e){return e.length?[...e.map(e=>({provide:e,inject:[h,e.Definition.chunkProcessor],useFactory:(t,r)=>new e(t,r)})),...e.map(({Definition:{chunkProcessor:e}})=>e),h]:[]}}var y=r(16499);let g=(e,t)=>({[e.name]:{name:e.name,events:t}}),v=(e,t)=>{let{exports:r=[],imports:s=[],providers:i=[],onFrameworkInit:n=[],stores:o=[],crons:a=[]}=e,c=[n,t.onFrameworkInit??[]].flat();return{...e,exports:r.concat(t.exports??[]),imports:s.concat(t.imports??[]),providers:i.concat(t.providers??[]),onFrameworkInit:c,stores:o.concat(t.stores??[]),crons:a.concat(t.crons??[])}};function f(e){let t;try{let{composes:r=[]}=e,{exports:o=[],imports:a=[],handlers:c={commands:{},events:{},queries:{}},providers:u=[],onFrameworkInit:d=[],stores:l,batchExecutors:p,crons:h}=e=r.reduce((e,t)=>v(e,t),e),g=e.api?.name??e.sharedModuleName,f=g?(0,y.N)(...l??[]):[],E=g?new m().getProviders(p??[]):[],b=(h??[]).map(e=>e.handler),{asyncProviders:S,basicClassProviders:T}=[...u,...b,...f,...E,...Object.values(c.commands),...Object.values(c.queries),...Object.values(c.events).map(e=>Object.values(e.events)).reduce((e,t)=>[...e,...t],[]),...d instanceof Array?d:[d],{provide:n.r,useValue:g},{provide:n.z,useValue:e.domainName}].reduce((e,t)=>"object"==typeof t&&"token"in t&&"asyncFactory"in t&&"function"==typeof t.asyncFactory?{asyncProviders:[...e.asyncProviders,t],basicClassProviders:e.basicClassProviders}:{asyncProviders:e.asyncProviders,basicClassProviders:[...e.basicClassProviders,t]},{asyncProviders:[],basicClassProviders:[]}),w=[...T,...S.map(e=>({provide:e.token,useFactory:e.asyncFactory,inject:e.inject}))];return t=(0,i.Module)({exports:o,imports:a,providers:w}),r=>(Reflect.defineMetadata(s.o,e,r),t(r))}catch(e){return console.error("[background/framework] Failed to decorate module"),e=>e}}},12927:function(e,t,r){r.d(t,{r:()=>s,z:()=>i});let s="frameworkModuleName",i="moduleDomainName"},2825:function(e,t,r){r.d(t,{Q1:()=>n,TB:()=>s,Vy:()=>i});let s={commands:{},events:{},queries:{}},i=e=>!!(e&&"object"==typeof e&&(!e.api||e.api.commands&&e.api.events&&e.api.name&&e.api.queries&&e.handlers)&&(!e.exports||Array.isArray(e.exports))&&(!e.handlers||e.api)&&(!e.imports||Array.isArray(e.imports))&&(!e.providers||Array.isArray(e.providers)));class n{constructor(e,t){this.supportedEventHandlers=e,this.modules=t}}},43225:function(e,t,r){r.d(t,{$:()=>n,z:()=>i});var s=r(15232);function i(e){return{type:s.j.VALUE_PROVIDER,useValue:e}}function n(e){return{type:s.j.CLASS_PROVIDER,useClass:e}}},15232:function(e,t,r){r.d(t,{j:()=>i});var s,i=((s={}).VALUE_PROVIDER="value_provider",s.CLASS_PROVIDER="class_provider",s)},64415:function(e,t,r){r.d(t,{B:()=>a});var s=r(15021),i=r(90385),n=r(70438),o=r(72972);let a=(e,t,r)=>{switch(e){case s.F.Device:return(0,n.H)(t,r);case s.F.User:return(0,o.M)(t,r);default:(0,i.U)(e)}}},72972:function(e,t,r){r.d(t,{M:()=>c});var s=r(15673),i=r(70410),n=r(31256),o=r(3750),a=r(68798);let c=(e,t)=>{let r=t.token??(0,i.Z)(),c=class{getOrCreate(e,t,r){return this.mutex.runExclusive(async()=>{let s=this.instances.get(e);if(s)return s;r.addCloseHook(()=>{this.invalidate(e)});let i=await t();return this.instances.set(e,i),i})}invalidate(e){this.instances.delete(e)}constructor(){this.instances=new Map,this.mutex=new n.WU}},u={token:e,inject:[c,o.f,s.ModuleRef,s.REQUEST,a.g],asyncFactory:(t,i,n,a,c)=>{let u=s.ContextIdFactory.getByRequest(a),d=i.getOrDefault(o.l.UserName,"");if(""===d)throw Error(`Provider ${e} is a user-scoped singleton but there is no user`);if(!c)throw Error("No user scope available");return t.getOrCreate(d,()=>n.resolve(r,u),c)}};return[{token:r,asyncFactory:t.asyncFactory,inject:[...t.inject??[],o.f]},c,u]}},48236:function(e,t,r){r.d(t,{O:()=>o,f:()=>d});var s=r(44046),i=r(80426),n=r(51721);let o="diagnostics.logger",a=null,c=null,u=!1;class d{static create(e){return new d({...e,infra:e.infra})}static createNull(e){let t=e.infra??new i.s;return new d({...e,infra:t})}getLogsStream$(){return this.bufferedEventStream.events$}async startDiagnosticsSession(){if(await this.initDiagnosticSession(),a)return;let e=new Date().getTime()+6048e5;a=crypto.randomUUID(),c=e;let t={id:a,ttl:e};await this.infra.set(o,JSON.stringify(t))}async log({message:e,severity:t,metadata:r,timestamp:s,module:i,container:n,domain:o}){if(await this.initDiagnosticSession(),this.shouldLog()&&a){let c={message:e,severity:t,diagnosticsId:a,timestamp:s,metadata:r,module:i,container:n,domain:o};this.bufferedEventStream.emit(c,void 0)}}async clear(){await this.infra.remove(o),a=null,c=null}async getDiagnosticsSessionInfo(){return await this.initDiagnosticSession(),{diagnosticsId:a,diagnosticsTTL:c}}async initDiagnosticSession(){!u&&(await this.loadDiagnosticsSessionFromLocalStorage(),this.isTTLValid(c)||this.clear(),u=!0)}isTTLValid(e){let t=new Date;return!(!e||t.getTime()>e)}async loadDiagnosticsSessionFromLocalStorage(){try{let e=await this.infra.get(o),t=e?JSON.parse(e):void 0;if(!(0,n.K)(t)||"string"!=typeof t.id||"number"!=typeof t.ttl)return;c=t.ttl,a=t.id}catch(e){console.error("error",e)}}shouldLog(){return a&&this.isTTLValid(c)}constructor(e){this.infra=e.infra,this.bufferedEventStream=new s.c}}},27192:function(e,t,r){r.d(t,{U:()=>n,i:()=>i});var s=r(40250);class i{}class n extends s.R{constructor(e){super(e)}}},27035:function(e,t,r){r.d(t,{A:()=>c});var s=r(21636),i=r(74437),n=r(3393),o=r(27192),a=r(94190);class c{onFrameworkInit(){this.lifeCycle.addAppReadyHook(async()=>{let e=this.diagnosticsLogsSources.logsSource.events$.subscribe(this.onLogEvent.bind(this));return()=>{e.unsubscribe()}})}onLogEvent(e){let t=e[0];this.logsHandler.handle(t)}constructor(e,t,r){this.logsHandler=e,this.lifeCycle=t,this.diagnosticsLogsSources=r}}c=(0,s.gn)([(0,a.ar)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.y?Object:n.y,void 0===i.d?Object:i.d,void 0===o.U?Object:o.U])],c)},3393:function(e,t,r){r.d(t,{y:()=>h});var s=r(21636),i=r(70410),n=r(33221),o=r(31256),a=r(88524),c=r(78406),u=r(46763),d=r(21582),l=r(85455);let p=new o.WU;class h{handle(e){let t=(0,i.Z)(),r=this.convertMetadataToString(e),s=this.redactLog(r);s.message=s.message.slice(0,100),this.queue={...this.queue,[t]:s},this.debouncedPersistLocally()}convertMetadataToString(e){return{...e,metadata:Object.entries(e.metadata??{}).reduce((e,[t,r])=>(r instanceof Error?(e[t]=r.message,void 0!==r.stack&&(e.stack=r.stack),void 0!==r.cause&&null!==r.cause&&(e={...r.cause,...e})):r instanceof Object?e[t]=JSON.stringify(r):e[t]=String(r),e),{}),message:e.message}}redactLog(e){let t=(0,u.gS)(e.message),r=(0,u.xB)(e.metadata??{},["stack","callStack"]);return{...e,message:t,metadata:r}}async persistLogsLocally(){let e={...this.queue};this.queue={};try{await p.runExclusive(async()=>{let t=await this.store.getState();await this.store.set({logs:{...t.logs,...e}})})}catch(t){this.queue={...e},t instanceof Error?d.K.create().print({message:t.message,severity:l.GW.ERROR,timestamp:Date.now(),domain:"framework",module:"diagnostics",container:"background",metadata:{origin:"exceptionBoundary"}}):console.error(t,{domainName:"framework",moduleName:"diagnostics",origin:"exceptionBoundary"})}}constructor(e){this.store=e,this.queue={},this.debouncedPersistLocally=a(this.persistLogsLocally.bind(this),1e3,{maxWait:5e3})}}h=(0,s.gn)([(0,n.Injectable)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===c.C?Object:c.C])],h)},16308:function(e,t,r){r.d(t,{y:()=>m});var s=r(21636),i=r(15021),n=r(27035),o=r(27192),a=r(48035),c=r(31256),u=r(94190),d=r(78406);let l=new c.WU;class p{async isRunnable(){return Object.keys((await this.store.getState()).logs).length>0}async run(){let e;let{logs:t}=await this.store.getState(),r=Object.keys(t),[s,i]=this.clearExpiredLogs(t);try{e=await this.processor.process(s)}catch(e){console.error("Failed to process diagnotics logs",e)}(i.size||Object.values(e??{}).some(Boolean))&&await l.runExclusive(async()=>{let{logs:t}=await this.store.getState(),s=this.clearProcessedOrExpiredLogs(r,t,i,e);await this.store.set({logs:s})})}clearProcessedOrExpiredLogs(e,t,r,s){return e.reduce((e,t)=>((r.has(t)||s&&(!(t in s)||s[t]))&&delete e[t],e),t)}clearExpiredLogs(e){let t=Date.now(),r=new Set;return[Object.keys(e).reduce((s,i)=>(e[i].timestamp+6048e5<=t&&(r.add(i),delete s[i]),s),e),r]}constructor(e,t){this.store=e,this.processor=t}}p=(0,s.gn)([(0,u.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===d.C?Object:d.C,void 0===o.i?Object:o.i])],p);var h=r(3393);class m{static configure(e){return{module:m,configurations:{externalDiagnosticsLogsSources:e.externalDiagnosticsLogsSources,processorAdapter:e.processorAdapter}}}}m=(0,s.gn)([(0,a.Y)({sharedModuleName:"diagnostics",configurations:{externalDiagnosticsLogsSources:{token:o.U},processorAdapter:{token:o.i}},domainName:"framework",onFrameworkInit:[n.A],providers:[h.y],crons:[{handler:p,periodInMinutes:10,name:"DiagnosticsCron",scope:i.F.Device}],stores:[d.C]})],m)},78406:function(e,t,r){r.d(t,{C:()=>d});var s=r(21636),i=r(15021),n=r(20458),o=r(59982),a=r(94190),c=r(68238);function u(e){return!!e&&"object"==typeof e&&"logs"in e&&"object"==typeof e.logs}class d extends(0,o.Q)({persist:!0,scope:i.F.Device,storeName:"diagnostics-logs",capacity:c.Y._100KB,codec:n.E,storage:{schemaVersion:1,initialValue:{logs:{}},typeGuard:u}}){}d=(0,s.gn)([(0,a.GS)()],d)},29047:function(e,t,r){r.d(t,{J:()=>v});var s=r(21636),i=r(15673),n=r(33221),o=r(44577),a=r(42589),c=r(41509),u=r(72233),d=r(69853),l=r(21039),p=r(306),h=r(97512),m=r(26984),y=r(3750),g=r(71105);class v{async do(e,...t){return(await Promise.all(t.map(t=>this.doOne(t,e)))).every(e=>!!e)}async doOne(e,{criticality:t=h.Tr.WARNING,methodName:r="methodName"}={}){try{let t=await e();if((0,p.AZ)(t)&&(0,p.hx)(t))throw Error(`Allowed to fail ${r} has failed`);return!0}catch(n){let{request:e,useCaseStacktraceRepo:r}=this,[s,i]=n instanceof h.cI?[n.exception,n.useCaseStacktrace]:[n,r.read()];try{await Promise.race([new Promise(e=>setTimeout(e,100)),this.logger.captureException(s,{moduleName:e?.module,useCaseId:e?.context.get(y.l.UseCaseId),useCaseName:e?.name,useCaseStacktrace:i,featureFlips:await this.getUserFeatureFlips()},t)])}catch(e){}return!1}}async conditionallyAllowToFailOne(e,t){return t?this.doOne(e):(await e(),!0)}getUserFeatureFlips(){let{userFeatureFlips:e}=this.featureFlips.queries;return(0,o.z)(e().pipe((0,a.U)(e=>(0,p.d6)(e)?(0,p.db)(e):{}),(0,c.V)(50),(0,u.K)(()=>(0,d.of)({}))))}constructor(e,t,r,s){this.request=e,this.logger=t,this.useCaseStacktraceRepo=r,this.featureFlips=s}}v=(0,s.gn)([(0,s.fM)(0,(0,n.Inject)(i.REQUEST)),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[Object,void 0===m.v?Object:m.v,void 0===g.FT?Object:g.FT,void 0===l.P?Object:l.P])],v)},26984:function(e,t,r){r.d(t,{G:()=>d,v:()=>u});var s=r(21636),i=r(33221),n=r(41650),o=r(61633),a=r(97512),c=r(59303);class u{setEnableExceptionLogsSend(e){this.enableExceptionLogsSend=e}async captureException(e,t,r=a.Tr.CRITICAL){if(!this.enableExceptionLogsSend)return Promise.resolve();try{let s=e instanceof Error?e:Error("Invalid exception type",{cause:e}),i=this.createExceptionLogEntry(t,s,r),n=await this.logsAugmenter.augmentLog(i);return this.sink.logException(n)}catch(e){this.logger.warn("Failed to capture exception",{fileLocation:t.fileLocation??"",lineNumber:String(t.lineNumber),moduleName:t.moduleName??"",domainName:t.domainName??"",origin:t.origin??"",useCaseId:t.useCaseId??"",useCaseName:t.useCaseName??"",useCaseStacktrace:String(t.useCaseStacktrace)})}return Promise.resolve()}createExceptionLogEntry(e,t,r){return{callStack:t.stack??"",criticality:r,featuresFlipped:this.mapFeatures(e.featureFlips??{}),fileLocation:e.fileLocation,lineNumber:e.lineNumber,message:t.message,module:e.moduleName,domain:e.domainName,origin:e.origin,timestamp:Date.now(),useCaseId:e.useCaseId,useCaseName:e.useCaseName,useCaseStacktrace:e.useCaseStacktrace,cause:JSON.stringify(t.cause instanceof Error?{message:t.cause.message,stack:t.cause.stack}:t.cause)}}mapFeatures(e){return Object.keys(e).reduce((t,r)=>e[r]?[r,...t]:t,[])}constructor(e,t,r){this.sink=e,this.logger=t,this.logsAugmenter=r,this.enableExceptionLogsSend=!0}}function d(){return new u(new o.p$,n.V.createNull(),new c._)}u=(0,s.gn)([(0,i.Injectable)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o.qD?Object:o.qD,void 0===n.V?Object:n.V,void 0===o.Ds?Object:o.Ds])],u)},59303:function(e,t,r){r.d(t,{I:()=>a,_:()=>o});var s=r(40250),i=r(43225);let n=class{logException(){return Promise.resolve()}start(){return Promise.resolve({stop:()=>Promise.resolve()})}};class o{async augmentLog(e){return e}}let a={sink:(0,i.z)(new n),logsAugmenter:(0,i.z)(new o),exceptionsLogsSources:(0,i.z)(new s.H)}},61633:function(e,t,r){r.d(t,{Cb:()=>a,Ds:()=>d,Yq:()=>u,fW:()=>c,p$:()=>o,qD:()=>n});var s=r(40250),i=r(51721);class n{}class o extends n{logException(){return Promise.resolve()}start(){return Promise.resolve({stop:()=>Promise.resolve()})}}function a(e){return!!(0,i.K)(e)&&"error"in e&&"origin"in e&&("uncaughtException"===e.origin||"unhandledPromiseRejection"===e.origin)}class c{constructor(e){this.events$=e}}class u extends s.R{constructor(e){super(e)}}class d{}},90573:function(e,t,r){r.d(t,{G:()=>I});var s=r(21636),i=r(15673),n=r(85813),o=r(48035),a=r(26984),c=r(59303),u=r(61633),d=r(74437),l=r(94190),p=r(33221);class h{setEnableExceptionLogsSend(e){this.enableExceptionLogsSend=e}async handleLog(e){if(this.enableExceptionLogsSend)try{let t=await this.logsAugmenter.augmentLog(e);return this.sink.logException(t)}catch(t){console.warn("Failed to capture exception in sink",{fileLocation:e.fileLocation??"",lineNumber:String(e.lineNumber),module:e.module??"",domain:e.domain??"",origin:e.origin??"",useCaseId:e.useCaseId??"",useCaseName:e.useCaseName??"",useCaseStacktrace:String(e.useCaseStacktrace)})}}constructor(e,t){this.sink=e,this.logsAugmenter=t,this.enableExceptionLogsSend=!0}}h=(0,s.gn)([(0,p.Injectable)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===u.qD?Object:u.qD,void 0===u.Ds?Object:u.Ds])],h);class m{onFrameworkInit(){this.lifeCycle.addAppReadyHook(async()=>{let{stop:e}=await this.sink.start(),t=this.exceptionsLogsSource.logsSource.events$.subscribe(this.onAnomalyLogEvent.bind(this));return()=>{t.unsubscribe(),e()}})}onAnomalyLogEvent(e){let t=e[0];this.anomalyLoggerService.handleLog(t)}constructor(e,t,r,s){this.sink=e,this.lifeCycle=t,this.exceptionsLogsSource=r,this.anomalyLoggerService=s}}m=(0,s.gn)([(0,l.ar)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===u.qD?Object:u.qD,void 0===d.d?Object:d.d,void 0===u.Yq?Object:u.Yq,void 0===h?Object:h])],m);var y=r(53868),g=r(72233),v=r(80262),f=r(3750),E=r(71105),b=r(2825),S=r(85455),T=r(27623),w=r(97512);class x{intercept(e,t){let r=e.getArgByIndex(0);return console.log(`[background/framework] Processing incoming request ${r.module}.${r.name}`,`(id: ${r.context.get(f.l.UseCaseId)})`),t.handle().pipe((0,y.b)(()=>{console.log(`[background/framework] Done processing incoming request ${r.module}.${r.name}`,`(id: ${r.context.get(f.l.UseCaseId)})`)}),(0,g.K)(this.handleException(r)))}handleException(e){let{useCaseStacktraceRepo:t}=this;return r=>{console.error(`[background/framework] Error while processing incoming ${e.module}.${e.name} ${e.type}`,`(id: ${e.context.get(f.l.UseCaseId)})`,r);let s=t.read();if(s.length<=1){let[t,i]=r instanceof w.cI?[r.exception,r.useCaseStacktrace]:[r,s];return this.captureException(e,t,i),(0,v._)(()=>t)}let i=r instanceof w.cI?r:new w.cI(r,t.read());return(0,v._)(()=>i)}}async captureException(e,t,r){let s=e.module,i=this.nodeModulesIntrospection.modules[s].domainName??"unknown",n=(0,T.x)({container:"framework",module:s,domain:i},t,S.GW.ERROR,{useCaseStacktrace:r,useCaseName:e.name,useCaseId:e.context.get(f.l.UseCaseId)});this.loggerService.handleLog({...n.metadata,useCaseName:Array.isArray(n.metadata?.useCaseName)?JSON.stringify(n.metadata.useCaseName):n.metadata?.useCaseName,criticality:"critical",message:n.message,timestamp:n.timestamp})}constructor(e,t,r){this.loggerService=e,this.useCaseStacktraceRepo=t,this.nodeModulesIntrospection=r}}x=(0,s.gn)([(0,p.Injectable)({scope:p.Scope.REQUEST}),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===h?Object:h,void 0===E.FT?Object:E.FT,void 0===b.Q1?Object:b.Q1])],x);var A=r(306),C=r(74019),_=r(37368),R=r(41650);class D{async report(e){let t=e.moduleNameOverride??this.request?.module,r=e.useCaseNameOverride??this.request?.name,s=e.additionalInfo,i=e.useCaseIdOverride??this.request?.context.get(f.l.UseCaseId);try{let n=Date.now(),o=e.anomalyType===C._F.EXCEPTION?{callStack:e.callStack,criticality:e.criticality,fileLocation:e.fileLocation,lineNumber:e.lineNumber,message:e.message,moduleName:t,origin:e.origin,timestamp:n,useCaseId:i,useCaseName:r,useCaseStacktrace:e.useCaseStacktrace,cause:s}:{criticality:e.criticality,message:e.message,timestamp:n,cause:s},a=await this.logsAugmenter.augmentLog(o);await this.sink.logException(a)}catch(e){this.logger.error("Failed to report anomaly")}return Promise.resolve()}constructor(e,t,r,s){this.sink=e,this.logger=t,this.logsAugmenter=r,this.request=s}}D=(0,s.gn)([(0,p.Injectable)(),(0,s.fM)(3,(0,p.Inject)(i.REQUEST)),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===u.qD?Object:u.qD,void 0===R.V?Object:R.V,void 0===u.Ds?Object:u.Ds,Object])],D);class F{async execute({body:e}){return this.reporter.report({...e,criticality:e.criticality,message:e.message,moduleNameOverride:e.moduleName,useCaseNameOverride:e.useCaseName,additionalInfo:e.additionalInfo??""}),Promise.resolve((0,A.Vp)(void 0))}constructor(e){this.reporter=e}}F=(0,s.gn)([(0,_.W)(C.SU),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===D?Object:D])],F);var U=r(86945);class P{execute({body:{flag:e}}){return this.logger.setEnableExceptionLogsSend(e),this.anomalyService.setEnableExceptionLogsSend(e),Promise.resolve((0,A.Vp)(void 0))}constructor(e,t){this.logger=e,this.anomalyService=t}}P=(0,s.gn)([(0,_.W)(U.w),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===a.v?Object:a.v,void 0===h?Object:h])],P);class I{static configure(e){return{module:I,configurations:{...c.I,sink:e.sink,...e.logsAugmenter?{logsAugmenter:e.logsAugmenter}:{},...e.exceptionsLogsSources?{exceptionsLogsSources:e.exceptionsLogsSources}:{}}}}}I=(0,s.gn)([(0,o.Y)({api:n.P,handlers:{commands:{reportAnomaly:F,enableExceptionLog:P},events:{},queries:{}},providers:[D,a.v,h,{provide:i.APP_INTERCEPTOR,useClass:x},E.FT],configurations:{sink:{token:u.qD},logsAugmenter:{token:u.Ds},exceptionsLogsSources:{token:u.Yq}},exports:[a.v,E.FT],onFrameworkInit:m,requiredFeatureFlips:[],domainName:"framework"})],I)},97512:function(e,t,r){r.d(t,{Tr:()=>s,cI:()=>n,hE:()=>i});let s=Object.freeze({WARNING:"warning",CRITICAL:"critical"});function i(e){return!!e&&"object"==typeof e&&"criticality"in e&&"timestamp"in e&&"message"in e&&"callStack"in e&&(e.criticality===s.CRITICAL||e.criticality===s.WARNING)&&"string"==typeof e.message&&"string"==typeof e.callStack}class n extends Error{constructor(e,t){super("ApplicationRequestError"),this.exception=e,this.useCaseStacktrace=t}}},71105:function(e,t,r){r.d(t,{FT:()=>a,mH:()=>o});var s=r(21636),i=r(33221),n=r(3750);let o="USE_CASE_STACKTRACE";class a{read(){return this.requestContext.getOrAddSync(o,()=>[])}append(e){let{requestContext:t}=this,r=t.get(o)??[];t.set(o,[...r,e])}constructor(e){this.requestContext=e}}new(a=(0,s.gn)([(0,i.Injectable)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.f?Object:n.f])],a))(new n.f)},66871:function(e,t,r){r.d(t,{o:()=>s});class s{}},17998:function(e,t,r){r.d(t,{M:()=>i});var s=r(99481);class i extends(0,s.ne)(){}},91984:function(e,t,r){r.d(t,{_:()=>a});var s=r(21636),i=r(66871),n=r(17998),o=r(94190);class a{downloadFile(e,t,r){return this.logger.info(`downloading file ${e}`),this.emitterChannel.send(e,t,r)}constructor(e,t){this.logger=e,this.emitterChannel=t}}a=(0,s.gn)([(0,o.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.M?Object:n.M,void 0===i.o?Object:i.o])],a)},37809:function(e,t,r){r.d(t,{l:()=>l});var s=r(21636),i=r(11856),n=r(48035),o=r(91984),a=r(66871),c=r(17998),u=r(90573),d=r(99481);class l{}l=(0,s.gn)([(0,n.Y)({api:i.L,configurations:{fileDownloadEmitterChannel:{token:a.o}},handlers:{commands:{},events:{},queries:{}},stores:[],providers:[o._,(0,d.d_)(c.M)],exports:[o._],imports:[u.G],domainName:"framework"})],l)},46361:function(e,t,r){r.d(t,{T:()=>a});var s=r(21636),i=r(71754),n=r(3717),o=r(94190);class a{onFrameworkInit(){try{this.fileUploadListener.listen()}catch(e){this.logger.error("error while initializing file-upload listener",{cause:e})}}constructor(e,t){this.fileUploadListener=e,this.logger=t}}a=(0,s.gn)([(0,o.ar)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===i.P?Object:i.P,void 0===n.u?Object:n.u])],a)},62325:function(e,t,r){r.d(t,{P:()=>s});class s{handle({body:e}){return e.uploadKey===this.uploadKey?Promise.resolve(this.handleUploadedFile(e.fileUploadData)):Promise.resolve(void 0)}constructor(e){this.uploadKey=e}}},48062:function(e,t,r){r.d(t,{i:()=>o});var s=r(21636),i=r(17507),n=r(94190);class o extends i.f{}o=(0,s.gn)([(0,n.GS)()],o)},71754:function(e,t,r){r.d(t,{P:()=>o});var s=r(21636),i=r(33221),n=r(48062);class o{constructor(e){this.eventEmitter=e}}o=(0,s.gn)([(0,i.Injectable)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.i?Object:n.i])],o)},3717:function(e,t,r){r.d(t,{u:()=>i});var s=r(99481);class i extends(0,s.ne)(){}},5777:function(e,t,r){r.d(t,{O:()=>p});var s=r(21636),i=r(93906),n=r(48035),o=r(71754),a=r(48062),c=r(46361),u=r(3717),d=r(90573),l=r(99481);class p{}p=(0,s.gn)([(0,n.Y)({api:i.a,configurations:{fileUploadListener:{token:o.P}},onFrameworkInit:c.T,handlers:{commands:{},events:{},queries:{}},stores:[],providers:[a.i,(0,l.d_)(u.u)],imports:[d.G],exports:[a.i],domainName:"framework"})],p)},90423:function(e,t,r){r.d(t,{e:()=>y});var s=r(21636),i=r(55466),n=r(69853),o=r(92291),a=r(14564),c=r(17741),u=r(90385);class d{handle(e){return this.pipeline.handle(e)}dedupeInterceptorsById(e){return Array.from(e.reduce((e,t)=>(e.set(t.id,t),e),new Map).values())}initPipeline(e,t){return t.reduceRight((e,t)=>({handle:r=>t.intercept(r,e.handle.bind(e))}),e)}constructor(e,t){(0,i._)(this,"pipeline",void 0),this.pipeline=this.initPipeline(e,this.dedupeInterceptorsById(t))}}var l=r(81090);class p{addInterceptor(e){this.interceptors.set(e.id,e)}request(...e){return this.makeRequest(...e)}delete(e,t){return this.makeRequest("DELETE",e,t)}get(e,t){return this.makeRequest("GET",e,t)}head(e,t){return this.makeRequest("HEAD",e,t)}options(e,t){return this.makeRequest("OPTIONS",e,t)}patch(e,t,r){return this.makeRequest("PATCH",e,{body:t,...r})}post(e,t,r){return this.makeRequest("POST",e,{body:t,...r})}put(e,t,r){return this.makeRequest("PUT",e,{body:t,...r})}makeRequest(...e){let t,r,s;if(1===e.length)t=e[0],r="response";else{let[i,n,o]=e;t=new l.a(i,n,void 0!==o.body?o.body:null,{headers:o.headers,params:o.params,responseType:o.responseType??"json",withCredentials:o.withCredentials}),r=o.observe??"body","json"===o.responseType&&"body"===o.observe&&(s=o.responseBodyDecoder)}let i=new d(this.backend,Array.from(this.interceptors.values())),p=(0,n.of)(this.addContentTypeRequestHeader(t)).pipe((0,o.b)(e=>i.handle(e)),(0,a.d)(1));switch(r){case"body":switch(t.responseType){case"arraybuffer":return p.pipe((0,c.Gx)(e=>e.arrayBuffer()));case"text":return p.pipe((0,c.Gx)(e=>e.text()));case"json":return p.pipe((0,c.Gx)(e=>e.json(s)));default:(0,u.U)(t.responseType)}break;case"response":return p;default:(0,u.U)(r)}}addContentTypeRequestHeader(e){if(!e.headers.has("content-type")){let t=e.detectContentTypeHeader();if(t)return e.clone({headers:e.headers.set("content-type",t)})}return e}constructor(e){(0,i._)(this,"backend",void 0),(0,i._)(this,"interceptors",void 0),this.backend=e,this.interceptors=new Map}}var h=r(20858),m=r(94190);class y extends p{constructor(e){super(e)}}y=(0,s.gn)([(0,m.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===h.j?Object:h.j])],y)},79869:function(e,t,r){r.d(t,{X:()=>v});var s=r(21636),i=r(15673),n=r(20858),o=r(90423),a=r(53868),c=r(306),u=r(93781),d=r(94190);class l{intercept(e,t){return this.logger.info(`HTTP ${e.method} request to ${e.url}`),t(e).pipe((0,a.b)(t=>{(0,c.d6)(t)?this.logger.info(`HTTP request to ${e.url} succeeded`):"BadStatus"===(0,c.Yv)(t).tag?this.logger.info(`Failure HTTP response from ${e.url} (${(0,c.Yv)(t).tag})`):this.logger.info(`Failed to send HTTP request to ${e.url}`)}))}constructor(e){this.logger=e,this.id="LoggingHttpInterceptor"}}l=(0,s.gn)([(0,d.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===u.H?Object:u.H])],l);var p=r(99481);class h extends(0,p.ne)(){}var m=r(90573),y=r(48035);let g=[];class v{static configure(e){return{module:v,configurations:{infrastructure:e}}}static addGlobalInterceptor(e){g.push(e)}}(v=(0,s.gn)([(0,y.Y)({providers:[(0,p.d_)(h),{asyncFactory:async(e,t)=>{let r=new o.e(e);return(await Promise.all(g.map(e=>t.create(e)))).forEach(e=>r.addInterceptor(e)),r},token:o.e,inject:[n.j,i.ModuleRef]}],configurations:{infrastructure:{token:n.j}},imports:[m.G],exports:[o.e],sharedModuleName:"http",domainName:"framework"})],v)).addGlobalInterceptor(l)},35648:function(e,t,r){r.r(t),r.d(t,{provideValue:()=>v.z,mockTimer:()=>m,isExceptionLogEntry:()=>N.hE,CommandHandler:()=>Y.W,ExceptionCriticalityValues:()=>N.Tr,HttpClient:()=>U.e,FileDownloadListenerChannel:()=>eU,Injectable:()=>E.GS,NodeEventBroker:()=>ee.a,MemoryChannel:()=>z.q,HttpParams:()=>D.L,DefaultEncryptionCodecForDeviceData:()=>ey.h,useEventsOfModule:()=>f.g,AppLifeCycle:()=>a.d,CqrsClient:()=>ei.w,FileUploadedEventsEmitter:()=>ek.i,AppTimers:()=>c.O,DiagnosticsInit:()=>eH.A,createCqrsClient:()=>es.c,SingleNodeAppBuilder:()=>o.u,MemoryStoreInfrastructureFactory:()=>ef.N,DiagnosticsLogsSources:()=>eG.U,ManualTriggeredTimers:()=>c.r,NoopLogsAugmenterService:()=>G._,BackgroundStatusManager:()=>ez.L,JsonApplicationResourceLoader:()=>eR.K,startSingleApplicationNode:()=>i.Wj,FrameworkInit:()=>E.ar,UncaughtErrorSource:()=>L.fW,AcknowledgedChannel:()=>$.N,BadStatus:()=>R.R,ChannelState:()=>z.D,FileUploadListener:()=>eq.P,FrameworkRequestContextValues:()=>eF.l,ObservableQueriesCache:()=>eu.v,provideClass:()=>v.$,DiagnosticsLogger:()=>eW.f,defineApplication:()=>o.t,NodeModulesIntrospection:()=>b.Q1,FileDownloadModule:()=>ej.l,userScopedSingletonProvider:()=>S.M,StoreFlusher:()=>eT.X,createSingleChannelListener:()=>K.v,DefaultTimers:()=>s.m,Module:()=>f.Y,sendMessageRequest:()=>B.k,ChannelMessageBroker:()=>W.U,RequestContextModule:()=>eh.q,createApplicationClient:()=>ed,HttpHeaders:()=>x.W,startForegroundApplicationNode:()=>i.Rn,MV3LongRunningTaskInterceptor:()=>k.V,NullStorage:()=>ev.hL,HttpStatusCode:()=>F.W,ContextLessCqrsClient:()=>ei.m,MV3ExtensionResilienceModule:()=>q.f,FetchFailedError:()=>R.a,BufferedEventStream:()=>eL.j,ObservableQueriesCacheBase:()=>ep.z,TimerBasedCronSource:()=>eC._C,deviceScopedSingletonProvider:()=>w.H,FileDownloadService:()=>eI._,scopedSingleton:()=>T.B,ExceptionsLogsSources:()=>L.Yq,ParameterProviderType:()=>g.j,getStoresProviders:()=>eS.N,Global:()=>E.xB,ManagedStorageInfrastructure:()=>ev.Rx,defineModuleLogger:()=>j.ne,MemoryManagedStorageInfrastructure:()=>eg.I,DefaultEncryptionCodecForUserData:()=>ey.s,FileUploadBootstrap:()=>eV.T,ExceptionLoggingModule:()=>H.G,HttpBackend:()=>C.j,FileUploadModule:()=>eO.O,NodeToModuleEventBroker:()=>er,defineStore:()=>eE.Q,HttpModule:()=>P.X,CronLowLevelSource:()=>eC.R_,MemoryKeyValueStorageInfrastructure:()=>eg.s,NodeConfiguration:()=>Q.$,Store:()=>ew.y,isVersionedData:()=>ev.Ot,ExceptionLoggingSink:()=>L.qD,EventHandler:()=>X.b,NullCronTaskHandler:()=>eC.ql,StoreInfrastructureFactory:()=>ef.G,CqrsBroker:()=>Z.d,ModuleLogger:()=>j.uP,NullLoggingSink:()=>L.p$,AppLogger:()=>n.V,QueryHandler:()=>J.e,BaseEventEmitter:()=>en.f,NoDynamicChannels:()=>K.y,AllowedToFail:()=>eD.J,createCqrsClients:()=>es.R,DiagnosticsLogProcessor:()=>eG.i,ExceptionLogger:()=>M.v,ContextlessBaseEventEmitter:()=>en.C,ConcurrencyTestTimers:()=>y,FileDownloadEmitterChannel:()=>eP.o,getLogSeverityKey:()=>I.$S,getQueryValue:()=>el.O,startApplicationNode:()=>i.uT,isSendMessageRequest:()=>B.F,MV3ServiceWorkerExtenderBase:()=>V.g,DIAGNOSTICS_ID_KEY:()=>eW.O,createModuleLoggerProvider:()=>j.d_,createNullExceptionLogger:()=>M.G,JsonApplicationResourceFetcher:()=>e_.X,createFrameworkLoggerProvider:()=>j.Qi,KeyValueStorageFactory:()=>em.u,HttpRequest:()=>_.a,HttpResponse:()=>A.Z,RequestContext:()=>eF.f,ClientStatusManager:()=>e0,MV3ExtensionHttpInterceptor:()=>O.I,ThrowJsonFetcher:()=>s.k,FileUploadedEventHandler:()=>eN.P,defineBatchExecutor:()=>eA,KeyValueStorageInfrastructure:()=>ev.QI,StoreCapacity:()=>eb.Y,DiagnosticsModule:()=>eM.y});var s=r(424),i=r(84504),n=r(41650),o=r(46939),a=r(74437),c=r(97415),u=r(30545),d=r(57464),l=r(42589),p=r(48194),h=r(39692);function m(e,t,r,s){let i=[];if(t<r)return[];if(e<r){if(i.push(r),0===s)return i;let e=r+s;for(;e<=t;)i.push(e),e+=s;return i}if(s<=0)return[];let n=r+(Math.trunc((e-r)/s)+1)*s;for(;n<=t;)i.push(n),n+=s;return i}class y extends c.O{fireTimer(e=1){this.time=this.time+e,this.source$.next(this.time)}createObservableTimer(e,t){return this.source$.pipe((0,u.O)(0),(0,d.G)(),(0,l.U)(([r,s])=>m(r,s,e,t)),(0,p.z)(e=>e))}constructor(...e){super(...e),this.source$=new h.x,this.time=0}}var g=r(15232),v=r(43225),f=r(48035),E=r(94190),b=r(2825),S=r(72972),T=r(64415),w=r(70438),x=r(20346),A=r(65741),C=r(20858),_=r(81090),R=r(52174),D=r(5194),F=r(27472),U=r(90423),P=r(79869),I=r(85455),j=r(99481),O=r(55376),q=r(68041),k=r(54878),V=r(76955),N=r(97512),L=r(61633),M=r(26984),H=r(90573),G=r(59303),W=r(54313),z=r(59022),K=r(15459),$=r(16468),B=r(81487),Q=r(74492),Y=r(37368),J=r(62506),X=r(51870),Z=r(15018),ee=r(83101),et=r(18550);class er{connect(e){let{localSubscribersMap:t,broker:r}=this;return r.connect({onLocalEvent:async(r,s,i,n,o,a)=>{let c=t[r][i];await Promise.all(c.map(async t=>{await e.onEvent(r,t,i,n,o,a)}))}})}constructor(e){this.publishEvent=(e,t,r,s)=>this.broker.publishEvent(e,t,r,s),this.broker=new ee.a(e);let t=e.getModuleNames().reduce((t,r)=>({...t,[r]:Object.keys(e.appDefinition[r].api.events).reduce((e,t)=>(e[t]=[],e),(0,et.Ay)({}))}),(0,et.Ay)({}));this.localSubscribersMap=Object.keys(e.subscriptions).map(e=>e).reduce((t,r)=>{let s=e.subscriptions[r];return Object.keys(s).map(e=>e).forEach(e=>{let i=s[e]??[],n=t[e];i.forEach(e=>{n[e].push(r)})}),t},t)}}var es=r(83423),ei=r(23506),en=r(17507),eo=r(85813),ea=r(79662),ec=r(81433),eu=r(82348);async function ed({clientName:e,appDefinition:t,channels:r,channelsListener:s,logger:i}){let n={...t,[eo.P.name]:{api:eo.P,main:"background",queryOnly:[]}},o=new Q.$({appDefinition:n,channels:r,channelsListener:s,currentNode:null,subscriptions:{}}),c=new Z.d(o),u=new a.d,d=()=>{throw Error("Unexpected request received by detached application client")},l=c.connect({onCommand:d,onQuery:d}).start(),p=new eu.v(u),h=new ei.m(o,c,p,i);return u.addAppReadyHook(()=>{let e=h.getClient(ea.t$).queries.activeUser().pipe((0,ec.x)()).subscribe(()=>{p.clearUserCache()});return()=>e.unsubscribe()}),u.addShutdownHook(async()=>{await (await l).stop()}),await u.startup(),{client:(0,es.R)(e??"client",t,c,p,i),stop:async()=>{await u.shutDown()}}}var el=r(32208),ep=r(11198),eh=r(52792),em=r(66251),ey=r(25690),eg=r(80426),ev=r(91978),ef=r(86417),eE=r(59982),eb=r(68238),eS=r(16499),eT=r(57455),ew=r(63988),ex=r(31256);function eA(e){var t;let{chunkControl:{decrement:r=.5,increment:s=1.3,initialSize:i=16}={decrement:.5,increment:1.3,initialSize:16}}=e,n=new ex.WU;return(t=class{async dispatchBatch(e){await n.runExclusive(async()=>{let t=await this.pushItemsInQueue(e);for(;t.queue.length>0;)await this.processOneChunkFromQueue(t)})}async pushItemsInQueue(t){let r=await this.repository.getBatchState(e.name),s=t.filter(e=>!r.queue.find(t=>t===e));return s.length&&(r.queue.push(...s),await this.repository.setBatchState(e.name,r)),r}async processOneChunkFromQueue(t){let n=Math.min(function(e){let{lastStartedChunkFirstId:t,lastStartedChunkSize:n=i}=e;return t?Math.max(1,e.queue.find(e=>e===t)?Math.floor(n*r):Math.ceil(n*s)):i}(t),t.queue.length);if(!n)throw Error("Should have something to process");await this.repository.setBatchState(e.name,{...t,lastStartedChunkSize:n,lastStartedChunkFirstId:t.queue[0]});let o=t.queue.splice(0,n);await this.processor.processChunk(o),await this.repository.setBatchState(e.name,t)}constructor(e,t){this.repository=e,this.processor=t}}).Definition=e,t}var eC=r(78230),e_=r(75264),eR=r(49594),eD=r(29047),eF=r(3750);class eU{}var eP=r(66871),eI=r(91984),ej=r(37809),eO=r(5777),eq=r(71754),ek=r(48062),eV=r(46361),eN=r(62325),eL=r(14968),eM=r(16308),eH=r(27035),eG=r(27192),eW=r(48236),ez=r(15623),eK=r(56144),e$=r(36884),eB=r(44577),eQ=r(84408),eY=r(76478),eJ=r(82949),eX=r(51721);function eZ(e){return(0,eX.K)(e)&&"type"in e&&[eY.e.FAILURE,eY.e.LOADING,eY.e.READY].includes(e.type)}class e0{async start(){let e=new W.U({[eJ.G]:{type:"remote",channel:this.channelToBackground}}),t=e.connect([this.channelToBackground],K.y),r=await t.start(),s=e.sendMessage("applicationBackgroundStatus",{queryName:"applicationStatus"}).pipe((0,eK.h)(eZ)).subscribe(e=>{this.backgroundStatus$.next(e)});return this.stop=async()=>{s.unsubscribe(),await r.stop()},this.stop}getBackgroundAndClientStatusReadyOrFailure$(){return(0,e$.a)([this.backgroundStatus$,this.clientStatus$]).pipe((0,l.U)(([e,t])=>e.type===eY.e.FAILURE?{type:eY.e.FAILURE,error:e.error}:t.type===eY.e.FAILURE?{type:eY.e.FAILURE,error:t.error}:e.type===eY.e.READY&&t.type===eY.e.READY?{type:eY.e.READY}:{type:eY.e.LOADING}),(0,eK.h)(({type:e})=>e!==eY.e.LOADING))}async waitUntilBackgroundAndClientReady(){let e=await (0,eB.z)(this.getBackgroundAndClientStatusReadyOrFailure$());if(e.type===eY.e.FAILURE)throw Error("Background or client intialization failed.",{cause:e.error})}async waitUntilBackgroundReady(){let e=await (0,eB.z)(this.backgroundStatus$.pipe((0,eK.h)(({type:e})=>e!==eY.e.LOADING)));if(e.type===eY.e.FAILURE)throw Error("Background intialization failed.",{cause:e.error})}ready(){this.clientStatus$.value.type!==eY.e.LOADING&&console.warn(`[framework/background] Unexpected application state transition, expecting ${eY.e.LOADING} got ${this.clientStatus$.value.type}`),console.log("[framework/leeloo] Client is ready"),this.clientStatus$.next({type:eY.e.READY}),this.stop()}failure(e){if(this.clientStatus$.value.type!==eY.e.LOADING)throw Error(`Unexpected application state transition, expecting ${eY.e.LOADING} got ${this.clientStatus$.value.type}`);console.log("[framework/leeloo] Unexpected client failure"),this.clientStatus$.next({type:eY.e.FAILURE,error:e instanceof Error?e.message:"unexpected failure"}),this.stop()}async stop(){console.log("[framework/leeloo] Client stop function called before initialization")}constructor(e){this.channelToBackground=e,this.clientStatus$=new eQ.X({type:eY.e.LOADING}),this.backgroundStatus$=new eQ.X({type:eY.e.LOADING})}}},41650:function(e,t,r){r.d(t,{V:()=>d});var s=r(48236),i=r(44046),n=r(85455);class o{static create(){return new o}async log(e){let t={...function(e){if(!e)return{};let{stack:t,useCaseName:r,exceptionType:s,useCaseId:i,...n}={...e},o={useCaseId:void 0!==i?String(i):void 0,callStack:t,useCaseStacktrace:n.useCaseStacktrace,useCaseName:Array.isArray(r)?JSON.stringify(r):r,cause:n.cause,exceptionType:void 0!==s?String(s):void 0,featuresFlipped:n.featuresFlipped,fileLocation:n.fileLocation,lineNumber:n.lineNumber,origin:n.origin,sessionId:n.sessionId};return{...n,...o}}(e.metadata),criticality:e.severity===n.GW.WARN?"warning":"critical",message:e.message,timestamp:e.timestamp,module:e.module,domain:e.domain,container:e.container};this.bufferedEventStream.emit(t,void 0)}getLogsStream$(){return this.bufferedEventStream.events$}constructor(){this.bufferedEventStream=new i.c}}var a=r(27623),c=r(21582);function u(e,t){return{...e,container:"string"==typeof t?.container&&t.container?t.container:e.container,module:"string"==typeof t?.module&&t.module?t.module:e.module,domain:"string"==typeof t?.domain&&t.domain?t.domain:e.domain}}class d{static create(e){let t=s.f.create({infra:e.infra}),r=o.create();return new d(e.printer??c.K.create(),t,r,e)}static createNull(e={}){let t={container:e.container??"none",module:e.module??"none",domain:e.domain??"none"};return new d(c.K.createNull(),s.f.createNull({infra:e.infra}),o.create(),t)}fatal(e,t){let r=(0,a.x)(u(this.locationContext,t),e,n.GW.FATAL,t);this.diagnostics.log(r),this.anomalyLogger.log(r),this.printer.print(r)}error(e,t){let r=(0,a.x)(u(this.locationContext,t),e,n.GW.ERROR,t);this.diagnostics.log(r),this.anomalyLogger.log(r),this.printer.print(r)}warn(e,t){let r=n.ys.create({message:e,severity:n.GW.WARN,timestamp:t?.timestamp,metadata:{...t},...u(this.locationContext,t)});this.diagnostics.log(r),this.anomalyLogger.log(r),this.printer.print(r)}info(e,t){let r=n.ys.create({message:e,severity:n.GW.INFO,timestamp:t?.timestamp,metadata:{...t},...u(this.locationContext,t)});this.diagnostics.log(r),this.printer.print(r)}log(e,t){this.info(e,t)}debug(e,t){let r=n.ys.create({message:e,severity:n.GW.DEBUG,timestamp:t?.timestamp,metadata:{...t},...u(this.locationContext,t)});this.diagnostics.log(r),this.printer.print(r)}trace(e,t){let r=n.ys.create({message:e,severity:n.GW.TRACE,timestamp:t?.timestamp,metadata:{...t},...u(this.locationContext,t)});this.diagnostics.log(r),this.printer.print(r)}constructor(e,t,r,s){this.printer=e,this.diagnostics=t,this.anomalyLogger=r,this.locationContext=s}}},27623:function(e,t,r){r.d(t,{x:()=>n});var s=r(97512),i=r(85455);function n(e,t,r,n){let o;if("string"==typeof t)o=i.ys.create({message:t,severity:r,timestamp:n?.timestamp,metadata:{...n},...e});else if(t instanceof s.cI){let[s,a]=[t.exception,t.useCaseStacktrace],c=s instanceof Error?s:Error("unknown error",{cause:s});o=i.ys.create({message:c.message,timestamp:n?.timestamp,severity:r,metadata:{useCaseStacktrace:a,cause:c.cause?JSON.stringify(c.cause):void 0,stack:c.stack,...n},...e})}else if("object"==typeof t&&null!==t&&"error"in t){let{fileLocation:s,lineNumber:a,origin:c,error:u}=t,d=u instanceof Error?u:Error("unknown error",{cause:u});o=i.ys.create({message:d.message,timestamp:n?.timestamp,severity:r,metadata:{error:u,stack:d.stack,cause:d.cause?JSON.stringify(d.cause):void 0,fileLocation:s,lineNumber:a,origin:c,...n},...e})}else{let s=t instanceof Error?t:Error("unknown error",{cause:t});o=i.ys.create({message:s.message,timestamp:n?.timestamp,severity:r,metadata:{cause:s.cause instanceof Error?s.cause.message:JSON.stringify(s.cause),stack:s.stack,...n},...e})}return o}},93781:function(e,t,r){r.d(t,{H:()=>i});var s=r(99481);class i extends(0,s.ne)(){}},99481:function(e,t,r){r.d(t,{Qi:()=>y,d_:()=>m,ne:()=>h,uP:()=>p});var s=r(21636),i=r(94190),n=r(41650),o=r(12927),a=r(61633),c=r(17623),u=r(3750),d=r(71105);function l(e,t){return!e&&t?t:!t&&e?e:{...e,...t}}class p{static createNull(){return new p(n.V.createNull(),"null","null","null","null",[])}info(e,t){this.logger.info(e,l(t,this.requestMetadata))}debug(e,t){this.logger.debug(e,l(t,this.requestMetadata))}error(e,t){let r=l(t,this.requestMetadata);(0,a.Cb)(e),this.logger.error(e,r)}fatal(e,t){let r=l(t,this.requestMetadata);(0,a.Cb)(e),this.logger.fatal(e,r)}trace(e,t){this.logger.trace(e,l(t,this.requestMetadata))}warn(e,t){this.logger.warn(e,l(t,this.requestMetadata))}log(e,t){this.logger.log(e,l(t,this.requestMetadata))}constructor(e,t,r,s,i,n){this.logger=e,this.requestMetadata={module:t,domain:r,useCaseId:s,useCaseName:i,useCaseStacktrace:n}}}function h(){let e=class extends p{constructor(e,t,r,s,i){super(e,t,r,s,i)}};return(0,i.GS)()(e),e}function m(e){return{token:e,inject:[o.r,o.z,c.REQUEST,n.V,d.FT],asyncFactory:async(e,t,r,s,i)=>{let n=r.context.get(u.l.UseCaseId),o=r.name,a=i.read(),c=a.length<=1;return new p(s,e,t,n,o,c?void 0:a)}}}function y(e){return{token:e,inject:[n.V],asyncFactory:t=>new e(t,"framework","background")}}p=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.V?Object:n.V,String,String,String,String,Array])],p)},21582:function(e,t,r){r.d(t,{K:()=>n});var s=r(85455);let i=()=>{};class n{static create(){return new n({[s.GW.TRACE]:console.debug,[s.GW.DEBUG]:console.debug,[s.GW.INFO]:console.info,[s.GW.WARN]:console.warn,[s.GW.ERROR]:console.error,[s.GW.FATAL]:console.error})}static createNull(){return new n({[s.GW.TRACE]:i,[s.GW.DEBUG]:i,[s.GW.INFO]:i,[s.GW.WARN]:i,[s.GW.ERROR]:i,[s.GW.FATAL]:i})}print(e){let t=e.container&&e.module?`[${e.container}/${e.module}]`:"";this.infra[e.severity](`${t} ${e.message}`,e.metadata)}constructor(e){this.infra=e}}},85455:function(e,t,r){r.d(t,{$S:()=>i,GW:()=>s,ys:()=>n});let s=Object.freeze({TRACE:1,DEBUG:5,INFO:9,WARN:13,ERROR:17,FATAL:21});function i(e){switch(e){case 1:return"TRACE";case 5:return"DEBUG";case 9:return"INFO";case 13:return"WARN";case 17:return"ERROR";case 21:return"FATAL";default:return}}class n{static create(e){return new n(e.message,e.severity??s.INFO,e.timestamp??Date.now(),e.container,e.module,e.domain,e.metadata??{})}constructor(e,t,r,s,i,n,o){this.message=e,this.severity=t,this.timestamp=r,this.container=s,this.module=i,this.domain=n,this.metadata=o}}},16468:function(e,t,r){r.d(t,{N:()=>f});var s=r(81433),i=r(39692),n=r(14873),o=r(56144),a=r(56778),c=r(41509),u=r(72233),d=r(5049),l=r(14564),p=r(46457),h=r(1833),m=r(16051),y=r(48194),g=r(99012),v=r(70410);class f{constructor(e,t=3e4){let r=e.status$.pipe((0,s.x)()),f=!1,E=new i.x,b=async s=>{let i=(0,v.Z)(),y=!1,g=e.messages$.pipe((0,n.o)(()=>!f),(0,o.h)(e=>"acknowledgement"===e.type&&e.id===i),(0,a.q)(1),(0,c.V)(t),(0,u.K)(()=>d.E),(0,l.d)(1)),E=g.subscribe(()=>{y=!0,E.unsubscribe()}),b=r.pipe((0,n.o)(()=>!y&&!f),(0,p.z)(()=>(0,h.D)(e.sendMessage({type:"send",id:i,message:s.message})))).subscribe();try{await (0,m.n)(g),b.unsubscribe(),s.resolve()}catch(e){b.unsubscribe(),s.reject(e)}},S=E.pipe((0,y.z)(b)).subscribe(),T=async t=>{if("send"===t.type)return await e.sendMessage({type:"acknowledgement",id:t.id}),t.message};this.stop=()=>(f=!0,S.unsubscribe(),e.stop()),this.send=e=>new Promise((t,r)=>{E.next({message:e,resolve:t,reject:r})}),this.channelState$=e.status$,this.receivedMessages$=e.messages$.pipe((0,o.h)(e=>"send"===e.type),(0,y.z)(T),(0,g.B)())}}},54313:function(e,t,r){r.d(t,{U:()=>D});var s=r(84408),i=r(16051),n=r(56144),o=r(48194),a=r(1833),c=r(42589),u=r(72233),d=r(69853),l=r(44658);let p=e=>!!e&&"object"==typeof e&&"error"===e.type,h=e=>!!e&&"object"==typeof e&&"initial-acknowledgement"===e.type,m=e=>!!e&&"object"==typeof e&&"start"===e.type,y=e=>!!e&&"object"==typeof e&&"data"===e.type,g=e=>!!e&&"object"==typeof e&&"end"===e.type,v=e=>!!e&&"object"==typeof e&&"unSubscription"===e.type,f=(e,t,r)=>{let s=new Set(r),i=new Map,p=t.receivedMessages$.pipe((0,n.h)(v)).subscribe(e=>{let t=i.get(e.id);t?.unsubscribe(),i.delete(e.id)}),h=async e=>(i.set(e.definition.id,{unsubscribe:()=>{}}),await t.send({type:"initial-acknowledgement",id:e.definition.id}),e),y=t.receivedMessages$.pipe((0,n.h)(e=>m(e)&&s.has(e.definition.destination)&&!i.has(e.definition.id)),(0,o.z)(e=>(0,a.D)(h(e)))).subscribe(r=>{let s=e(r.definition.destination,r.definition.content,r.metadata),n={type:"end",id:r.definition.id},p=s.pipe((0,c.U)(e=>({id:r.definition.id,data:e,type:"data"})),(0,u.K)(e=>{let t={id:r.definition.id,type:"error",errorMessage:e.message};return(0,d.of)(t)}),(0,l.l)(n),(0,o.z)(e=>(0,a.D)(t.send(e)))).subscribe();i.set(r.definition.id,{unsubscribe:()=>{p.unsubscribe()}})});return{unsubscribe:()=>{for(let e of(y.unsubscribe(),p.unsubscribe(),i.values()))e.unsubscribe()}}};var E=r(23596),b=r(36884),S=r(14873),T=r(81433),w=r(46457),x=r(44577),A=r(59022),C=r(70410);let _=(e,t)=>{let r=(r,s,i)=>{let o={content:s,destination:String(r),id:(0,C.Z)()};return new E.y(r=>{let s={type:"start",definition:o,metadata:i},u=(0,b.a)({message:e.receivedMessages$,stopped:t}).pipe((0,S.o)(({stopped:e})=>!e),(0,c.U)(({message:e})=>e)).subscribe(e=>{if(h(e)&&e.id===o.id){s={...s,metadata:{...s.metadata,isReminder:!0}};return}if(y(e)&&e.id===o.id){r.next(e.data);return}if(p(e)&&e.id===o.id){r.error(Error(e.errorMessage));return}if(g(e)&&e.id===o.id){r.complete();return}}),d=(0,b.a)({sendTimes:e.channelState$.pipe((0,T.x)(),(0,n.h)(e=>e===A.D.Connected)),stopped:t}).pipe((0,S.o)(({stopped:e})=>!e),(0,w.z)(()=>(0,a.D)(e.send(s)))).subscribe();return()=>{e.send({type:"unSubscription",id:o.id}),d.unsubscribe(),u.unsubscribe()}})},s=async(t,s,n)=>await (0,x.z)(e.channelState$)===A.D.Connected&&(await (0,i.n)(r(t,s,n)),!0);return{send:r,trySend:s}};var R=r(18550);class D{connect(e,t){let r=!1;return{start:()=>{if(r)throw Error("Already started");r=!0;let s=e=>f((e,t,r)=>this.routes[e].send(e,t,r),e,Object.keys(this.routes)),i=e.map(s),n=new Map,o=t.connectedChannels$.subscribe(e=>{let t=[...n.entries()].filter(([t])=>!(t in e)),r=Object.keys(e).filter(e=>!n.has(e));t.forEach(([e,t])=>{n.delete(e),t.unsubscribe()}),r.forEach(t=>{let r=s(e[t]);n.set(t,r)})});return Promise.resolve({stop:()=>([...i,o,...n.values()].forEach(e=>e.unsubscribe()),this.stopped$.next(!0),Promise.resolve())})}}}ensureMessageSerializable(e,t){}sendMessage(e,t){return this.ensureMessageSerializable(e,t),this.routes[e].send(e,t,{isReminder:!1})}trySendMessage(e,t){return this.ensureMessageSerializable(e,t),this.routes[e].trySend(e,t,{isReminder:!1})}constructor(e){this.stopped$=new s.X(!1);let t={routes:(0,R.Ay)({})};this.routes=(()=>{let{routes:r}=Object.keys(e).reduce((t,r)=>{let s=e[r];if("local"===s.type&&(t.routes[r]={send:s.onMessage,trySend:async(...e)=>(await (0,i.n)(s.onMessage(...e)),!0)}),"remote"===s.type){let e=_(s.channel,this.stopped$);t.routes[r]=e}return t},t);return r})()}}},59022:function(e,t,r){r.d(t,{D:()=>o,q:()=>a});var s,i=r(39692),n=r(84408),o=((s={}).Connected="Connected",s.Disconnected="Disconnected",s);class a{send(e){if("Connected"!==this.channelStateSubject$.value)throw Error("Channel is not connected");return this.sentMessages$.next(e),Promise.resolve()}get receivedMessages$(){return this.receivedMessagesSubject$}get channelState$(){return this.channelStateSubject$}stop(){this.receivedMessages$.complete()}connect(e){if("Connected"===this.channelStateSubject$.value)return{disconnect:()=>{}};let t=this.sentMessages$.subscribe(t=>{e.receivedMessages$.next(t)});return this.channelState$.next("Connected"),{disconnect:()=>{this.channelState$.next("Disconnected"),t.unsubscribe()}}}constructor(){this.sentMessages$=new i.x,this.receivedMessagesSubject$=new i.x,this.channelStateSubject$=new n.X("Disconnected")}}},15459:function(e,t,r){r.d(t,{v:()=>n,y:()=>i});var s=r(84408);let i={connectedChannels$:new s.X({})},n=e=>({connectedChannels$:new s.X({channel:e})})},81487:function(e,t,r){r.d(t,{F:()=>i,k:()=>s});let s=({channelName:e,message:t})=>({channelName:e,message:t,type:"graphene-message"}),i=e=>!!e&&"object"==typeof e&&"graphene-message"===e.type},74492:function(e,t,r){r.d(t,{$:()=>s});class s{getNodeList(){return this.currentNode?[...this.getRemoteNodeList(),this.currentNode]:this.getRemoteNodeList()}getRemoteNodeList(){return Object.keys(this.channels)}getModuleNames(){return Object.keys(this.appDefinition)}constructor(e){this.appDefinition=e.appDefinition,this.currentNode=e.currentNode,this.channels=e.channels,this.subscriptions=e.subscriptions,this.channelsListener=e.channelsListener}}},55376:function(e,t,r){r.d(t,{I:()=>p});var s=r(21636),i=r(14564),n=r(90135),o=r(56778),a=r(29742),c=r(33221),u=r(76955),d=r(93781),l=r(97415);class p{intercept(e,t){if(e.timeout<3e4)return t(e);this.logger.debug("Starting heartbeat sequence to extend SW lifetime during HTTP request");let r=t(e).pipe((0,i.d)(1));return this.timers.createObservableTimer(2e4,2e4).pipe((0,n.R)(r),(0,o.q)(Math.trunc(e.timeout/2e4)),(0,a.x)(()=>{this.logger.debug("Ending heartbeat sequence to extend SW lifetime during HTTP request")})).subscribe(()=>this.mv3ServiceWorkerExtender.extendServiceWorkerLifetime()),r}constructor(e,t,r){this.timers=e,this.mv3ServiceWorkerExtender=t,this.logger=r,this.id="MV3ExtensionHttpInterceptor"}}p=(0,s.gn)([(0,c.Injectable)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===l.O?Object:l.O,void 0===u.g?Object:u.g,void 0===d.H?Object:d.H])],p)},68041:function(e,t,r){r.d(t,{f:()=>d});var s=r(21636),i=r(55376),n=r(76955),o=r(54878),a=r(45622),c=r(79869),u=r(48035);class d{static configure(e){return c.X.addGlobalInterceptor(i.I),a.b.addGlobalNestInterceptor(o.V),{module:d,configurations:{mv3SwExtend:e}}}}d=(0,s.gn)([(0,u.Y)({sharedModuleName:"mv3ExtensionResilience",configurations:{mv3SwExtend:{token:n.g}},providers:[i.I,o.V],exports:[i.I,o.V],domainName:"framework"})],d)},54878:function(e,t,r){r.d(t,{V:()=>l});var s=r(21636),i=r(14564),n=r(90135),o=r(56778),a=r(33221),c=r(42030),u=r(97415),d=r(76955);class l{intercept(e,t){let r=e.switchToHttp().getRequest();if(r.type===c.Y.Command||r.type===c.Y.Cron||r.type===c.Y.Event){let e=t.handle().pipe((0,i.d)(1));return this.timers.createObservableTimer(2e4,2e4).pipe((0,n.R)(e),(0,o.q)(Math.trunc(45))).subscribe(()=>this.mv3ServiceWorkerExtender.extendServiceWorkerLifetime()),e}return t.handle()}constructor(e,t){this.timers=e,this.mv3ServiceWorkerExtender=t}}l=(0,s.gn)([(0,a.Injectable)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===u.O?Object:u.O,void 0===d.g?Object:d.g])],l)},76955:function(e,t,r){r.d(t,{g:()=>s});class s{}},3750:function(e,t,r){r.d(t,{f:()=>i,l:()=>s});let s={UseCaseId:"USE_CASE_ID",UserName:"USER_NAME"};class i{get(e){return this.entries[e]}getOrDefault(e,t){return this.entries[e]??t}getOrFail(e,t){if(!this.has(e))throw Error(t?.errorMessage??`No ${e} in request context`);return this.entries[e]}has(e){return e in this.entries}async getOrAdd(e,t){return this.has(e)||this.set(e,await t()),this.get(e)}getOrAddSync(e,t){return this.has(e)||this.set(e,t()),this.get(e)}set(e,t){this.entries[e]=t}toSerializable(){return this.entries}static fromSerializable(e){let t=new i;for(let[r,s]of Object.entries(e))t.entries[r]=s;return t}clone(){return i.fromSerializable(JSON.parse(JSON.stringify(this.toSerializable())))}withValue(e,t){return this.set(e,t),this}constructor(){this.entries={}}}},75264:function(e,t,r){r.d(t,{X:()=>s});class s{}},49594:function(e,t,r){r.d(t,{K:()=>c});var s=r(21636),i=r(1833),n=r(60025),o=r(94190),a=r(75264);class c{async load(){await this.get()}async get(){let{value:e}=this;if(e)return e;let t=await this.fetcher.fetch(this.url),r=await this.loadResource(t);return this.value=r,r}constructor(e,t){this.url=e,this.fetcher=t,this.value$=(0,i.D)((0,n.P)(()=>this.get()))}}c=(0,s.gn)([(0,o.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[String,void 0===a.X?Object:a.X])],c)},52792:function(e,t,r){r.d(t,{q:()=>x});var s=r(21636),i=r(306),n=r(79662),o=r(42589),a=r(81433),c=r(15021),u=r(59982),d=r(68238);let l=e=>!!e&&"object"==typeof e&&"userName"in e;class p extends(0,u.Q)({initialValue:{userName:void 0},persist:!1,scope:c.F.Device,storeName:"active-user-store",storeTypeGuard:l,capacity:d.Y._001KB}){}var h=r(62506),m=r(37368),y=r(17507),g=r(94190);class v extends y.f{}v=(0,s.gn)([(0,g.GS)()],v);var f=r(99481);class E extends(0,f.ne)(){}class b{execute(){return this.activeUserStore.state$.pipe((0,o.U)(e=>e.userName),(0,a.x)(),(0,o.U)(e=>(0,i.Vp)({userName:e})))}constructor(e){this.activeUserStore=e}}b=(0,s.gn)([(0,h.e)(n.p),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[p])],b);class S{async execute({body:{userName:e}}){return(await this.activeUserStore.getState()).userName===e||(await this.activeUserStore.set({userName:e}),e?(this.logger.debug("Active user set"),this.eventEmitter.sendEvent("activeUserSet",{userName:e})):this.logger.debug("Active user unset")),(0,i.Vp)(void 0)}constructor(e,t,r){this.activeUserStore=e,this.eventEmitter=t,this.logger=r}}S=(0,s.gn)([(0,m.W)(n.r$),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[p,void 0===v?Object:v,E])],S);var T=r(48035),w=r(90573);class x{}x=(0,s.gn)([(0,T.Y)({api:n.t$,handlers:{commands:{setActiveUser:S},events:{},queries:{activeUser:b}},stores:[p],providers:[v,(0,f.d_)(E)],domainName:"framework",imports:[w.G]})],x)},424:function(e,t,r){r.d(t,{k:()=>a,m:()=>o});var s=r(10096),i=r(97415),n=r(75264);class o extends i.O{get time(){return Date.now()}createObservableTimer(e,t){return(0,s.H)(e,t)}}class a extends n.X{fetch(){return Promise.reject(Error("Please add a jsonFetcher to the application. Probably you are seing that in unit tests.\nIf this is the case, please mock whatever service is requiring to fetch the data"))}}},25690:function(e,t,r){r.d(t,{h:()=>n,s:()=>o});var s=r(21636),i=r(33221);class n{}n=(0,s.gn)([(0,i.Injectable)()],n);class o{}o=(0,s.gn)([(0,i.Injectable)()],o)},66251:function(e,t,r){r.d(t,{u:()=>i});class s{clear(){return this.storage.remove(this.baseKey)}async read(){let e=await this.storage.get(this.baseKey);return!e&&this.initialValueFactory?await this.initialValueFactory():e}async write(e){await this.storage.set(this.baseKey,e)}constructor(e,t,r){this.storage=e,this.baseKey=t,this.initialValueFactory=r}}class i{createBackend(e,t,r,i){let n=r?`${e}.${t}.${r}`:`${e}.${t}`;return new s(this.storage,n,i)}constructor(e){this.storage=e}}},80426:function(e,t,r){r.d(t,{I:()=>i,s:()=>s});class s{set(e,t){return this.memory.set(e,t),Promise.resolve()}getAllKeys(){return Promise.resolve([...this.memory.keys()])}remove(e){return this.memory.get(e)&&this.memory.delete(e),Promise.resolve()}get(e){return Promise.resolve(this.memory.get(e))}constructor(){this.memory=new Map}}class i{getAllKeys(){return Promise.resolve([])}get(e){return Promise.resolve(void 0)}}},91978:function(e,t,r){function s(e){return null!==e&&"object"==typeof e&&"version"in e&&"number"==typeof e.version&&"content"in e}r.d(t,{Ot:()=>s,QI:()=>n,Rx:()=>o,hL:()=>i});let i={read:()=>Promise.resolve(void 0),write:()=>Promise.resolve(),clear:()=>Promise.resolve()};class n{}class o{}},59982:function(e,t,r){r.d(t,{Q:()=>p});var s=r(94190),i=r(45890),n=r(20458),o=r(91978);class a{async read(){let e=await this.backend.read();if(!e)return;let{decoded:t,hasBypassedDecryption:r}=await this.decodeData(e),{definition:s}=this,{storageName:i}=s;if(!(0,o.Ot)(t))throw Error(`Unable to read storage data that isn't versioned (storage name: ${i}, data shape: ${this.printDataShapeInfo(t)})`);let{content:n}=t,a=t.version,c=s.schemaVersion;if(a<c){if(!s.migrateStorageSchema)throw r&&await this.rawWrite(t),Error(`Missing storage schema migration function prevents from reading old version data (storage name: ${i})`);let e=s.migrateStorageSchema(t),n=this.getTypecheckedData(e,"read");return await this.writeWithVersion(n),n}if(a>c)throw Error(`Unable to read storage data with a more recent version than current schema (storage name: ${i})`);{let e=this.getTypecheckedData(n,"read");return r&&await this.writeWithVersion(e),e}}write(e){let t=this.getTypecheckedData(e,"write");return this.writeWithVersion(t)}clear(){return this.backend.clear()}async writeWithVersion(e){let t={version:this.definition.schemaVersion,content:e};await this.rawWrite(t)}async rawWrite(e){let t=await this.codec.encode(e);await this.backend.write(t)}async decodeData(e){let{codec:t,bypassedDecryptionDecoder:r}=this;try{return{decoded:await t.decode(e),hasBypassedDecryption:!1}}catch(t){try{return{decoded:await r.decode(e),hasBypassedDecryption:!0}}catch{throw t}}}getTypecheckedData(e,t){try{if(!this.definition.typeGuard(e))throw Error("Typeguard check failed")}catch(a){let{storageName:r,initialValue:s}=this.definition,i=`Failed to ${t} storage data because of typeguard failure`,n={details:a instanceof Error?a.message:"",storageInfo:`(storage name: ${r}, data shape: ${this.printDataShapeInfo(e)})`},o=Error(i,{cause:JSON.stringify(n)});if(this.appLogger.error(i,n),this.definition.isCache)return s;throw o}return e}printDataShapeInfo(e){return e&&"object"==typeof e?JSON.stringify(Object.keys(e).reduce((t,r)=>(t[r]=typeof e[r],t),{})).substring(0,40):void 0===e?"undefined":null===e?"null":typeof e}constructor(e,t,r,s,o,a){this.encryptionCodec=e,this.serializationCodec=t,this.transportStorageCodec=r,this.backend=s,this.definition=o,this.appLogger=a,this.codec=(0,i.x)(r,e,t);let c=new n.E;this.bypassedDecryptionDecoder=(0,i.x)(r,c,t)}}let c=e=>{var t;return(t=class extends a{constructor(t,r,s,i,n){super(t,r,s,i,e,n)}}).Definition=e,t};var u=r(68238),d=r(63988);let l=e=>e.persist?{persist:!0,codec:e.codec,scope:e.scope,storeName:e.storeName,storeTypeGuard:e.storeTypeGuard,isCache:e.isCache,storage:c({...e.storage,storageName:e.storeName,isCache:e.isCache??!1}),capacity:(0,u.C)(e)?e.capacity:void 0}:{persist:!1,initialValue:e.initialValue,scope:e.scope,storeName:e.storeName,capacity:(0,u.C)(e)?e.capacity:void 0};function p(e){var t;let r=l(e),i=((t=class extends d.y{constructor(e,t,r,s,i,n,o){super(e,t,r,s,i,n,o)}}).Definition=r,t);return(0,s.GS)()(i),i}},68238:function(e,t,r){r.d(t,{C:()=>n,Y:()=>i});var s,i=((s={})._001KB="1KB",s._010KB="10KB",s._100KB="100KB",s._001MB="1MB",s.Unlimited="Unlimited",s);function n(e){return"object"==typeof e&&null!==e&&"capacity"in e}},57455:function(e,t,r){r.d(t,{X:()=>a});var s=r(21636),i=r(33221),n=r(15673),o=r(3171);class a{async prepare(){let e=n.ContextIdFactory.getByRequest(this.request);this.storeList.instances=await Promise.all(this.storeList.classes.map(t=>this.moduleRef.resolve(t,e,{strict:!1})))}async flush(){let{instances:e}=this.storeList;if(!e.length)throw Error("Stores not instantiated");let t=e.map(e=>e.persist());await Promise.all(t)}constructor(e,t,r){this.moduleRef=e,this.request=t,this.storeList=r}}a=(0,s.gn)([(0,i.Injectable)(),(0,s.fM)(1,(0,i.Inject)(n.REQUEST)),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.ModuleRef?Object:n.ModuleRef,"undefined"==typeof Record?Object:Record,void 0===o.D?Object:o.D])],a)},86417:function(e,t,r){r.d(t,{N:()=>o,G:()=>n});var s=r(84408);class i{set(e){return this.state$.next(e),Promise.resolve()}init(e){return this.state$.next(e),Promise.resolve()}stop(){this.state$.complete()}getState(){return Promise.resolve(this.state$.value)}clear(){return this.state$.next(this.initValue),Promise.resolve()}clearStorage(){return Promise.resolve()}update(e){return this.set(e(this.state$.value)),Promise.resolve()}persist(){return Promise.resolve()}load(){return Promise.resolve()}constructor(e){this.initValue=e,this.getLimit=()=>Promise.resolve(void 0),this.state$=new s.X(e)}}class n{}class o extends n{createUserScopedInfrastructure(){return new i({timestamp:void 0})}createDeviceScopedInfrastructure(){return new i({timestamp:void 0})}}},3171:function(e,t,r){r.d(t,{D:()=>s});class s{get classes(){return this.registeredClasses}get instances(){return this.preparedInstances}set instances(e){this.preparedInstances=e}registerClass(e){this.registeredClasses.push(e)}constructor(){this.registeredClasses=[],this.preparedInstances=[]}}},16499:function(e,t,r){r.d(t,{N:()=>E});var s=r(15673),i=r(70410),n=r(15021),o=r(74437),a=r(64415),c=r(86417),u=r(12927),d=r(8018),l=r(91986),p=r(25690),h=r(66251),m=r(3750),y=r(41650);let g={[n.F.Device]:p.h,[n.F.User]:p.s};var v=r(68798),f=r(93781);function E(...e){return e.flatMap(e=>(function(e){let t=e.Definition.persist?function(e,t,r){let{EncryptionCodec:s=g[t],SerializationCodec:o=d.b,TransportStorageCodec:c=l.z,initialValue:p,schemaVersion:v}=r.Definition,f=class{constructor(e,t,r,s,i){this.encryptionCodec=e,this.serializationCodec=t,this.transportStorageCodec=r,this.backend=s,this.appLogger=i}},E=class extends r{constructor(e){super(e.encryptionCodec,e.serializationCodec,e.transportStorageCodec,e.backend,e.appLogger)}},b={token:(0,i.Z)(),inject:[f],asyncFactory:e=>Promise.resolve(new E(e))};return[{token:f,inject:[u.r,s,o,c,h.u,y.V,...t===n.F.User?[m.f]:[]],asyncFactory:async(r,s,i,o,a,c,u)=>{let d=await a.createBackend(r,e,(t===n.F.User?u?.get(m.l.UserName):"")??"",async()=>{let e=await i.encode({version:v,content:p}),t=await s.encode(e);return await o.encode(t)});return new f(s,i,o,d,c)}},...(0,a.B)(t,r,b)]}(e.Definition.storeName,e.Definition.scope,e.Definition.storage):[],r={token:(0,i.Z)(),inject:[u.r,o.d,c.G,e.Definition.scope===n.F.User?m.f:s.REQUEST,f.H,v.g,...e.Definition.persist?[e.Definition.storage,e.Definition.codec]:[]],asyncFactory:async(t,r,s,i,o,a,c,u)=>{let d=new e(t,e.Definition,s,(e.Definition.scope===n.F.User?i.get(m.l.UserName):"")??"",o,c,u),l=async()=>{await d.clear(),d.stop()};if(e.Definition.scope===n.F.User){if(!a)throw Error("No user scope available");a.addCloseHook(l)}else r.addShutdownHook(l);return await d.load(),d}};return[...t,...(0,a.B)(e.Definition.scope,e,r)]})(e))}},63988:function(e,t,r){r.d(t,{y:()=>p});var s=r(44577),i=r(84408),n=r(36884),o=r(42589),a=r(81433),c=r(56144),u=r(15021),d=r(68238);class l{constructor(e,t,r,s){switch(this.conf=t,this.set=async e=>{if(!await this.quickMemoryInfrastructure.getLimit()||this.conf.capacity!==d.Y.Unlimited||!this.conf.persist)return this.quickMemoryInfrastructure.set(e)},this.getState=()=>this.quickMemoryInfrastructure.getState(),this.init=e=>this.quickMemoryInfrastructure.init(e),this.update=async e=>this.set(e(await this.getState())),this.clearStorage=()=>this.quickMemoryInfrastructure.clearStorage(),this.clear=()=>this.quickMemoryInfrastructure.clear(),this.persist=()=>this.quickMemoryInfrastructure.persist(),this.load=()=>this.quickMemoryInfrastructure.load(),this.stop=()=>this.quickMemoryInfrastructure.stop(),this.getLimit=()=>Promise.reject(Error("not implemented")),t.scope){case u.F.Device:this.quickMemoryInfrastructure=r.createDeviceScopedInfrastructure(e,t.storeName,t.storeTypeGuard),this.key=`graphene.${e}.${t.storeName}`;break;case u.F.User:if(!s)throw Error("Attempting to create a user-scoped store without a user");this.quickMemoryInfrastructure=r.createUserScopedInfrastructure(e,t.storeName,s,t.storeTypeGuard),this.key=`graphene.${e}.${t.storeName}.${s}`}this.state$=this.quickMemoryInfrastructure.state$}}class p{getState(){return(0,s.z)(this.state$)}async set(e){try{await this.setWithoutPersist(e)}finally{await this.persist()}}async setWithoutPersist(e){let t;let r={data:e,timestamp:this.timeGetter()};this.localState$.next(r);try{return await this.infrastructure.set(r)}catch(e){if(t=Error(`Error setting store value - ${this.conf.storeName}: ${e instanceof Error?e.message:e}`,{cause:e}),this.logger.error(t),this.conf.persist)return this.infrastructure.clear();return Promise.reject(t)}}init(e){return this.localState$.next({data:e,timestamp:0}),Promise.resolve()}async clear(){this.localState$.next({timestamp:void 0}),await this.infrastructure.clear()}async clearStorage(){if(!this.storage)throw Error("Persisted stores should have storage");await this.storage.clear()}stop(){this.localState$.complete()}async update(e){let t=await this.getState();await this.set(e(t))}async load(){let e=await this.infrastructure.getState();if(e.timestamp){this.localState$.next(e);return}let{conf:t,codec:r,storage:s}=this;if(t.persist){if(!r||!s)throw Error("Persisted stores should have conf/storage");try{let e=await s.read()??t.storage.Definition.initialValue,i=await r.decode(e);await this.setWithoutPersist(i)}catch(e){if(this.logger.error(e),!t.isCache)throw e;await this.setWithoutPersist(await r.decode(t.storage.Definition.initialValue))}}}async persist(){let{conf:e,codec:t,storage:r}=this;if(!e.persist)return;if(!t||!r)throw Error("Persisted stores should have conf/storage");let s=await this.getState(),i=await t.encode(s);await r.write(i)}constructor(e,t,r,s,u,d,p){this.conf=t,this.logger=u,this.storage=d,this.codec=p,this.getLimit=()=>Promise.reject(Error("not implemented")),this.infrastructure=new l(e,t,r,s),this.timeGetter=()=>Date.now(),this.localState$=new i.X({timestamp:void 0}),this.mergedState$=(0,n.a)({infra:this.infrastructure.state$,current:this.localState$}).pipe((0,o.U)(({current:e,infra:t})=>t.timestamp&&(!e.timestamp||t.timestamp>e.timestamp)?t:e),(0,a.x)());let h=t.persist?void 0:t.initialValue;this.state$=this.mergedState$.pipe((0,c.h)(e=>!t.persist||!!e.timestamp),(0,o.U)(e=>e.data??h))}}},15623:function(e,t,r){r.d(t,{L:()=>c});var s=r(84408),i=r(76478),n=r(51721),o=r(82949),a=r(54313);class c{async start(){let e=new a.U({[o.G]:{type:"local",onMessage:(e,t)=>{if((0,n.K)(t)&&"queryName"in t&&"applicationStatus"===t.queryName)return this.status$;throw Error("Unknown request type",{cause:t})}}}).connect([],this.clientListener),t=await e.start();return{stop:async()=>{await t.stop()}}}ready(){this.status$.value.type!==i.e.LOADING&&this.logger?.warn(`[framework/background] Unexpected application state transition, expecting ${i.e.LOADING} got ${this.status$.value.type}`),this.logger?.info("[framework/background] Background is ready"),this.status$.next({type:i.e.READY})}failure(e){if(this.status$.value.type!==i.e.LOADING)throw Error(`Unexpected application state transition, expecting ${i.e.LOADING} got ${this.status$.value.type}`);this.logger?.error("Unexpected background failure",{error:e}),this.status$.next({type:i.e.FAILURE,error:e instanceof Error?e.message:"unexpected failure"})}constructor(e,t){this.clientListener=e,this.logger=t,this.status$=new s.X({type:i.e.LOADING})}}},82949:function(e,t,r){r.d(t,{G:()=>s});let s="applicationBackgroundStatus"},76478:function(e,t,r){r.d(t,{e:()=>i});var s,i=((s={}).LOADING="loading",s.FAILURE="failure",s.READY="ready",s)},78230:function(e,t,r){r.d(t,{R_:()=>i,_C:()=>n,ql:()=>s});class s{run(){return Promise.resolve()}isRunnable(){return!1}}class i{}class n extends i{constructor(e){super(),this.alarm$=e.createObservableTimer(6e4,6e4)}}},64103:function(e,t,r){r.d(t,{F:()=>i,p:()=>s});let s={Open:"open",Closed:"closed"};class i{async close(){for(;this.closeHooks.length>0;){let e=this.closeHooks.pop();e&&await e()}this.status=s.Closed,this.lifecycle.removeShutdownHook(this.onAppShutdown)}addCloseHook(e){this.closeHooks.push(e)}constructor(e){this.lifecycle=e,this.status=s.Open,this.onAppShutdown=()=>this.close(),this.closeHooks=[],e.addShutdownHook(this.onAppShutdown)}}},68798:function(e,t,r){r.d(t,{g:()=>p});var s=r(21636),i=r(57464),n=r(56144),o=r(56778),a=r(33221),c=r(306),u=r(61393),d=r(64103),l=r(74437);class p extends d.F{thisUserGotDeactivated(e){return([t,r])=>{if(!(0,c.d6)(t)||!(0,c.d6)(r))return!1;let s=(0,c.db)(t).userName,i=(0,c.db)(r).userName;return s===e&&void 0===i}}constructor(e,t,r){super(t),r.queries.activeUser().pipe((0,i.G)(),(0,n.h)(this.thisUserGotDeactivated(e)),(0,o.q)(1)).subscribe(()=>{this.close()})}}p=(0,s.gn)([(0,a.Injectable)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[String,void 0===l.d?Object:l.d,void 0===u.Q?Object:u.Q])],p)},1144:function(e,t,r){r.d(t,{R:()=>n});var s=r(46266),i=r(39523);class n extends(0,s.E)(i.Yu){}(0,s.K)(i.Yu,n)},39523:function(e,t,r){r.d(t,{L5:()=>o,Yu:()=>c,mf:()=>a});var s=r(66122),i=r(15021),n=r(36503);class o extends(0,s.g)({scope:i.F.Device}){}class a extends(0,s.g)({scope:i.F.Device}){}let c=(0,n.Q)({commands:{trackEvent:o,trackPageView:a},events:{},name:"analytics",queries:{}})},40153:function(e,t,r){r.d(t,{C:()=>n});var s=r(55466),i=r(15021);class n extends i.z{constructor(e){super(),(0,s._)(this,"body",void 0),this.body=e}}},15021:function(e,t,r){r.d(t,{F:()=>o,z:()=>n});var s,i=r(55466);class n{constructor(){(0,i._)(this,"_",void 0)}}var o=((s={}).User="user",s.Device="device",s)},66122:function(e,t,r){r.d(t,{A:()=>a,g:()=>o});var s=r(55466),i=r(40153),n=r(15021);let o=(e={scope:n.F.User})=>{var t;return t=class extends i.C{},(0,s._)(t,"metadata",e),t},a=(e={scope:n.F.User})=>{var t;return t=class extends i.C{},(0,s._)(t,"metadata",e),t}},45429:function(e,t,r){r.d(t,{k:()=>o});var s=r(55466),i=r(67074),n=r(15021);let o=(e={scope:n.F.User,useCache:!1})=>{var t;return t=class extends i.M{},(0,s._)(t,"metadata",e),t}},67074:function(e,t,r){r.d(t,{M:()=>n});var s=r(55466),i=r(15021);class n extends i.z{constructor(e){super(),(0,s._)(this,"body",void 0),this.body=e}}},32755:function(e,t,r){r.d(t,{b:()=>o,s:()=>n});var s,i,n=((s={}).Account="account",s.Authentication="authentication",s.DarkWebMonitoring="dark_web_monitoring",s.Groups="groups",s.ImportExport="import_export",s.ItemUsage="item_usage",s.TeamSettings="team_settings",s.TeamSettingsActiveDirectory="team_settings_activedirectory",s.TeamSettingsPolicies="team_settings_policies",s.TeamSettingsSAMLProvisioning="team_settings_samlprovisioning",s.TeamSettingsSIEM="team_settings_siem",s.TeamSettingsSCIM="team_settings_scim",s.TeamSettingsSSO="team_settings_sso",s.Sharing="sharing",s.UserSettings="user_settings",s.UserSettingsAccountRecovery="user_settings_accountrecovery",s.Users="users",s.VaultCollections="vault_collections",s.VaultIDs="vault_ids",s.VaultPasswords="vault_passwords",s.VaultPayments="vault_payments",s.VaultPersonalInfo="vault_personalinfo",s.VaultSecureNotes="vault_securenotes",s.TeamNudges="team_nudges",s.SecurityMonitoring="security_monitoring",s.RiskDetection="risk_detection",s),o=((i={}).UserInvited="user_invited",i.UserReinvited="user_reinvited",i.UserRemoved="user_removed",i.TeamCaptainAdded="team_captain_added",i.TeamCaptainRemoved="team_captain_removed",i.GroupManagerAdded="group_manager_added",i.GroupManagerRemoved="group_manager_removed",i.MasterPasswordResetAccepted="master_password_reset_accepted",i.MasterPasswordResetRefused="master_password_reset_refused",i.BillingAdminAdded="billing_admin_added",i.BillingAdminRemoved="billing_admin_removed",i.UserGroupCreated="user_group_created",i.UserGroupRenamed="user_group_renamed",i.UserGroupDeleted="user_group_deleted",i.UserJoinedUserGroup="user_joined_user_group",i.UserLeftUserGroup="user_left_user_group",i.UserInvitedToUserGroup="user_invited_to_user_group",i.UserDeclinedInviteToUserGroup="user_declined_invite_to_user_group",i.UserRemovedFromUserGroup="user_removed_from_user_group",i.DomainRequested="domain_requested",i.DomainValidated="domain_validated",i.SensitiveLogsEnabled="collect_sensitive_data_audit_logs_enabled",i.SensitiveLogsDisabled="collect_sensitive_data_audit_logs_disabled",i.SsoIdpMetadataSet="sso_idp_metadata_set",i.SsoServiceProviderUrlSet="sso_service_provider_url_set",i.SsoEnabled="sso_enabled",i.SsoDisabled="sso_disabled",i.NitroUserProvisioningActivated="nitro_user_provisioning_activated",i.NitroUserProvisioningDeactivated="nitro_user_provisioning_deactivated",i.NitroGroupProvisioningActivated="nitro_group_provisioning_activated",i.NitroGroupProvisioningDeactivated="nitro_group_provisioning_deactivated",i.NitroSiemActivated="nitro_siem_activated",i.NitroSiemDeactivated="nitro_siem_deactivated",i.NitroSiemEdited="nitro_siem_edited",i.NitroSsoDomainProvisioned="nitro_sso_domain_provisioned",i.NitroSsoDomainRemoved="nitro_sso_domain_removed",i.NitroSsoDomainVerified="nitro_sso_domain_verified",i.NitroSsoSetupStarted="nitro_sso_setup_started",i.TeamNameChanged="team_name_changed",i.NewBillingPeriodCreated="new_billing_period_created",i.SeatsAdded="seats_added",i.ContactEmailChanged="contact_email_changed",i.MasterPasswordMobileResetEnabled="master_password_mobile_reset_enabled",i.MasterPasswordMobileResetDisabled="master_password_mobile_reset_disabled",i.MasterPasswordMobileReset="master_password_mobile_reset",i.MasterPasswordChanged="master_password_changed",i.MpToViewPasswordsEnabled="mp_to_view_passwords_enabled",i.MpToViewPasswordsDisabled="mp_to_view_passwords_disabled",i.TwoFactorAuthenticationFailed="two_factor_authentication_failed",i.TwoFactorAuthenticationLoginMethodAdded="two_factor_authentication_login_method_added",i.TwoFactorAuthenticationLoginMethodRemoved="two_factor_authentication_login_method_removed",i.BiometricSignInDisabled="biometric_sign_in_disabled",i.DWMEmailAdded="dwm_email_added",i.DWMEmailRemoved="dwm_email_removed",i.DWMAlertReceived="dwm_alert_received",i.UserDeviceAdded="user_device_added",i.UserDeviceRemoved="user_device_removed",i.UserDeviceLogin="user_device_login",i.MasterPasswordReset="master_password_reset",i.RequestedAccountRecovery="requested_account_recovery",i.CompletedAccountRecovery="completed_account_recovery",i.UserSharedCredentialWithGroup="user_shared_credential_with_group",i.UserSharedCredentialWithEmail="user_shared_credential_with_email",i.UserSharedCredentialWithExternal="user_shared_credential_with_external",i.UserSharedSecureNoteWithGroup="user_shared_secure_note_with_group",i.UserSharedSecureNoteWithEmail="user_shared_secure_note_with_email",i.UserSharedSecureNoteWithExternal="user_shared_secure_note_with_external",i.UserRevokedSharedCredentialGroup="user_revoked_shared_credential_group",i.UserRevokedSharedCredentialEmail="user_revoked_shared_credential_email",i.UserRevokedSharedCredentialExternal="user_revoked_shared_credential_external",i.UserRevokedSharedSecureNoteGroup="user_revoked_shared_secure_note_group",i.UserRevokedSharedSecureNoteEmail="user_revoked_shared_secure_note_email",i.UserRevokedSharedSecureNoteExternal="user_revoked_shared_secure_note_external",i.UserAcceptedSharingInviteSecureNote="user_accepted_sharing_invite_secure_note",i.UserRejectedSharingInviteSecureNote="user_rejected_sharing_invite_secure_note",i.UserAcceptedSharingInviteCredential="user_accepted_sharing_invite_credential",i.UserRejectedSharingInviteCredential="user_rejected_sharing_invite_credential",i.UserAddedCredentialToCollection="user_added_credential_to_collection",i.UserCreatedCollection="user_created_collection",i.UserDeletedCollection="user_deleted_collection",i.UserImportedCollection="user_imported_collection",i.UserRemovedCredentialFromCollection="user_removed_credential_from_collection",i.UserRenamedCollection="user_renamed_collection",i.UserSharedCollectionWithUser="user_shared_collection_with_user",i.UserSharedCollectionWithGroup="user_shared_collection_with_usergroup",i.UserAcceptedCollection="user_accepted_collection_invite",i.UserRejectedCollection="user_rejected_collection_invite",i.UserAddedItemToCollection="user_added_credential_to_shared_collection",i.UserRemovedItemFromCollection="user_removed_credential_from_shared_collection",i.UserUpdatedGroupRoleInCollection="user_updated_collection_usergroup",i.UserUpdatedUserRoleInCollection="user_updated_collection_user",i.UserRenamedSharedCollection="user_renamed_shared_collection",i.UserRevokedGroupFromCollection="user_revoked_collection_usergroup",i.UserRevokedUserFromCollection="user_revoked_collection_user",i.UserCreatedCredential="user_created_credential",i.UserModifiedCredential="user_modified_credential",i.UserDeletedCredential="user_deleted_credential",i.UserImportedCredentials="user_imported_credentials",i.UserCreatedSecureNote="user_created_secure_note",i.UserModifiedSecureNote="user_modified_secure_note",i.UserDeletedSecureNote="user_deleted_secure_note",i.NudgeExecuted="nudge_executed",i.NudgeConfigured="nudge_configured",i.NitroIntegrationAppInstalled="nitro_integration_app_installed",i.NitroIntegrationAppUninstalled="nitro_integration_app_uninstalled",i.UserReceivedNudge="user_received_nudge",i.MassDeploymentConfigurationUpdated="mass_deployment_configuration_updated",i.UserTypedCompromisedPassword="user_typed_compromised_password",i.UserTypedWeakPassword="user_typed_weak_password",i.UserTypedPassword="user_typed_password",i.UserPerformedAutofillCredential="user_performed_autofill_credential",i.UserPerformedAutofillPayment="user_performed_autofill_payment",i.UserAuthenticatedWithPasskey="user_authenticated_with_passkey",i.UserRevealedCredentialField="user_revealed_credential_field",i.UserRevealedCreditCardField="user_revealed_credit_card_field",i.UserRevealedBankAccountField="user_revealed_bank_account_field",i.UserRevealedSecureNote="user_revealed_secure_note_field",i.UserRevealedSecret="user_revealed_secret_field",i.UserCopiedCredentialField="user_copied_credential_field",i.UserCopiedCreditCardField="user_copied_credit_card_field",i.UserCopiedBankAccountField="user_copied_bank_account_field",i.UserCopiedSecureNote="user_copied_secure_note_field",i.UserCopiedSecret="user_copied_secret_field",i.UserExcludedItemFromPasswordHealth="user_excluded_item_from_password_health",i.UserIncludedItemInPasswordHealth="user_included_item_in_password_health",i)},9810:function(e,t,r){r.d(t,{r:()=>i});var s,i=((s={}).SECURITY_ERROR="SECURITY_ERROR",s.INVALID_STATE_ERROR="INVALID_STATE_ERROR",s.ALGORITHM_NOT_SUPPORTED_ERROR="ALGORITHM_NOT_SUPPORTED_ERROR",s.PASSKEY_NOT_FOUND="PASSKEY_NOT_FOUND",s.PASSKEY_DECRYPTION_ERROR="PASSKEY_DECRYPTION_ERROR",s)},98037:function(e,t,r){r.d(t,{d:()=>o,l:()=>n});var s=r(55466),i=r(15021);class n{constructor(e){(0,s._)(this,"body",void 0),this.body=e}}let o=(e={scope:i.F.User})=>{var t;return t=class extends n{},(0,s._)(t,"metadata",e),t}},76592:function(e,t,r){r.d(t,{T:()=>n});var s=r(94130),i=r(24284);let n=(0,r(36503).Q)({name:"icons",commands:{fetchIconForDomain:i.F},events:{},queries:{getIconForDomain:s.el}})},24284:function(e,t,r){r.d(t,{F:()=>n});var s=r(66122),i=r(15021);class n extends(0,s.g)({scope:i.F.Device}){}},94130:function(e,t,r){r.d(t,{Ct:()=>a,el:()=>u,xF:()=>c});var s,i=r(96272),n=r(45429),o=r(15021),a=((s={}).NotFound="notFound",s);let c=(0,i.Vj)("notFound","Icon not found");class u extends(0,n.k)({scope:o.F.User,useCache:!0}){}},39960:function(e,t,r){r.r(t),r.d(t,{AnomalyTypeValues:()=>g._F,ExceptionLoggingClient:()=>y.G,ExceptionOriginValues:()=>g.KR,analyticsApi:()=>n.Yu,defineEvent:()=>F.d,isThemeName:()=>Q.u,QueryMessage:()=>c.M,FetchIconForDomainCommand:()=>k.F,UserFeatureFlipsQuery:()=>T.r6,GetIconForDomainQuery:()=>V.el,FilterOperationName:()=>u,FeatureFlipsClient:()=>w.P,GetThemeQuery:()=>B.n,SetActiveUserCommand:()=>b.r$,fileDownloadApi:()=>x.L,RefreshAvailableLabsCommand:()=>T._x,PlatformInfoQuery:()=>U.a,FileUploadClient:()=>_,TrackPageViewCommand:()=>n.mf,UserAvailableLabsQuery:()=>T._l,defineQuery:()=>h.k,GetIconForDomainQueryErrorTypes:()=>V.Ct,UseCaseScope:()=>l.F,KillSwitchClient:()=>L.i,killSwitchApi:()=>N.m,defineModuleApi:()=>f.Q,SetThemeCommand:()=>$.B,CommandMessage:()=>a.C,EMPTY_QUERY_RESULT:()=>d,TrackEventCommand:()=>n.L5,EventMessage:()=>F.l,GetKillSwitchQuery:()=>M.K,ActiveUserQuery:()=>b.p,requestContextApi:()=>b.t$,AnalyticsClient:()=>o.R,PasskeyServiceErrorCode:()=>z.r,ActiveUserSetEvent:()=>b.W_,fileUploadApi:()=>C.a,platformInfoApi:()=>U.J,NullModuleApi:()=>E.w,UserFeatureFlipQuery:()=>T.fV,createGetIconForDomainQueryNotFoundError:()=>V.xF,AuditLogType:()=>G.b,ToggleLabCommand:()=>T.YM,AuditLogCategory:()=>G.s,defineModuleClient:()=>S.E,AnomalyCriticalityValues:()=>g.h_,webServicesApi:()=>j.Dm,ApplicationBuildType:()=>I.P,UISettingsFeatureFlips:()=>Q.H,WebServicesClient:()=>O,FileUploadedEvent:()=>R.W,featureFlipsApi:()=>T.cV,PlatformInfoClient:()=>P.c,EditSettingsForStagingCommand:()=>j.bH,EnableExceptionLogCommand:()=>v.w,KillSwitches:()=>H.v,RequestContextClient:()=>D.Q,exceptionLoggingApi:()=>m.P,registerModuleClient:()=>S.K,uiSettingsApi:()=>K.Z,ReportAnomalyCommand:()=>g.SU,defineCommand:()=>p.g,iconsApi:()=>q.T,FileDownloadClient:()=>A,SettingsForStagingQuery:()=>j.Lt,defineCarbonCommand:()=>p.A,InvalidAuditLogError:()=>W});var s,i,n=r(39523),o=r(1144),a=r(40153),c=r(67074),u=((s={}).Equals="equals",s.Differs="differs",s.Matches="matches",s.In="in",s.Contains="contains",s);let d={items:[],itemCount:0,page:1,pageCount:1};var l=r(15021),p=r(66122),h=r(45429),m=r(85813),y=r(58060),g=r(74019),v=r(86945),f=r(36503),E=r(63062),b=r(79662),S=r(46266),T=r(73500),w=r(21039),x=r(11856);class A extends(0,S.E)(x.L){}(0,S.K)(x.L,A);var C=r(93906);class _ extends(0,S.E)(C.a){}(0,S.K)(C.a,_);var R=r(72151),D=r(61393),F=r(98037),U=r(2401),P=r(79374),I=r(544),j=r(13017);class O extends(0,S.E)(j.Dm){}(0,S.K)(j.Dm,O);var q=r(76592),k=r(24284),V=r(94130),N=r(10743),L=r(25933),M=r(83026),H=r(13598),G=r(32755),W=((i={}).AUDIT_LOG_MISSING_JSON_SCHEMA="AUDIT_LOG_MISSING_JSON_SCHEMA",i.AUDIT_LOG_INVALID_JSON_FOR_JSON_SCHEMA="AUDIT_LOG_INVALID_JSON_FOR_JSON_SCHEMA",i.AUDIT_LOG_INVALID_LOG_SCHEMA_TYPE_OR_VERSION="AUDIT_LOG_INVALID_LOG_SCHEMA_TYPE_OR_VERSION",i.AUDIT_LOG_ERROR_READING_JSON_SCHEMA="AUDIT_LOG_ERROR_READING_JSON_SCHEMA",i.STORING_SENSITIVE_AUDIT_LOGS_NOT_ALLOWED="STORING_SENSITIVE_AUDIT_LOGS_NOT_ALLOWED",i.AUDIT_LOG_TYPE_NOT_CLIENT_SIDE="AUDIT_LOG_TYPE_NOT_CLIENT_SIDE",i.AUDIT_LOG_TYPE_NOT_ALLOWED_FOR_MASS_DEPLOYMENT_TEAM_KEY_AUTH="AUDIT_LOG_TYPE_NOT_ALLOWED_FOR_MASS_DEPLOYMENT_TEAM_KEY_AUTH",i.AUDIT_LOG_TYPE_NOT_ALLOWED_WITH_CREDENTIAL_RISK_DETECTION_DISABLED="AUDIT_LOG_TYPE_NOT_ALLOWED_WITH_CREDENTIAL_RISK_DETECTION_DISABLED",i.AUDIT_LOG_TYPE_NOT_TEAM_DEVICE_OR_CLIENT_SIDE="AUDIT_LOG_TYPE_NOT_TEAM_DEVICE_OR_CLIENT_SIDE",i.AUDIT_LOG_MISSING_CATEGORY_TO_LOG_TYPE_MAPPING="AUDIT_LOG_MISSING_CATEGORY_TO_LOG_TYPE_MAPPING",i.AUDIT_LOG_STORE_INTERNAL_ERROR="AUDIT_LOG_STORE_INTERNAL_ERROR",i),z=r(9810),K=r(83114),$=r(82532),B=r(98837),Q=r(27714)},10743:function(e,t,r){r.d(t,{m:()=>n});var s=r(36503),i=r(83026);let n=(0,s.Q)({name:"killSwitch",commands:{},events:{},queries:{getKillSwitch:i.K}})},25933:function(e,t,r){r.d(t,{i:()=>n});var s=r(10743),i=r(46266);class n extends(0,i.E)(s.m){}(0,i.K)(s.m,n)},83026:function(e,t,r){r.d(t,{K:()=>n});var s=r(45429),i=r(15021);class n extends(0,s.k)({scope:i.F.Device,useCache:!0}){}},13598:function(e,t,r){r.d(t,{v:()=>i});var s,i=((s={}).DisableMLAntiPhishing="disableMLAntiPhishing",s.DisableAutofill="disableAutofill",s.BrazeContentCardsDisabled="brazeContentCardsDisabled",s.DisableLoginFlowMigration="disableLoginFlowMigration",s.DisableAutoSSOLogin="disableAutoSSOLogin",s.DisablePhishingResistance="disablePhishingResistance",s)},85813:function(e,t,r){r.d(t,{P:()=>n});var s=r(74019),i=r(86945);let n=(0,r(36503).Q)({name:"exceptionLogging",commands:{reportAnomaly:s.SU,enableExceptionLog:i.w},events:{},queries:{}})},58060:function(e,t,r){r.d(t,{G:()=>n});var s=r(85813),i=r(46266);class n extends(0,i.E)(s.P){}(0,i.K)(s.P,n)},86945:function(e,t,r){r.d(t,{w:()=>n});var s=r(66122),i=r(15021);class n extends(0,s.g)({scope:i.F.Device}){}},74019:function(e,t,r){r.d(t,{KR:()=>a,SU:()=>c,_F:()=>o,h_:()=>n});var s=r(66122),i=r(15021);let n=Object.freeze({WARNING:"warning",CRITICAL:"critical"}),o=Object.freeze({EXCEPTION:"exception",OTHER:"other"}),a=Object.freeze({EXCEPTION_BOUNDARY:"exceptionBoundary",UNHANDLED_PROMISE_REJECTION:"unhandledPromiseRejection",UNCAUGHT_EXCEPTION:"uncaughtException"});class c extends(0,s.g)({scope:i.F.Device}){}},73500:function(e,t,r){r.d(t,{YM:()=>l,_l:()=>c,_x:()=>d,cV:()=>p,fV:()=>u,r6:()=>a});var s=r(36503),i=r(45429),n=r(15021),o=r(66122);class a extends(0,i.k)({scope:n.F.User,useCache:!0,noUserErrorOverrideEnabled:!0}){}class c extends(0,i.k)({scope:n.F.User}){}class u extends(0,i.k)({scope:n.F.User,useCache:!0}){}class d extends(0,o.g)({scope:n.F.User}){}class l extends(0,o.g)({scope:n.F.User}){}let p=(0,s.Q)({events:{},name:"featureFlips",queries:{userFeatureFlips:a,userFeatureFlip:u,userAvailableLabs:c},commands:{refreshAvailableLabs:d,toggleLab:l}})},21039:function(e,t,r){r.d(t,{P:()=>n});var s=r(46266),i=r(73500);class n extends(0,s.E)(i.cV){}(0,s.K)(i.cV,n)},11856:function(e,t,r){r.d(t,{L:()=>s});let s=(0,r(36503).Q)({events:{},name:"file-download",queries:{},commands:{}})},93906:function(e,t,r){r.d(t,{a:()=>i});var s=r(72151);let i=(0,r(36503).Q)({name:"file-upload",events:{fileUploaded:s.W},queries:{},commands:{}})},72151:function(e,t,r){r.d(t,{W:()=>n});var s=r(98037),i=r(15021);class n extends(0,s.d)({scope:i.F.User}){}},46266:function(e,t,r){r.d(t,{E:()=>i,K:()=>n});var s=r(55466);function i(e){var t;return t=class{get commands(){throw Error("Not implemented")}get queries(){throw Error("Not implemented")}},(0,s._)(t,"api",e),t}function n(e,t){e.ClientClass=t}},36503:function(e,t,r){r.d(t,{Q:()=>s});let s=e=>({name:e.name,commands:e.commands,queries:e.queries,events:e.events})},79662:function(e,t,r){r.d(t,{W_:()=>d,p:()=>c,r$:()=>u,t$:()=>l});var s=r(36503),i=r(45429),n=r(15021),o=r(66122),a=r(98037);class c extends(0,i.k)({scope:n.F.Device,useCache:!0}){}class u extends(0,o.g)({scope:n.F.Device}){}class d extends(0,a.d)({scope:n.F.User}){}let l=(0,s.Q)({commands:{setActiveUser:u},events:{activeUserSet:d},name:"requestContext",queries:{activeUser:c}})},61393:function(e,t,r){r.d(t,{Q:()=>n});var s=r(46266),i=r(79662);class n extends(0,s.E)(i.t$){}(0,s.K)(i.t$,n)},63062:function(e,t,r){r.d(t,{w:()=>s});let s={name:"api",commands:{},events:{},queries:{}}},2401:function(e,t,r){r.d(t,{J:()=>a,a:()=>o});var s=r(45429),i=r(15021),n=r(36503);class o extends(0,s.k)({scope:i.F.Device,useCache:!0}){}let a=(0,n.Q)({name:"platformInfo",commands:{},events:{},queries:{platformInfo:o}})},79374:function(e,t,r){r.d(t,{c:()=>n});var s=r(2401),i=r(46266);class n extends(0,i.E)(s.J){}(0,i.K)(s.J,n)},544:function(e,t,r){r.d(t,{P:()=>i});var s,i=((s={}).DEV="DEV",s.QA="QA",s.NIGHTLY="NIGHTLY",s.BETA="BETA",s.PRODUCTION="PRODUCTION",s)},83114:function(e,t,r){r.d(t,{Z:()=>n});var s=r(82532),i=r(98837);let n=(0,r(36503).Q)({name:"uiSettings",commands:{setTheme:s.B},events:{},queries:{getTheme:i.n}})},82532:function(e,t,r){r.d(t,{B:()=>n});var s=r(66122),i=r(15021);class n extends(0,s.g)({scope:i.F.Device}){}},98837:function(e,t,r){r.d(t,{n:()=>n});var s=r(45429),i=r(15021);class n extends(0,s.k)({scope:i.F.Device,useCache:!0}){}},27714:function(e,t,r){r.d(t,{H:()=>n,u:()=>s});let s=e=>"string"==typeof e&&["light","dark","debug","system"].includes(e);var i,n=((i={}).DebugTheme="web_settings_appearance_debug_theme",i)},13017:function(e,t,r){r.d(t,{Dm:()=>u,Lt:()=>a,bH:()=>c});var s=r(45429),i=r(15021),n=r(66122),o=r(36503);class a extends(0,s.k)({scope:i.F.Device}){}class c extends(0,n.g)({scope:i.F.Device}){}let u=(0,o.Q)({commands:{editSettingsForStaging:c},events:{},name:"webServices",queries:{settingsForStaging:a}})},36703:function(e,t,r){r.d(t,{I:()=>g});var s=r(21636),i=r(39523),n=r(48035),o=r(37368),a=r(306),c=r(61226),u=r(49247),d=r(94190),l=r(51721);let p=e=>(0,l.K)(e.error)&&"result"in e.error?e.error.result:null;class h{async trackEvent(e){let{carbon:t}=this.carbonLegacyClient.commands,r=await t({name:"logEvent",args:[{event:e}]});if((0,a.hx)(r)){let e=(0,a.Yv)(r);if(p((0,a.Yv)(r))!==c.O.NoBatchesSent)throw Error("TrackEvent from carbon failed",{cause:e})}}async trackPageView(e,t){let{carbon:r}=this.carbonLegacyClient.commands,s=await r({name:"logPageView",args:[{pageView:e,browseComponent:t}]});if((0,a.hx)(s)){let e=(0,a.Yv)(s);if(p((0,a.Yv)(s))!==c.O.NoBatchesSent)throw Error("TrackPageView from carbon failed",{cause:e})}}constructor(e){this.carbonLegacyClient=e}}h=(0,s.gn)([(0,d.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===u._?Object:u._])],h);class m{async execute({body:{event:e}}){return await this.analyticsService.trackEvent(e),(0,a.Vp)(void 0)}constructor(e){this.analyticsService=e}}m=(0,s.gn)([(0,o.W)(i.L5),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===h?Object:h])],m);class y{async execute({body:{pageView:e,browseComponent:t}}){return await this.analyticsService.trackPageView(e,t),(0,a.Vp)(void 0)}constructor(e){this.analyticsService=e}}y=(0,s.gn)([(0,o.W)(i.mf),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===h?Object:h])],y);class g{}g=(0,s.gn)([(0,n.Y)({api:i.Yu,providers:[h],handlers:{commands:{trackEvent:m,trackPageView:y},events:{},queries:{}},domainName:"framework"})],g)},16747:function(e,t,r){r.d(t,{y:()=>o});var s=r(21636),i=r(94190),n=r(64745);class o{async derive(e,t,r){let{deriveKeyArgon2d:s}=this.config.crypto;return await s(e,t,r)}constructor(e){this.config=e}}o=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.i?Object:n.i])],o)},64745:function(e,t,r){r.d(t,{i:()=>n});var s=r(21636),i=r(94190);class n{constructor(e){this.crypto=e}}new(n=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",["undefined"==typeof CryptoPrimitives?Object:CryptoPrimitives])],n))({computeHash:()=>Promise.resolve(new ArrayBuffer(32)),decryptAes256:(e,t,r)=>Promise.resolve(r),deriveKeyArgon2d:()=>Promise.resolve(new ArrayBuffer(32)),deriveKeyPbkdf2:()=>Promise.resolve(new ArrayBuffer(32)),encryptAes256:(e,t,r)=>Promise.resolve(r),generateKeyAes256:()=>Promise.resolve(new ArrayBuffer(32)),generateKeyPairRsaOaep:()=>Promise.resolve({privateKey:new ArrayBuffer(32),publicKey:new ArrayBuffer(32)}),getRandomValues:e=>new Uint8Array(e),signHmacSha:()=>Promise.resolve(new ArrayBuffer(32)),unsafeComputeMd5Hash:()=>new ArrayBuffer(1),verifyHmacSha:()=>Promise.resolve(!0),decryptRsaOaep:function(e,t){return Promise.resolve(t)},encryptRsaOaep:function(e,t){return Promise.resolve(t)},signRsassaPkcs1:function(e,t){return Promise.resolve(t)},verifyRsassaPkcs1:()=>Promise.resolve(!0)})},87253:function(e,t,r){r.d(t,{D:()=>z});var s=r(21636),i=r(48035),n=r(16747),o=r(64745),a=r(94889),c=r(16620),u=r(17721),d=r(55559),l=r(6307),p=r(76217),h=r(63654),m=r(92570),y=r(15392),g=r(63505),v=r(75830),f=r(91073),E=r(74147),b=r(21193),S=r(88355),T=r(92503),w=r(94846),x=r(94588),A=r(94190),C=r(90385),_=r(91012);let R="flexible";var D=r(59387);let F="KWC3";var U=r(31636),P=r(10860),I=r(38612),j=r(14006),O=r(49);let q={type:F,derivation:j.Yi,cipher:O.No};var k=r(83473);async function V(e,t,r,s,i,n){let o=(0,I.K)(t,n.slice(0,8)),a=o,c=new ArrayBuffer(0);for(let t=0;t<r;t++){let t=await e(a,"SHA-1");c=(0,I.K)(c,t),a=(0,I.K)(t,o)}return Promise.resolve(c.slice(i,i+s))}async function N(e,t,r,s){let i=function(e){let t=function({transportableData:e,marker:t}){let{derivation:r,type:s}=t,{saltLength:i}=r,n=0+i+s.length;return{salt:e.slice(0,0+i),encipheredContents:e.slice(n)}}({transportableData:e,marker:q});return{salt:t.salt,type:F,encipheredContents:t.encipheredContents,derivationConfig:j.Yi,cipherConfig:O.No}}(s),{deriveKeyPbkdf2:n}=t,{derivationConfig:o,salt:a}=i,c=await (0,k.E)(n,r,o,e,a),{computeHash:u}=t,{cipherConfig:{ivLength:d,bytesToKey:{iterations:l,keyLength:p}}}=i,h=await V(u,c,l,d,p,a),{decryptAes256:m}=t,{encipheredContents:y}=i;return m(c,h,y)}var L=r(30441);async function M(e,t,r,s){let i=function(e){let t=function(e){let t=e.slice(32,36),r=(0,_.v)(t);if([F,U.PD].includes(r))return r}(e);return t||(!function(e){let t=new Uint8Array(e).slice(0,1);return(0,_.v)(t.buffer)===D.F}(e)?void 0:R)}(s);if(!i)throw Error("Cannot find marker type");switch(i){case F:return await N(e,t,r,s);case U.PD:return await (0,L.I)(e,t,s);case R:return(0,P.F)(e,t,r,s);default:(0,C.U)(i)}}class H{decrypt(e,t){return M(e,this.config.crypto,this.derivationCache,t)}constructor(e,t){this.config=e,this.derivationCache=t}}H=(0,s.gn)([(0,A.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o.i?Object:o.i,void 0===a.E?Object:a.E])],H);var G=r(53017),W=r(98652);class z{static configure(e){return{module:z,configurations:{infrastructure:e}}}}z=(0,s.gn)([(0,i.Y)({sharedModuleName:"cryptography",configurations:{infrastructure:{token:o.i}},providers:[n.y,a.E,c.a,u._,G.y,d.q,l.a,p.c,h.$,m.o,y.k,g.n,v.F,x.Y,f.g,E.H,b.e,S.k,W.u,T.Z,H,w.f],exports:[n.y,a.E,c.a,u._,G.y,d.q,l.a,p.c,h.$,m.o,y.k,g.n,v.F,x.Y,f.g,E.H,b.e,S.k,W.u,T.Z,H,w.f],domainName:"framework"})],z)},94889:function(e,t,r){r.d(t,{E:()=>u});var s=r(21636),i=r(94190),n=r(55466),o=r(38612),a=r(83267);class c{getCacheKey(...e){let t=e.reduce((e,t)=>(0,o.K)(e,t),new ArrayBuffer(0));return(0,a.s)(t)}getCachedDerivation(e){return this.derivateKeyCache.get(e)}setCachedDerivation({cacheKey:e,data:t}){this.getCachedDerivation(e)||this.derivateKeyCache.set(e,t)}constructor(){(0,n._)(this,"derivateKeyCache",void 0),this.derivateKeyCache=new Map}}class u extends c{}u=(0,s.gn)([(0,i.GS)()],u)},16620:function(e,t,r){r.d(t,{a:()=>c});var s=r(21636),i=r(94190),n=r(10860),o=r(64745),a=r(94889);class c{decrypt(e,t){return(0,n.F)(e,this.config.crypto,this.derivationCache,t)}constructor(e,t){this.config=e,this.derivationCache=t}}c=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o.i?Object:o.i,void 0===a.E?Object:a.E])],c)},17721:function(e,t,r){r.d(t,{_:()=>f});var s=r(21636),i=r(94190),n=r(38612),o=r(26627),a=r(13203),c=r(60083),u=r(90385),d=r(87169),l=r(59387),p=r(47001),h=r(14006);function m(e){let t=l.F+e.join(l.F)+l.F;return(0,d.u)(t)}async function y(e,t,r,s,i,d,y){let{algorithm:g}=r,v="pbkdf2"===g||"argon2d"===g;if(v&&!y?.salt)throw Error("Need salt for derivation");let{deriveKeyArgon2d:f,deriveKeyPbkdf2:E}=t,b=v&&y?.salt?await (0,c.b)(e,y.salt,E,f,r,s):e,{mode:S}=i,{computeHash:T}=t,{encryptionKey:w,signatureKey:x}="cbchmac64"===S?await (0,o.U)(b):await (0,a.Y)(b,T),{getRandomValues:A}=t,C=A(i.ivLength),{encryptAes256:_}=t,R=await _(w,C,d),{signHmacSha:D}=t,F=(0,n.K)(C,R),U=await D(x,F);return function(e){let{encipheredContents:t,cipherConfig:r,derivationConfig:s,salt:i,signature:o,iv:a}=e;if((i?.byteLength??0)!==(0,h.m9)(s))throw Error(`Salt length ${i?.byteLength??0} does not match derivation algorithm ${s.algorithm} expectation`);let c=function({cipher:e,derivation:t}){let{algorithm:r}=t;switch(r){case"argon2d":return function({cipher:e,derivation:t}){let{count:r,index:s}=p.bn,i=Array(r);return i[s.version]=l.g,i[s.derivation]=t.algorithm,i[s.saltLength]=t.saltLength,i[s.tCost]=t.tCost,i[s.mCost]=t.mCost,i[s.parallelism]=t.parallelism,i[s.cipher]=e.algorithm,i[s.mode]=e.mode,i[s.ivLength]=e.ivLength,m(i)}({cipher:e,derivation:t});case"pbkdf2":return function({cipher:e,derivation:t}){let{count:r,index:s}=p.jv,i=Array(r);return i[s.version]=l.g,i[s.derivation]=t.algorithm,i[s.saltLength]=t.saltLength,i[s.iterations]=t.iterations,i[s.hashAlgorithm]=t.hashAlgorithm,i[s.cipher]=e.algorithm,i[s.mode]=e.mode,i[s.ivLength]=e.ivLength,m(i)}({cipher:e,derivation:t});case"noderivation":return function({cipher:e,derivation:t}){let{count:r,index:s}=p.J_,i=Array(r);return i[s.version]=l.g,i[s.derivation]=t.algorithm,i[s.cipher]=e.algorithm,i[s.mode]=e.mode,i[s.ivLength]=e.ivLength,m(i)}({cipher:e,derivation:t});default:(0,u.U)(r)}}({cipher:r,derivation:s});return i&&"noderivation"!==s.algorithm?(0,n.K)(c,i,a,o,t):(0,n.K)(c,a,o,t)}({type:"flexible",version:1,derivationConfig:r,cipherConfig:i,salt:y?.salt,iv:C,signature:U,encipheredContents:R})}var g=r(64745),v=r(94889);class f{async encrypt(e,t,r,s,i){return await y(e,this.config.crypto,r,this.derivationCache,s,t,i)}constructor(e,t){this.config=e,this.derivationCache=t}}f=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===g.i?Object:g.i,void 0===v.E?Object:v.E])],f)},53017:function(e,t,r){r.d(t,{y:()=>u});var s=r(21636),i=r(94190),n=r(10860);async function o(e,t,r,s){let{verifyHmacSha:i}=t,{signatureKey:o,signature:a,dataToSign:c}=await (0,n.V)(e,t,r,s);return i(o,a,c)}var a=r(64745),c=r(94889);class u{verifySignature(e,t){return o(e,this.config.crypto,this.derivationCache,t)}constructor(e,t){this.config=e,this.derivationCache=t}}u=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===a.i?Object:a.i,void 0===c.E?Object:c.E])],u)},55559:function(e,t,r){r.d(t,{q:()=>a});var s=r(21636),i=r(94190),n=r(47951),o=r(64745);class a{async sign(e,t,r=n.x){let{signHmacSha:s}=this.config.crypto;return await s(e,t,r)}constructor(e){this.config=e}}a=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o.i?Object:o.i])],a)},6307:function(e,t,r){r.d(t,{a:()=>a});var s=r(21636),i=r(94190),n=r(47951),o=r(64745);class a{async verify(e,t,r,s=n.x){let{verifyHmacSha:i}=this.config.crypto;return await i(e,t,r,s)}constructor(e){this.config=e}}a=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o.i?Object:o.i])],a)},76217:function(e,t,r){r.d(t,{c:()=>o});var s=r(21636),i=r(94190),n=r(64745);class o{generate(){let{generateKeyAes256:e}=this.config.crypto;return e()}constructor(e){this.config=e}}o=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.i?Object:n.i])],o)},63654:function(e,t,r){r.d(t,{$:()=>a});var s=r(21636),i=r(94190),n=r(30441),o=r(64745);class a{decrypt(e,t){return(0,n.I)(e,this.config.crypto,t)}constructor(e){this.config=e}}a=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o.i?Object:o.i])],a)},92570:function(e,t,r){r.d(t,{o:()=>h});var s=r(21636),i=r(94190),n=r(49),o=r(38612),a=r(87169),c=r(31636),u=r(13203);async function d(e,t,r,s,i,n){let{computeHash:d}=t,{encryptionKey:l,signatureKey:p}=await (0,u.Y)(e,d),{getRandomValues:h}=t,{ivLength:m}=s,y=h(m),{encryptAes256:g}=t,v=await g(l,y,i),{signHmacSha:f}=t,E=(0,o.K)(y,v),b=await f(p,E),{padding:S}=n;return function({secureData:e,randomValues:t}){if(t.byteLength!==c.en)throw Error("Encoding kwc5 requires 16 random bytes");let{encipheredContents:r,iv:s,type:i,signature:n}=e,u=(0,a.u)(i);return(0,o.K)(s,t,u,n,r)}({secureData:{type:"KWC5",derivationConfig:r,cipherConfig:s,iv:y,signature:b,encipheredContents:v},randomValues:S})}var l=r(14006),p=r(64745);class h{encrypt(e,t){let{getRandomValues:r}=this.config.crypto,s={padding:r(n.BU.padding)};return d(e,this.config.crypto,l.oo,n.BU,t,s)}constructor(e){this.config=e}}h=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===p.i?Object:p.i])],h)},38038:function(e,t,r){r.d(t,{S:()=>s});function s(){return new Uint32Array([0x373cb41,0x3a424f4a,0x772a46c6,0xca17a1e3,0xe97f62ff,0xfbd938,0xb475fc2c,0xc0dace68,0x9d8e1a8f,0x54a5168c,0x3b841f6b,0xa1311285,0x3c4691ca,0x311b74d1,0x2f2591eb,0xea341fa4]).buffer}},15392:function(e,t,r){r.d(t,{k:()=>a});var s=r(21636),i=r(94190),n=r(16620),o=r(38038);class a{async decrypt(e){let t=(0,o.S)();return await this.flexibleDecryptor.decrypt(t,e)}constructor(e){this.flexibleDecryptor=e}}a=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.a?Object:n.a])],a)},63505:function(e,t,r){r.d(t,{n:()=>c});var s=r(21636),i=r(94190),n=r(91012),o=r(15392),a=r(75830);class c{async encode(e){return await this.obfuscationKeyEncryptor.encrypt(e)}async decode(e){return(0,n.v)(e).startsWith("$1$noderivation$aes256$cbchmac64$16$")?await this.obfuscationKeyDecryptor.decrypt(e):e}constructor(e,t){this.obfuscationKeyDecryptor=e,this.obfuscationKeyEncryptor=t}}c=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o.k?Object:o.k,void 0===a.F?Object:a.F])],c)},75830:function(e,t,r){r.d(t,{F:()=>u});var s=r(21636),i=r(94190),n=r(14006),o=r(49),a=r(17721),c=r(38038);class u{async encrypt(e){let t=(0,c.S)();return await this.flexibleEncryptor.encrypt(t,e,n.oo,o.gO)}constructor(e){this.flexibleEncryptor=e}}u=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===a._?Object:a._])],u)},94588:function(e,t,r){r.d(t,{Y:()=>o});var s=r(21636),i=r(94190),n=r(64745);class o{get(e){let{getRandomValues:t}=this.config.crypto;return t(e).buffer}constructor(e){this.config=e}}o=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.i?Object:n.i])],o)},91073:function(e,t,r){r.d(t,{g:()=>o});var s=r(21636),i=r(94190),n=r(64745);class o{decrypt(e,t,r="SHA-256"){let{decryptRsaOaep:s}=this.config.crypto;return s(e,t,r)}constructor(e){this.config=e}}o=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.i?Object:n.i])],o)},74147:function(e,t,r){r.d(t,{H:()=>o});var s=r(21636),i=r(94190),n=r(64745);class o{encrypt(e,t,r="SHA-256"){let{encryptRsaOaep:s}=this.config.crypto;return s(e,t,r)}constructor(e){this.config=e}}o=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.i?Object:n.i])],o)},21193:function(e,t,r){r.d(t,{e:()=>o});var s=r(21636),i=r(94190),n=r(64745);class o{generate(e="SHA-256"){let{generateKeyPairRsaOaep:t}=this.config.crypto;return t(e)}constructor(e){this.config=e}}o=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.i?Object:n.i])],o)},88355:function(e,t,r){r.d(t,{k:()=>o});var s=r(21636),i=r(94190),n=r(64745);class o{async sign(e,t,r="SHA-256"){let{signRsassaPkcs1:s}=this.config.crypto;return await s(e,t,r)}constructor(e){this.config=e}}o=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.i?Object:n.i])],o)},98652:function(e,t,r){r.d(t,{u:()=>a});var s=r(21636),i=r(94190),n=r(53540),o=r(64745);class a{async verify(e,t,r,s=n.Tt){let{verifyRsassaPkcs1:i}=this.config.crypto;return await i(e,t,r,s)}constructor(e){this.config=e}}a=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o.i?Object:o.i])],a)},92503:function(e,t,r){r.d(t,{Z:()=>o});var s=r(21636),i=r(94190),n=r(64745);class o{async compute(e,t){let{computeHash:r}=this.config.crypto;return await r(e,t)}constructor(e){this.config=e}}o=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.i?Object:n.i])],o)},94846:function(e,t,r){r.d(t,{f:()=>o});var s=r(21636),i=r(94190),n=r(64745);class o{compute(e){let{unsafeComputeMd5Hash:t}=this.config.crypto;return t(e)}constructor(e){this.config=e}}o=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.i?Object:n.i])],o)},94680:function(e,t,r){r.d(t,{l:()=>v});var s=r(21636),i=r(94190),n=r(33031),o=r(39408),a=r(20136),c=r(77359),u=r(5528),d=r(67404),l=r(88629),p=r(27852),h=r(55465),m=r(96725),y=r(39386),g=r(99805);class v{get enclaveUrl(){return this.enclaveApiSettings.enclaveUrl}get auditLogs(){return this.auditLogsService}get auditLogsMassDeployment(){return this.auditLogsMassDeploymentService}get authentication(){return this.authenticationService}get domains(){return this.domainsService}get passkeys(){return this.passkeysService}get idps(){return this.idpsService}get scim(){return this.scimService}get siem(){return this.siemService}get slack(){return this.slackService}get teams(){return this.teamService}get uvvs(){return this.uvvsService}constructor(e,t,r,s,i,n,o,a,c,u,d,l){this.auditLogsService=e,this.auditLogsMassDeploymentService=t,this.authenticationService=r,this.domainsService=s,this.idpsService=i,this.passkeysService=n,this.scimService=o,this.siemService=a,this.slackService=c,this.teamService=u,this.enclaveApiSettings=d,this.uvvsService=l}}v=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===a.Z?Object:a.Z,void 0===c.A?Object:c.A,void 0===u.$?Object:u.$,void 0===d.t?Object:d.t,void 0===l.L?Object:l.L,void 0===p.n?Object:p.n,void 0===h.b?Object:h.b,void 0===m.L?Object:m.L,void 0===y.v?Object:y.v,void 0===g.U?Object:g.U,void 0===n.N6?Object:n.N6,void 0===o.B?Object:o.B])],v)},33031:function(e,t,r){r.d(t,{$m:()=>n,Ep:()=>i,N6:()=>s});class s{constructor(e,t,r,s,i){this.appKeys=e,this.cloudflareHeaders=t,this.enclaveUrl=r,this.enclaveProxyUrl=s,this.environment=i}}let i=e=>"local"===e?"MIICqzCCAjKgAwIBAgIUGdKnU0kGWeXtXL7BK1VpIbnjXZkwCgYIKoZIzj0EAwMwgYQxCzAJBgNVBAYTAkZSMQ8wDQYDVQQIDAZGcmFuY2UxDjAMBgNVBAcMBVBhcmlzMQswCQYDVQQKDAJETDELMAkGA1UECwwCREwxFjAUBgNVBAMMDU5pdHJvIFRlc3QgQ0ExIjAgBgkqhkiG9w0BCQEWE3NlcnZlckBkYXNobGFuZS5jb20wHhcNMjIwNDI3MTI0NTQ5WhcNNDIwNDIyMTI0NTQ5WjCBhDELMAkGA1UEBhMCRlIxDzANBgNVBAgMBkZyYW5jZTEOMAwGA1UEBwwFUGFyaXMxCzAJBgNVBAoMAkRMMQswCQYDVQQLDAJETDEWMBQGA1UEAwwNTml0cm8gVGVzdCBDQTEiMCAGCSqGSIb3DQEJARYTc2VydmVyQGRhc2hsYW5lLmNvbTB2MBAGByqGSM49AgEGBSuBBAAiA2IABLeu4raurW6XA9/c13rzPwzbk1aYAR/fPj49YoaZI+K0PFfo75rKUr0m7LawW/jpwkAqWad44SXxj2fF+REDz4ii8tUjVl8Ijp1ohrQEAvDZLcxS98bQV+NFmoyx6QxbQKNjMGEwHQYDVR0OBBYEFM5p3QEkzjDGWRntWRdqC0aWiGiaMB8GA1UdIwQYMBaAFM5p3QEkzjDGWRntWRdqC0aWiGiaMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgGGMAoGCCqGSM49BAMDA2cAMGQCMGdird9+5r9vw9vt2x4q86nMJwu2eGXbcOE6sVRSQ92nWYHk2VX2NZix1tBX3nMGiQIwRHALNGgnkUofNBOoxZ/Pntk14Djv5Kt3/fKd6NWFRhyFZ97jho4c+slS7u9LrttE":"MIICETCCAZagAwIBAgIRAPkxdWgbkK/hHUbMtOTn+FYwCgYIKoZIzj0EAwMwSTELMAkGA1UEBhMCVVMxDzANBgNVBAoMBkFtYXpvbjEMMAoGA1UECwwDQVdTMRswGQYDVQQDDBJhd3Mubml0cm8tZW5jbGF2ZXMwHhcNMTkxMDI4MTMyODA1WhcNNDkxMDI4MTQyODA1WjBJMQswCQYDVQQGEwJVUzEPMA0GA1UECgwGQW1hem9uMQwwCgYDVQQLDANBV1MxGzAZBgNVBAMMEmF3cy5uaXRyby1lbmNsYXZlczB2MBAGByqGSM49AgEGBSuBBAAiA2IABPwCVOumCMHzaHDimtqQvkY4MpJzbolL//Zy2YlES1BR5TSksfbb48C8WBoyt7F2Bw7eEtaaP+ohG2bnUs990d0JX28TcPQXCEPZ3BABIeTPYwEoCWZEh8l5YoQwTcU/9KNCMEAwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUkCW1DdkFR+eWw5b6cp3PmanfS5YwDgYDVR0PAQH/BAQDAgGGMAoGCCqGSM49BAMDA2kAMGYCMQCjfy+Rocm9Xue4YnwWmNJVA44fA0P5W2OpYow9OYCVRaEevL8uO1XYru5xtMPWrfMCMQCi85sWBbJwKKXdS6BptQFuZbT73o/gBh1qUxl/nNr12UO8Yfwr6wPLb+6NIwLz3/Y=",n=e=>"local"===e?{0:"9e33eca6497ec3b68ae13735cd28b1a9be1235d3440f10121327150495de4a4f854eb902a62991b366757f3d87ce57e4"}:"staging"===e?{3:"90528150e0f0537fa9e96b067137f6494d525f2fcfd15b478ce28ab2cfaf38dd4e24ad73f9d9d6f238a7f39f2d1956b7"}:{3:"dfb6428f132530b8c021bea8cbdba2c87c96308ba7e81c7aff0655ec71228122a9297fd31fe5db7927a7322e396e4c16",8:"4dbb92401207e019e132d86677857081d8e4d21f946f3561b264b7389c6982d3a86bcf9560cef4a2327eac5c5c6ab820"}},22104:function(e,t,r){r.d(t,{G:()=>w});var s=r(21636),i=r(48035),n=r(79869),o=r(88288),a=r(94680),c=r(33031),u=r(15465),d=r(5528),l=r(67404),p=r(88629),h=r(55465),m=r(96725),y=r(39386),g=r(99805),v=r(39408),f=r(4843),E=r(20136),b=r(77359),S=r(99863),T=r(27852);class w{static configure(e){return{module:w,configurations:{enclaveApiSettings:e}}}}w=(0,s.gn)([(0,i.Y)({sharedModuleName:"enclave",providers:[a.l,E.Z,b.A,d.$,u.d,l.t,S.lK,p.L,T.n,h.b,m.L,y.v,g.U,v.B],exports:[a.l],stores:[],imports:[n.X,o.i,f.n],configurations:{enclaveApiSettings:{token:c.N6}},domainName:"framework"})],w)},5528:function(e,t,r){r.d(t,{$:()=>g});var s,i=r(21636),n=r(63762),o=r(94190),a=r(306),c=r(15465),u=((s={}).AUTH_CONFIRM_LOGIN="api/authentication/ConfirmLogin2",s.AUTH_REQUEST_LOGIN="api/authentication/RequestLogin2",s.AUTH_REQUEST_TEST_LOGIN="api/authentication/RequestTestLogin2",s.AUTH_CONFIRM_TEST_LOGIN="api/authentication/ConfirmTestLogin3",s);n.z.object({login:n.z.string()});let d=n.z.object({idpAuthorizeUrl:n.z.string(),teamUuid:n.z.string(),spCallbackUrl:n.z.string(),domainName:n.z.string()});n.z.object({teamUuid:n.z.string(),samlResponse:n.z.string(),domainName:n.z.string()});let l=n.z.object({exists:n.z.boolean(),ssoToken:n.z.string(),userServiceProviderKey:n.z.string(),currentAuthenticationMethods:n.z.string().array(),expectedAuthenticationMethods:n.z.string().array()});n.z.object({teamUuid:n.z.string(),adminProvisioningKey:n.z.string(),idpUuid:n.z.string().optional()});let p=n.z.object({idpAuthorizeUrl:n.z.string(),spCallbackUrl:n.z.ostring()});n.z.object({teamUuid:n.z.string(),adminProvisioningKey:n.z.string(),idpUuid:n.z.string(),samlResponse:n.z.string()}),n.z.object({adminProvisioningKey:n.z.string(),userLoginChanges:n.z.object({currentLogin:n.z.string(),newLogin:n.z.string()}).array()});var h=r(57891);class m{decode(e){let t=n.z.object({}).safeParse(e);if(!t.success)throw Error("PrepareChangeLogin: invalid response format");return t.data}}var y=r(99863);class g{async requestLogin(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:u.AUTH_REQUEST_LOGIN,body:e,responseSchema:d});return(0,a.Vp)(t)}async confirmLogin(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:u.AUTH_CONFIRM_LOGIN,body:e,responseSchema:l});return(0,a.Vp)(t)}async requestTestLogin(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:u.AUTH_REQUEST_TEST_LOGIN,body:e,responseSchema:p});return(0,a.Vp)(t)}async confirmTestLogin(e){return await this.enclaveService.callEnclaveEndpoint({endpoint:u.AUTH_CONFIRM_TEST_LOGIN,body:e,responseSchema:n.z.object({})}),(0,a.Vp)(void 0)}async prepareChangeLogin(e){return await this.enclaveProxyService.sendToProxy({endpoint:h.K.AUTH_PREPARE_CHANGE_LOGIN,authenticationType:"userDevice",rawPayload:e,responseBodyDecoder:new m})}constructor(e,t){this.enclaveService=e,this.enclaveProxyService=t}}g=(0,i.gn)([(0,o.GS)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===c.d?Object:c.d,void 0===y.lK?Object:y.lK])],g)},15465:function(e,t,r){r.d(t,{d:()=>_});var s=r(21636),i=r(31256),n=r(94190),o=r(90423),a=r(94520),c=r(33031);let u=(e,t)=>({clientHelloUrl:`${e}api/tunnel/ClientHello`,terminateHelloUrl:`${e}api/tunnel/TerminateHello`,secureContentUrl:`${e}${t}`});var d=r(2052),l=r(13567),p=r(44577),h=r(306),m=r(63762),y=r(16016);let g=m.z.object({data:m.z.object({attestation:m.z.string(),clientIdentifier:m.z.string()}),requestId:m.z.string()});class v{decode(e){let t=g.safeParse(e);if(!t.success)throw Error("Invalid response format");return{attestation:(0,y.i)(t.data.data.attestation),clientIdentifier:t.data.data.clientIdentifier}}}let f=async e=>(await d.ready,{clientPublicKey:d.to_hex(e)}),E=async(e,t)=>{let{headers:r,httpClient:s,publicKey:i}=t,n=await f(i),o=await (0,p.z)(s.post(e,n,{observe:"body",responseType:"json",responseBodyDecoder:new v,withCredentials:!0,headers:r}));if((0,h.hx)(o))throw Error("string"==typeof o.error?o.error:"HTTP Error");return o.data},b=async(e,t)=>{let{headers:r,clientKeyPair:s,httpClient:i,serverPublicKey:n,serverHeader:o}=t;await d.ready;let a=d.crypto_kx_client_session_keys(s.publicKey,s.privateKey,new Uint8Array(n)),c=d.crypto_secretstream_xchacha20poly1305_init_push(a.sharedRx),u=c.state,l=c.header,m=d.crypto_secretstream_xchacha20poly1305_init_pull(new Uint8Array(o),a.sharedTx),y={clientHeader:d.to_hex(l)},g=await (0,p.z)(i.post(e,y,{observe:"response",responseType:"json",withCredentials:!0,headers:r}));if((0,h.hx)(g))throw Error("HTTP error");return{clientStateOut:u,sessionKeys:a,clientStateIn:m}};var S=r(83421);let T=async e=>{await d.ready;let{enclaveApiSettings:{cloudflareHeaders:t,enclaveUrl:r},rootCertBER:s,expectedPCRs:i,httpClient:n,platformInfo:o}=e,a={};a["dashlane-client-agent"]=JSON.stringify({platform:o.platformName,osversion:o.osVersion,version:o.appVersion}),t.accessKey&&t.secretKey&&(a["CF-Access-Client-Id"]=t.accessKey,a["CF-Access-Client-Secret"]=t.secretKey);let c=d.crypto_kx_keypair(),{clientHelloUrl:p,terminateHelloUrl:h}=u(r,""),m=await E(p,{headers:a,httpClient:n,publicKey:c.publicKey}),{serverPublicKey:y,serverHeader:g}=await (0,S.j)({attestation:m.attestation,rootCertBER:s,expectedPCRs:i});(0,l.t)({url:r,name:"ClientIdentifier",value:m.clientIdentifier,expirationDate:new Date().getTime()+15e5,sameSite:"strict",secure:!0});let v=await b(h,{headers:a,httpClient:n,clientKeyPair:c,serverPublicKey:y,serverHeader:g});return{clientStateOut:v.clientStateOut,clientStateIn:v.clientStateIn,headers:a}};var w=r(52174);let x=m.z.object({requestId:m.z.string(),errors:m.z.array(m.z.object({status:m.z.string(),code:m.z.string(),message:m.z.string()}))}),A=class{assertData(e){if(!e)throw Error("toDecode expected to be truthy");if("[object Object]"!=`${e}`||Array.isArray(e))throw Error("toDecode expected to be object");if(!Object.prototype.hasOwnProperty.call(e,"data"))throw Error('toDecode expected to contain a "data" property');if("string"!=typeof e.data)throw Error(`toDecode.data expected to be type string but was ${typeof e.data}`)}decode(e){return this.assertData(e),e.data}},C=async(e,t)=>{let{tunnel:{clientStateOut:r,clientStateIn:s,headers:i},httpClient:n}=t;await d.ready;let o=d.crypto_secretstream_xchacha20poly1305_push(r,d.from_string(t.data),null,d.crypto_secretstream_xchacha20poly1305_TAG_MESSAGE),a={data:d.to_hex(o)},c=await (0,p.z)(n.post(e,a,{observe:"body",responseType:"json",responseBodyDecoder:new A,withCredentials:!0,headers:i}));if((0,h.hx)(c)){if(c.error instanceof w.R){let e=await JSON.parse(await c.error.response.text()),t=x.safeParse(e);if(t.success)throw Error(t.data.errors[0].code)}throw Error("HTTP error")}let u=d.crypto_secretstream_xchacha20poly1305_pull(s,d.from_hex(c.data)).message;return{decryptedResponse:d.to_string(u)}};class _{async callEnclaveEndpoint(e){return await this.MUTEX.runExclusive(async()=>{let t=this.tunnel;try{return await this.tryCallEnclave(e)}catch(r){if(r instanceof Error&&("TUNNEL_UUID_NOT_FOUND"===r.message||"CLIENT_IDENTIFIER_NOT_FOUND"===r.message||"CLIENT_SESSION_NOT_PARSED"===r.message||"CLIENT_STATEIN_NOT_FOUND"===r.message||"SECURE_TUNNEL_MUST_BE_REOPENED"===r.message))return this.tunnel===t&&(this.tunnel=void 0),await this.tryCallEnclave(e);throw r}})}async tryCallEnclave(e){let{body:t,endpoint:r,responseSchema:s}=e,i=JSON.stringify(t),n=await this.platformInfoService.getPlatformInfo(),o=(0,c.Ep)(this.enclaveApiSettings.environment),a=(0,c.$m)(this.enclaveApiSettings.environment);if(void 0===this.tunnel){this.tunnel=T({enclaveApiSettings:this.enclaveApiSettings,httpClient:this.httpClient,expectedPCRs:a,rootCertBER:o,platformInfo:n});try{await this.tunnel}catch(e){throw this.tunnel=void 0,e}}let d=await this.tunnel,{enclaveUrl:l}=this.enclaveApiSettings,{secureContentUrl:p}=u(l,r),{decryptedResponse:h}=await C(p,{data:i,httpClient:this.httpClient,tunnel:d}),m=s.safeParse(JSON.parse(h));if(!m.success)throw Error(`Enclave response parsing failed. Endpoint: ${r}.`);return m.data}getEnclaveApiSettings(){return this.enclaveApiSettings}constructor(e,t,r){this.platformInfoService=e,this.httpClient=t,this.enclaveApiSettings=r,this.tunnel=void 0,this.MUTEX=new i.WU}}_=(0,s.gn)([(0,n.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===a.t?Object:a.t,void 0===o.e?Object:o.e,void 0===c.N6?Object:c.N6])],_)},67404:function(e,t,r){r.d(t,{t:()=>p});var s,i=r(21636),n=r(94190),o=((s={}).DOMAINS_CREATE_DOMAIN="api/domains/CreateDomain",s.DOMAINS_DELETE_DOMAIN="api/domains/DeleteDomain2",s.DOMAINS_UPDATE_DOMAIN="api/domains/UpdateDomain2",s.DOMAINS_CHECK_DNS_VALIDATION="api/domains/CheckDNSValidation2",s),a=r(63762);a.z.object({domainName:a.z.string(),teamUuid:a.z.string(),adminProvisioningKey:a.z.string(),idpMetadata:a.z.object({certificate:a.z.string(),entrypoint:a.z.string()}).optional()});let c=a.z.object({dnsVerificationToken:a.z.string()});a.z.object({domainName:a.z.string(),teamUuid:a.z.string(),adminProvisioningKey:a.z.string()}),a.z.object({domainName:a.z.string(),teamUuid:a.z.string(),adminProvisioningKey:a.z.string(),idpUuid:a.z.string()}),a.z.object({domainName:a.z.string(),adminProvisioningKey:a.z.string(),teamUuid:a.z.string()});let u=a.z.object({previousStatus:a.z.string(),status:a.z.enum(["valid","pending","expired","invalid"]),verificationToken:a.z.string(),lastCheckDateUnix:a.z.number(),pendingReason:a.z.enum(["tokenNotFound","invalidToken"]).nullable(),tokenFound:a.z.string().optional()});var d=r(15465),l=r(306);class p{async createDomain(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:o.DOMAINS_CREATE_DOMAIN,body:e,responseSchema:c});return(0,l.Vp)(t)}async deleteDomain(e){return await this.enclaveService.callEnclaveEndpoint({body:e,endpoint:o.DOMAINS_DELETE_DOMAIN,responseSchema:a.z.object({})}),(0,l.Vp)(void 0)}async updateDomain(e){return await this.enclaveService.callEnclaveEndpoint({endpoint:o.DOMAINS_UPDATE_DOMAIN,body:e,responseSchema:a.z.object({})}),(0,l.Vp)(void 0)}async checkDnsValidation(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:o.DOMAINS_CHECK_DNS_VALIDATION,body:e,responseSchema:u});return(0,l.Vp)(t)}constructor(e){this.enclaveService=e}}p=(0,i.gn)([(0,n.GS)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===d.d?Object:d.d])],p)},77359:function(e,t,r){r.d(t,{A:()=>c});var s=r(21636),i=r(94190),n=r(57891),o=r(34671),a=r(99863);class c{store(e){return this.enclaveProxyService.sendToProxy({authenticationType:"massDeployedTeamKey",endpoint:n.K.AUDIT_LOGS_MASS_DEPLOYMENT_STORE,rawPayload:{auditLogs:e},responseBodyDecoder:new o.F})}constructor(e){this.enclaveProxyService=e}}c=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===a.lK?Object:a.lK])],c)},20136:function(e,t,r){r.d(t,{Z:()=>g});var s=r(21636),i=r(94190),n=r(57891),o=r(34671),a=r(63762);let c=a.z.object({queryExecutionId:a.z.string()});class u{decode(e){let t=c.safeParse(e);if(!t.success)throw Error("AuditLogsQueryStart: invalid response format");return t.data.queryExecutionId}}var d=r(32755);let l=a.z.object({nextToken:a.z.string().nullable().optional(),results:a.z.array(a.z.object({date_time:a.z.number(),schema_version:a.z.string(),uuid:a.z.string(),category:a.z.nativeEnum(d.s).optional(),is_sensitive:a.z.boolean().optional(),log_type:a.z.string(),properties:a.z.intersection(a.z.object({domain_url:a.z.string().optional()}),a.z.record(a.z.union([a.z.number(),a.z.boolean(),a.z.string()])))})).optional(),state:a.z.enum(["CANCELLED","FAILED","QUEUED","RUNNING","SUCCEEDED"])});class p{decode(e){let t=l.safeParse(e);if(!t.success)throw Error("FilteredAuditLogsQueryResults: invalid response format");return{nextToken:t.data.nextToken,results:t.data.results,state:t.data.state}}}let h=a.z.object({encryptedDetailsBatch:a.z.array(a.z.object({id:a.z.string(),encryptedDetails:a.z.string()}))});class m{decode(e){let t=h.safeParse(e);if(!t.success)throw Error("EncryptAuditLogDetailsBatch: invalid response format");return t.data}}var y=r(99863);class g{store(e){return this.enclaveProxyService.sendToProxy({authenticationType:"userDevice",endpoint:n.K.AUDIT_LOGS_STORE,rawPayload:{auditLogs:e},responseBodyDecoder:new o.F})}filteredQueryStart(e){return this.enclaveProxyService.sendToProxy({authenticationType:"userDevice",endpoint:n.K.AUDIT_LOGS_START_FILTERED_QUERY,rawPayload:e,responseBodyDecoder:new u})}filteredQueryResults(e){return this.enclaveProxyService.sendToProxy({authenticationType:"userDevice",endpoint:n.K.AUDIT_LOGS_GET_FILTERED_QUERY_RESULTS,rawPayload:e,responseBodyDecoder:new p})}async encryptAuditLogDetailsBatch(e){return this.enclaveProxyService.sendToProxy({authenticationType:"userDevice",endpoint:n.K.AUDIT_LOGS_ENCRYPT_AUDIT_LOG_DETAILS_BATCH,rawPayload:{detailsToEncryptBatch:e},responseBodyDecoder:new m})}constructor(e){this.enclaveProxyService=e}}g=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===y.lK?Object:y.lK])],g)},34671:function(e,t,r){r.d(t,{F:()=>n});var s=r(63762);let i=s.z.object({invalidAuditLogs:s.z.array(s.z.object({error:s.z.string(),uuid:s.z.string()}))});class n{decode(e){let t=i.safeParse(e);if(!t.success)throw Error("StoreAuditLogs: invalid response format");return{invalidAuditLogs:t.data.invalidAuditLogs}}}},99863:function(e,t,r){r.d(t,{lK:()=>V});var s,i,n=r(21636),o=r(2052),a=r(31256),c=r(94190),u=r(90423),d=r(70554),l=r(306),p=r(94520),h=r(83421),m=r(33031),y=r(57891);let g=null,v=e=>{g=e},f=()=>g;var E=r(63762);let b=E.z.object({data:E.z.object({attestation:E.z.string(),tunnelUuid:E.z.string()}),requestId:E.z.string()});class S{decode(e){let t=b.safeParse(e);if(!t.success)throw Error("ClientHello: invalid response format");return{attestation:o.from_hex(t.data.data.attestation),tunnelUuid:t.data.data.tunnelUuid}}}let T=E.z.object({requestId:E.z.string()});class w{decode(e){let t=T.safeParse(e);if(!t.success)throw Error("TerminateHello: invalid response format");return t.data.requestId}}var x=r(44577),A=r(7742),C=r(18724);let _=async e=>{let{appKeys:t,authenticationType:r,serverApiCredentialsService:s}=e;switch(r){case"app":return{type:"app",...t};case"userDevice":{let{deviceAccessKey:e,deviceSecretKey:r,login:i}=await (0,x.z)(s.getActiveUserDeviceCredentials());return{type:"userDevice",...t,login:i,accessKey:e,secretKey:r}}case"massDeployedTeamKey":{let{massDeployedTeamAccessKey:e,massDeployedTeamSecretKey:r}=await (0,x.z)(s.getMassDeploymentTeamKeyCredentials());return{type:"massDeployedTeamKey",...t,massDeployedTeamAccessKey:e,secretKey:r}}}},R=async e=>{let{authenticationType:t,enclaveApiSettings:r,httpClient:s,path:i,payload:n,platformInfoService:o,responseBodyDecoder:a,serverApiCredentialsService:c}=e,{appKeys:u,cloudflareHeaders:d,enclaveProxyUrl:l}=r,p=await o.getPlatformInfo();return A.postRequestAPI({authentication:await _({appKeys:u,authenticationType:t,serverApiCredentialsService:c}),customHost:new URL(l).host,path:i,payload:n,requestFunction:e=>{let{headers:t,url:r}=e;return(0,x.z)(s.post(r,n,{headers:{...t,...d.accessKey&&d.secretKey&&{"CF-Access-Client-Id":d.accessKey,"CF-Access-Client-Secret":d.secretKey},"dashlane-client-agent":JSON.stringify({platform:p.platformName,osversion:p.osVersion,version:p.appVersion})},observe:"body",responseBodyDecoder:a,responseType:"json"}))},userAgent:C.getUserAgent()})};var D=r(63046),F=((s={}).DECRYPTION_ERROR="ENCLAVE_PROXY_SERVICE_DECRYPTION_ERROR",s.REPEATED_TUNNEL_FAILURE="ENCLAVE_PROXY_SERVICE_REPEATED_TUNNEL_FAILURE",s),U=((i={}).CLIENT_IDENTIFIER_NOT_FOUND="CLIENT_IDENTIFIER_NOT_FOUND",i.CLIENT_SESSION_NOT_PARSED="CLIENT_SESSION_NOT_PARSED",i.CLIENT_STATEIN_NOT_FOUND="CLIENT_STATEIN_NOT_FOUND",i.SECURE_TUNNEL_MUST_BE_REOPENED="SECURE_TUNNEL_MUST_BE_REOPENED",i.TUNNEL_UUID_NOT_FOUND="TUNNEL_UUID_NOT_FOUND",i);let P=E.z.object({data:E.z.object({encryptedData:E.z.string()}),requestId:E.z.string()});class I{decode(e){let t=P.safeParse(e);if(!t.success)throw Error("SendEncrypted: invalid response format");return{encryptedData:t.data.data.encryptedData,requestId:t.data.requestId}}}let j=E.z.object({errors:E.z.array(E.z.object({code:E.z.string(),message:E.z.string(),type:E.z.string().optional()})),requestId:E.z.string()});class O{decode(e){let t=j.safeParse(e);if(!t.success)throw Error("FailedResponse: invalid response format");return{error:t.data.errors[0],requestId:t.data.requestId}}}let q=async e=>(0,d.EQ)(e.error,{BadStatus:async e=>{let{code:t,message:r}=(await e.response.json(new O)).error;return{code:t,message:r}},FetchFailedError:e=>{throw e}}),k=e=>e===U.TUNNEL_UUID_NOT_FOUND||e===U.CLIENT_IDENTIFIER_NOT_FOUND||e===U.CLIENT_SESSION_NOT_PARSED||e===U.CLIENT_STATEIN_NOT_FOUND||e===U.SECURE_TUNNEL_MUST_BE_REOPENED;class V{async sendToProxy(e){let t=({code:e,message:t})=>(0,l.Rn)({code:e,message:t});return await o.ready,this.MUTEX.runExclusive(async()=>{let{authenticationType:r,endpoint:s,errorDecoder:i=t,rawPayload:n,responseBodyDecoder:a}=e,c=!0,u=async()=>{let e=await this.getClientSession();if((0,l.hx)(e)){let{code:t}=await q(e);if(k(t)&&(v(null),c))return c=!1,u();throw Error(F.REPEATED_TUNNEL_FAILURE)}let{clientHello:t,terminateHello:d}=e.data,{tunnelUuid:p}=t,{clientStateIn:h,clientStateOut:m}=d,y=o.crypto_secretstream_xchacha20poly1305_push(m,o.from_string(JSON.stringify(n)),null,o.crypto_secretstream_xchacha20poly1305_TAG_MESSAGE),g={encryptedData:o.to_hex(y),tunnelUuid:p},f=await this.executeRequest({authenticationType:r,endpoint:s,payload:g,responseBodyDecoder:new I});if((0,l.hx)(f)){let{code:e,message:t}=await q(f);if(k(e)){if(v(null),c)return c=!1,u();throw Error(F.REPEATED_TUNNEL_FAILURE)}return i({code:e,message:t})}let E=o.crypto_secretstream_xchacha20poly1305_pull(h,o.from_hex(f.data.encryptedData));if(!E)throw v(null),Error(F.DECRYPTION_ERROR);let b=await a.decode(JSON.parse(o.to_string(E.message)));return(0,l.Vp)(b)};return u()})}async getClientSession(){let e=f();if(e)return(0,l.Vp)(e);{let e=o.crypto_kx_keypair(),t=await this.clientHello(e);if((0,l.hx)(t))return t;let r=await this.terminateHello({clientKeyPair:e,clientHello:t.data});if((0,l.hx)(r))return r;let s={clientKeyPair:e,clientHello:t.data,terminateHello:r.data};return v(s),(0,l.Vp)(s)}}async clientHello(e){let t={clientPublicKey:o.to_hex(e.publicKey)},r=await this.executeRequest({authenticationType:"app",endpoint:y.K.CLIENT_HELLO,payload:t,responseBodyDecoder:new S});return(0,l.hx)(r)?r:(0,l.Vp)(r.data)}async terminateHello({clientKeyPair:e,clientHello:{attestation:t,tunnelUuid:r}}){let s=await (0,h.j)({attestation:t,rootCertBER:(0,m.Ep)(this.enclaveApiSettings.environment),expectedPCRs:(0,m.$m)(this.enclaveApiSettings.environment)}),i=new Uint8Array(s.serverPublicKey),n=new Uint8Array(s.serverHeader),a=o.crypto_kx_client_session_keys(e.publicKey,e.privateKey,i),{state:c,header:u}=o.crypto_secretstream_xchacha20poly1305_init_push(a.sharedRx),d=o.crypto_secretstream_xchacha20poly1305_init_pull(n,a.sharedTx),p={clientHeader:o.to_hex(u),tunnelUuid:r},g=await this.executeRequest({authenticationType:"app",endpoint:y.K.TERMINATE_HELLO,payload:p,responseBodyDecoder:new w});return(0,l.hx)(g)?g:(0,l.Vp)({clientStateIn:d,clientStateOut:c,sessionKeys:a,serverHeader:n,serverPublicKey:i})}executeRequest(e){let{endpoint:t,...r}=e;return R({enclaveApiSettings:this.enclaveApiSettings,httpClient:this.httpClient,path:`v1-nitro-encryption-service/${t}`,platformInfoService:this.platformInfoService,serverApiCredentialsService:this.serverApiCredentialsService,...r})}constructor(e,t,r,s){this.httpClient=e,this.serverApiCredentialsService=t,this.enclaveApiSettings=r,this.platformInfoService=s,this.MUTEX=new a.WU}}V=(0,n.gn)([(0,c.GS)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===u.e?Object:u.e,void 0===D.n?Object:D.n,void 0===m.N6?Object:m.N6,void 0===p.t?Object:p.t])],V)},57891:function(e,t,r){r.d(t,{K:()=>i});var s,i=((s={}).CLIENT_HELLO="tunnel/ClientHello",s.TERMINATE_HELLO="tunnel/TerminateHello",s.AUDIT_LOGS_GET_FILTERED_QUERY_RESULTS="logs/GetFilteredAuditLogQueryResults",s.AUDIT_LOGS_START_FILTERED_QUERY="logs/StartFilteredAuditLogsQuery",s.AUDIT_LOGS_STORE="logs/StoreAuditLogs",s.AUDIT_LOGS_MASS_DEPLOYMENT_STORE="logs-massdeployment/StoreAuditLogs",s.AUDIT_LOGS_ENCRYPT_AUDIT_LOG_DETAILS_BATCH="logs/EncryptAuditLogDetailsBatchWithTeamKey",s.PASSKEY_DELETE="passkeys/DeletePasskey",s.PASSKEY_USE="passkeys/UsePasskey",s.PASSKEY_REGISTER="passkeys/RegisterPasskey",s.UVVS_UPLOAD_USER_SNAPSHOT="uvvs/UploadUserSnapshot",s.UVVS_GET_USER_SNAPSHOT="uvvs/GetUserSnapshot",s.AUTH_PREPARE_CHANGE_LOGIN="authentication/PrepareChangeLogin",s)},27852:function(e,t,r){r.d(t,{n:()=>g});var s=r(21636),i=r(94190),n=r(9810),o=r(306),a=r(57891),c=r(63762);let u=c.z.object({passkeyId:c.z.string(),encryptionKey:c.z.object({uuid:c.z.string(),key:c.z.string()}),credentialRegisterData:c.z.object({type:c.z.literal("public-key"),rawId:c.z.string(),id:c.z.string(),clientDataHash:c.z.string(),attestationObject:c.z.string(),authenticatorAttachment:c.z.string(),authenticatorData:c.z.string(),publicKey:c.z.string(),publicKeyAlgorithm:c.z.number(),transports:c.z.array(c.z.string()),clientExtensionResults:c.z.record(c.z.unknown())})});class d{decode(e){let t=u.safeParse(e);if(!t.success)throw Error("RegisterPasskey: invalid response format");return t.data}}let l=c.z.object({credentialGetData:c.z.object({type:c.z.literal("public-key"),rawId:c.z.string(),id:c.z.string(),authenticatorAttachment:c.z.string(),response:c.z.object({authenticatorData:c.z.string(),clientDataHash:c.z.string(),signature:c.z.string(),userHandle:c.z.ostring()}),clientExtensionResults:c.z.optional(c.z.record(c.z.unknown()))}),requestEvents:c.z.array(c.z.object({dateUnix:c.z.number(),userLogin:c.z.string(),userId:c.z.number()}))});class p{decode(e){let t=l.safeParse(e);if(!t.success)throw Error("UsePasskey: invalid response format");return t.data}}let h=c.z.object({});class m{decode(e){let t=h.safeParse(e);if(!t.success)throw Error("DeletePasskey: invalid response format");return t.data}}var y=r(99863);class g{registerPasskey(e){return this.enclaveProxyService.sendToProxy({authenticationType:"userDevice",endpoint:a.K.PASSKEY_REGISTER,rawPayload:e,responseBodyDecoder:new d,errorDecoder:({code:e,message:t})=>{if(e===n.r.SECURITY_ERROR||e===n.r.INVALID_STATE_ERROR||e===n.r.ALGORITHM_NOT_SUPPORTED_ERROR)return(0,o.Rn)({message:t,code:e});throw Error(`Unexpected error code ${e}`)}})}usePasskey(e){return this.enclaveProxyService.sendToProxy({authenticationType:"userDevice",endpoint:a.K.PASSKEY_USE,rawPayload:e,responseBodyDecoder:new p,errorDecoder:({code:e,message:t})=>{if(e===n.r.SECURITY_ERROR||e===n.r.ALGORITHM_NOT_SUPPORTED_ERROR||e===n.r.PASSKEY_NOT_FOUND||e===n.r.PASSKEY_DECRYPTION_ERROR)return(0,o.Rn)({message:t,code:e});throw Error(`Unexpected error code ${e}`)}})}deletePasskey(e){return this.enclaveProxyService.sendToProxy({authenticationType:"userDevice",endpoint:a.K.PASSKEY_DELETE,rawPayload:e,responseBodyDecoder:new m,errorDecoder:({code:e,message:t})=>{if(e===n.r.PASSKEY_NOT_FOUND||e===n.r.PASSKEY_DECRYPTION_ERROR)return(0,o.Rn)({message:t,code:e});throw Error(`Unexpected error code ${e}`)}})}constructor(e){this.enclaveProxyService=e}}g=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===y.lK?Object:y.lK])],g)},88629:function(e,t,r){r.d(t,{L:()=>p});var s,i=r(21636),n=r(94190),o=((s={}).IDPS_CREATE_IDP="api/idps/CreateIdp",s.IDPS_UPDATE_IDP="api/idps/UpdateIdp",s.IDPS_DELETE_IDP="api/idps/DeleteIdp",s),a=r(63762);a.z.object({teamUuid:a.z.string().uuid(),adminProvisioningKey:a.z.string(),idpMetadata:a.z.object({certificates:a.z.array(a.z.string()),entrypoint:a.z.string()})});let c=a.z.object({idpUuid:a.z.string().uuid()});a.z.object({teamUuid:a.z.string().uuid(),adminProvisioningKey:a.z.string(),idpUuid:a.z.string().uuid()});let u=a.z.object({idpUuid:a.z.string().uuid()});a.z.object({teamUuid:a.z.string().uuid(),adminProvisioningKey:a.z.string(),idpMetadata:a.z.object({idpUuid:a.z.string(),certificates:a.z.array(a.z.string()).optional(),entrypoint:a.z.string().optional(),groupProvisioningActivated:a.z.boolean().optional()})}),a.z.object({idpUuid:a.z.string().uuid()});var d=r(15465),l=r(306);class p{async createIdp(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:o.IDPS_CREATE_IDP,body:e,responseSchema:c});return(0,l.Vp)(t)}async deleteIdp(e){let t=await this.enclaveService.callEnclaveEndpoint({body:e,endpoint:o.IDPS_DELETE_IDP,responseSchema:u});return(0,l.Vp)(t)}async updateIdp(e){return await this.enclaveService.callEnclaveEndpoint({endpoint:o.IDPS_UPDATE_IDP,body:e,responseSchema:a.z.object({})}),(0,l.Vp)({idpUuid:e.idpMetadata.idpUuid})}constructor(e){this.enclaveService=e}}p=(0,i.gn)([(0,n.GS)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===d.d?Object:d.d])],p)},83421:function(e,t,r){r.d(t,{j:()=>b});var s=r(60917);function i(e){return(0,s.Jx)(new Uint8Array(e))}let n=e=>Array.isArray(e)?e:e.value,o=e=>{let[t,,r,s]=n(i(new Uint8Array(e)));if(!t)throw Error("parseSignedMessage: no protected header field");if(!r)throw Error("parseSignedMessage: no payload field");if(!s)throw Error("parseSignedMessage: no signature field");return{payload:new Uint8Array(r).buffer,protectedHeaders:new Uint8Array(t).buffer,signature:new Uint8Array(s).buffer}};var a=r(63762),c=r(97702);let u=a.z.object({module_id:a.z.string(),timestamp:a.z.bigint(),digest:a.z.string(),pcrs:a.z.record(a.z.string(),a.z.instanceof(Uint8Array)),certificate:a.z.instanceof(Uint8Array),cabundle:a.z.array(a.z.instanceof(Uint8Array)),user_data:a.z.instanceof(Uint8Array),nonce:a.z.instanceof(Uint8Array).nullable()}),d=a.z.object({header:a.z.string(),publicKey:a.z.string()}),l=e=>e.map(e=>new Uint8Array(e).buffer),p=e=>{let t=i(e),r=u.safeParse(t);if(!r.success)throw Error("failed to parse attestation document");let s=r.data,n=JSON.parse(new TextDecoder("utf-8").decode(s.user_data)),o=d.safeParse(n);if(!o.success)throw Error("failed to parse server crypto info");let a=o.data;return{moduleId:s.module_id,timestamp:s.timestamp,digest:s.digest,pcrs:s.pcrs,certificate:new Uint8Array(s.certificate).buffer,cabundle:l(s.cabundle),serverHeader:(0,c.R)(a.header),serverPublicKey:(0,c.R)(a.publicKey),nonce:null!==s.nonce?new Uint8Array(s.nonce).buffer:null}};var h=r(10974);let m=async(e,t,r)=>{let s=h.KBB.fromBER(e),i=t.map(e=>h.KBB.fromBER(e));i.push(s);let n=h.KBB.fromBER((0,c.R)(r)),o=new h.DMg({trustedCerts:[n],certs:i});return(await o.verify()).result},y=async(e,t,r,i)=>{var n;let o=h.KBB.fromBER(i),a=await o.getPublicKey(),c=(n=["Signature1",t,new ArrayBuffer(0),r],(0,s.cv)(n));return crypto.subtle.verify({name:"ECDSA",hash:"SHA-384"},a,e,c)};var g=r(76957);let v=e=>new Uint8Array(e).buffer,f=e=>(0,g.k)(v(e)),E=(e,t)=>{for(let[r,s]of Object.entries(t))if(s!==f(e[Number(r)]))throw Error("PCRs did not match");return!0},b=async e=>{let{attestation:t,rootCertBER:r,expectedPCRs:s}=e,{protectedHeaders:i,payload:n,signature:a}=o(t),c=p(n);if(!await m(c.certificate,c.cabundle,r))throw Error("Invalid cert chain!");if(!await y(a,i,n,c.certificate))throw Error("Invalid signature!");return E(c.pcrs,s),{serverPublicKey:c.serverPublicKey,serverHeader:c.serverHeader}}},55465:function(e,t,r){r.d(t,{b:()=>p});var s,i=r(21636),n=r(94190),o=r(306),a=((s={}).SCIM_GET_CONFIGURATION="api/scim/GetSCIMConfiguration",s.SCIM_SET_CONFIGURATION="api/scim/SetSCIMConfiguration",s),c=r(15465),u=r(63762);u.z.object({teamUuid:u.z.string(),adminProvisioningKey:u.z.string()});let d=u.z.object({token:u.z.string().nullable(),active:u.z.boolean()});u.z.object({teamUuid:u.z.string(),adminProvisioningKey:u.z.string(),token:u.z.string(),active:u.z.boolean()});let l=u.z.object({token:u.z.string().nullable(),active:u.z.boolean()});class p{async getScimConfiguration(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:a.SCIM_GET_CONFIGURATION,body:e,responseSchema:d});return(0,o.Vp)(t)}async setScimConfiguration(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:a.SCIM_SET_CONFIGURATION,body:e,responseSchema:l});return(0,o.Vp)(t)}constructor(e){this.enclaveService=e}}p=(0,i.gn)([(0,n.GS)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===c.d?Object:c.d])],p)},96725:function(e,t,r){r.d(t,{L:()=>p});var s,i=r(21636),n=r(94190),o=r(306),a=((s={}).SIEM_GET_CONFIGURATION="api/siem/GetSIEMConfiguration",s.SIEM_SET_CONFIGURATION="api/siem/SetSIEMConfiguration",s),c=r(15465),u=r(63762);u.z.object({teamUuid:u.z.string(),adminProvisioningKey:u.z.string()});let d=u.z.object({token:u.z.string().nullable(),active:u.z.boolean(),instanceURL:u.z.string().nullable(),siemType:u.z.enum(["splunk"]).nullable(),isSelfSignedCertificateAllowed:u.z.boolean()});u.z.object({teamUuid:u.z.string(),adminProvisioningKey:u.z.string(),token:u.z.string().optional(),active:u.z.boolean().optional(),instanceURL:u.z.string().optional(),siemType:u.z.enum(["splunk"]).nullable().optional(),isSelfSignedCertificateAllowed:u.z.boolean().optional()});let l=u.z.object({token:u.z.string().nullable(),active:u.z.boolean(),instanceURL:u.z.string().nullable(),siemType:u.z.enum(["splunk"]).nullable(),isSelfSignedCertificateAllowed:u.z.boolean()});class p{async getSiemConfiguration(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:a.SIEM_GET_CONFIGURATION,body:e,responseSchema:d});return(0,o.Vp)(t)}async setSiemConfiguration(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:a.SIEM_SET_CONFIGURATION,body:e,responseSchema:l});return(0,o.Vp)(t)}constructor(e){this.enclaveService=e}}p=(0,i.gn)([(0,n.GS)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===c.d?Object:c.d])],p)},39386:function(e,t,r){r.d(t,{v:()=>d});var s,i=r(21636),n=r(94190),o=r(306),a=((s={}).SLACK_INSTALL_SLACK_APP="api/slack/InstallSlackApp",s.SLACK_SEND_SLACK_MESSAGE="api/slack/SendSlackMessage",s.SLACK_UNINSTALL_SLACK_APP="api/slack/UninstallSlackApp",s),c=r(15465),u=r(63762);class d{async installSlackApp(e){return await this.enclaveService.callEnclaveEndpoint({endpoint:a.SLACK_INSTALL_SLACK_APP,body:e,responseSchema:u.z.object({})}),(0,o.Vp)(void 0)}async sendSlackMessage(e){return await this.enclaveService.callEnclaveEndpoint({endpoint:a.SLACK_SEND_SLACK_MESSAGE,body:e,responseSchema:u.z.object({})}),(0,o.Vp)(void 0)}async uninstallSlackApp(e){return await this.enclaveService.callEnclaveEndpoint({endpoint:a.SLACK_UNINSTALL_SLACK_APP,body:e,responseSchema:u.z.object({})}),(0,o.Vp)(void 0)}constructor(e){this.enclaveService=e}}d=(0,i.gn)([(0,n.GS)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===c.d?Object:c.d])],d)},99805:function(e,t,r){r.d(t,{U:()=>S});var s,i=r(21636),n=r(94190),o=r(306),a=((s={}).TEAMS_CREATE_TEAM="api/teams/CreateTeam",s.TEAMS_CREATE_TEAM_FOR_MIGRATION="api/teams/CreateTeamForMigration",s.TEAMS_GET_TEAM="api/teams/GetTeam",s.TEAMS_DELETE_TEAM="api/teams/DeleteTeam",s),c=r(15465),u=r(63762);let d=u.z.object({adminProvisioningKey:u.z.string()}),l=u.z.object({}),p=u.z.enum(["valid","pending","expired","invalid"]),h=u.z.enum(["tokenNotFound","invalidToken"]),m=u.z.object({status:p.nullable(),verificationToken:u.z.string(),lastCheckDateUnix:u.z.number(),pendingReason:h.nullable(),expiryDateUnix:u.z.number()}),y=u.z.object({creationDateUnix:u.z.number(),dnsCheckStatus:m,domainName:u.z.string(),idpUuid:u.z.ostring(),updateDateUnix:u.z.number()}),g=u.z.object({idpUuid:u.z.string().uuid(),certificates:u.z.array(u.z.string()),entrypoint:u.z.string(),groupProvisioningActivated:u.z.boolean().optional(),creationDateUnix:u.z.number(),updateDateUnix:u.z.number()}),v=u.z.object({domains:u.z.record(u.z.string(),y),idps:u.z.record(u.z.string(),g),updateDateUnix:u.z.number(),messageIntegrations:u.z.object({slackStatus:u.z.boolean()})});u.z.object({teamDeviceCredentials:u.z.object({teamUuid:u.z.string(),accessKey:u.z.string(),secretKey:u.z.string(),sharingPublicKey:u.z.string(),sharingPrivateKey:u.z.string()}),certificates:u.z.array(u.z.string()),entrypoint:u.z.string(),masterServiceProviderKey:u.z.string(),domains:u.z.array(u.z.string()),scimToken:u.z.string().optional()});let f=u.z.record(u.z.string(),y),E=u.z.object({domains:f,idps:u.z.record(u.z.string(),g),updateDateUnix:u.z.number()}),b=u.z.object({adminProvisioningKey:u.z.string(),team:E});class S{async createTeam(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:a.TEAMS_CREATE_TEAM,body:e,responseSchema:d});return(0,o.Vp)(t)}async createTeamForMigration(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:a.TEAMS_CREATE_TEAM_FOR_MIGRATION,body:e,responseSchema:b});return(0,o.Vp)(t)}async getTeam(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:a.TEAMS_GET_TEAM,body:e,responseSchema:v});return(0,o.Vp)(t)}async deleteTeam(e){let t=await this.enclaveService.callEnclaveEndpoint({endpoint:a.TEAMS_DELETE_TEAM,body:e,responseSchema:l});return(0,o.Vp)(t)}constructor(e){this.enclaveService=e}}S=(0,i.gn)([(0,n.GS)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===c.d?Object:c.d])],S)},39408:function(e,t,r){r.d(t,{B:()=>m});var s=r(21636),i=r(94190),n=r(57891),o=r(63762);let a=o.z.any();class c{decode(e){if(!a.safeParse(e).success)throw Error("UVVSUploadResults: invalid response format")}}let u=o.z.object({id:o.z.string(),domain:o.z.string(),creationDateUnix:o.z.number(),risks:o.z.object({isCompromised:o.z.boolean(),isReused:o.z.boolean(),isWeak:o.z.boolean()})});o.z.array(u);let d=o.z.array(u.extend({sharing:o.z.object({isShared:o.z.boolean()}).optional()})),l=o.z.object({snapshot:d,lastUpdateDateUnix:o.z.number()});class p{decode(e){let t=l.safeParse(e);if(!t.success)throw Error("UVVSDownloadResults: invalid response format");return t.data}}var h=r(99863);class m{async uploadUVVS(e){return await this.enclaveProxyService.sendToProxy({authenticationType:"userDevice",endpoint:n.K.UVVS_UPLOAD_USER_SNAPSHOT,rawPayload:e,responseBodyDecoder:new c})}async downloadUVVS({adminProvisioningKey:e,requestedLogin:t}){return await this.enclaveProxyService.sendToProxy({authenticationType:"userDevice",endpoint:n.K.UVVS_GET_USER_SNAPSHOT,rawPayload:{adminProvisioningKey:e,requestedLogin:t},responseBodyDecoder:new p})}constructor(e){this.enclaveProxyService=e}}m=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===h.lK?Object:h.lK])],m)},5767:function(e,t,r){r.d(t,{k:()=>X});var s,i=r(21636),n=r(48035),o=r(99481),a=r(90573),c=r(73500),u=r(79662),d=r(36884),l=r(42589),p=r(81433),h=r(56144),m=r(45991),y=r(51870),g=r(62506),v=r(37368),f=r(306),E=r(44577),b=r(94190),S=r(17741),T=r(59242);class w{getFeatureFlipsForActiveUser(e){return(0,E.z)(this.serverApiClient.v1.features.getAndEvaluateForUser({features:e}).pipe((0,S.nb)({success:e=>e.data.enabledFeatures,failure:()=>{throw Error("Unable to fetch enabled feature flips for the active user")}})))}getAvailableFeatureFlips(){return(0,E.z)(this.serverApiClient.v1.features.listAvailableFeatureFlips({}).pipe((0,S.nb)({success:e=>e.data.features.map(e=>e.name),failure:()=>{throw Error("Unable to fetch available feature flips")}})))}constructor(e){this.serverApiClient=e}}w=(0,i.gn)([(0,b.GS)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===T.l?Object:T.l])],w);var x=r(59982),A=r(68238),C=r(15021),_=r(20458),R=r(51721);let D=e=>(0,R.K)(e)&&"featureFlips"in e;class F extends(0,x.Q)({persist:!0,scope:C.F.Device,storeName:"feature-flip-store",capacity:A.Y._010KB,codec:_.E,storage:{initialValue:{featureFlips:{}},schemaVersion:1,typeGuard:D}}){}class U extends(0,x.Q)({persist:!0,isCache:!0,scope:C.F.User,storeName:"feature-flip-store",capacity:A.Y._010KB,codec:_.E,storage:{initialValue:{featureFlips:{}},schemaVersion:1,typeGuard:D}}){}var P=((s={}).Success="Success",s.Pending="Pending",s.Loading="Loading",s.Cache="Cache",s);class I extends(0,x.Q)({persist:!1,initialValue:{refreshStatus:"Pending"},scope:C.F.Device,storeName:"feature-flip-refresh-store",capacity:A.Y._001KB}){}function j(e){return[P.Success,P.Cache].includes(e)}let O=(e,t)=>Object.keys(e).reduce((r,s)=>{let i=t[s];return r[s]=void 0!==i?i.isActivated:e[s],r},{}),q=e=>(0,R.K)(e)&&"availableLabs"in e&&(0,R.K)(e.availableLabs);class k extends(0,x.Q)({persist:!0,isCache:!0,scope:C.F.User,storeName:"labs-store",capacity:A.Y._001KB,codec:_.E,storage:{initialValue:{availableLabs:{}},schemaVersion:1,typeGuard:q}}){}var V=r(2825),N=r(96272);class L extends(0,N.Hu)("refresh_available_labs_failed","Unable to refresh available labs for the active user"){}class M extends(0,N.Hu)("fetch_available_labs_failed","Unable to fetch labs for the active user"){}class H{async refreshAvailableLabs(){let e=await this.getAvailableLabs();if((0,f.hx)(e))return(0,f.Rn)(new L);let t=await this.labsStore.getState(),r=(0,f.db)(e).reduce((e,r)=>(e[r.featureName]={...r,isActivated:!!t.availableLabs[r.featureName]?.isActivated},e),{});return await this.labsStore.set({availableLabs:r}),(0,f.Vp)(void 0)}async getAvailableLabs(){let e=this.getRequiredFeatures(),{featureFlips:t}=await this.featureFlipsStore.getState();return(0,E.z)(this.serverApiClient.v1.features.listAvailableLabs({}).pipe((0,S.DZ)(()=>new M),(0,S.lk)(r=>(0,f.Vp)(r.data.labs.filter(t=>e.has(t.featureName)).filter(e=>!1===t[e.featureName])))))}getRequiredFeatures(){let e=this.introspection.modules;return Object.keys(e).reduce((t,r)=>{let s=e[r];if(s.requiredFeatureFlips)for(let e of s.requiredFeatureFlips)t.add(e);return t},new Set)}constructor(e,t,r,s){this.serverApiClient=e,this.introspection=t,this.featureFlipsStore=r,this.labsStore=s}}H=(0,i.gn)([(0,b.GS)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===T.l?Object:T.l,void 0===V.Q1?Object:V.Q1,U,k])],H);class G extends(0,o.ne)(){}class W{async handle({body:e}){if(!e.userName){await this.featureFlipsRefreshStore.set({refreshStatus:P.Pending}),await this.featureFlipsStore.set({featureFlips:{}});return}await this.featureFlipsRefreshStore.set({refreshStatus:P.Loading});let t=this.labsService.getRequiredFeatures(),r=Array.from(t),s=[];try{await this.featureFlipsService.getAvailableFeatureFlips().then(e=>{s=e.filter(e=>t.has(e))})}catch(t){let e=Error("Unexpected error attempting to retrieve available feature flips",{cause:t});this.logger.error(e)}let i=0===s.length?r:s;try{let e=await this.featureFlipsService.getFeatureFlipsForActiveUser(i),t=new Set(e),n=new Set(s),o=r.reduce((e,r)=>(e[r]=t.has(r)||!n.has(r)&&void 0,e),{});await this.featureFlipsStore.set({featureFlips:o}),await this.labsService.refreshAvailableLabs(),await this.featureFlipsRefreshStore.set({refreshStatus:P.Success})}catch(e){await this.featureFlipsRefreshStore.set({refreshStatus:P.Cache}),this.logger.error(e)}}constructor(e,t,r,s,i){this.logger=e,this.featureFlipsService=t,this.featureFlipsStore=r,this.featureFlipsRefreshStore=s,this.labsService=i}}W=(0,i.gn)([(0,y.b)(u.W_),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[G,void 0===w?Object:w,U,I,void 0===H?Object:H])],W);class z{execute(){return(0,d.a)([this.featureFlipsRefreshStore.state$.pipe((0,l.U)(e=>e.refreshStatus)),this.featureFlipsStore.state$.pipe((0,l.U)(e=>e.featureFlips),(0,p.x)(m.shallowEqualObjects)),this.labsStore.state$.pipe((0,l.U)(e=>e.availableLabs),(0,p.x)(m.shallowEqualObjects))]).pipe((0,h.h)(([e])=>j(e)),(0,l.U)(([,e,t])=>{let r=O(e,t);return(0,f.Vp)(r)}))}constructor(e,t,r){this.featureFlipsStore=e,this.featureFlipsRefreshStore=t,this.labsStore=r}}z=(0,i.gn)([(0,g.e)(c.r6),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[U,I,k])],z);class K{execute({body:e}){return(0,d.a)([this.featureFlipsRefreshStore.state$.pipe((0,l.U)(e=>e.refreshStatus)),this.featureFlipsStore.state$.pipe((0,l.U)(e=>e.featureFlips),(0,p.x)(m.shallowEqualObjects)),this.labsStore.state$.pipe((0,l.U)(e=>e.availableLabs),(0,p.x)(m.shallowEqualObjects))]).pipe((0,h.h)(([e])=>j(e)),(0,l.U)(([,t,r])=>O(t,r)[e.featureFlip]),(0,p.x)(),(0,l.U)(f.Vp))}constructor(e,t,r){this.featureFlipsStore=e,this.featureFlipsRefreshStore=t,this.labsStore=r}}K=(0,i.gn)([(0,g.e)(c.fV),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[U,I,k])],K);class ${execute(){return(0,d.a)([this.featureFlipsRefreshStore.state$.pipe((0,l.U)(e=>e.refreshStatus)),this.labsStore.state$.pipe((0,l.U)(e=>e.availableLabs),(0,p.x)(m.shallowEqualObjects))]).pipe((0,h.h)(([e])=>j(e)),(0,l.U)(([,e])=>(0,f.Vp)(e)))}constructor(e,t){this.labsStore=e,this.featureFlipsRefreshStore=t}}$=(0,i.gn)([(0,g.e)(c._l),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[k,I])],$);class B{async execute(){try{await this.labsService.refreshAvailableLabs()}catch(e){this.logger.error(e)}return(0,f.Vp)(void 0)}constructor(e,t){this.labsService=e,this.logger=t}}B=(0,i.gn)([(0,v.W)(c._x),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===H?Object:H,G])],B);class Q{async execute({body:e}){let{id:t,isActivated:r}=e,s=await this.labsStore.getState(),i={...s,availableLabs:{...s.availableLabs,[t]:{...s.availableLabs[t],isActivated:r}}};return await this.labsStore.set(i),(0,f.Vp)(void 0)}constructor(e){this.labsStore=e}}Q=(0,i.gn)([(0,v.W)(c.YM),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[k])],Q);class Y{onFrameworkInit(){this.featureFlipsStoreLegacy.clearStorage()}constructor(e){this.featureFlipsStoreLegacy=e}}Y=(0,i.gn)([(0,b.ar)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[F])],Y);var J=r(4843);class X{}X=(0,i.gn)([(0,n.Y)({api:c.cV,providers:[w,H,(0,o.d_)(G)],imports:[J.n,a.G],exports:[w],handlers:{commands:{refreshAvailableLabs:B,toggleLab:Q},queries:{userFeatureFlips:z,userFeatureFlip:K,userAvailableLabs:$},events:{...(0,n.g)(u.t$,{activeUserSet:W})}},stores:[F,U,I,k],requiredFeatureFlips:Object.values({AuthsyncExtensionArkRelease:"authsync_extension_ark_release",BBCOM238Duo:"BBCOM-238-duo",CollectionsPageEnabled:"vault_web_collectionpage_dev",SAEXSendSharing:"SAEXSendSharing",DwiMultipleDomainsProd:"dwi_multiple_domains_prod",DisableSecureNotes:"disableSecureNotes",EcommerceWebB2BDiscontinuationDev:"ecommerce_web_b2bDiscontinuation_dev",ItadminSAEXCryptoMigrationPhase3V1:"itadmin_SAEX_CryptoMigration_Phase3_v1",ItadminTacEncryptionserviceSSOmigrationReset:"itadmin_tac_encryptionservice_SSOmigration_reset",SearchRevamp:"onboarding_web_search_revamp_prod",SettingsRevamp:"activationRetention_web_refactor_settings_page_dev",TechWeekWebDisplayLabs:"techWeek_web_displayLabs",TechweekWebAttachmentsForIdsV1:"techweek_web_attachmentsForIds_v1",TechweekWebExpiredLabelforIDDev:"techweek_web_expiredLabelforID_dev",WebplatformWebPrideColors:"webplatform_web_prideColors",WebproductExtensionActivateChangeMasterPasswordRelease:"webproduct_extension_ActivateChangeMasterPassword_release",WebproductExtensionShowUserConsentOptions:"webproduct_extension_ShowUserConsentOptions",SupportMarkdownInSecureNotes:"webproduct_extension_securenotesmarkdown_dev",SharingVaultOtpSetupDev:"sharingVault_web_otp_setup_dev"}),onFrameworkInit:Y,domainName:"framework"})],X)},57626:function(e,t,r){r.d(t,{p:()=>V});var s=r(21636),i=r(48035),n=r(70438),o=r(76592),a=r(37368),c=r(306),u=r(24284),d=r(44577),l=r(94190),p=r(76957),h=r(59982),m=r(68238),y=r(15021),g=r(20458);let v=e=>null!==e&&"object"==typeof e&&"cachedIcons"in e&&null!==e.cachedIcons&&"object"==typeof e.cachedIcons;class f extends(0,h.Q)({persist:!0,storage:{schemaVersion:1,initialValue:{cachedIcons:{}},typeGuard:v},scope:y.F.Device,storeName:"icons-store",capacity:m.Y._100KB,codec:g.E}){}let E=e=>e<0?0:864e5*e,b=(e,t)=>{let r=!1;return(...s)=>{!r&&(r=!0,setTimeout(()=>{r=!1,e(...s)},t))}},S=e=>null!==e&&"object"==typeof e&&"validity"in e&&"updatedAt"in e&&"domainURL"in e,T=e=>null!==e&&"object"==typeof e&&"updatedAt"in e&&"domainURL"in e&&!S(e),w=e=>"valid"===e.validity&&!!e.url,x=(e,t)=>!(e&&Date.now()<e.updatedAt+t),A=e=>e.hash.slice(0,6);var C=r(92503),_=r(59242);class R{async updateIconsCacheEntries(e){let t=await this.store.getState();await this.store.set({...t,cachedIcons:{...t.cachedIcons,...e.reduce((e,t)=>(e[t.domainURL]=t,e),{})}})}async computeDomainHash(e){let t=await this.hasher.compute(new TextEncoder().encode(e),"SHA-256");return(0,p.k)(t)}async fetchIconForDomain(e){let t=await this.computeDomainHash(e);this.domainsToFetch[e]={hash:t,domainURL:e},this.fetchAndRequestDomains()}constructor(e,t,r,s){this.hasher=e,this.serverApiClient=t,this.store=r,this.domainsToFetch=s,this.requestDomains=async e=>{0!==e.length&&this.serverApiClient.v1.icons.requestIcons({domains:e.map(e=>e.domainURL)})},this.fetchDomains=async e=>{let t=e.map(A);return await (0,d.z)(this.serverApiClient.v1.icons.getIcons({hashes:t}))},this.fetchAndRequestDomains=b(async()=>{let e=(await this.store.getState()).cachedIcons,t=Object.values(this.domainsToFetch).filter(t=>{let r=void 0===e[t.domainURL]?void 0:e[t.domainURL],s=T(r)?E(1):E(14);return x(r,s)});if(0===t.length)return;let r=await this.fetchDomains(t),s=(0,c.d6)(r)?(0,c.db)(r).data.icons:[],i=t.map(e=>({...s.find(t=>t.hash===e.hash)||{},hash:e.hash,domainURL:e.domainURL,updatedAt:Date.now()}));await this.updateIconsCacheEntries(i);let n=i.filter(e=>!e.url);await this.requestDomains(n),this.domainsToFetch={}},100)}}R=(0,s.gn)([(0,l.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===C.Z?Object:C.Z,void 0===_.l?Object:_.l,f,"undefined"==typeof DomainsToFetch?Object:DomainsToFetch])],R);class D{execute({body:{domainURL:e}}){return this.iconsService.fetchIconForDomain(e),Promise.resolve((0,c.Vp)(void 0))}constructor(e){this.iconsService=e}}D=(0,s.gn)([(0,a.W)(u.F),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===R?Object:R])],D);var F=r(42589),U=r(81433),P=r(45991),I=r(62506),j=r(94130);class O{execute(e){return this.store.state$.pipe((0,F.U)(t=>{let r=t.cachedIcons[e.body.domainURL];return S(r)&&w(r)?r:null}),(0,U.x)(P.shallowEqualObjects),(0,F.U)(e=>e?(0,c.Vp)(e):(0,c.Rn)((0,j.xF)())))}constructor(e){this.store=e}}O=(0,s.gn)([(0,I.e)(j.el),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[f])],O);var q=r(87253),k=r(4843);class V{}V=(0,s.gn)([(0,i.Y)({api:o.T,imports:[q.D,k.n],providers:[...(0,n.H)(R,{inject:[C.Z,_.l,f],asyncFactory:(e,t,r)=>Promise.resolve(new R(e,t,r,{}))})],stores:[f],handlers:{commands:{fetchIconForDomain:D},events:{},queries:{getIconForDomain:O}}})],V)},88610:function(e,t,r){r.d(t,{B:()=>b});var s=r(21636),i=r(48035),n=r(99481),o=r(90573),a=r(10743);class c extends(0,n.ne)(){}var u=r(31578),d=r(72233),l=r(69853),p=r(81433),h=r(42589),m=r(49247),y=r(62506),g=r(83026),v=r(17741),f=r(306);class E{execute({body:e}){return this.carbon.queries.liveKillSwitch(e.killSwitch).pipe((0,v.nb)({failure:e=>{throw Error("Unexpected failure getting kill switch value from Carbon",{cause:e})},success:u.y}),(0,d.K)(e=>(this.logger.error(e,{useCaseName:"getKillSwitchQuery"}),(0,l.of)(void 0))),(0,p.x)(),(0,h.U)(f.Vp))}constructor(e,t){this.carbon=e,this.logger=t}}E=(0,s.gn)([(0,y.e)(g.K),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===m._?Object:m._,c])],E);class b{}b=(0,s.gn)([(0,i.Y)({api:a.m,providers:[(0,n.d_)(c)],handlers:{commands:{},events:{},queries:{getKillSwitch:E}},imports:[o.G],domainName:"framework"})],b)},38758:function(e,t,r){r.d(t,{T:()=>a});var s=r(21636),i=r(48035),n=r(4843),o=r(303);class a{}a=(0,s.gn)([(0,i.Y)({sharedModuleName:"logging-nodews-adapters",imports:[n.n],providers:[o.T],exports:[o.T],domainName:"framework"})],a)},303:function(e,t,r){r.d(t,{T:()=>y});var s=r(21636),i=r(80511),n=r(12622),o=r(44375),a=r(14873),c=r(46457),u=r(16819),d=r(44577),l=r(306),p=r(85455),h=r(94190),m=r(59242);class y{async process(e){let t=this.partitionLogsByDiagnosticsId(e),r=this.prepareBatches(t),s=(0,o.F)(500).pipe((0,a.o)(()=>r.length>0),(0,c.z)(()=>{let[e]=r.splice(0,1),[t,s]=e;return this.processLogBatch(t,s)}),(0,u.u)((e,t)=>(0,i.Z)([e,t]),{}));return await (0,d.z)(s)}prepareBatches(e){return(0,n.Z)(Object.entries(e).map(([e,t])=>{let r=[],s=Object.keys(t);for(;s.length>0;){let i=s.splice(0,100);r.push([e,i.reduce((e,r)=>(e[r]=t[r],e),{})])}return r}))}async processLogBatch(e,t){let r=Object.values(t).map(this.translateLog),s=await (0,d.z)(this.serverApiClient.v1.monitoring.reportDiagnosticLogs({logs:r,diagnosticsId:e},{timeout:2e3})).catch(e=>(0,l.Rn)(e)),i=e=>Object.keys(t).reduce((t,r)=>(t[r]=e,t),{});return(0,l.f2)(s,{success:()=>i(!0),failure:e=>(console.error("Failed to send diagnostic logs to server",e),i(!1))})}partitionLogsByDiagnosticsId(e){return Object.keys(e).reduce((t,r)=>{let s=e[r],i=s.diagnosticsId in t?t[s.diagnosticsId]:{};return i[r]=s,t[s.diagnosticsId]=i,t},{})}translateLog(e){return{message:e.message,metadata:e.metadata??{},domainName:e.domain??"no-domain",moduleName:e.module,logTimestamp:e.timestamp,severity:(0,p.$S)(e.severity)??"INFO"}}constructor(e){this.serverApiClient=e}}y=(0,s.gn)([(0,h.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===m.l?Object:m.l])],y)},36679:function(e,t,r){r.d(t,{$:()=>m});var s=r(21636),i=r(94190),n=r(41650),o=r(23506),a=r(94520),c=r(544),u=r(73500),d=r(61393),l=r(44577),p=r(42589),h=r(306);class m{async augmentLog(e){let t=await this.safeLoadPlatformInfo(),r=await this.safeGetUserFeatureFlips();return{...e,platformInfo:t,featuresFlipped:r}}async safeLoadPlatformInfo(){if(null!==this.platformInfo)return this.platformInfo;try{this.platformInfo=await this.platformInfoService.getPlatformInfo()}catch(e){this.logger.error("Failed to get platform info, using defaults"),this.platformInfo={platformName:"server_standalone",lang:"unknown",browser:"unknown",country:"unknown",buildType:c.P.PRODUCTION,osCountry:"unknown",osVersion:"unknown",appVersion:"unknown",browserVersion:"unknown",os:"unknown"}}return this.platformInfo}async safeGetUserFeatureFlips(){try{let{queries:{userFeatureFlips:e}}=this.cqrsClient.getClient(u.cV),t=await (0,l.z)(e({noUserErrorOverride:!0}).pipe((0,p.U)(e=>(0,h.d6)(e)?(0,h.db)(e):{})));return Object.entries(t).filter(([e,t])=>!0===t).map(([e,t])=>e)}catch(e){return[]}}constructor(e,t,r,s){this.logger=e,this.platformInfoService=t,this.requestContextClient=r,this.cqrsClient=s,this.platformInfo=null}}m=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.V?Object:n.V,void 0===a.t?Object:a.t,void 0===d.Q?Object:d.Q,void 0===o.w?Object:o.w])],m)},88288:function(e,t,r){r.d(t,{i:()=>p});var s=r(21636),i=r(2401),n=r(48035),o=r(94520),a=r(49247),c=r(62506),u=r(17741),d=r(306);class l{execute(){return this.carbon.queries.getPlatformInfo().pipe((0,u.lk)(d.Vp))}constructor(e){this.carbon=e}}l=(0,s.gn)([(0,c.e)(i.a),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===a._?Object:a._])],l);class p{}p=(0,s.gn)([(0,n.Y)({api:i.J,providers:[o.t],exports:[o.t],handlers:{commands:{},events:{},queries:{platformInfo:l}},domainName:"framework"})],p)},94520:function(e,t,r){r.d(t,{t:()=>d});var s=r(21636),i=r(44577),n=r(94190),o=r(23506),a=r(17741),c=r(649),u=r(6223);class d{getPlatformInfo(){return(0,i.z)(this.client.getClient(u.W).queries.getPlatformInfo().pipe((0,a.nb)({success:e=>e,failure:c.j})))}constructor(e){this.client=e}}d=(0,s.gn)([(0,n.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o.m?Object:o.m])],d)},39637:function(e,t,r){r.d(t,{c:()=>d});var s=r(21636),i=r(94190),n=r(306),o=r(49247),a=r(83533),c=r(56547);let u=e=>"object"==typeof e&&null!==e&&Object.entries(e).some(([e,t])=>"decipheredFile"===e&&t instanceof ArrayBuffer);class d extends c.tI{async decipher(e,t){let{carbon:r}=this.carbonLegacyClient.commands,s=await r({name:"decipherRemoteFile",args:[{cipheredFileContent:e,fileMetaData:t}]});if((0,n.hx)(s))return(0,n.Rn)(a.RemoteFileUpdateError.DecipherError);let{carbonResult:i}=(0,n.db)(s);return u(i)?(0,n.Vp)(i.decipheredFile):(0,n.Rn)(a.RemoteFileUpdateError.DecipherError)}constructor(e){super(),this.carbonLegacyClient=e}}d=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===o._?Object:o._])],d)},88518:function(e,t,r){r.d(t,{Q:()=>c});var s=r(21636),i=r(94190),n=r(44577),o=r(79021),a=r(23596);class c{publish(e){(0,n.z)(this.publishSubscriber).then(t=>t.next(e))}fileSubscription(e){return this.filesToCheck={...this.filesToCheck,...e},this.updatedFileStream$}getFilesToCheck(){return this.filesToCheck}constructor(){this.filesToCheck={},this.publishSubscriber=new o.t,this.updatedFileStream$=new a.y(e=>{this.publishSubscriber.next(e),this.publishSubscriber.complete()})}}c=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[])],c)},37662:function(e,t,r){r.d(t,{P:()=>E});var s=r(21636),i=r(306),n=r(17741),o=r(70554),a=r(83533),c=r(94190),u=r(90423),d=r(69853),l=r(44577),p=r(42589),h=r(56547),m=r(7878),y=r(27472),g=r(59242);let v=e=>"fileInfos"in e&&Object.values(e.fileInfos).every(e=>"object"==typeof e&&null!==e&&"status"in e&&void 0!==e.status&&null!==e.status&&m.PQ.has(e.status)),f=e=>e[1].status===m.nQ;class E extends h.gG{async downloadRemoteFileUpdate(e){if(0===Object.keys(e.files).length)return[];let t=await this._getFileMeta(e);return(0,i.hx)(t)?[(0,d.of)(t)]:this._retrieveFilesFromServer((0,i.db)(t))}_getFileMeta(e){return(0,l.z)(this.serverApiClient.v1.file.getFileMetaV2(e).pipe((0,p.U)(e=>{if((0,i.hx)(e))return(0,i.Rn)(a.RemoteFileUpdateError.ServerError);let t=(0,i.db)(e);return v(t.data)?(0,i.Vp)(t.data.fileInfos):(0,i.Rn)(a.RemoteFileUpdateError.ServerError)})))}_retrieveFilesFromServer(e){return Object.entries(e).filter(f).map(([e,t])=>this._getBufferFromURL(e,t))}_getBufferFromURL(e,t){return this.httpClient.get(t.url,{observe:"body",responseType:"arraybuffer"}).pipe((0,n.Qn)(this._handleSuccess(e,t)),(0,n.DZ)(this._handleFailure))}_handleFailure(e){return(0,o.EQ)(e,{BadStatus:e=>e.response.status===y.W.NotModified?m.ek:a.RemoteFileUpdateError.DownloadError,FetchFailedError:()=>a.RemoteFileUpdateError.DownloadError})}_handleSuccess(e,t){return r=>({fileName:e,buffer:r,updatedFile:t})}constructor(e,t){super(),this.httpClient=e,this.serverApiClient=t}}E=(0,s.gn)([(0,c.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===u.e?Object:u.e,void 0===g.l?Object:g.l])],E)},33438:function(e,t,r){r.d(t,{u:()=>l,w:()=>d});var s=r(41650),i=r(8018),n=r(56144),o=r(42589),a=r(60025),c=r(48194),u=r(88518);class d{initFileObservation(){this.newlyUpdatedFiles$.subscribe(this._handleRFUDownload.bind(this))}streamFileUpdate(){return this.store.state$.pipe((0,n.h)(e=>0!==e.revision),(0,o.U)(e=>e.data),(0,n.h)(e=>this.settings.typeguard(e)))}async _handleRFUDownload(e){let{fileName:t}=this.settings;if(!(t in e))return;let r=e[t],s=this.jsonSerializerCodec.decode(r.buffer);this.settings.typeguard(s)&&(await this.store.set({filename:r.fileName,data:s,revision:r.revision,lastDownloadTimestamp:r.lastDownloadTimestamp}),this.rfuDispatcher.fileSubscription({[t]:r.revision}))}constructor(e,t,r,s){this.settings=e,this.store=t,this.appLogger=r,this.rfuDispatcher=s;let{fileName:n}=e;this.jsonSerializerCodec=new i.b,this.newlyUpdatedFiles$=(0,a.P)(async()=>({[n]:(await this.store.getState()).revision})).pipe((0,c.z)(e=>this.rfuDispatcher.fileSubscription(e)))}}function l(e){return{token:d,asyncFactory:(t,r,s)=>Promise.resolve(new d(e,t,r,s)),inject:[e.storeClass,s.V,u.Q]}}},64247:function(e,t,r){r.d(t,{Q:()=>y});var s=r(21636),i=r(94190),n=r(33438),o=r(25072),a=r(59982),c=r(68238),u=r(20458),d=r(15021);let l=e=>"object"==typeof e&&null!==e&&"filename"in e&&null!==e.filename&&void 0!==e.filename&&"string"==typeof e.filename&&"revision"in e&&null!==e.revision&&void 0!==e.revision&&"number"==typeof e.revision,p=e=>({filename:e,revision:0,data:{},lastDownloadTimestamp:Date.now()}),h=e=>class extends(0,a.Q)({storeName:"RFUStore",persist:!0,storage:{schemaVersion:1,initialValue:p(e),typeGuard:l},codec:u.E,storeTypeGuard:l,capacity:c.Y._010KB,scope:d.F.Device,isCache:!0}){};class m{onFrameworkInit(){this.rfuClient.initFileObservation()}constructor(e){this.rfuClient=e}}m=(0,s.gn)([(0,i.ar)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.w?Object:n.w])],m);let y=(e,t)=>{let r=h(e);return{providers:[(0,n.u)({fileName:e,storeClass:r,typeguard:t})],onFrameworkInit:[m],imports:[o.Q],stores:[r]}}},56547:function(e,t,r){r.d(t,{gG:()=>s,pF:()=>n,tI:()=>i});class s{}class i{}class n{}},25072:function(e,t,r){r.d(t,{Q:()=>v});var s=r(21636),i=r(48035),n=r(79869),o=r(15021),a=r(37662),c=r(94190),u=r(88518),d=r(56547);class l{run(){let e=this.dispatcherService.getFilesToCheck();this.remoteFileUpdateService.observeRemoteFileUpdates(e).subscribe(e=>{this.dispatcherService.publish(e)}),this.remoteFileUpdateService.downloadAndDecipherRemoteFiles()}constructor(e,t){this.remoteFileUpdateService=e,this.dispatcherService=t}}l=(0,s.gn)([(0,c.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===d.pF?Object:d.pF,void 0===u.Q?Object:u.Q])],l);var p=r(39637),h=r(38164),m=r(5767),y=r(4843),g=r(36703);class v{static configure(e,t,r){return{module:v,configurations:{remoteFileUpdateInfrastructure:e,remoteFileUpdateDownloaderInfrastructure:t,decipherInfrastructure:r}}}}v=(0,s.gn)([(0,i.Y)({sharedModuleName:"RemoteFileUpdateModule",configurations:{remoteFileUpdateInfrastructure:{token:d.pF},remoteFileUpdateDownloaderInfrastructure:{token:d.gG},decipherInfrastructure:{token:d.tI}},crons:[{handler:l,periodInMinutes:30,name:"RFUCron",scope:o.F.User}],providers:[h.U,p.c,a.P,u.Q],imports:[m.k,n.X,y.n,g.I],exports:[h.U,p.c,a.P,u.Q],domainName:"framework"})],v)},38164:function(e,t,r){r.d(t,{U:()=>E});var s=r(21636),i=r(94190),n=r(23506),o=r(306),a=r(86378),c=r(48194),u=r(42589),d=r(44577),l=r(79021),p=r(23596),h=r(39523),m=r(39637),y=r(37662),g=r(56547),v=r(7878),f=r(83533);class E extends g.pF{observeRemoteFileUpdates(e){return this._filesToCheck={files:{...this._filesToCheck.files,...e}},this._downloadedFileStream$}async downloadAndDecipherRemoteFiles(){let e=(await this.rfuDownloaderService.downloadRemoteFileUpdate(this._filesToCheck)).map(e=>this._downloadAndDecipherSingleFile(e));(0,a.D)(e).subscribe(e=>{let t=e.reduce((e,t)=>{if((0,o.hx)(t)){let r=(0,o.Yv)(t);return r===v.ek||this.sendRFUEvents(f.FlowStep.Error,r),e}let r=(0,o.db)(t);return this.sendRFUEvents(f.FlowStep.Complete),{...e,[r.fileName]:r}},{});this._callEmitDownloadedFilesUpdate(t)})}async _applyDecipheringStep(e){let t=e.updatedFile.key?await this.rfuDecipheringService.decipher(e.buffer,e.updatedFile):(0,o.Vp)(e.buffer);return(0,o.d6)(t)?(0,o.Vp)({...e,buffer:(0,o.db)(t)}):t}_downloadAndDecipherSingleFile(e){return e.pipe((0,c.z)(e=>(0,o.d6)(e)?this._applyDecipheringStep((0,o.db)(e)):Promise.resolve(e)),(0,u.U)(e=>{if((0,o.hx)(e))return e;let{fileName:t,updatedFile:r,buffer:s}=(0,o.db)(e);return(0,o.Vp)({fileName:t,revision:r.revision,buffer:s,lastDownloadTimestamp:Date.now()})}))}_callEmitDownloadedFilesUpdate(e){return(0,d.z)(this._emitDownloadedFilesUpdate$).then(t=>{t(e)})}sendRFUEvents(e,t){let{trackEvent:r}=this.cqrsClient.getClient(h.Yu).commands;r({event:new f.UserReceiveRemoteFileUpdateEvent({flowStep:e,remoteFileUpdateError:t,packageSource:f.PackageSource.Graphene})})}constructor(e,t,r){super(),this.rfuDownloaderService=e,this.rfuDecipheringService=t,this.cqrsClient=r,this._filesToCheck={files:{}},this._emitDownloadedFilesUpdate$=new l.t,this._downloadedFileStream$=new p.y(e=>{this._emitDownloadedFilesUpdate$.next(t=>{e.next(t)}),this._emitDownloadedFilesUpdate$.complete()})}}E=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===y.P?Object:y.P,void 0===m.c?Object:m.c,void 0===n.w?Object:n.w])],E)},7878:function(e,t,r){r.d(t,{PQ:()=>i,ek:()=>n,nQ:()=>s});let s="update_available",i=new Set([s,"not_updated","not_found","error_server"]),n="not_modified"},41809:function(e,t,r){r.d(t,{u8:()=>R});var s=r(21636),i=r(44577),n=r(56144),o=r(42589),a=r(81433),c=r(92291),u=r(63158),d=r(84408),l=r(97512),p=r(94190),h=r(90423),m=r(91978),y=r(41650),g=r(8018),v=r(55466),f=r(91986),E=r(45890),b=r(306);let S=e=>{let t="",r="";try{t=JSON.stringify({manifestVersion:e.platformInfo?.manifestVersion,buildType:e.platformInfo?.buildType,browser:e.platformInfo?.browser,browserVersion:e.platformInfo?.browserVersion,osVersion:e.platformInfo?.osVersion,...e.origin&&{origin:e.origin},cause:e.cause,domain:e.domain??"unknown",module:e.module??"unknown",useCaseName:e.useCaseName??"unknown",useCaseId:e.useCaseId??"unknown",sessionId:e.sessionId}),r=JSON.stringify(e.useCaseStacktrace)}catch(e){}return{action:"logOnline",message:e.message,stack:e.callStack,exceptionType:e.exceptionType??"grapheneException",file:e.fileLocation,additionalInfo:t,initialUseCaseModule:e.module,initialUseCaseName:e.useCaseName,initialUseCaseStacktrace:r,featureFlips:e.featuresFlipped??[],code:function(e){switch(e){case l.Tr.CRITICAL:return 2;case l.Tr.WARNING:return 1}}(e.criticality)}},T={"Content-Type":"application/json"},w=e=>!!e&&"object"==typeof e&&"entry"in e&&"id"in e&&"date"in e&&"string"==typeof e.id&&"number"==typeof e.date&&(0,l.hE)(e.entry),x=".graphene.exceptionLogs",A=new g.b,C=new class{decode(e){if(this.typeGuard(e))return e;throw Error("Bad type")}encode(e){return e}constructor(e){(0,v._)(this,"typeGuard",void 0),this.typeGuard=e}}(e=>!!e&&"object"==typeof e&&(0===Object.keys(e).length||Object.keys(e).every(e=>"string"==typeof e)&&Object.values(e).every(e=>w(e)))),_=new f.z;class R{async logException(e){console.error(e);let t=e.message.length?e.message:"UNKNOWN_EXCEPTION";if(t in this.logExceptionsCount){let e=this.logExceptionsCount[t];if(10===e)return Promise.resolve();this.logExceptionsCount[t]=e+1}else this.logExceptionsCount[t]=1;let r=await this.enqueue(e);await (0,i.z)(this.queue$.pipe((0,n.h)(e=>!(r in e)||!!e[r].error)))}async start(){await this.loadQueue();let e=this.queue$.pipe((0,o.U)(e=>Object.keys(e)),(0,a.x)((e,t)=>t.every(t=>e.includes(t))),(0,c.b)(()=>this.processQueue()),(0,u.X)({delay:6e4})).subscribe();return{stop:async()=>{e.unsubscribe(),await this.saveQueue()}}}async ignoreError(e){try{return await e(),!0}catch(e){return this.logger.error(Error("Failed to send exception log",{cause:e instanceof Error&&e.cause?e.cause:e})),!1}}async saveQueue(){await this.ignoreError(async()=>{let e=await this.codec.encode(this.queue$.value);await this.kvStore.set(x,e)})}async loadQueue(){await this.ignoreError(async()=>{let e=await this.kvStore.get(x);if(!e||""===e){this.queue$.next({});return}let t=await this.codec.decode(e),r=Date.now()-864e5;for(let e of Object.keys(t))t[e].date<r&&delete t[e];this.queue$.next(t)})}async enqueue(e){let t={date:Date.now(),entry:e,id:`${Date.now()}-${Math.random()}`};return this.queue$.value[t.id]=t,await this.saveQueue(),this.queue$.next(this.queue$.value),t.id}async processQueue(){for(;Object.keys(this.queue$.value).length>0;){let e=Object.keys(this.queue$.value)[0],t=this.queue$.value[e];if(await this.ignoreError(async()=>{let{platformInfo:e}=t.entry,r=await (0,i.z)(this.httpClient.post(this.url,S(t.entry),{headers:{...T,...e&&{"dashlane-client-agent":JSON.stringify({platform:e.platformName,version:e.appVersion})}},observe:"response"}));if(!(0,b.d6)(r))throw Error("Failed to send a log",{cause:(0,b.Yv)(r)})}))delete this.queue$.value[e];else throw this.queue$.value[e].error=!0,this.queue$.next(this.queue$.value),Error("failed to send an item from the queue");await this.saveQueue()}this.queue$.next(this.queue$.value)}constructor(e,t,r){this.httpClient=e,this.kvStore=t,this.logger=r,this.queue$=new d.X({}),this.logExceptionsCount={},this.url="https://api.dashlane.com/v1/monitoring/ReportClientException",this.codec=(0,E.x)(_,A,C)}}R=(0,s.gn)([(0,p.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===h.e?Object:h.e,void 0===m.QI?Object:m.QI,void 0===y.V?Object:y.V])],R)},36085:function(e,t,r){r.d(t,{F:()=>a});var s=r(21636),i=r(48035),n=r(79869),o=r(41809);class a{static configure(){return{module:a}}}a=(0,s.gn)([(0,i.Y)({sharedModuleName:"software-exception-sink",imports:[n.X],providers:[o.u8],exports:[o.u8],domainName:"framework"})],a)},79954:function(e,t,r){r.d(t,{Y:()=>T});var s=r(21636),i=r(48035),n=r(83114),o=r(27714),a=r(15021),c=r(59982),u=r(68238),d=r(20458),l=r(51721);let p=e=>!!e&&(0,l.K)(e)&&"theme"in e&&(0,o.u)(e.theme);class h extends(0,c.Q)({storage:{schemaVersion:1,initialValue:{theme:"light"},typeGuard:p},persist:!0,isCache:!0,scope:a.F.Device,storeName:"ui-settings",capacity:u.Y._001KB,codec:d.E}){}var m=r(37368),y=r(306),g=r(82532);class v{async execute({body:e}){return await this.store.set({theme:e}),(0,y.Vp)(void 0)}constructor(e){this.store=e}}v=(0,s.gn)([(0,m.W)(g.B),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[h])],v);var f=r(42589),E=r(62506),b=r(98837);class S{execute(){return this.store.state$.pipe((0,f.U)(e=>(0,y.Vp)(e.theme)))}constructor(e){this.store=e}}S=(0,s.gn)([(0,E.e)(b.n),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[h])],S);class T{}T=(0,s.gn)([(0,i.Y)({api:n.Z,handlers:{commands:{setTheme:v},events:{},queries:{getTheme:S}},stores:[h],requiredFeatureFlips:Object.values(o.H)})],T)},74234:function(e,t,r){r.d(t,{t:()=>u});var s=r(20458),i=r(15021),n=r(59982),o=r(68238);let a={drift:null},c=e=>!!e&&"object"==typeof e&&"drift"in e&&(null===e.drift||"number"==typeof e.drift);class u extends(0,n.Q)({storeTypeGuard:c,storeName:"clocksync",storage:{initialValue:a,schemaVersion:1,typeGuard:c},scope:i.F.Device,isCache:!0,persist:!0,capacity:o.Y._001KB,codec:s.E}){}},36564:function(e,t,r){r.d(t,{E:()=>eV,F:()=>eN});var s=r(21636),i=r(44577),n=r(41509),o=r(94190),a=r(90423),c=r(55466),u=r(69853),d=r(63158),l=r(72233),p=r(92291),h=r(42589),m=r(17741),y=r(306),g=r(70554),v=r(20346),f=r(81090),E=r(27472),b=r(83377),S=r(96272);function T(e,t){return class extends(0,S.Hu)(e,t){constructor(e,t){super(),(0,c._)(this,"requestId",void 0),(0,c._)(this,"error",void 0),this.requestId=e,this.error=t}}}class w extends T("BusinessError","Service responded with a business error"){constructor(e,t,r,s){super(t,s),(0,c._)(this,"code",void 0),(0,c._)(this,"businessMessage",void 0),this.code=e,this.businessMessage=r}}class x extends T("OutOfBoundsTimestamp","Client clock is not synced with server clock"){}class A extends T("RateLimited","Request was throttled by Dashlane API rate limiting setup"){}class C extends T("InvalidRequest","The request sent by the client was invalid in its content or shape"){}class _ extends T("ServiceUnavailable","The requested endpoint is unavailable temporarily"){}class R extends T("InternalServerError","The server is having an internal issue"){}class D extends(0,S.Hu)("UnspecifiedBadStatus","A non-succesful response"){constructor(e){super(),(0,c._)(this,"response",void 0),this.response=e}}var F=r(90385),U=r(83463),P=r(53777),I=r(87169),j=r(76957);function O(e){let t=(0,P.N)(e);return(0,I.u)(t)}async function q(e,t){let r=await e.compute(O(t),"SHA-256");return(0,j.k)(r)}function k(e){return e.replace(/[^A-Za-z0-9_.~\\-]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())}function V(e,t){return e.localeCompare(t,"en",{numeric:!0})}function N(e){return e.map(e=>e.toLowerCase())}class L{async canonicalizeRequest(e,t){var r;let{makeCanonicalBody:s,makeCanonicalURI:i,makeCanonicalQueryString:n,makeCanonicalHeadersString:o,makeSignedHeaderNamesString:a}=L,{body:c,headers:u,method:d,url:l,params:p}=e,h=new U.Y(l).getHostname(),m=l.indexOf(h),y=l.substring(m+h.length),g=s(c),v=await q(this.secureHasher,g),f=t?N(t):void 0,E=f?(r=N(u.keys()),f.length?r.filter(e=>!f.includes(e)):r):[],b=u.deleteMultiple(E),S=i(y),T=n(p),w=o(b),x=a(b);return{canonicalRequest:[d,S,T,w,x,v].join("\n"),signedHeaderNames:x}}static makeCanonicalURI(e){return e.split("/").map(e=>k(e)).join("/")}static makeCanonicalQueryStringPair(e,t){let r=k(e),s=Array.isArray(t)?t:[t],i=e=>k(e),n=e=>[r,e];return s.sort(V).map(e=>n(i(e)))}static makeCanonicalQueryString(e){let t=([e,t])=>L.makeCanonicalQueryStringPair(e,t);return e.keys().map(r=>`${t([r,e.getAll(r)??[]]).map(e=>e.join("=")).join("&")}`).sort(V).join("&")}static makeCanonicalHeadersString(e){let t=(e,t)=>`${e.toLowerCase()}:${t.trim().replace(/\s+/g," ")}
`;return e.keys().map(r=>t(r,e.get(r))).sort(V).join("")}static makeSignedHeaderNamesString(e){return e.keys().map(e=>e.toLowerCase()).sort(V).join(";")}static makeCanonicalBody(e){return e?JSON.stringify(e):""}constructor(e){(0,c._)(this,"secureHasher",void 0),this.secureHasher=e}}let M="DL1-HMAC-SHA256";class H{async signRequest(e,t,r){let s=[M,t,await q(this.secureHasher,e)].join("\n"),i=this.getFinalSecretKey(r),n=(0,I.u)(i),o=O(s),a=await this.hmacSigner.sign(n,o);return(0,j.k)(a)}getFinalSecretKey(e){let{appSecretKey:t}=e;switch(e.type){case b.d.APP:return t;case b.d.USER_DEVICE:{let{deviceSecretKey:r}=e;return`${t}
${r}`}case b.d.SESSION:{let{sessionSecretKey:r}=e;return`${t}
${r}`}case b.d.TEAM_DEVICE:{let{teamDeviceSecretKey:r}=e;return`${t}
${r}`}case b.d.EXTERNAL:{let{tokenSecretKey:r}=e;return`${t}
${r}`}case b.d.BACK_OFFICE:return t;case b.d.MASS_DEPLOYED_TEAM_KEY:{let{massDeployedTeamSecretKey:r}=e;return`${t}
${r}`}default:(0,F.U)(e)}}constructor(e,t){(0,c._)(this,"hmacSigner",void 0),(0,c._)(this,"secureHasher",void 0),this.hmacSigner=e,this.secureHasher=t}}class G{async prepareRequestForAuthorization(e,t){if(t.type===b.d.CUSTOM)throw Error("Unexpected credentials type provided to standard auth method");let r=this.addHostHeader(e),{canonicalRequest:s,signedHeaderNames:i}=await this.canonicalizationService.canonicalizeRequest(r),n=await this.clockDriftService.getDriftCorrectedTimestamp(),o=await this.signatureService.signRequest(s,n,t),a=this.buildAuthorizationHeader(t,n,i,o);return this.addAuthorizationHeader(e,a)}addHostHeader(e){let t=new U.Y(e.url).getHostname(),r=e.headers.append("host",t);return e.clone({headers:r})}addAuthorizationHeader(e,t){let r=e.headers.append("authorization",t);return e.clone({headers:r})}buildAuthorizationHeader(e,t,r,s){let{appAccessKey:i}=e;switch(e.type){case b.d.APP:return M+" "+`AppAccessKey=${i},Timestamp=${t},SignedHeaders=${r},Signature=${s}`;case b.d.USER_DEVICE:{let{login:n,deviceAccessKey:o}=e;return M+" "+`Login=${n},AppAccessKey=${i},DeviceAccessKey=${o},Timestamp=${t},SignedHeaders=${r},Signature=${s}`}case b.d.SESSION:{let{deviceAccessKey:n,login:o,sessionAccessKey:a}=e;return M+" "+`Login=${o},AppAccessKey=${i},SessionAccessKey=${a},DeviceAccessKey=${n},Timestamp=${t},SignedHeaders=${r},Signature=${s}`}case b.d.TEAM_DEVICE:{let{teamDeviceAccessKey:n,teamUuid:o}=e;return M+" "+`TeamUuid=${o},AppAccessKey=${i},DeviceAccessKey=${n},Timestamp=${t},SignedHeaders=${r},Signature=${s}`}case b.d.BACK_OFFICE:return M+" "+`Backoffice,AppAccessKey=${i},Timestamp=${t},SignedHeaders=${r},Signature=${s}`;case b.d.EXTERNAL:{let{tokenAccessKey:n}=e;return M+" "+`AppAccessKey=${i},TokenAccessKey=${n},Timestamp=${t},SignedHeaders=${r},Signature=${s}`}case b.d.MASS_DEPLOYED_TEAM_KEY:{let{massDeployedTeamAccessKey:n}=e;return M+" "+`AppAccessKey=${i},MassDeployedTeamAccessKey=${n},Timestamp=${t},SignedHeaders=${r},Signature=${s}`}default:(0,F.U)(e)}}constructor(e,t,r){(0,c._)(this,"signatureService",void 0),(0,c._)(this,"canonicalizationService",void 0),(0,c._)(this,"clockDriftService",void 0),this.signatureService=new H(t,e),this.canonicalizationService=new L(e),this.clockDriftService=r}}class W{decode(e){return e}constructor(e){(0,c._)(this,"descriptor",void 0),this.descriptor=e}}class z{decode(e){return e}constructor(e){(0,c._)(this,"descriptor",void 0),this.descriptor=e}}class K{executeRequest(e){let{body:t,credentials:r,options:s}=e;return(0,u.of)(this.initHttpRequest(t,s)).pipe((0,p.b)(this.prepareRequestForAuthorization(r)),(0,p.b)(this.sendHttpRequest),(0,m.RW)({success:this.handleSuccess,failure:this.handleFailure}),(0,h.U)(this.assertReturnType),(0,d.X)({count:1,delay:this.notifyWhenClockDriftErrorCompensated}))}getCustomAuthPreparationClass(){throw Error("Unsupported custom authorization level")}getSigningCredentials(e,t){if(e===b.d.APP||e===b.d.BACK_OFFICE){if(t)throw Error("Superfluous credentials provided");return{type:e,...this.config.appKeys}}if(e===b.d.SESSION){if(!t||!("object"==typeof t&&"login"in t&&"string"==typeof t.login&&"deviceAccessKey"in t&&"string"==typeof t.deviceAccessKey&&"sessionAccessKey"in t&&"string"==typeof t.sessionAccessKey&&"sessionSecretKey"in t&&"string"==typeof t.sessionSecretKey))throw Error("Invalid session credentials provided");return{type:e,...this.config.appKeys,...t}}if(e===b.d.TEAM_DEVICE){if(!t||!("object"==typeof t&&"teamUuid"in t&&"string"==typeof t.teamUuid&&"teamDeviceAccessKey"in t&&"string"==typeof t.teamDeviceAccessKey&&"teamDeviceSecretKey"in t&&"string"==typeof t.teamDeviceSecretKey))throw Error("Invalid team device credentials provided");return{type:e,...this.config.appKeys,...t}}if(e===b.d.USER_DEVICE){if(!t||!("object"==typeof t&&"login"in t&&"string"==typeof t.login&&"deviceAccessKey"in t&&"string"==typeof t.deviceAccessKey&&"deviceSecretKey"in t&&"string"==typeof t.deviceSecretKey))throw Error("Invalid user device credentials provided");return{type:e,...this.config.appKeys,...t}}if(e===b.d.EXTERNAL){if(!t||!("object"==typeof t&&"tokenAccessKey"in t&&"string"==typeof t.tokenAccessKey&&"tokenSecretKey"in t&&"string"==typeof t.tokenSecretKey))throw Error("Invalid external credentials provided");return{type:e,...this.config.appKeys,...t}}else if(e===b.d.MASS_DEPLOYED_TEAM_KEY){if(!t||!(t&&"object"==typeof t&&"massDeployedTeamAccessKey"in t&&"string"==typeof t.massDeployedTeamAccessKey&&"massDeployedTeamSecretKey"in t&&"string"==typeof t.massDeployedTeamSecretKey))throw Error("Invalid mass deployed team key credentials provided");return{type:e,...this.config.appKeys,...t}}return{type:e,...t??{},...this.config.appKeys}}assertReturnType(e){return e}constructor(e,t,r,s,i,n){(0,c._)(this,"httpClient",void 0),(0,c._)(this,"standardAuthPreparationService",void 0),(0,c._)(this,"clockDriftService",void 0),(0,c._)(this,"config",void 0),(0,c._)(this,"descriptor",void 0),(0,c._)(this,"successBodyDecoder",void 0),(0,c._)(this,"failureBodyDecoder",void 0),(0,c._)(this,"initHttpRequest",(e,t)=>{let{method:r,path:s,version:i}=this.descriptor,{baseUrl:n,platformInfo:o}=this.config,a=n.endsWith("/")?n:`${n}/`,c=`${a}${i}/${s}`,u=t?.headers?t.headers:{},d=new v.W({accept:this.descriptor.requestAcceptHeader??"application/json","content-type":"application/json; charset=UTF-8","dashlane-client-agent":JSON.stringify({platform:o.platformName,version:o.version,osversion:o.osversion,language:o.language}),...u});return new f.a(r,c,e,{...t,headers:d})}),(0,c._)(this,"prepareRequestForAuthorization",e=>async t=>{let r;if(this.descriptor.authType===b.d.NONE)return t;r=this.descriptor.authType===b.d.CUSTOM?new(this.getCustomAuthPreparationClass()):this.standardAuthPreparationService;let s=this.getSigningCredentials(this.descriptor.authType,e);return await r.prepareRequestForAuthorization(t,s)}),(0,c._)(this,"sendHttpRequest",e=>this.httpClient.request(e)),(0,c._)(this,"handleSuccess",async e=>{if("arraybuffer"===this.descriptor.responseType)return(0,y.Vp)(await e.arrayBuffer());if("text"===this.descriptor.responseType)return(0,y.Vp)(await e.text());let t=await e.json(this.successBodyDecoder);return(0,y.Vp)(t)}),(0,c._)(this,"handleFailure",async e=>await (0,g.EQ)(e,{BadStatus:this.handleBadStatus,FetchFailedError:e=>Promise.resolve((0,y.Rn)(e))})),(0,c._)(this,"handleBadStatus",async e=>{let{response:t}=e;if(t.status===E.W.BadRequest){let{errors:e,requestId:r}=await t.json(this.failureBodyDecoder),s=e[0];if("business_error"===s.type){let{code:e,message:t}=s;return(0,y.Rn)(new w(e,r,t,s))}if("invalid_request_error"===s.type&&"out_of_bounds_timestamp"===s.code)throw new x(r,s);return(0,y.Rn)(new C(r,s))}if(t.status===E.W.InternalServerError){let{errors:e,requestId:r}=await t.json(this.failureBodyDecoder);return(0,y.Rn)(new R(r,e[0]))}if(t.status===E.W.ServiceUnavailable){let{errors:e,requestId:r}=await t.json(this.failureBodyDecoder);return(0,y.Rn)(new _(r,e[0]))}if(t.status===E.W.TooManyRequests){let{errors:e,requestId:r}=await t.json(this.failureBodyDecoder);return(0,y.Rn)(new A(r,e[0]))}return(0,y.Rn)(new D(t))}),(0,c._)(this,"notifyWhenClockDriftErrorCompensated",e=>{if(!(e instanceof x))throw e;return this.clockDriftService.refresh().pipe((0,l.K)(()=>{throw e}))}),this.httpClient=e,this.standardAuthPreparationService=new G(t,r,s),this.clockDriftService=s,this.config=i,this.descriptor=n,this.successBodyDecoder=new W(n),this.failureBodyDecoder=new z(n)}}class ${createExecutor(e){return new K(this.httpClient,this.secureHasher,this.hmacSigner,this.clockDriftService,this.config,e)}constructor(e,t,r,s,i){(0,c._)(this,"httpClient",void 0),(0,c._)(this,"clockDriftService",void 0),(0,c._)(this,"secureHasher",void 0),(0,c._)(this,"hmacSigner",void 0),(0,c._)(this,"config",void 0),this.httpClient=e,this.clockDriftService=s,this.secureHasher=t,this.hmacSigner=r,this.config=i}}class B{async getDriftCorrectedTimestamp(){let e=await this.timeSyncStore.getServerToClientClockDrift()??0;return Math.round(this.getUnixTimestamp()-e)}refresh(){return this.serverClockService.getServerTime().pipe((0,h.U)(this.mapServerTimestampToClockDrift.bind(this)),(0,p.b)(this.storeUpdatedClockDrift.bind(this)))}mapServerTimestampToClockDrift(e){let{timestamp:t}=e;return this.getUnixTimestamp()-t}async storeUpdatedClockDrift(e){await this.timeSyncStore.storeServerToClientClockDrift(e)}getUnixTimestamp(){return Math.round(Date.now()/1e3)}constructor(e,t){(0,c._)(this,"timeSyncStore",void 0),(0,c._)(this,"serverClockService",void 0),this.timeSyncStore=e,this.serverClockService=t}}var Q=r(57343);class Y{getServerTime(){if(!this.executorFactory)throw Error("No request executor factory");return new Q.q(this.executorFactory).getRemoteTime({}).pipe((0,m.nb)({success:e=>({timestamp:e.data.timestamp}),failure:e=>{throw e}}))}setExecutorFactory(e){this.executorFactory=e}constructor(){(0,c._)(this,"executorFactory",void 0)}}var J=r(94520);class X{async getServerToClientClockDrift(){let{drift:e}=await this.store.getState();return e}storeServerToClientClockDrift(e){return this.store.update(()=>({drift:e}))}constructor(e){this.store=e}}var Z=r(22379),ee=r(74234),et=r(96553),er=r(37261),es=r(10712),ei=r(82076),en=r(62004),eo=r(63942),ea=r(73603),ec=r(25929),eu=r(12795),ed=r(67561),el=r(72105),ep=r(27376),eh=r(15141),em=r(18691),ey=r(2037),eg=r(25357),ev=r(67435),ef=r(90259),eE=r(18770),eb=r(45842),eS=r(75551),eT=r(67055),ew=r(25559),ex=r(45427),eA=r(40904),eC=r(88714),e_=r(59866),eR=r(8539);let eD={v1:{account:et.m,accountrecovery:er.u,authentication:es.V,communication:ei.g,darkwebmonitoring:en.D,devices:eo.u,familyplan:ea.e,features:ec.A,feedback:eu.x,file:ed.$,icons:el.P,integration:ep.Y,invitation:eh.R,massdeployment:em.W,monitoring:ey.C,partners:eg.w,payments:ev.H,premium:ef.j,pwleak:eE.J,sharingUserdevice:eb.b,secretTransfer:eS.V,securefile:eT.V,sync:ew.f,teams:ex.p,time:Q.q,user:eA.n,useractivity:eC.V,userconsents:e_.G,vpn:eR.V}};var eF=r(55559),eU=r(92503);let eP="CF-Access-Client-Id",eI="CF-Access-Client-Secret";class ej{intercept(e,t){if(e.url.startsWith("https://api.dashlane.com/")||!this.cloudflareKeys)return t(e);if(!e.headers.has(eP)&&!e.headers.has(eI)){let{cloudflareAccessKey:r,cloudflareSecretKey:s}=this.cloudflareKeys;return t(e.clone({headers:e.headers.set(eP,r).set(eI,s)}))}return t(e)}constructor(e){this.cloudflareKeys=e,this.id="ServerApiForStagingInterceptor"}}var eO=r(81754),eq=r(544),ek=r(95934);class eV{async init(){let{clockDriftStore:e,serverApiSettings:t,secureHasher:r,httpClient:s,hmacSigner:i}=this,n=new X(e),o=await this.platformInfoService.getPlatformInfo(),{appKeys:a}=t,{baseUrl:c,cloudflareKeys:u}=await this.initOverridableConfig(t,o.buildType);this.baseUrl=c,s.addInterceptor(new ej(u));let d=function(e){let{apis:t,config:r,secureHasher:s,httpClient:i,hmacSigner:n,timeSyncStore:o}=e,a=new Y,c=new B(o,a),u=new $(i,s,n,c,r);return a.setExecutorFactory(u),{refreshClockDrift:()=>c.refresh(),v1:Object.keys(t.v1).reduce((e,r)=>{let s=t.v1[r];return e[r]=new s(u),e},{})}}({secureHasher:r,httpClient:s,timeSyncStore:n,hmacSigner:i,apis:eD,config:{appKeys:a,baseUrl:this.baseUrl,platformInfo:{platformName:o.platformName,version:o.appVersion||"unknown",osversion:o.osVersion||"unknown",language:o.lang||"unknown"}}});await this.initClockDrift(d),this.rawSdk=d}get sdk(){if(!this.rawSdk)throw Error("ConfiguredServerSdk not initialized");return this.rawSdk}get url(){if(!this.baseUrl)throw Error("ConfiguredServerSdk base url not found");return this.baseUrl}async initOverridableConfig(e,t){if([eq.P.DEV,eq.P.NIGHTLY].includes(t))try{let e=(await this.settingsForStagingStore.getState()).api;if(e.override)return{baseUrl:e.baseUrlOverride,cloudflareKeys:{cloudflareAccessKey:e.cloudflareAccessKeyOverride,cloudflareSecretKey:e.cloudflareSecretKeyOverride}}}catch(e){this.logger.error("Failed to read settings for staging from store",{error:e})}return{baseUrl:e.baseUrl,cloudflareKeys:e.cloudflareKeys}}async initClockDrift(e){try{let{drift:t}=await this.clockDriftStore.getState();null===t&&await (0,i.z)(e.refreshClockDrift().pipe((0,n.V)({first:5e3})))}catch(e){this.logger.error(e)}}constructor(e,t,r,s,i,n,o,a){this.serverApiSettings=e,this.httpClient=t,this.clockDriftStore=r,this.hmacSigner=s,this.secureHasher=i,this.platformInfoService=n,this.settingsForStagingStore=o,this.logger=a}}function eN(){return{token:eV,asyncFactory:async(e,t,r,s,i,n,o,a)=>{let c=new eV(e,t,r,s,i,n,o,a);return await c.init(),c},inject:[Z.oN,a.e,ee.t,eF.q,eU.Z,J.t,eO.L,ek.k]}}eV=(0,s.gn)([(0,o.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===Z.oN?Object:Z.oN,void 0===a.e?Object:a.e,void 0===ee.t?Object:ee.t,void 0===eF.q?Object:eF.q,void 0===eU.Z?Object:eU.Z,void 0===J.t?Object:J.t,void 0===eO.L?Object:eO.L,void 0===ek.k?Object:ek.k])],eV)},90769:function(e,t,r){r.d(t,{B:()=>o});var s=r(21636),i=r(94190),n=r(36564);class o{get v1(){return this.configuredServerSdk.sdk.v1}constructor(e){this.configuredServerSdk=e}}o=(0,s.gn)([(0,i.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===n.E?Object:n.E])],o)},14098:function(e,t,r){r.d(t,{J:()=>n,X:()=>i});var s=r(649);let i=e=>({FetchFailedError:e,InternalServerError:e,InvalidRequest:e,RateLimited:e,ServiceUnavailable:e,UnspecifiedBadStatus:e}),n=i(()=>(0,s.j)("Error calling server API"))},59242:function(e,t,r){r.d(t,{l:()=>K});var s=r(21636),i=r(92291),n=r(94190),o=r(83377);r(55466);var a=r(44969);let c={getAndEvaluateForDevice:{method:"POST",path:"abtesting/GetAndEvaluateForDevice",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.APP,version:a.W.V1},getAndEvaluateForUser:{method:"POST",path:"abtesting/GetAndEvaluateForUser",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.USER_DEVICE,version:a.W.V1},listAll:{method:"POST",path:"abtesting/ListAll",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.APP,version:a.W.V1},reportOfflineExperiments:{method:"POST",path:"abtesting/ReportOfflineExperiments",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.USER_DEVICE,version:a.W.V1}};var u=r(96553),d=r(37261),l=r(10712);let p={createTestBreach:{method:"POST",path:"breaches-qa/CreateTestBreach",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.APP,version:a.W.V1}};var h=r(82076),m=r(62004);let y={getSubscriptionTokens:{method:"POST",path:"dataleak/GetSubscriptionTokens",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.APP,version:a.W.V1},status:{method:"POST",path:"dataleak/Status",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.USER_DEVICE,version:a.W.V1}},g={addTestLeak:{method:"POST",path:"dataleak-qa/AddTestLeak",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.APP,version:a.W.V1},setTestDataBreach:{method:"POST",path:"dataleak-qa/SetTestDataBreach",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.APP,version:a.W.V1}};var v=r(63942),f=r(73603),E=r(25929),b=r(12795),S=r(67561),T=r(72105),w=r(27376),x=r(15141);let A={getKillSwitches:{method:"POST",path:"killswitch/GetKillSwitches",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.APP,version:a.W.V1}};var C=r(18691),_=r(2037);let R={requestPairing:{method:"POST",path:"pairing/RequestPairing",requestAcceptHeader:"application/json",responseType:"json",authType:o.d.USER_DEVICE,version:a.W.V1}};var D=r(25357),F=r(67435),U=r(90259),P=r(18770),I=r(75551),j=r(67055),O=r(45842),q=r(25559),k=r(45427),V=r(57343),N=r(40904),L=r(88714),M=r(59866),H=r(8539);let G={abtesting:c,account:u.h,accountrecovery:d.y,authentication:l.k,breachesQa:p,communication:h.O,darkwebmonitoring:m.T,dataleak:y,dataleakQa:g,devices:v.W,familyplan:f.h,features:E.Z,feedback:b.d,file:S._,icons:T.Q,integration:w.H,invitation:x.p,killswitch:A,massdeployment:C.r,monitoring:_.e,pairing:R,partners:D.x,payments:F.l,premium:U.q,pwleak:P.D,secretTransfer:I.t,securefile:j.f,sharingUserdevice:O.T,sync:q.w,teams:k.b,time:V.i,user:N.g,useractivity:L.K,userconsents:M._,vpn:H.m};var W=r(36564),z=r(63046);class K{get baseUrl(){return this._baseUrl}get v1(){return this.appliedV1Services}buildInjectedServices(e,t){return Object.keys(t[e]).reduce((r,s)=>({...r,[s]:this.buildInjectedApiServices(e,t,s)}),{})}buildInjectedApiServices(e,t,r){return Object.getOwnPropertyNames(Object.getPrototypeOf(t.v1[r])).filter(e=>"constructor"!==e).reduce((s,i)=>({...s,[i]:this.buildInjectedRouteService(t,e,r,i)}),{})}buildInjectedRouteService(e,t,r,s){let n=G[r][s];if(!n)throw Error("Unable to find endpoint descriptor");let{authType:a}=n;return(...n)=>{let c=e[t][r],u=c[s].bind(c);if(a===o.d.USER_DEVICE)return this.credentialsService.getActiveUserDeviceCredentials().pipe((0,i.b)(e=>u(e,...n)));if(a===o.d.MASS_DEPLOYED_TEAM_KEY)return this.credentialsService.getMassDeploymentTeamKeyCredentials().pipe((0,i.b)(e=>u(e,...n)));if([o.d.NONE,o.d.APP].includes(a))return u(...n);throw Error("Not supported")}}constructor(e,t){this.appliedV1Services=this.buildInjectedServices("v1",e.sdk),this.credentialsService=t,this._baseUrl=e.url}}K=(0,s.gn)([(0,n.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===W.E?Object:W.E,void 0===z.n?Object:z.n])],K)},63046:function(e,t,r){r.d(t,{n:()=>m});var s=r(21636),i=r(1833),n=r(42589),o=r(92291),a=r(306),c=r(94190),u=r(23506),d=r(91978),l=r(79662),p=r(22379),h=r(95934);class m{getMassDeploymentTeamKeyCredentials(){return(0,i.D)(this.managedStorageInfrastructure.get("MassDeployedTeamKey")).pipe((0,n.U)(e=>{if(!e)throw Error("Couldn't find MassDeployedTeamKey in browser managed storage");let[t,r]=e.split("-");return{massDeployedTeamAccessKey:t,massDeployedTeamSecretKey:r}}))}getActiveUserDeviceCredentials(){let{queries:{activeUser:e}}=this.cqrsClient.getClient(l.t$);return e().pipe((0,n.U)(e=>{if((0,a.d6)(e))return(0,a.db)(e);throw Error("Failed to get active user")}),(0,o.b)(({userName:e})=>{if(!e)throw Error("No active user available");return this.serverApiCredentialsInfra.getDeviceCredentialsForUser(e)}))}constructor(e,t,r,s){this.cqrsClient=e,this.serverApiCredentialsInfra=t,this.managedStorageInfrastructure=r,this.logger=s}}m=(0,s.gn)([(0,c.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===u.w?Object:u.w,void 0===p.se?Object:p.se,void 0===d.Rx?Object:d.Rx,void 0===h.k?Object:h.k])],m)},22379:function(e,t,r){r.d(t,{oN:()=>s,se:()=>i});class s{constructor(e){this.baseUrl=e.baseUrl,this.appKeys=e.appKeys,this.cloudflareKeys=e.cloudflareKeys}}class i{}new class extends i{getDeviceCredentialsForUser(e){return Promise.resolve({deviceAccessKey:"",deviceSecretKey:"",login:e})}}},4843:function(e,t,r){r.d(t,{n:()=>C});var s=r(21636),i=r(43225),n=r(48035),o=r(99481),a=r(79869),c=r(90573),u=r(13017),d=r(88288),l=r(59242),p=r(90769),h=r(22379),m=r(74234),y=r(63046),g=r(36564),v=r(87253),f=r(81754),E=r(95934),b=r(306),S=r(37368);class T{async execute(e){let t=await this.store.getState();return await this.store.set({...t,...e.body}),(0,b.Vp)(void 0)}constructor(e){this.store=e}}T=(0,s.gn)([(0,S.W)(u.bH),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===f.L?Object:f.L])],T);var w=r(42589),x=r(62506);class A{execute(){return this.store.state$.pipe((0,w.U)(b.Vp))}constructor(e){this.store=e}}A=(0,s.gn)([(0,x.e)(u.Lt),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===f.L?Object:f.L])],A);class C{static configure(e,t){return{module:C,configurations:{serverApi:(0,i.z)(e),serverApiInfrastructure:t}}}}C=(0,s.gn)([(0,n.Y)({api:u.Dm,handlers:{commands:{editSettingsForStaging:T},queries:{settingsForStaging:A},events:{}},providers:[p.B,l.l,y.n,(0,g.F)(),(0,o.d_)(E.k)],exports:[p.B,l.l,y.n],configurations:{serverApi:{token:h.oN},serverApiInfrastructure:{token:h.se}},stores:[m.t,f.L],imports:[v.D,a.X,d.i,c.G],domainName:"framework"})],C)},95934:function(e,t,r){r.d(t,{k:()=>i});var s=r(99481);class i extends(0,s.ne)(){}},81754:function(e,t,r){r.d(t,{L:()=>c});var s=r(20458),i=r(15021),n=r(59982),o=r(68238);let a={api:{override:!1},nitro:{override:!1}};class c extends(0,n.Q)({storeTypeGuard:e=>!0,storeName:"webServicesSettingsForStaging",storage:{initialValue:a,schemaVersion:1,typeGuard:e=>!0},scope:i.F.Device,persist:!0,isCache:!1,capacity:o.Y._001KB,codec:s.E}){}},83267:function(e,t,r){r.d(t,{s:()=>i});var s=r(49893);function i(e,t=s.V){let r=new Uint8Array(e),n=r.length,o=t%3,a=0===o?t:t+(3-o),c=Math.ceil(n/a),u="",d=-1;for(;d++<c;){let e=d*a,t=d===c-1?n:(d+1)*a,i=function(e){let t=e.length,r=[];for(let i=0;i<t;i+=3)r.push(s.T[e[i]>>2]),r.push(s.T[(3&e[i])<<4|e[i+1]>>4]),r.push(s.T[(15&e[i+1])<<2|e[i+2]>>6]),r.push(s.T[63&e[i+2]]);return r.join("")}(r.slice(e,t));u=u.concat(i)}return n%3==2?u.substring(0,u.length-1)+"=":n%3==1?u.substring(0,u.length-2)+"==":u}},58782:function(e,t,r){r.d(t,{K:()=>i});var s=r(83267);function i(e){let t=new Uint8Array(e);return(0,s.s)(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},91012:function(e,t,r){r.d(t,{v:()=>s});function s(e){let t=new Uint8Array(e),r=t.length,s="",i=16383;for(let e=0;e<r;e+=i)e+i>r&&(i=r-e),s+=String.fromCharCode(...t.subarray(e,e+i));return s}},32703:function(e,t,r){r.d(t,{L:()=>i});var s=r(19620);function i(e){let t=new Uint8Array(e),r=[];for(let e=0;e<t.byteLength;e++)r[e>>>2]|=t[e]<<24-e%4*8;return s.lib.WordArray.create(r,t.byteLength)}},54123:function(e,t,r){r.d(t,{K:()=>i});let s="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split("").reduce((e,t,r)=>({...e,[t]:r}),{});function i(e){let t=e.replaceAll("=","").trim().length,r=0,i=0,n=0,o=new Uint8Array(5*t/8|0);for(let a=0;a<t;a++)i=i<<5|function(e){let t=s[e];if(void 0===t)throw Error(`Invalid character found: ${e}`);return t}(e[a]),(r+=5)>=8&&(o[n++]=i>>>r-8&255,r-=8);return o.buffer}},97702:function(e,t,r){r.d(t,{R:()=>n});var s=r(49893);let i=new Uint8Array(256);for(let e=0;e<s.T.length;e++)i[s.T.charCodeAt(e)]=e;function n(e){let t,r,s,n,o,a=.75*e.length,c=e.length,u=0;e.endsWith("=")&&(a--,"="===e[e.length-2]&&a--);let d=new ArrayBuffer(a),l=new Uint8Array(d);for(t=0;t<c;t+=4)r=i[e.charCodeAt(t)],s=i[e.charCodeAt(t+1)],n=i[e.charCodeAt(t+2)],o=i[e.charCodeAt(t+3)],l[u++]=r<<2|s>>4,l[u++]=(15&s)<<4|n>>2,l[u++]=(3&n)<<6|63&o;return d}},38004:function(e,t,r){r.d(t,{N:()=>i});var s=r(97702);function i(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4,i=t.padEnd(t.length+r,"=");return(0,s.R)(i)}},76957:function(e,t,r){r.d(t,{k:()=>s});function s(e){return Array.prototype.map.call(new Uint8Array(e),e=>("00"+e.toString(16)).slice(-2)).join("")}},57102:function(e,t,r){r.d(t,{n:()=>n});var s=r(21936),i=r(38612);function n(e){let t=new Uint8Array([0,0,0,0]).buffer,r=new Uint8Array(e),n=s.deflate(r,{level:7}).buffer;return(0,i.K)(t,n)}},38612:function(e,t,r){r.d(t,{K:()=>s});function s(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.byteLength,0));return e.reduce((e,r)=>(t.set(new Uint8Array(r),e),e+r.byteLength),0),t.buffer}},49893:function(e,t,r){r.d(t,{T:()=>i,V:()=>s});let s=1e6,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"},89880:function(e,t,r){r.d(t,{Y:()=>s});function s(e){return e.replace(/(?:\\[r]|[\r\n]+)+/g,"\n")}},45065:function(e,t,r){r.d(t,{L:()=>i});var s=r(21936);function i(e){let t=new Uint8Array(e.slice(4));return s.inflate(t).buffer}},16016:function(e,t,r){r.d(t,{i:()=>s});let s=e=>{let t=e.match(/[\da-f]{2}/gi);return t?new Uint8Array(t.map(e=>parseInt(e,16))).buffer:new Uint8Array().buffer}},784:function(e,t,r){r.d(t,{n:()=>s});function s(e){let t=new ArrayBuffer(8);return new DataView(t).setBigUint64(0,BigInt(e)),t}},96349:function(e,t,r){r.d(t,{B:()=>n});var s=r(40408),i=r(87169);function n(e){let{asn1:t,pki:r}=s,n=r.privateKeyFromPem(e),o=r.privateKeyToAsn1(n),a=r.wrapRsaPrivateKey(o),c=t.toDer(a).getBytes();return(0,i.u)(c)}},46093:function(e,t,r){r.d(t,{M:()=>n});var s=r(40408),i=r(87169);function n(e){let{asn1:t,pki:r}=s,n=r.publicKeyFromPem(e),o=r.publicKeyToAsn1(n),a=t.toDer(o).getBytes();return(0,i.u)(a)}},7766:function(e,t,r){r.d(t,{R:()=>n});var s=r(40408),i=r(89880);function n(e){let{asn1:t,pki:r,util:n}=s,o=n.createBuffer(e),a=t.fromDer(o),c=r.privateKeyFromAsn1(a),u=r.privateKeyToPem(c);return(0,i.Y)(u)}},56130:function(e,t,r){r.d(t,{y:()=>n});var s=r(40408),i=r(89880);function n(e){let{asn1:t,pki:r,util:n}=s,o=n.createBuffer(e),a=t.fromDer(o),c=r.publicKeyFromAsn1(a),u=r.publicKeyToRSAPublicKeyPem(c);return(0,i.Y)(u)}},87169:function(e,t,r){r.d(t,{u:()=>s});function s(e){let t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t);return t}},34015:function(e,t,r){r.d(t,{e:()=>n});var s=r(25951),i=r(49893);function n(e,t=i.V){let r=e.length;if(0===r)return"";let o="",a=0,c=Math.min(0+t,r);for(;c<=r;){if(function(e){var t;return e>>6==2||(t=e)>>5==6||t>>4==14||t>>3==30}(e.charCodeAt(c-1))&&c<r&&e.charCodeAt(c)>>6==2){c++;continue}let i=e.slice(a,c),n=s.decode(i);if(o=o.concat(n),c===r)break;c=Math.min((a=c)+t,r)}return o}},53777:function(e,t,r){r.d(t,{N:()=>n});var s=r(25951),i=r(49893);function n(e,t=i.V){let r=e.length;if(0===r)return"";let o="",a=0,c=Math.min(0+t,r);for(;c<=r;){let i=e.charCodeAt(c-1);if(i>=55296&&i<=56319){if(++c>r)throw Error("Invalid string provided to utf8ChunkEncode");continue}let n=e.slice(a,c),u=(0,s.encode)(n);if(o=o.concat(u),c===r)break;c=Math.min((a=c)+t,r)}return o}},20680:function(e,t,r){r.d(t,{o:()=>s});function s(e){let{sigBytes:t,words:r}=e,s=new Uint8Array(t),i=0,n=0;for(;i!==t;){let e=r[n++];if(s[i++]=(0xff000000&e)>>>24,i===t||(s[i++]=(0xff0000&e)>>>16,i===t)||(s[i++]=(65280&e)>>>8,i===t))break;s[i++]=255&e}return s.buffer}},12157:function(e,t,r){r.d(t,{W:()=>n});var s=r(75264),i=r(85500);class n extends s.X{async fetch(e){let t=(0,i.A)(e);return(await fetch(t)).json()}}},3911:function(e,t,r){r.d(t,{x:()=>o});var s=r(19620),i=r(32703),n=r(20680);function o(e,t){if(self.crypto.subtle)return self.crypto.subtle.digest({name:t},e);if("SHA-1"===t){let t=(0,i.L)(e);return Promise.resolve((0,n.o)((0,s.SHA1)(t)))}return Promise.reject(Error("Unsupported hash method"))}},41542:function(e,t,r){r.d(t,{$:()=>n});var s=r(36e3),i=r(40406);async function n(e,t,r){let n=await (0,i.Y)(e);return self.crypto.subtle.decrypt({name:s.z,iv:t},n,r)}},6097:function(e,t,r){r.d(t,{G:()=>i});var s=r(53540);async function i(e,t,r){let i={name:s.$k,hash:{name:r}},n=await self.crypto.subtle.importKey("pkcs8",e,i,!1,["decrypt"]);return self.crypto.subtle.decrypt(i,n,t)}},65257:function(e,t,r){r.d(t,{f:()=>i});var s=r(85839);async function i(e,t,r){let{tCost:i,mCost:n,parallelism:o}=r,{hash:a}=await s.hash({pass:new Uint8Array(e),salt:new Uint8Array(t),time:i,mem:n,hashLen:32,parallelism:o,type:s.ArgonType.Argon2d});return a.buffer}},14657:function(e,t,r){r.d(t,{x:()=>i});var s=r(36e3);async function i(e,t,r){let i=await self.crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveKey"]),n={name:s.z,length:256},{iterations:o,hashType:a}=r,c=await self.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:o,hash:{name:a}},i,n,!0,["encrypt","decrypt"]);return self.crypto.subtle.exportKey("raw",c)}},94234:function(e,t,r){r.d(t,{P:()=>n});var s=r(36e3),i=r(40406);async function n(e,t,r){let n=await (0,i.Y)(e);return self.crypto.subtle.encrypt({name:s.z,iv:t},n,r)}},58866:function(e,t,r){r.d(t,{b:()=>i});var s=r(53540);async function i(e,t,r){let i={name:s.$k,hash:{name:r}},n=await self.crypto.subtle.importKey("spki",e,i,!1,["encrypt"]);return self.crypto.subtle.encrypt(i,n,t)}},22783:function(e,t,r){r.d(t,{o:()=>i});var s=r(36e3);async function i(){let e=await self.crypto.subtle.generateKey({name:s.z,length:s.N},!0,["encrypt","decrypt"]);return self.crypto.subtle.exportKey("raw",e)}},17822:function(e,t,r){r.d(t,{Y:()=>n});var s=r(53540);let i=new Uint8Array([1,0,1]);async function n(e){let{privateKey:t,publicKey:r}=await self.crypto.subtle.generateKey({name:s.$k,modulusLength:2048,publicExponent:i,hash:{name:e}},!0,["encrypt","decrypt"]);return{privateKey:await self.crypto.subtle.exportKey("pkcs8",t),publicKey:await self.crypto.subtle.exportKey("spki",r)}}},99467:function(e,t,r){r.d(t,{P:()=>s});function s(e){let t=new Uint8Array(e);return self.crypto.getRandomValues(t)}},40406:function(e,t,r){r.d(t,{Y:()=>i});var s=r(36e3);function i(e){return self.crypto.subtle.importKey("raw",e,s.z,!1,["encrypt","decrypt"])}},7379:function(e,t,r){r.d(t,{r:()=>s});function s(e,t){return self.crypto.subtle.importKey("raw",e,{name:"HMAC",hash:{name:t}},!0,["sign","verify"])}},73746:function(e,t,r){r.d(t,{n:()=>n});var s=r(47951),i=r(7379);async function n(e,t,r=s.x){let o=await (0,i.r)(e,r);return self.crypto.subtle.sign({name:"HMAC",hash:{name:r}},o,t)}},316:function(e,t,r){r.d(t,{f:()=>i});var s=r(53540);async function i(e,t,r){let i={name:s.xJ,hash:{name:r}},n=await self.crypto.subtle.importKey("pkcs8",e,i,!1,["sign"]);return self.crypto.subtle.sign(i,n,t)}},19549:function(e,t,r){r.d(t,{H:()=>o});var s=r(19620),i=r(32703),n=r(20680);function o(e){let t=(0,i.L)(e);return(0,n.o)((0,s.MD5)(t))}},44419:function(e,t,r){r.d(t,{o:()=>n});var s=r(47951),i=r(7379);async function n(e,t,r,o=s.x){let a=await (0,i.r)(e,o);return self.crypto.subtle.verify({name:"HMAC",hash:{name:o}},a,t,r)}},18381:function(e,t,r){r.d(t,{e:()=>i});var s=r(53540);async function i(e,t,r,i){let n={name:s.xJ,hash:{name:i}},o=await self.crypto.subtle.importKey("spki",e,n,!1,["verify"]);return self.crypto.subtle.verify(n,o,t,r)}},40048:function(e,t,r){r.d(t,{Y:()=>i});var s=r(58279);function i(){return"undefined"!=typeof chrome&&void 0!==chrome.runtime&&void 0!==chrome.runtime.getManifest&&3===(0,s.W)().manifest_version}},27021:function(e,t,r){r.d(t,{m:()=>c});var s=r(66871),i=r(85500);let n="file-download";class o extends s.o{async send(e,t,r){try{if(!("serviceWorker"in self)||!(self instanceof ServiceWorkerGlobalScope))throw Error("File Download Emitter Channel - Wrong environment. Not in a service worker.");let s=(0,i.A)("").replace(/\/$/,""),o=(await self.clients.matchAll()).find(e=>e.url.includes(s));o?.postMessage({fileName:e,mimeType:t,fileContent:r,type:n},[r])}catch(e){console.error(e)}}}class a extends s.o{async send(e,t,r){try{if(!chrome?.extension?.getBackgroundPage())throw Error("Wrong environment. Missing background page.");let s=(0,i.A)("").replace(/\/$/,"");window.postMessage({fileName:e,mimeType:t,fileContent:r,type:n},s,[r])}catch(e){console.error(e)}}}class c{makeFileDownloadEmitterChannel(){if("serviceWorker"in self&&self instanceof ServiceWorkerGlobalScope)return new o;if(chrome?.extension?.getBackgroundPage())return new a;throw Error("unsupported environment. This module should only be used in a service worker or a background page.")}}},97845:function(e,t,r){r.d(t,{b:()=>o});var s=r(71754),i=r(85500),n=r(91402);class o extends s.P{listen(){let e=(0,i.A)("").replace(/\/$/,"");new Promise(e=>{setTimeout(()=>{e(void 0)},5e3),chrome.runtime.getBackgroundPage(t=>e(t))}).then(t=>{if(!t)throw Error("File Upload Listener Channel - Wrong environment.  Missing background page.");t.addEventListener("message",t=>{if(t.data?.type&&t.data.type===n.M){if(t.origin.toLowerCase()!==e.toLowerCase()){console.error(`Received message from unauthorized origin: ${t.origin}`);return}this.eventEmitter.sendEvent("fileUploaded",t.data)}})})}}},47653:function(e,t,r){r.d(t,{w:()=>o});var s=r(71754),i=r(85500),n=r(91402);class o extends s.P{static initializeListener(){return self.addEventListener("message",e=>o.listenerEventHandler(e)),o}listen(){if(!("serviceWorker"in self)||!(self instanceof ServiceWorkerGlobalScope))throw Error("File Upload Listener Channel - Wrong environment. Not in a service worker.");let e=(0,i.A)("").replace(/\/$/,"");o.listenerEventHandler=t=>{if(t.data?.type&&t.data.type===n.M){if(t.origin.toLowerCase()!==e.toLowerCase()){console.error(`Received message from unauthorized origin: ${t.origin}`);return}this.eventEmitter.sendEvent("fileUploaded",t.data)}}}}o.listenerEventHandler=e=>{}},69931:function(e,t,r){r.d(t,{A:()=>m});var s=r(42589),i=r(92044),n=r(10096),o=r(5838),a=r(72233),c=r(69853),u=r(50792),d=r(52174),l=r(20346),p=r(65741),h=r(306);class m{handle(e){let t=this.getTimeout$(e.timeout),r=this.doFetch(e).pipe((0,s.U)(this.toHttpResponse),(0,s.U)(this.toHttpResult));return(0,i.S)(t,r)}getTimeout$(e){return e?(0,n.H)(e).pipe((0,s.U)(()=>(0,h.Rn)(new d.a))):o.C}doFetch(e){return(0,u.U)(e.url,{method:e.method,body:e.serializeBody(),headers:this.getHeaders(e),credentials:e.withCredentials?"include":"omit",mode:e.mode}).pipe((0,a.K)(e=>{if(!(e instanceof TypeError))throw e;return(0,c.of)(new d.a)}))}mapToHttpHeaders(e){let t=new l.W;return e.forEach((e,r)=>t.set(r,e)),t}getHeaders(e){return e.headers.keys().reduce((t,r)=>({...t,[r]:e.headers.get(r)}),{})}constructor(){this.toHttpResult=e=>e instanceof d.a?(0,h.Rn)(e):e.ok?(0,h.Vp)(e):(0,h.Rn)(new d.R(e)),this.toHttpResponse=e=>e instanceof d.a?e:new p.Z({body:e.body,url:e.url,status:e.status,statusText:e.statusText,headers:this.mapToHttpHeaders(e.headers)})}}},96619:function(e,t,r){r.d(t,{D:()=>c});var s=r(21636),i=r(18656),n=r(76955),o=r(94190),a=r(41650);class c extends n.g{extendServiceWorkerLifetime(){this.logger.info("Heartbeat to extend SW lifetime"),(0,i.t)({"last-heartbeat":new Date().getTime()})}constructor(e){super(),this.logger=e}}c=(0,s.gn)([(0,o.GS)(),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===a.V?Object:a.V])],c)},82219:function(e,t,r){r.d(t,{Y:()=>h});var s,i=r(58607),n=r(82139);let o=/^_execute(_browser){0,1}_action$/;var a=((s=a||{}).Command="Command",s.Ctrl="Ctrl",s.MacCtrl="MacCtrl",s.Shift="Shift",s);function c(e){return o.test(e.name??"")}function u(e){let t=e.toUpperCase();switch(t){case"":case"CTRL":return i.isMacOS()?"Command":"Ctrl";case"SHIFT":case"":return"Shift";case"COMMAND":case"":return"Command";case"MACCTRL":return"MacCtrl";default:return t}}function d(e){let t=Object.values(a),r=t.indexOf(e);return -1===r?t.length:r}function l(e,t){return d(e)-d(t)}function p(e){switch(e){case"Ctrl":case"MacCtrl":return"Ctrl";case"Shift":return"";case"Command":return"";default:return e}}async function h(){let e=await (0,n.g)(),t=e.find(c)?.shortcut;if(t)return t.split(t.includes("+")?"+":"").map(u).sort(l).map(p)}},21682:function(e,t,r){r.d(t,{D:()=>a});var s=r(85004),i=r(81481),n=r(91174);async function o(e,t){try{let{levelOfControl:t}=await (0,s.U)(e);if("controllable_by_this_extension"!==t&&"controlled_by_this_extension"!==t){let r=`Impossible to change browser setting: ${e}. Extension prevented from changing: ${t}`;throw Error(r)}}catch(t){if((0,i.b)(t))throw Error(`Browser setting not supported: ${e}`);if((0,i.I)(t))throw t.runtimeError;throw t}try{await (0,n.t)(e,t)}catch(e){throw(0,i.I)(e)?e.runtimeError:e}}async function a(){let e=["autofillAddressEnabled","autofillCreditCardEnabled","passwordSavingEnabled"].map(e=>o(e,!1));await Promise.allSettled(e)}},54391:function(e,t,r){r.d(t,{G3:()=>o});let s=new Set(["en","fr","es","ja","de","pt","it","ko","zh","nl","sv"]);function i(e){return e.substr(0,2)}function n(e){let t=i(e);return s.has(t)}function o(){let e=[navigator.language].concat(navigator.languages).find(n);return e?e.includes("-")?i(e):e:"en"}},19446:function(e,t,r){r.d(t,{F:()=>o});var s=r(58279),i=r(43362);let n={beta:"icon_beta_auth",mv2:"icon_auth",nightly:"icon_nightly_auth"};async function o({isUserAuthenticated:e}){let t=e?function(){let e=(0,s.W)();return e.name.includes("Nightly")?n.nightly:e.name.includes("Beta")?n.beta:n.mv2}():"icon_not_auth",r=`icons/action/${t}`,o={16:`${r}.png`,32:`${r}@2x.png`};await (0,i.B)(o)}},26577:function(e,t,r){r.d(t,{$:()=>n});var s=r(30399),i=r(28115);async function n(e){return Promise.all((await (0,s.g)({domain:e})).map(e=>(0,i.O)({url:function(e){let t=`http${e.secure?"s":""}`,r=e.domain.startsWith(".")?e.domain.substring(1):e.domain;return`${t}://${r}${e.path}`}(e),name:e.name})))}},26837:function(e,t,r){r.d(t,{j:()=>n});var s=r(44031),i=r(26906);async function n(e){if((0,s.G)())return await (0,s.y)(e)>0;let t=await (0,i.U)(e),r=void 0===t[e],n=null===t[e];return!r&&!n}},11217:function(e,t,r){r.d(t,{c:()=>n});var s=r(48102),i=r(85500);async function n(){let e=await (0,s.I)({}),t=(0,i.A)("");return e.filter(e=>"string"==typeof e.url&&e.url.startsWith(t)).filter(e=>""!==e.url&&e.url!==(0,i.A)("/popup/index.html"))}},54454:function(e,t,r){r.d(t,{b:()=>p});var s=r(85500),i=r(68136),n=r(99508),o=r(65),a=r(29109),c=r(11217);function u(){let e=(0,s.A)("");return`${e}index.html`}async function d(e){await (0,i.U)({url:e})}async function l({path:e,tabs:t}){let r=await (0,n.T)(),s=function({existingTabs:e,focusedWindow:t}){let r=e.filter(e=>e.active),s=r.find(e=>e.windowId===t.id),i=r.pop(),n=e.pop();return s??i??n}({existingTabs:t,focusedWindow:r});if(!s||(s.windowId!==r.id&&(0,o.V)(s.windowId,{focused:!0}),!s.id))return;let i={active:!0,...e===u()?{}:{url:e}};await (0,a.V)(s.id,i)}async function p({id:e,query:t,route:r}){let s=function({identifier:e,queryInfo:t,name:r}){let s=u();if(!r)return s;let i=e?`#${r}/${e}`:`#${r}`,n=t?`?${Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}`:"";return encodeURI(`${s}${i}${n}`)}({identifier:e,queryInfo:t,name:r}),i=await (0,c.c)();if(i.length){await l({path:s,tabs:i});return}await d(s)}},64784:function(e,t,r){r.d(t,{w:()=>E});var s=r(23596),i=r(99012),n=r(84408),o=r(36884),a=r(14873),c=r(42589),u=r(99011),d=r(81470),l=r(47636),p=r(861),h=r(86417);function m(e){return JSON.parse(JSON.stringify(e))}class y{constructor(){this.events$=new s.y(e=>{let t=t=>{e.next(t)};return u.r.addListener(t),()=>u.r.removeListener(t)}).pipe((0,i.B)())}}class g{async update(e){return this.set(e(await this.getState()))}persist(){return Promise.resolve()}load(){return Promise.resolve()}set(e){return(0,d.t)(m({[this.key]:e}))}init(e){return(0,d.t)(m({[this.key]:e}))}clear(){return(0,l.O)(this.key)}clearStorage(){return Promise.resolve()}stop(){this.stopped$.next(!0)}getLimit(){return Promise.resolve(9e6)}async getState(){let e=(await (0,p.U)(this.key))[this.key];return this.asDataWithTimestamp(e)}asDataWithTimestamp(e){if(!e||"object"!=typeof e||!("timestamp"in e)||"number"!=typeof e.timestamp||!e.timestamp||!("data"in e))return{timestamp:void 0};try{if(!this.typeGuard(e.data))throw Error("typeGuard check fail")}catch(e){return console.error("Failed to hydrate store due to typeGuard failure"),{timestamp:void 0}}return{timestamp:e.timestamp,data:e.data}}constructor(e,t,r){this.stopped$=new n.X(!1),this.key=t,this.typeGuard=r??(e=>!0);let i=new s.y(r=>{this.getState().then(e=>{r.next(e)});let s=e.events$.subscribe(e=>{let s;if(t in e){let{newValue:i}=e[t];s=r.next(this.asDataWithTimestamp(i))}return s});return()=>s.unsubscribe()});this.state$=(0,o.a)({state:i,isStopped:this.stopped$}).pipe((0,a.o)(({isStopped:e})=>!e,!1),(0,c.U)(({state:e})=>e))}}class v extends h.G{createUserScopedInfrastructure(e,t,r,s){let i=`graphene.${e}.${t}.${r}`;return new g(this.source,i,s)}createDeviceScopedInfrastructure(e,t,r){let s=`graphene.${e}.${t}`;return new g(this.source,s,r)}constructor(...e){super(...e),this.source=new y}}var f=r(33030);function E(){return(0,f.G)()?new v:new h.N}},32028:function(e,t,r){r.d(t,{e:()=>o});var s=r(26906),i=r(18656),n=r(81010);class o{async getAllKeys(){return Object.keys(await (0,s.U)(null))}async get(e){let t=(await (0,s.U)([e]))[e];if(t){if("string"!=typeof t)throw Error(`[ChromeLocalStorage] - cannot read content of ${e} properly. Type is
        ${typeof t} but should be 'string'`);return t}}async set(e,t){await (0,i.t)({[e]:t})}async remove(e){await (0,n.O)([e])}}},83486:function(e,t,r){r.d(t,{e:()=>i});var s=r(51376);class i{async getAllKeys(){return Object.keys(await (0,s.U)(void 0)??{})}async get(e){try{let t=await (0,s.U)(e);if(!t)return;let r=t[e];if(!r)return;if("string"!=typeof r)throw Error("Expected ExtensionManagedStorage entry value to be a string",{cause:{key:e,type:typeof r}});return r}catch(t){let e=Error("Failed to get managed storage key",{cause:{error:t}});throw this.logger.error(e),e}}constructor(e){this.logger=e}}},36795:function(e,t,r){r.d(t,{y:()=>y});var s=r(78230),i=r(23596),n=r(14564),o=r(83446),a=r(29709),c=r(90612),u=r(81942);let d="cron-source";async function l(){!await (0,o.U)(d)&&await (0,a.U)(d,{delayInMinutes:1,periodInMinutes:1})}let p=()=>new i.y(e=>{let t=t=>{t.name===d&&e.next()};return c.i.addListener(t),l(),()=>{c.i.removeListener(t)}}),h=()=>new i.y(e=>{let t=self.setInterval(()=>{e.next()},6e4);return()=>{self.clearInterval(t)}}),m=()=>(0,u.G)()?p():h();class y extends s.R_{stop(){this.subscription.unsubscribe()}constructor(...e){super(...e),this.alarm$=m().pipe((0,n.d)(1)),this.subscription=this.alarm$.subscribe()}}},84265:function(e,t,r){function s(e){return{error:e.error,origin:"uncaughtException"}}function i(e){return{error:e.reason,origin:"unhandledPromiseRejection"}}r.d(t,{Q:()=>o});let n=(e,t,r)=>s=>{s.preventDefault(),!("function"==typeof r&&r(s))&&e.error(t(s))},o=(e,t,r={})=>{e.addEventListener("error",n(t,s,r.filterUncaughtExceptionsFn)),e.addEventListener("unhandledrejection",n(t,i,r.filterUnhandledPromiseRejectionsFn))}},6590:function(e,t,r){r.d(t,{P:()=>p});var s=r(70410),i=r(84408),n=r(23596),o=r(42589),a=r(14968),c=r(81487),u=r(59022),d=r(16468),l=r(30788);class p{stop(){this.subscription.unsubscribe()}constructor(e){this.connectedChannels$=new i.X({});let t=new n.y(t=>{let r={},n=n=>{let l=(0,s.Z)();if(n.name!==e)return;console.log("[background/framework] Detected chrome.runtime.port connection by client",e);let p=new a.j({source:{addListener:e=>n.onMessage.addListener(e),removeListener:e=>n.onMessage.removeListener(e)},filter:t=>(0,c.F)(t)&&t.channelName===e}),h=new Promise(t=>{let r=()=>{chrome.runtime.lastError&&console.log("[background/framework] Error when chrome.runtime.port disconnected by client",e,chrome.runtime.lastError),console.log("[background/framework] chrome.runtime.port disconnected by client",e),n.onDisconnect.removeListener(r),t(null)};n.onDisconnect.addListener(r)}),m=new i.X(u.D.Connected);h.then(()=>{p.stop(),m.next(u.D.Disconnected),delete r[l],t.next(r)});let y={messages$:p.events$.pipe((0,o.U)(([e])=>e.message)),sendMessage:t=>(n.postMessage((0,c.k)({channelName:e,message:t})),Promise.resolve()),stop:()=>(n.disconnect(),Promise.resolve()),status$:m},g=new d.N(y);r[l]=g,t.next(r)};return l.b.addListener(n),()=>{l.b.removeListener(n)}});this.subscription=t.subscribe(e=>this.connectedChannels$.next(e))}}},91986:function(e,t,r){r.d(t,{z:()=>n});var s=r(97702),i=r(83267);class n{decode(e){return(0,s.R)(e)}encode(e){return(0,i.s)(e)}}},45890:function(e,t,r){r.d(t,{x:()=>s});function s(...e){let t=[...e].reverse();return{decode:async t=>{for(let r of e)t=await r.decode(t);return t},encode:async e=>{for(let r of t)e=await r.encode(e);return e}}}},8018:function(e,t,r){r.d(t,{b:()=>s});class s{decode(e){return JSON.parse(new TextDecoder().decode(e))}encode(e){return new TextEncoder().encode(JSON.stringify(e))}}},20458:function(e,t,r){r.d(t,{E:()=>n});var s=r(55466);let i=e=>e;class n{constructor(){(0,s._)(this,"encode",i),(0,s._)(this,"decode",i)}}},49:function(e,t,r){r.d(t,{BU:()=>n,No:()=>o,Nw:()=>s,gO:()=>i});let s={algorithm:"aes256",mode:"cbchmac",ivLength:16},i={algorithm:"aes256",mode:"cbchmac64",ivLength:16},n={algorithm:"aes256",mode:"cbchmac",ivLength:16,padding:16,bytesToKey:0,reuseSalt:!1},o={algorithm:"aes256",mode:"cbc",ivLength:16,saltLength:32,padding:0,bytesToKey:{algorithm:"sha1",iterations:3,keyLength:32}}},14006:function(e,t,r){r.d(t,{E1:()=>n,Yi:()=>a,b9:()=>c,m9:()=>u,mr:()=>i,oo:()=>o});var s=r(90385);let i={algorithm:"argon2d",saltLength:16,tCost:3,mCost:32768,parallelism:2},n={algorithm:"pbkdf2",saltLength:16,iterations:2e5,hashAlgorithm:"sha256"},o={algorithm:"noderivation"},a={algorithm:"pbkdf2",saltLength:32,iterations:10204,hashAlgorithm:"sha1"};function c(e){return["argon2d","pbkdf2","noderivation"].some(t=>t===e)}function u(e){switch(e.algorithm){case"argon2d":case"pbkdf2":return e.saltLength;case"noderivation":return 0;default:(0,s.U)(e)}}},59387:function(e,t,r){r.d(t,{F:()=>s,g:()=>i});let s="$",i=1},47001:function(e,t,r){r.d(t,{J_:()=>n,bn:()=>s,jv:()=>i});let s={count:9,index:{version:0,derivation:1,saltLength:2,tCost:3,mCost:4,parallelism:5,cipher:6,mode:7,ivLength:8}},i={count:8,index:{version:0,derivation:1,saltLength:2,iterations:3,hashAlgorithm:4,cipher:5,mode:6,ivLength:7}},n={count:5,index:{version:0,derivation:1,cipher:2,mode:3,ivLength:4}}},31636:function(e,t,r){r.d(t,{PD:()=>s,RB:()=>o,en:()=>i,jK:()=>n});let s="KWC5",i=16,n=32,o=0},60083:function(e,t,r){r.d(t,{b:()=>o});var s=r(87169);async function i(e,t,r,i,n){let{tCost:o,mCost:a,parallelism:c}=r,u=(0,s.u)(Object.values(r).join("")),d=t.getCacheKey(i,n,u),l=t.getCachedDerivation(d);if(l)return l;let p=await e(i,n,{tCost:o,mCost:a,parallelism:c});return t.setCachedDerivation({cacheKey:d,data:p}),p}var n=r(83473);function o(e,t,r,s,o,a){if(0===e.byteLength)throw Error("Attempting to derivate a key from an empty input");return"pbkdf2"===o.algorithm?(0,n.E)(r,a,o,e,t):i(s,a,o,e,t)}},83473:function(e,t,r){r.d(t,{E:()=>n});var s=r(87169),i=r(90385);async function n(e,t,r,n,o){let a=(0,s.u)(Object.values(r).join("")),c=t.getCacheKey(n,o,a),u=t.getCachedDerivation(c);if(u)return u;let d=function(e){switch(e){case"sha1":return"SHA-1";case"sha256":return"SHA-256";case"sha384":return"SHA-384";case"sha512":return"SHA-512";default:(0,i.U)(e)}}(r.hashAlgorithm),l=await e(n,o,{iterations:r.iterations,hashType:d});return t.setCachedDerivation({cacheKey:c,data:l}),l}},10860:function(e,t,r){r.d(t,{V:()=>I,F:()=>j});var s=r(38612),i=r(13203),n=r(26627),o=r(60083),a=r(91012),c=r(90385),u=r(14006);function d({transportableData:e,marker:t,metadata:r}){let s=t.length+r.length;return e.substring(s)}var l=r(87169);function p({encipheredContents:e,marker:t,metadata:r}){let{derivation:s,cipher:i,type:n,version:o}=t,{iv:a,salt:c,signature:u}=r;return{type:n,version:o,derivationConfig:s,cipherConfig:i,salt:(0,l.u)(c),signature:(0,l.u)(u),iv:(0,l.u)(a),encipheredContents:(0,l.u)(e)}}function h({str:e,substr:t,occurrence:r}){if(r<1)return -1;let s=0,i=-1;for(;s<r&&!((i=e.indexOf(t,i+1))<0);)s++;return i}var m=r(59387);function y({transportableData:e,makeMarker:t,schema:r}){let s=r.count+1,i=h({str:e,substr:m.F,occurrence:s}),n=e.substring(1,i).split(m.F);if(n.length!==r.count)throw Error("Marker and schema length mismatch");return t({bytes:i+1,markerSchema:r,values:n})}var g=r(63762);let v=g.z.object({algorithm:g.z.literal("aes256"),mode:g.z.literal("cbchmac"),ivLength:g.z.literal(16)}),f=g.z.object({algorithm:g.z.literal("aes256"),mode:g.z.literal("cbchmac64"),ivLength:g.z.literal(16)}),E=g.z.union([v,f]),b=g.z.object({algorithm:g.z.literal("argon2d"),saltLength:g.z.literal(16),tCost:g.z.number(),mCost:g.z.number(),parallelism:g.z.number()}),S=g.z.object({algorithm:g.z.literal("pbkdf2"),saltLength:g.z.union([g.z.literal(16),g.z.literal(32)]),iterations:g.z.number(),hashAlgorithm:g.z.enum(["sha1","sha256"])}),T=g.z.object({algorithm:g.z.literal("noderivation")}),w=g.z.literal("flexible"),x=g.z.object({version:g.z.literal(1),type:w,length:g.z.number(),derivation:b,cipher:v});function A({bytes:e,markerSchema:t,values:r}){let{version:s,derivation:i,saltLength:n,tCost:o,mCost:a,parallelism:c,cipher:u,mode:d,ivLength:l}=t.index,p=x.safeParse({version:Number(r[s]),type:"flexible",length:e,derivation:{algorithm:r[i],saltLength:Number(r[n]),tCost:Number(r[o]),mCost:Number(r[a]),parallelism:Number(r[c])},cipher:{algorithm:r[u],mode:r[d],ivLength:Number(r[l])}});if(!p.success)throw Error(p.error.message);return p.data}var C=r(47001);function _({transportableData:e,marker:t}){let{length:r,derivation:s,cipher:i}=t,n=s.saltLength,{ivLength:o}=i,a=r+0,c=a+n,u=c+o;return{iv:e.substring(c,c+o),length:n+o+32,salt:e.substring(a,a+n),signature:e.substring(u,u+32)}}let R=g.z.object({version:g.z.literal(1),type:w,length:g.z.number(),derivation:T,cipher:E});function D({bytes:e,markerSchema:t,values:r}){let{version:s,cipher:i,mode:n,ivLength:o}=t.index,a=R.safeParse({version:Number(r[s]),type:"flexible",length:e,derivation:{algorithm:"noderivation"},cipher:{algorithm:r[i],mode:r[n],ivLength:Number(r[o])}});if(!a.success)throw Error(a.error.message);return a.data}let F=g.z.object({version:g.z.literal(1),type:w,length:g.z.number(),derivation:S,cipher:v});function U({bytes:e,markerSchema:t,values:r}){let{version:s,derivation:i,saltLength:n,iterations:o,hashAlgorithm:a,cipher:c,mode:u,ivLength:d}=t.index,l=F.safeParse({version:Number(r[s]),type:"flexible",length:e,derivation:{algorithm:r[i],saltLength:Number(r[n]),iterations:Number(r[o]),hashAlgorithm:r[a]},cipher:{algorithm:r[c],mode:r[u],ivLength:Number(r[d])}});if(!l.success)throw Error(l.error.message);return l.data}function P({transportableData:e,index:t}){let r=t+1,s=h({str:e,substr:m.F,occurrence:r}),i=h({str:e,substr:m.F,occurrence:r+1});if(-1===s||-1===i)throw Error("Marker info indices not found");return e.substring(s+1,i)}async function I(e,t,r,h){let g=function(e){let t=(0,a.v)(e);if(Number(P({transportableData:t,index:0}))!==m.g)throw Error("Marker version not supported");let r=P({transportableData:t,index:1});if(!(0,u.b9)(r))throw Error("Derivation algorithm not supported");return(function(e){switch(e){case"argon2d":return e=>{let t=y({transportableData:e,makeMarker:A,schema:C.bn}),r=_({transportableData:e,marker:t});return p({encipheredContents:d({transportableData:e,marker:t,metadata:r}),marker:t,metadata:r})};case"pbkdf2":return e=>{let t=y({transportableData:e,makeMarker:U,schema:C.jv}),r=_({transportableData:e,marker:t});return p({encipheredContents:d({transportableData:e,marker:t,metadata:r}),marker:t,metadata:r})};case"noderivation":return e=>{let t=y({transportableData:e,makeMarker:D,schema:C.J_}),r=function({transportableData:e,marker:t}){let{length:r,cipher:s}=t,{ivLength:i}=s,n=r+0,o=n+i;return{iv:e.substring(n,n+i),length:i+32,signature:e.substring(o,o+32)}}({transportableData:e,marker:t});return function({encipheredContents:e,marker:t,metadata:r}){let{derivation:s,cipher:i,type:n,version:o}=t,{iv:a,signature:c}=r;return{type:n,version:o,derivationConfig:s,cipherConfig:i,signature:(0,l.u)(c),iv:(0,l.u)(a),encipheredContents:(0,l.u)(e)}}({encipheredContents:d({transportableData:e,marker:t,metadata:r}),marker:t,metadata:r})};default:(0,c.U)(e)}})(r)(t)}(h),{deriveKeyArgon2d:v,deriveKeyPbkdf2:f}=t,{derivationConfig:E,salt:b}=g,{algorithm:S}=E,T="pbkdf2"===S||"argon2d"===S;if(T&&!b)throw Error("Need salt for derivation");let w=T&&b?await (0,o.b)(e,b,f,v,E,r):e,{mode:x}=g.cipherConfig,{computeHash:R}=t,{encryptionKey:F,signatureKey:I}="cbchmac64"===x?await (0,n.U)(w):await (0,i.Y)(w,R),{iv:j,encipheredContents:O}=g,q=(0,s.K)(j,O),{signature:k}=g;return{signatureKey:I,signature:k,dataToSign:q,encryptionKey:F,iv:j,encipheredContents:O}}async function j(e,t,r,s){let{verifyHmacSha:i}=t,{signatureKey:n,signature:o,dataToSign:a,encryptionKey:c,iv:u,encipheredContents:d}=await I(e,t,r,s);if(!await i(n,o,a))throw Error("Signature cannot be verified");let{decryptAes256:l}=t;return l(c,u,d)}},30441:function(e,t,r){r.d(t,{I:()=>u});var s=r(38612),i=r(14006),n=r(49),o=r(31636);let a={type:"KWC5",derivation:i.oo,cipher:n.BU};var c=r(13203);async function u(e,t,r){let u=function(e){let t=function({transportableData:e,marker:t}){let{cipher:r,type:s}=t,{ivLength:i}=r,n=o.RB+i+o.en+s.length,a=n+o.jK;return{iv:e.slice(o.RB,o.RB+i),signature:e.slice(n,n+o.jK),encipheredContents:e.slice(a)}}({transportableData:e,marker:a});return{iv:t.iv,type:o.PD,signature:t.signature,encipheredContents:t.encipheredContents,derivationConfig:i.oo,cipherConfig:n.BU}}(r),{computeHash:d}=t,{encryptionKey:l,signatureKey:p}=await (0,c.Y)(e,d),{iv:h,encipheredContents:m}=u,y=(0,s.K)(h,m),{verifyHmacSha:g}=t,{signature:v}=u;if(!await g(p,v,y))throw Error("Signature cannot be verified");let{decryptAes256:f}=t;return f(l,h,m)}},23052:function(e,t,r){r.d(t,{W:()=>o});var s=r(87169),i=r(53777),n=r(76957);async function o(e,t){let r=(0,s.u)((0,i.N)(t)),o=await e(r,"SHA-1");return(0,n.k)(o)}},26627:function(e,t,r){r.d(t,{U:()=>s});function s(e){let t=new Uint8Array(e),r=e.byteLength/2,s=t.slice(0,r),i=t.slice(r);return Promise.resolve({encryptionKey:s.buffer,signatureKey:i.buffer})}},13203:function(e,t,r){r.d(t,{Y:()=>s});async function s(e,t){let r=await t(e,"SHA-512"),s=new Uint8Array(r),i=r.byteLength/2,n=s.slice(0,i),o=s.slice(i,r.byteLength);return{encryptionKey:n.buffer,signatureKey:o.buffer}}},36e3:function(e,t,r){r.d(t,{N:()=>i,z:()=>s});let s="AES-CBC",i=256},47951:function(e,t,r){r.d(t,{x:()=>s});let s="SHA-256"},53540:function(e,t,r){r.d(t,{$k:()=>s,Tt:()=>n,xJ:()=>i});let s="RSA-OAEP",i="RSASSA-PKCS1-v1_5",n="SHA-256"},20858:function(e,t,r){r.d(t,{j:()=>s});class s{}},20346:function(e,t,r){r.d(t,{W:()=>o});var s,i=r(55466),n=((s={})[s.APPEND=0]="APPEND",s[s.SET=1]="SET",s[s.DELETE=2]="DELETE",s[s.DELETE_MULTIPLE=3]="DELETE_MULTIPLE",s);class o{has(e){return this.headers.has(e.toLowerCase())}get(e){let t=this.headers.get(e.toLowerCase());return t?.[0]??null}keys(){return Array.from(this.normalizedNames.values())}getAll(e){return this.headers.get(e.toLowerCase())??null}append(e,t){return this.clone({name:e,value:t,op:n.APPEND})}set(e,t){return this.clone({name:e,value:t,op:n.SET})}delete(e,t){return this.clone({name:e,value:t,op:n.DELETE})}deleteMultiple(e){return this.clone({names:e,op:n.DELETE_MULTIPLE})}toObject(){return Object.fromEntries(this.headers)}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}clone(e){let t=new o;return t.initFromOther(this),t.applyUpdate(e),t}applyUpdate(e){switch(e.op){case n.APPEND:case n.SET:{let t=e.name.toLowerCase(),r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);let s=(e.op===n.APPEND?this.headers.get(t):void 0)??[];s.push(...r),this.headers.set(t,s)}break;case n.DELETE:{let t=e.name.toLowerCase(),r=e.value;if(r){let e=this.headers.get(t);if(!e)return;let s=Array.isArray(r)?r:[r];0===(e=e.filter(e=>!s.includes(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}break;case n.DELETE_MULTIPLE:e.names.forEach(e=>{let t=e.toLowerCase();this.headers.delete(t),this.normalizedNames.delete(t)})}}initFromOther(e){Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,[...e.headers.get(t)]),this.normalizedNames.set(t,e.normalizedNames.get(t))})}initFromObject(e){Object.keys(e).forEach(t=>{let r=e[t],s=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(t,s))})}initFromString(e){e.split("\n").forEach(e=>{let t=e.indexOf(":");if(t>0){let r=e.slice(0,t),s=r.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}constructor(e){(0,i._)(this,"headers",new Map),(0,i._)(this,"normalizedNames",new Map),"string"==typeof e?this.initFromString(e):e&&this.initFromObject(e)}}},5194:function(e,t,r){r.d(t,{L:()=>a});var s,i=r(55466);class n{encodeKey(e){return this.standardEncoding(e)}encodeValue(e){return this.standardEncoding(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}standardEncoding(e){return encodeURIComponent(e).replace(n.STANDARD_ENCODING_REGEX,(e,t)=>n.STANDARD_ENCODING_REPLACEMENTS[t]??e)}}(0,i._)(n,"STANDARD_ENCODING_REGEX",/%(\d[a-f0-9])/gi),(0,i._)(n,"STANDARD_ENCODING_REPLACEMENTS",{40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"});var o=((s={})[s.APPEND=0]="APPEND",s[s.SET=1]="SET",s[s.DELETE=2]="DELETE",s);class a{has(e){return this.map.has(e)}get(e){let t=this.map.get(e);return t?.[0]??null}getAll(e){return this.map.get(e)??null}keys(){return Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:o.APPEND})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let s=e[r];Array.isArray(s)?s.forEach(e=>{t.push({param:r,value:e,op:o.APPEND})}):t.push({param:r,value:s,op:o.APPEND})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:o.SET})}delete(e,t){return this.clone({param:e,value:t,op:o.DELETE})}toString(){return this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){let t=new a({},{encoder:this.encoder});return t.initFromOther(this),t.applyUpdates(Array.isArray(e)?e:[e]),t}initFromOther(e){e.keys().forEach(t=>this.map.set(t,[...e.map.get(t)]))}initFromObject(e){Object.keys(e).forEach(t=>{let r=e[t],s=a.isValueArray(r)?r.map(a.valueToString):[a.valueToString(r)];this.map.set(t,s)})}initFromString(e){let{encoder:t}=this;e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{let r=e.indexOf("="),[s,i]=-1===r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],n=this.map.get(s)??[];n.push(i),this.map.set(s,n)})}applyUpdates(e){e.forEach(e=>{switch(e.op){case o.APPEND:case o.SET:{let t=(e.op===o.APPEND?this.map.get(e.param):void 0)??[];t.push(a.valueToString(e.value)),this.map.set(e.param,t);break}case o.DELETE:if(void 0!==e.value){let t=this.map.get(e.param)??[],r=t.indexOf(a.valueToString(e.value));-1!==r&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else this.map.delete(e.param)}})}static valueToString(e){return`${e}`}static isValueArray(e){return Array.isArray(e)}constructor(e={},t={}){(0,i._)(this,"map",new Map),(0,i._)(this,"encoder",void 0),this.encoder=t.encoder??new n,"string"==typeof e?this.initFromString(e):this.initFromObject(e)}}},81090:function(e,t,r){r.d(t,{a:()=>o});var s=r(55466),i=r(20346),n=r(5194);class o{serializeBody(){return null===this.body?null:o.isArrayBuffer(this.body)||"string"==typeof this.body?this.body:this.body instanceof n.L?this.body.toString():this.body instanceof FormData?this.body:"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||o.isArrayBuffer(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof n.L?"application/x-www-form-urlencoded;charset=UTF-8":this.body instanceof FormData?null:"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){let t=e.method??this.method,r=e.url??this.url,s=e.responseType??this.responseType,i=void 0!==e.body?e.body:this.body,n=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.timeout?e.timeout:this.timeout,c=e.mode??this.mode,u=e.headers?this.getHeadersFromOptions(e.headers):this.headers,d=e.params?this.getParamsFromOptions(e.params):this.params,l=e.setHeaders;l&&(u=Object.keys(l).reduce((e,t)=>e.set(t,l[t]),u));let p=e.setParams;return p&&(d=Object.keys(p).reduce((e,t)=>e.set(t,p[t]),d)),new o(t,r,i,{params:d,headers:u,responseType:s,withCredentials:n,timeout:a,mode:c})}getHeadersFromOptions(e){return e instanceof i.W?e:new i.W(e)}getParamsFromOptions(e){return e instanceof n.L?e:new n.L(e)}initUrlWithParams(){let e=this.params.toString();if(0===e.length)return this.url;let t=this.url.indexOf("?"),r=-1===t?"?":t<this.url.length-1?"&":"";return this.url+r+e}static mightHaveBody(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":return!1;default:return!0}}static isArrayBuffer(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}constructor(e,t,r,a){(0,s._)(this,"body",null),(0,s._)(this,"headers",new i.W),(0,s._)(this,"withCredentials",!1),(0,s._)(this,"timeout",6e4),(0,s._)(this,"responseType","json"),(0,s._)(this,"method",void 0),(0,s._)(this,"params",new n.L({})),(0,s._)(this,"urlWithParams",void 0),(0,s._)(this,"url",void 0),(0,s._)(this,"mode",void 0),this.url=t,this.method=e,o.mightHaveBody(this.method)&&(this.body=r??null),a&&(this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=this.getHeadersFromOptions(a.headers)),a.params&&(this.params=this.getParamsFromOptions(a.params)),a.timeout&&a.timeout>0&&(this.timeout=a.timeout),a.mode&&(this.mode=a.mode)),this.urlWithParams=this.initUrlWithParams()}}},65741:function(e,t,r){r.d(t,{Z:()=>u});var s=r(55466),i=r(25754),n=r(20346),o=r(27472);async function a(e){let t=e.getReader(),r=new Uint8Array(0),s=await t.read();for(;!s.done;){let e=new Uint8Array(r.byteLength+s.value.byteLength);e.set(r,0),e.set(s.value,r.byteLength),r=e,s=await t.read()}return r}class c{pull(e){let{bytesRead:t,data:r}=this;if(t>=r.byteLength){e.close();return}let s=Math.min(r.byteLength-t,e.desiredSize??1/0);if(s>0){let i=new Uint8Array(r,t,s);e.enqueue(i),this.bytesRead+=s}t>=r.byteLength&&e.close()}constructor(e){(0,s._)(this,"bytesRead",0),(0,s._)(this,"data",void 0),this.data=e}}class u{clone(e={}){return new u({body:void 0!==e.body?e.body:null===this.body?null:this.body instanceof i.Pz?this.body.tee()[0]:this.body,headers:e.headers??this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText??this.statusText,url:e.url??this.url??void 0})}isBodyReadableStream(){return!!this.body&&"object"==typeof this.body&&"ReadableStream"===this.body.constructor.name}async arrayBuffer(){if(null===this.body)throw Error("Empty response body");if(this.isBodyReadableStream())return(await a(this.body)).buffer;if(!(this.body instanceof ArrayBuffer))throw Error("Unexpected body type, not an ArrayBuffer");return this.body}async text(){if(null===this.body)throw Error("Empty response body");if(this.isBodyReadableStream()){let e=await a(this.body);return new TextDecoder().decode(e.buffer)}if("string"!=typeof this.body)throw Error("Unexpected body type, not a string");return this.body}async json(e){if(null===this.body)throw Error("Empty response body");if(this.isBodyReadableStream()){let t=await a(this.body),r=new TextDecoder().decode(t.buffer);try{let t=JSON.parse(r);return e.decode(t)}catch(e){throw Error("Failed to parse response body JSON")}}if(this.body instanceof ArrayBuffer||"string"==typeof this.body)throw Error("Unexpected body type");return e.decode(this.body)}bodyStream(){if(null===this.body)throw Error("Empty response body");if("object"==typeof this.body&&"ReadableStream"===this.body.constructor.name)return this.body;let e=new TextEncoder;if("string"==typeof this.body)return new i.Pz(new c(e.encode(this.body).buffer));if(this.body instanceof ArrayBuffer)return new i.Pz(new c(this.body));let t=JSON.stringify(this.body);return new i.Pz(new c(e.encode(t).buffer))}constructor(e={},t=o.W.Ok,r="OK"){(0,s._)(this,"headers",void 0),(0,s._)(this,"status",void 0),(0,s._)(this,"statusText",void 0),(0,s._)(this,"url",void 0),(0,s._)(this,"ok",void 0),(0,s._)(this,"body",void 0),this.headers=e.headers instanceof n.W?e.headers:new n.W(e.headers),this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText??r,this.url=e.url??null,this.ok=this.status>=200&&this.status<300,this.body=void 0!==e.body?e.body:null}}},27472:function(e,t,r){r.d(t,{W:()=>i});var s,i=((s={})[s.Continue=100]="Continue",s[s.SwitchingProtocols=101]="SwitchingProtocols",s[s.Processing=102]="Processing",s[s.EarlyHints=103]="EarlyHints",s[s.Ok=200]="Ok",s[s.Created=201]="Created",s[s.Accepted=202]="Accepted",s[s.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",s[s.NoContent=204]="NoContent",s[s.ResetContent=205]="ResetContent",s[s.PartialContent=206]="PartialContent",s[s.MultiStatus=207]="MultiStatus",s[s.AlreadyReported=208]="AlreadyReported",s[s.ImUsed=226]="ImUsed",s[s.MultipleChoices=300]="MultipleChoices",s[s.MovedPermanently=301]="MovedPermanently",s[s.Found=302]="Found",s[s.SeeOther=303]="SeeOther",s[s.NotModified=304]="NotModified",s[s.UseProxy=305]="UseProxy",s[s.Unused=306]="Unused",s[s.TemporaryRedirect=307]="TemporaryRedirect",s[s.PermanentRedirect=308]="PermanentRedirect",s[s.BadRequest=400]="BadRequest",s[s.Unauthorized=401]="Unauthorized",s[s.PaymentRequired=402]="PaymentRequired",s[s.Forbidden=403]="Forbidden",s[s.NotFound=404]="NotFound",s[s.MethodNotAllowed=405]="MethodNotAllowed",s[s.NotAcceptable=406]="NotAcceptable",s[s.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",s[s.RequestTimeout=408]="RequestTimeout",s[s.Conflict=409]="Conflict",s[s.Gone=410]="Gone",s[s.LengthRequired=411]="LengthRequired",s[s.PreconditionFailed=412]="PreconditionFailed",s[s.PayloadTooLarge=413]="PayloadTooLarge",s[s.UriTooLong=414]="UriTooLong",s[s.UnsupportedMediaType=415]="UnsupportedMediaType",s[s.RangeNotSatisfiable=416]="RangeNotSatisfiable",s[s.ExpectationFailed=417]="ExpectationFailed",s[s.ImATeapot=418]="ImATeapot",s[s.MisdirectedRequest=421]="MisdirectedRequest",s[s.UnprocessableEntity=422]="UnprocessableEntity",s[s.Locked=423]="Locked",s[s.FailedDependency=424]="FailedDependency",s[s.TooEarly=425]="TooEarly",s[s.UpgradeRequired=426]="UpgradeRequired",s[s.PreconditionRequired=428]="PreconditionRequired",s[s.TooManyRequests=429]="TooManyRequests",s[s.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",s[s.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",s[s.InternalServerError=500]="InternalServerError",s[s.NotImplemented=501]="NotImplemented",s[s.BadGateway=502]="BadGateway",s[s.ServiceUnavailable=503]="ServiceUnavailable",s[s.GatewayTimeout=504]="GatewayTimeout",s[s.HttpVersionNotSupported=505]="HttpVersionNotSupported",s[s.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",s[s.InsufficientStorage=507]="InsufficientStorage",s[s.LoopDetected=508]="LoopDetected",s[s.NotExtended=510]="NotExtended",s[s.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",s)},52174:function(e,t,r){r.d(t,{R:()=>n,a:()=>o});var s=r(55466),i=r(96272);class n extends(0,i.Hu)("BadStatus","The HTTP response has a non-successful status code (not 2XX)"){constructor(e){super(),(0,s._)(this,"response",void 0),this.response=e}}class o extends(0,i.Hu)("FetchFailedError","Something happened while communicating to the server"){}},91402:function(e,t,r){r.d(t,{M:()=>s});let s="file-upload"},96272:function(e,t,r){r.d(t,{As:()=>o,BU:()=>a,Hu:()=>n,Vj:()=>i});var s=r(55466);let i=(e,t="")=>()=>({tag:e,message:t}),n=(e,t)=>class extends Error{constructor(){super(t),(0,s._)(this,"tag",void 0),this.tag=e}};function o(e,t){return t.includes(e.tag)}let a=e=>e.tag},649:function(e,t,r){r.d(t,{j:()=>s});function s(e){if(e instanceof Error)throw e;if("string"==typeof e)throw Error(e);throw Error(e.tag)}},77323:function(e,t,r){r.r(t),r.d(t,{FILE_UPLOAD:()=>p.M,FunctionalError:()=>i.Hu,assertUnreachable:()=>o.U,assertsSuccess:()=>c.nt,concatMapFailure:()=>u.Tc,concatMapSuccess:()=>u.Gx,concatMatchResult:()=>u.RW,createMatchable:()=>a.H6,defineFunctionalError:()=>i.Vj,failure:()=>c.Rn,getBrander:()=>l.zq,getFailure:()=>c.Yv,getSuccess:()=>c.db,getSuccessOrThrow:()=>c.ho,hasProperty:()=>l.l$,isFailure:()=>c.hx,isFunctionalErrorOfType:()=>i.As,isMatchable:()=>a.cw,isObject:()=>s.K,isResult:()=>c.AZ,isSuccess:()=>c.d6,mapFailure:()=>c.SN,mapFailureObservable:()=>u.DZ,mapResultObservable:()=>u.vg,mapSuccess:()=>c.ty,mapSuccessObservable:()=>u.Qn,mapSuccessResultObservable:()=>u.lk,match:()=>a.EQ,matchMap:()=>d.G,matchResult:()=>c.f2,matchResultObservable:()=>u.nb,panic:()=>n.j,safeCast:()=>l.Ay,success:()=>c.Vp,switchMapFailure:()=>u.pr,switchMapSuccess:()=>u.CP,switchMapSuccessResult:()=>u.dy,switchMapSuccessResultObservable:()=>u._l,switchMatchResult:()=>u.bM,toFunctionalErrorCode:()=>i.BU});var s=r(51721),i=r(96272),n=r(649),o=r(90385),a=r(70554),c=r(306),u=r(17741),d=r(63575),l=r(18550),p=r(91402)},90385:function(e,t,r){r.d(t,{U:()=>s});function s(e,t){throw Error(t??`Unreachable code detected (${e})`)}},63575:function(e,t,r){r.d(t,{G:()=>s});let s=(e,t)=>t[e]()},70554:function(e,t,r){r.d(t,{EQ:()=>i,H6:()=>s,cw:()=>n});let s=(e,t)=>({tag:e,...t}),i=(e,t)=>{let r=e.tag,s=r in t?t[r]:null;if(!s)throw Error("Unmatchable case");return s(e)},n=(e,...t)=>"object"==typeof e&&!!e&&"tag"in e&&t.includes(e.tag)},17741:function(e,t,r){r.d(t,{CP:()=>v,DZ:()=>l,Gx:()=>m,Qn:()=>d,RW:()=>g,Tc:()=>y,_l:()=>E,bM:()=>S,dy:()=>f,lk:()=>h,nb:()=>u,pr:()=>b,vg:()=>p});var s=r(42589),i=r(92291),n=r(72907),o=r(69853),a=r(306),c=r(70554);function u(e){return t=>t.pipe((0,s.U)(t=>(0,c.EQ)(t,{success:({data:t})=>e.success(t),failure:({error:t})=>e.failure(t)})))}function d(e){return t=>t.pipe((0,s.U)(t=>(0,a.hx)(t)?t:(0,a.Vp)(e(t.data))))}function l(e){return t=>t.pipe((0,s.U)(t=>(0,a.d6)(t)?t:(0,a.Rn)(e(t.error))))}function p(e,t){return r=>r.pipe((0,s.U)(r=>(0,a.hx)(r)?t?t(r.error):r:e(r.data)))}function h(e){return t=>t.pipe((0,s.U)(t=>(0,a.hx)(t)?t:e(t.data)))}function m(e){return t=>t.pipe((0,i.b)(async t=>(0,a.hx)(t)?t:(0,a.Vp)(await e(t.data))))}function y(e){return t=>t.pipe((0,i.b)(async t=>(0,a.d6)(t)?t:(0,a.Rn)(await e(t.error))))}function g(e){return t=>t.pipe((0,i.b)(t=>(0,a.f2)(t,e)))}function v(e){return t=>t.pipe((0,n.w)(async t=>(0,a.hx)(t)?t:(0,a.Vp)(await e(t.data))))}function f(e){return t=>t.pipe((0,n.w)(async t=>(0,a.hx)(t)?t:await e(t.data)))}function E(e){return t=>t.pipe((0,n.w)(t=>(0,a.hx)(t)?(0,o.of)(t):e(t.data)))}function b(e){return t=>t.pipe((0,n.w)(async t=>(0,a.d6)(t)?t:(0,a.Rn)(await e(t.error))))}function S(e){return t=>t.pipe((0,n.w)(t=>(0,a.f2)(t,e)))}},306:function(e,t,r){r.d(t,{db:()=>h,ho:()=>m,d6:()=>u,f2:()=>c,nt:()=>d,AZ:()=>p,Yv:()=>y,hx:()=>l,Rn:()=>a,Vp:()=>o,SN:()=>v,ty:()=>g});var s=r(70554);let i="success",n="failure",o=e=>(0,s.H6)("success",{data:e}),a=e=>(0,s.H6)("failure",{error:e}),c=(e,t)=>(0,s.EQ)(e,{success:({data:e})=>t.success(e),failure:({error:e})=>t.failure(e)}),u=e=>e.tag===i;function d(e){if(!u(e))throw Error("Is not a success")}let l=e=>e.tag===n,p=e=>(0,s.cw)(e,i,n),h=e=>e.data,m=e=>(d(e),e.data),y=e=>e.error,g=(e,t)=>l(e)?e:o(t(e.data)),v=(e,t)=>u(e)?e:a(t(e.error))},51721:function(e,t,r){r.d(t,{K:()=>s});let s=e=>"object"==typeof e&&null!==e},18550:function(e,t,r){r.d(t,{Ay:()=>i,l$:()=>n,zq:()=>s});let s=e=>t=>Object.assign(t,{brand:e}),i=e=>e;function n(e,t){return t in e}},96553:function(e,t,r){r.d(t,{h:()=>o,m:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={accountInfo:{method:"POST",path:"account/AccountInfo",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},changeAccountType:{method:"POST",path:"account/ChangeAccountType",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createUser:{method:"POST",path:"account/CreateUser",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},createUserWithSso:{method:"POST",path:"account/CreateUserWithSSO",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},deleteOrResetAccount:{method:"POST",path:"account/DeleteOrResetAccount",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},forgetUserPii:{method:"POST",path:"account/ForgetUserPII",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.BACK_OFFICE,version:n.W.V1},getActivity:{method:"POST",path:"account/GetActivity",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.BACK_OFFICE,version:n.W.V1},getUserIdentityByLogin:{method:"POST",path:"account/GetUserIdentityByLogin",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getUserTeamDetailsByLogin:{method:"POST",path:"account/GetUserTeamDetailsByLogin",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},requestAccountCreation:{method:"POST",path:"account/RequestAccountCreation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},updateContactInfo:{method:"POST",path:"account/UpdateContactInfo",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{accountInfo(e,t){return this.executorFactory.createExecutor(o.accountInfo).executeRequest({credentials:e,body:{},options:t})}changeAccountType(e,t,r){return this.executorFactory.createExecutor(o.changeAccountType).executeRequest({credentials:e,body:t,options:r})}createUser(e,t){return this.executorFactory.createExecutor(o.createUser).executeRequest({body:e,options:t})}createUserWithSso(e,t){return this.executorFactory.createExecutor(o.createUserWithSso).executeRequest({body:e,options:t})}deleteOrResetAccount(e,t){return this.executorFactory.createExecutor(o.deleteOrResetAccount).executeRequest({body:e,options:t})}forgetUserPii(e,t){return this.executorFactory.createExecutor(o.forgetUserPii).executeRequest({body:e,options:t})}getActivity(e,t){return this.executorFactory.createExecutor(o.getActivity).executeRequest({body:e,options:t})}getUserIdentityByLogin(e,t){return this.executorFactory.createExecutor(o.getUserIdentityByLogin).executeRequest({body:e,options:t})}getUserTeamDetailsByLogin(e,t){return this.executorFactory.createExecutor(o.getUserTeamDetailsByLogin).executeRequest({body:e,options:t})}requestAccountCreation(e,t){return this.executorFactory.createExecutor(o.requestAccountCreation).executeRequest({body:e,options:t})}updateContactInfo(e,t,r){return this.executorFactory.createExecutor(o.updateContactInfo).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},37261:function(e,t,r){r.d(t,{u:()=>a,y:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={confirmActivation:{method:"POST",path:"accountrecovery/ConfirmActivation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deactivate:{method:"POST",path:"accountrecovery/Deactivate",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getAuthenticatedEncryptedVaultKey:{method:"POST",path:"accountrecovery/GetAuthenticatedEncryptedVaultKey",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getEncryptedVaultKey:{method:"POST",path:"accountrecovery/GetEncryptedVaultKey",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getStatus:{method:"POST",path:"accountrecovery/GetStatus",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},requestActivation:{method:"POST",path:"accountrecovery/RequestActivation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{confirmActivation(e,t,r){return this.executorFactory.createExecutor(o.confirmActivation).executeRequest({credentials:e,body:t,options:r})}deactivate(e,t,r){return this.executorFactory.createExecutor(o.deactivate).executeRequest({credentials:e,body:t,options:r})}getAuthenticatedEncryptedVaultKey(e,t){return this.executorFactory.createExecutor(o.getAuthenticatedEncryptedVaultKey).executeRequest({credentials:e,body:{},options:t})}getEncryptedVaultKey(e,t){return this.executorFactory.createExecutor(o.getEncryptedVaultKey).executeRequest({body:e,options:t})}getStatus(e,t){return this.executorFactory.createExecutor(o.getStatus).executeRequest({body:e,options:t})}requestActivation(e,t,r){return this.executorFactory.createExecutor(o.requestActivation).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},10712:function(e,t,r){r.d(t,{V:()=>a,k:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={changeUsersServiceProviderKey:{method:"POST",path:"authentication/ChangeUsersServiceProviderKey",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.TEAM_DEVICE,version:n.W.V1},completeDeviceRegistrationWithAuthTicket:{method:"POST",path:"authentication/CompleteDeviceRegistrationWithAuthTicket",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},completeDeviceRegistrationWithToken:{method:"POST",path:"authentication/CompleteDeviceRegistrationWithToken",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},completeDeviceRegistrationWithTotp:{method:"POST",path:"authentication/CompleteDeviceRegistrationWithTOTP",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},completeExtraDeviceRegistrationWithToken:{method:"POST",path:"authentication/CompleteExtraDeviceRegistrationWithToken",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},completeLoginWithAuthTicket:{method:"POST",path:"authentication/CompleteLoginWithAuthTicket",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},completeLoginWithTotp:{method:"POST",path:"authentication/CompleteLoginWithTOTP",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},completeRememberMeOpenSession:{method:"POST",path:"authentication/CompleteRememberMeOpenSession",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.SESSION,version:n.W.V1},completeRememberMeRegistration:{method:"POST",path:"authentication/CompleteRememberMeRegistration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},completeTotpActivation:{method:"POST",path:"authentication/CompleteTOTPActivation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},completeWebAuthnAuthenticatorRegistration:{method:"POST",path:"authentication/CompleteWebAuthnAuthenticatorRegistration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createSamlSession:{method:"POST",path:"authentication/CreateSAMLSession",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},createTokenExtAuth:{method:"POST",path:"authentication/CreateTokenExtAuth",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deactivateRememberMe:{method:"POST",path:"authentication/DeactivateRememberMe",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deactivateTotp:{method:"POST",path:"authentication/DeactivateTOTP",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deactivateU2FDevice:{method:"POST",path:"authentication/DeactivateU2FDevice",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deactivateWebAuthnAuthenticator:{method:"POST",path:"authentication/DeactivateWebAuthnAuthenticator",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},destroySamlSession:{method:"POST",path:"authentication/DestroySAMLSession",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.BACK_OFFICE,version:n.W.V1},get2FaStatus:{method:"POST",path:"authentication/Get2FAStatus",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},get2FaStatusUnauthenticated:{method:"POST",path:"authentication/Get2FAStatusUnauthenticated",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getAuthenticationMethodsForDevice:{method:"POST",path:"authentication/GetAuthenticationMethodsForDevice",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getAuthenticationMethodsForLogin:{method:"POST",path:"authentication/GetAuthenticationMethodsForLogin",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getAuthenticationMethodsForReset:{method:"POST",path:"authentication/GetAuthenticationMethodsForReset",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getAvailableWebAuthnAuthenticators:{method:"POST",path:"authentication/GetAvailableWebAuthnAuthenticators",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.SESSION,version:n.W.V1},getMasterPasswordCipheringKey:{method:"POST",path:"authentication/GetMasterPasswordCipheringKey",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.SESSION,version:n.W.V1},getRecoveryPhoneNumber:{method:"POST",path:"authentication/GetRecoveryPhoneNumber",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getTokensList:{method:"GET",path:"authentication/GetTokens",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getTokens:{method:"POST",path:"authentication/GetTokens",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getU2FDevices:{method:"POST",path:"authentication/GetU2FDevices",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getUnauthorizedProfiles:{method:"POST",path:"authentication/GetUnauthorizedProfiles",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getUnmigratedUserServiceProviderKeys:{method:"POST",path:"authentication/GetUnmigratedUserServiceProviderKeys",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getUnmigratedUserServiceProviderKeysForTeam:{method:"POST",path:"authentication/GetUnmigratedUserServiceProviderKeysForTeam",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.TEAM_DEVICE,version:n.W.V1},getUsersServiceProviderKeys:{method:"POST",path:"authentication/GetUsersServiceProviderKeys",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.TEAM_DEVICE,version:n.W.V1},getUserSsoInfo:{method:"POST",path:"authentication/GetUserSSOInfo",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.TEAM_DEVICE,version:n.W.V1},getWebAuthnAuthenticators:{method:"POST",path:"authentication/GetWebAuthnAuthenticators",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},initRememberMasterPassword:{method:"POST",path:"authentication/InitRememberMasterPassword",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},performDashlaneAuthenticatorVerification:{method:"POST",path:"authentication/PerformDashlaneAuthenticatorVerification",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},performDuoPushVerification:{method:"POST",path:"authentication/PerformDuoPushVerification",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},performEmailTokenVerification:{method:"POST",path:"authentication/PerformEmailTokenVerification",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},performExtraDeviceVerification:{method:"POST",path:"authentication/PerformExtraDeviceVerification",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},performSsoVerification:{method:"POST",path:"authentication/PerformSsoVerification",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},performTotpVerification:{method:"POST",path:"authentication/PerformTotpVerification",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},performU2FVerification:{method:"POST",path:"authentication/PerformU2FVerification",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},renameWebAuthnAuthenticator:{method:"POST",path:"authentication/RenameWebAuthnAuthenticator",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},requestDeviceRegistration:{method:"POST",path:"authentication/RequestDeviceRegistration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},requestEmailTokenVerification:{method:"POST",path:"authentication/RequestEmailTokenVerification",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},requestEmailTokenVerificationV2:{method:"POST",path:"authentication/RequestEmailTokenVerificationV2",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},requestExtraDeviceRegistration:{method:"POST",path:"authentication/RequestExtraDeviceRegistration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},requestLogin:{method:"POST",path:"authentication/RequestLogin",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},requestOtpRecoveryCodesByPhone:{method:"POST",path:"authentication/RequestOtpRecoveryCodesByPhone",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},requestSecurityKeyRegistration:{method:"POST",path:"authentication/RequestSecurityKeyRegistration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},requestTotpActivation:{method:"POST",path:"authentication/RequestTOTPActivation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},requestWebauthnOpenSession:{method:"POST",path:"authentication/RequestWebauthnOpenSession",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.SESSION,version:n.W.V1},requestWebauthnRegistration:{method:"POST",path:"authentication/RequestWebauthnRegistration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},resetBlockedToken:{method:"POST",path:"authentication/ResetBlockedToken",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},updateRecoveryPhoneNumber:{method:"POST",path:"authentication/UpdateRecoveryPhoneNumber",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},pincodeCompleteActivation:{method:"POST",path:"authentication/pincode/CompleteActivation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},pincodeCompleteLogin:{method:"POST",path:"authentication/pincode/CompleteLogin",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},pincodeDisable:{method:"POST",path:"authentication/pincode/Disable",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},pincodeRequestActivation:{method:"POST",path:"authentication/pincode/RequestActivation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},pincodeRequestLogin:{method:"POST",path:"authentication/pincode/RequestLogin",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1}};class a{changeUsersServiceProviderKey(e,t,r){return this.executorFactory.createExecutor(o.changeUsersServiceProviderKey).executeRequest({credentials:e,body:t,options:r})}completeDeviceRegistrationWithAuthTicket(e,t){return this.executorFactory.createExecutor(o.completeDeviceRegistrationWithAuthTicket).executeRequest({body:e,options:t})}completeDeviceRegistrationWithToken(e,t){return this.executorFactory.createExecutor(o.completeDeviceRegistrationWithToken).executeRequest({body:e,options:t})}completeDeviceRegistrationWithTotp(e,t){return this.executorFactory.createExecutor(o.completeDeviceRegistrationWithTotp).executeRequest({body:e,options:t})}completeExtraDeviceRegistrationWithToken(e,t){return this.executorFactory.createExecutor(o.completeExtraDeviceRegistrationWithToken).executeRequest({body:e,options:t})}completeLoginWithAuthTicket(e,t){return this.executorFactory.createExecutor(o.completeLoginWithAuthTicket).executeRequest({body:e,options:t})}completeLoginWithTotp(e,t){return this.executorFactory.createExecutor(o.completeLoginWithTotp).executeRequest({body:e,options:t})}completeRememberMeOpenSession(e,t,r){return this.executorFactory.createExecutor(o.completeRememberMeOpenSession).executeRequest({credentials:e,body:t,options:r})}completeRememberMeRegistration(e,t,r){return this.executorFactory.createExecutor(o.completeRememberMeRegistration).executeRequest({credentials:e,body:t,options:r})}completeTotpActivation(e,t,r){return this.executorFactory.createExecutor(o.completeTotpActivation).executeRequest({credentials:e,body:t,options:r})}completeWebAuthnAuthenticatorRegistration(e,t,r){return this.executorFactory.createExecutor(o.completeWebAuthnAuthenticatorRegistration).executeRequest({credentials:e,body:t,options:r})}createSamlSession(e,t){return this.executorFactory.createExecutor(o.createSamlSession).executeRequest({body:e,options:t})}createTokenExtAuth(e,t){return this.executorFactory.createExecutor(o.createTokenExtAuth).executeRequest({credentials:e,body:{},options:t})}deactivateRememberMe(e,t,r){return this.executorFactory.createExecutor(o.deactivateRememberMe).executeRequest({credentials:e,body:t,options:r})}deactivateTotp(e,t,r){return this.executorFactory.createExecutor(o.deactivateTotp).executeRequest({credentials:e,body:t,options:r})}deactivateU2FDevice(e,t,r){return this.executorFactory.createExecutor(o.deactivateU2FDevice).executeRequest({credentials:e,body:t,options:r})}deactivateWebAuthnAuthenticator(e,t,r){return this.executorFactory.createExecutor(o.deactivateWebAuthnAuthenticator).executeRequest({credentials:e,body:t,options:r})}destroySamlSession(e){return this.executorFactory.createExecutor(o.destroySamlSession).executeRequest({body:{},options:e})}get2FaStatus(e,t){return this.executorFactory.createExecutor(o.get2FaStatus).executeRequest({credentials:e,body:{},options:t})}get2FaStatusUnauthenticated(e,t){return this.executorFactory.createExecutor(o.get2FaStatusUnauthenticated).executeRequest({body:e,options:t})}getAuthenticationMethodsForDevice(e,t){return this.executorFactory.createExecutor(o.getAuthenticationMethodsForDevice).executeRequest({body:e,options:t})}getAuthenticationMethodsForLogin(e,t){return this.executorFactory.createExecutor(o.getAuthenticationMethodsForLogin).executeRequest({body:e,options:t})}getAuthenticationMethodsForReset(e,t){return this.executorFactory.createExecutor(o.getAuthenticationMethodsForReset).executeRequest({body:e,options:t})}getAvailableWebAuthnAuthenticators(e,t,r){return this.executorFactory.createExecutor(o.getAvailableWebAuthnAuthenticators).executeRequest({credentials:e,body:t,options:r})}getMasterPasswordCipheringKey(e,t){return this.executorFactory.createExecutor(o.getMasterPasswordCipheringKey).executeRequest({credentials:e,body:{},options:t})}getRecoveryPhoneNumber(e,t){return this.executorFactory.createExecutor(o.getRecoveryPhoneNumber).executeRequest({credentials:e,body:{},options:t})}getTokensList(e,t){return this.executorFactory.createExecutor(o.getTokensList).executeRequest({body:e,options:t})}getTokens(e,t){return this.executorFactory.createExecutor(o.getTokens).executeRequest({body:e,options:t})}getU2FDevices(e,t){return this.executorFactory.createExecutor(o.getU2FDevices).executeRequest({credentials:e,body:{},options:t})}getUnauthorizedProfiles(e,t){return this.executorFactory.createExecutor(o.getUnauthorizedProfiles).executeRequest({body:e,options:t})}getUnmigratedUserServiceProviderKeys(e,t){return this.executorFactory.createExecutor(o.getUnmigratedUserServiceProviderKeys).executeRequest({body:e,options:t})}getUnmigratedUserServiceProviderKeysForTeam(e,t,r){return this.executorFactory.createExecutor(o.getUnmigratedUserServiceProviderKeysForTeam).executeRequest({credentials:e,body:t,options:r})}getUsersServiceProviderKeys(e,t,r){return this.executorFactory.createExecutor(o.getUsersServiceProviderKeys).executeRequest({credentials:e,body:t,options:r})}getUserSsoInfo(e,t,r){return this.executorFactory.createExecutor(o.getUserSsoInfo).executeRequest({credentials:e,body:t,options:r})}getWebAuthnAuthenticators(e,t){return this.executorFactory.createExecutor(o.getWebAuthnAuthenticators).executeRequest({credentials:e,body:{},options:t})}initRememberMasterPassword(e,t,r){return this.executorFactory.createExecutor(o.initRememberMasterPassword).executeRequest({credentials:e,body:t,options:r})}performDashlaneAuthenticatorVerification(e,t){return this.executorFactory.createExecutor(o.performDashlaneAuthenticatorVerification).executeRequest({body:e,options:t})}performDuoPushVerification(e,t){return this.executorFactory.createExecutor(o.performDuoPushVerification).executeRequest({body:e,options:t})}performEmailTokenVerification(e,t){return this.executorFactory.createExecutor(o.performEmailTokenVerification).executeRequest({body:e,options:t})}performExtraDeviceVerification(e,t){return this.executorFactory.createExecutor(o.performExtraDeviceVerification).executeRequest({body:e,options:t})}performSsoVerification(e,t){return this.executorFactory.createExecutor(o.performSsoVerification).executeRequest({body:e,options:t})}performTotpVerification(e,t){return this.executorFactory.createExecutor(o.performTotpVerification).executeRequest({body:e,options:t})}performU2FVerification(e,t){return this.executorFactory.createExecutor(o.performU2FVerification).executeRequest({body:e,options:t})}renameWebAuthnAuthenticator(e,t,r){return this.executorFactory.createExecutor(o.renameWebAuthnAuthenticator).executeRequest({credentials:e,body:t,options:r})}requestDeviceRegistration(e,t){return this.executorFactory.createExecutor(o.requestDeviceRegistration).executeRequest({body:e,options:t})}requestEmailTokenVerification(e,t){return this.executorFactory.createExecutor(o.requestEmailTokenVerification).executeRequest({body:e,options:t})}requestEmailTokenVerificationV2(e,t){return this.executorFactory.createExecutor(o.requestEmailTokenVerificationV2).executeRequest({body:e,options:t})}requestExtraDeviceRegistration(e,t,r){return this.executorFactory.createExecutor(o.requestExtraDeviceRegistration).executeRequest({credentials:e,body:t,options:r})}requestLogin(e,t){return this.executorFactory.createExecutor(o.requestLogin).executeRequest({body:e,options:t})}requestOtpRecoveryCodesByPhone(e,t){return this.executorFactory.createExecutor(o.requestOtpRecoveryCodesByPhone).executeRequest({body:e,options:t})}requestSecurityKeyRegistration(e,t){return this.executorFactory.createExecutor(o.requestSecurityKeyRegistration).executeRequest({body:e,options:t})}requestTotpActivation(e,t,r){return this.executorFactory.createExecutor(o.requestTotpActivation).executeRequest({credentials:e,body:t,options:r})}requestWebauthnOpenSession(e,t){return this.executorFactory.createExecutor(o.requestWebauthnOpenSession).executeRequest({credentials:e,body:{},options:t})}requestWebauthnRegistration(e,t){return this.executorFactory.createExecutor(o.requestWebauthnRegistration).executeRequest({credentials:e,body:{},options:t})}resetBlockedToken(e,t){return this.executorFactory.createExecutor(o.resetBlockedToken).executeRequest({body:e,options:t})}updateRecoveryPhoneNumber(e,t,r){return this.executorFactory.createExecutor(o.updateRecoveryPhoneNumber).executeRequest({credentials:e,body:t,options:r})}pincodeCompleteActivation(e,t,r){return this.executorFactory.createExecutor(o.pincodeCompleteActivation).executeRequest({credentials:e,body:t,options:r})}pincodeCompleteLogin(e,t){return this.executorFactory.createExecutor(o.pincodeCompleteLogin).executeRequest({body:e,options:t})}pincodeDisable(e,t){return this.executorFactory.createExecutor(o.pincodeDisable).executeRequest({credentials:e,body:{},options:t})}pincodeRequestActivation(e,t,r){return this.executorFactory.createExecutor(o.pincodeRequestActivation).executeRequest({credentials:e,body:t,options:r})}pincodeRequestLogin(e,t){return this.executorFactory.createExecutor(o.pincodeRequestLogin).executeRequest({body:e,options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},82076:function(e,t,r){r.d(t,{O:()=>o,g:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={getCommunicationPreferences:{method:"POST",path:"communication/GetCommunicationPreferences",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getUserEmailSubscriptionInfo:{method:"POST",path:"communication/GetUserEmailSubscriptionInfo",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},oneClickUnsubscribeFromAllCategories:{method:"POST",path:"communication/OneClickUnsubscribeFromAllCategories",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.NONE,version:n.W.V1},unsubscribeFromAllCategories:{method:"POST",path:"communication/UnsubscribeFromAllCategories",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},updateCommunicationPreferences:{method:"POST",path:"communication/UpdateCommunicationPreferences",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1}};class a{getCommunicationPreferences(e,t){return this.executorFactory.createExecutor(o.getCommunicationPreferences).executeRequest({body:e,options:t})}getUserEmailSubscriptionInfo(e,t){return this.executorFactory.createExecutor(o.getUserEmailSubscriptionInfo).executeRequest({body:e,options:t})}oneClickUnsubscribeFromAllCategories(e,t){return this.executorFactory.createExecutor(o.oneClickUnsubscribeFromAllCategories).executeRequest({body:e,options:t})}unsubscribeFromAllCategories(e,t){return this.executorFactory.createExecutor(o.unsubscribeFromAllCategories).executeRequest({body:e,options:t})}updateCommunicationPreferences(e,t){return this.executorFactory.createExecutor(o.updateCommunicationPreferences).executeRequest({body:e,options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},62004:function(e,t,r){r.d(t,{D:()=>a,T:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={confirmRegistration:{method:"POST",path:"darkwebmonitoring/ConfirmRegistration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},deregisterEmail:{method:"POST",path:"darkwebmonitoring/DeregisterEmail",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},listLeaks:{method:"POST",path:"darkwebmonitoring/ListLeaks",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},listRegistrations:{method:"POST",path:"darkwebmonitoring/ListRegistrations",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},registerEmail:{method:"POST",path:"darkwebmonitoring/RegisterEmail",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},unsubscribe:{method:"POST",path:"darkwebmonitoring/Unsubscribe",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{confirmRegistration(e,t){return this.executorFactory.createExecutor(o.confirmRegistration).executeRequest({body:e,options:t})}deregisterEmail(e,t,r){return this.executorFactory.createExecutor(o.deregisterEmail).executeRequest({credentials:e,body:t,options:r})}listLeaks(e,t,r){return this.executorFactory.createExecutor(o.listLeaks).executeRequest({credentials:e,body:t,options:r})}listRegistrations(e,t){return this.executorFactory.createExecutor(o.listRegistrations).executeRequest({credentials:e,body:{},options:t})}registerEmail(e,t,r){return this.executorFactory.createExecutor(o.registerEmail).executeRequest({credentials:e,body:t,options:r})}unsubscribe(e,t,r){return this.executorFactory.createExecutor(o.unsubscribe).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},63942:function(e,t,r){r.d(t,{W:()=>o,u:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={checkTeamDeviceInitialization:{method:"POST",path:"devices/CheckTeamDeviceInitialization",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.TEAM_DEVICE,version:n.W.V1},clearPushNotificationId:{method:"POST",path:"devices/ClearPushNotificationID",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deactivateDevice:{method:"POST",path:"devices/DeactivateDevice",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deactivateDevices:{method:"POST",path:"devices/DeactivateDevices",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},listDevices:{method:"POST",path:"devices/ListDevices",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},renameDevice:{method:"POST",path:"devices/RenameDevice",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},setPushNotificationId:{method:"POST",path:"devices/SetPushNotificationID",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateDeviceInfo:{method:"POST",path:"devices/UpdateDeviceInfo",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{checkTeamDeviceInitialization(e,t,r){return this.executorFactory.createExecutor(o.checkTeamDeviceInitialization).executeRequest({credentials:e,body:t,options:r})}clearPushNotificationId(e,t,r){return this.executorFactory.createExecutor(o.clearPushNotificationId).executeRequest({credentials:e,body:t,options:r})}deactivateDevice(e,t,r){return this.executorFactory.createExecutor(o.deactivateDevice).executeRequest({credentials:e,body:t,options:r})}deactivateDevices(e,t,r){return this.executorFactory.createExecutor(o.deactivateDevices).executeRequest({credentials:e,body:t,options:r})}listDevices(e,t){return this.executorFactory.createExecutor(o.listDevices).executeRequest({credentials:e,body:{},options:t})}renameDevice(e,t,r){return this.executorFactory.createExecutor(o.renameDevice).executeRequest({credentials:e,body:t,options:r})}setPushNotificationId(e,t,r){return this.executorFactory.createExecutor(o.setPushNotificationId).executeRequest({credentials:e,body:t,options:r})}updateDeviceInfo(e,t,r){return this.executorFactory.createExecutor(o.updateDeviceInfo).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},73603:function(e,t,r){r.d(t,{e:()=>a,h:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={accessibleFamilyOffers:{method:"POST",path:"familyplan/AccessibleFamilyOffers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},completePaidFamilyCreation:{method:"POST",path:"familyplan/CompletePaidFamilyCreation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},createFreeFamily:{method:"POST",path:"familyplan/CreateFreeFamily",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getFamilyDetails:{method:"POST",path:"familyplan/GetFamilyDetails",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},invoiceFamilyCreationWithCreditCard:{method:"POST",path:"familyplan/InvoiceFamilyCreationWithCreditCard",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},joinFamily:{method:"POST",path:"familyplan/JoinFamily",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},leaveFamily:{method:"POST",path:"familyplan/LeaveFamily",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},removeFamilyMember:{method:"POST",path:"familyplan/RemoveFamilyMember",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},resetJoinToken:{method:"POST",path:"familyplan/ResetJoinToken",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{accessibleFamilyOffers(e,t){return this.executorFactory.createExecutor(o.accessibleFamilyOffers).executeRequest({body:e,options:t})}completePaidFamilyCreation(e,t){return this.executorFactory.createExecutor(o.completePaidFamilyCreation).executeRequest({body:e,options:t})}createFreeFamily(e,t){return this.executorFactory.createExecutor(o.createFreeFamily).executeRequest({body:e,options:t})}getFamilyDetails(e,t){return this.executorFactory.createExecutor(o.getFamilyDetails).executeRequest({credentials:e,body:{},options:t})}invoiceFamilyCreationWithCreditCard(e,t){return this.executorFactory.createExecutor(o.invoiceFamilyCreationWithCreditCard).executeRequest({body:e,options:t})}joinFamily(e,t){return this.executorFactory.createExecutor(o.joinFamily).executeRequest({body:e,options:t})}leaveFamily(e,t){return this.executorFactory.createExecutor(o.leaveFamily).executeRequest({credentials:e,body:{},options:t})}removeFamilyMember(e,t,r){return this.executorFactory.createExecutor(o.removeFamilyMember).executeRequest({credentials:e,body:t,options:r})}resetJoinToken(e,t){return this.executorFactory.createExecutor(o.resetJoinToken).executeRequest({credentials:e,body:{},options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},25929:function(e,t,r){r.d(t,{A:()=>a,Z:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={getAndEvaluateForUser:{method:"POST",path:"features/GetAndEvaluateForUser",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},listAvailableFeatureFlips:{method:"POST",path:"features/ListAvailableFeatureFlips",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},listAvailableLabs:{method:"POST",path:"features/ListAvailableLabs",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1}};class a{getAndEvaluateForUser(e,t,r){return this.executorFactory.createExecutor(o.getAndEvaluateForUser).executeRequest({credentials:e,body:t,options:r})}listAvailableFeatureFlips(e){return this.executorFactory.createExecutor(o.listAvailableFeatureFlips).executeRequest({body:{},options:e})}listAvailableLabs(e){return this.executorFactory.createExecutor(o.listAvailableLabs).executeRequest({body:{},options:e})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},12795:function(e,t,r){r.d(t,{d:()=>o,x:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={sendFeedback:{method:"POST",path:"feedback/SendFeedback",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{sendFeedback(e,t,r){return this.executorFactory.createExecutor(o.sendFeedback).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},67561:function(e,t,r){r.d(t,{$:()=>a,_:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={getFileMeta:{method:"POST",path:"file/GetFileMeta",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getFileMetaV2:{method:"POST",path:"file/GetFileMetaV2",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updatedFile:{method:"POST",path:"file/UpdatedFile",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1}};class a{getFileMeta(e,t,r){return this.executorFactory.createExecutor(o.getFileMeta).executeRequest({credentials:e,body:t,options:r})}getFileMetaV2(e,t,r){return this.executorFactory.createExecutor(o.getFileMetaV2).executeRequest({credentials:e,body:t,options:r})}updatedFile(e,t){return this.executorFactory.createExecutor(o.updatedFile).executeRequest({body:e,options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},72105:function(e,t,r){r.d(t,{P:()=>a,Q:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={getIcons:{method:"POST",path:"icons/GetIcons",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},requestIcons:{method:"POST",path:"icons/RequestIcons",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{getIcons(e,t,r){return this.executorFactory.createExecutor(o.getIcons).executeRequest({credentials:e,body:t,options:r})}requestIcons(e,t,r){return this.executorFactory.createExecutor(o.requestIcons).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},27376:function(e,t,r){r.d(t,{H:()=>o,Y:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={getTeamNudges:{method:"POST",path:"integration/GetTeamNudges",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},testSlackMessageForAdmin:{method:"POST",path:"integration/TestSlackMessageForAdmin",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateTeamNudge:{method:"POST",path:"integration/UpdateTeamNudge",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{getTeamNudges(e,t){return this.executorFactory.createExecutor(o.getTeamNudges).executeRequest({credentials:e,body:{},options:t})}testSlackMessageForAdmin(e,t,r){return this.executorFactory.createExecutor(o.testSlackMessageForAdmin).executeRequest({credentials:e,body:t,options:r})}updateTeamNudge(e,t,r){return this.executorFactory.createExecutor(o.updateTeamNudge).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},15141:function(e,t,r){r.d(t,{R:()=>a,p:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={getInvitationsHistory:{method:"POST",path:"invitation/GetInvitationsHistory",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getSharingLink:{method:"POST",path:"invitation/GetSharingLink",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},invite:{method:"POST",path:"invitation/Invite",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1}};class a{getInvitationsHistory(e,t){return this.executorFactory.createExecutor(o.getInvitationsHistory).executeRequest({credentials:e,body:{},options:t})}getSharingLink(e,t){return this.executorFactory.createExecutor(o.getSharingLink).executeRequest({body:e,options:t})}invite(e,t){return this.executorFactory.createExecutor(o.invite).executeRequest({body:e,options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},18691:function(e,t,r){r.d(t,{W:()=>a,r:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={generateMassDeploymentTeamKey:{method:"POST",path:"massdeployment/GenerateMassDeploymentTeamKey",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getMassDeploymentSecurityMonitoringConfigForExtension:{method:"POST",path:"massdeployment/GetMassDeploymentSecurityMonitoringConfigForExtension",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.MASS_DEPLOYED_TEAM_KEY,version:n.W.V1},getMassDeploymentSecurityMonitoringConfiguration:{method:"POST",path:"massdeployment/GetMassDeploymentSecurityMonitoringConfiguration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},storeAuditLogs:{method:"POST",path:"massdeployment/StoreAuditLogs",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.MASS_DEPLOYED_TEAM_KEY,version:n.W.V1},updateMassDeploymentSecurityMonitoringConfiguration:{method:"POST",path:"massdeployment/UpdateMassDeploymentSecurityMonitoringConfiguration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{generateMassDeploymentTeamKey(e,t){return this.executorFactory.createExecutor(o.generateMassDeploymentTeamKey).executeRequest({credentials:e,body:{},options:t})}getMassDeploymentSecurityMonitoringConfigForExtension(e,t){return this.executorFactory.createExecutor(o.getMassDeploymentSecurityMonitoringConfigForExtension).executeRequest({credentials:e,body:{},options:t})}getMassDeploymentSecurityMonitoringConfiguration(e,t){return this.executorFactory.createExecutor(o.getMassDeploymentSecurityMonitoringConfiguration).executeRequest({credentials:e,body:{},options:t})}storeAuditLogs(e,t,r){return this.executorFactory.createExecutor(o.storeAuditLogs).executeRequest({credentials:e,body:t,options:r})}updateMassDeploymentSecurityMonitoringConfiguration(e,t,r){return this.executorFactory.createExecutor(o.updateMassDeploymentSecurityMonitoringConfiguration).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},2037:function(e,t,r){r.d(t,{C:()=>a,e:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={reportClientException:{method:"POST",path:"monitoring/ReportClientException",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.NONE,version:n.W.V1},reportClientLog:{method:"POST",path:"monitoring/ReportClientLog",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},reportClientPerfs:{method:"POST",path:"monitoring/ReportClientPerfs",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},reportCspViolation:{method:"POST",path:"monitoring/ReportCSPViolation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.NONE,version:n.W.V1},reportDiagnosticLogs:{method:"POST",path:"monitoring/ReportDiagnosticLogs",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1}};class a{reportClientException(e,t){return this.executorFactory.createExecutor(o.reportClientException).executeRequest({body:e,options:t})}reportClientLog(e,t){return this.executorFactory.createExecutor(o.reportClientLog).executeRequest({body:e,options:t})}reportClientPerfs(e,t){return this.executorFactory.createExecutor(o.reportClientPerfs).executeRequest({body:e,options:t})}reportCspViolation(e,t){return this.executorFactory.createExecutor(o.reportCspViolation).executeRequest({body:e,options:t})}reportDiagnosticLogs(e,t){return this.executorFactory.createExecutor(o.reportDiagnosticLogs).executeRequest({body:e,options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},25357:function(e,t,r){r.d(t,{w:()=>a,x:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={createPublicApiKey:{method:"POST",path:"partners/CreatePublicAPIKey",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},listPublicApiKeys:{method:"POST",path:"partners/ListPublicAPIKeys",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},revokePublicApiKey:{method:"POST",path:"partners/RevokePublicAPIKey",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{createPublicApiKey(e,t,r){return this.executorFactory.createExecutor(o.createPublicApiKey).executeRequest({credentials:e,body:t,options:r})}listPublicApiKeys(e,t){return this.executorFactory.createExecutor(o.listPublicApiKeys).executeRequest({credentials:e,body:{},options:t})}revokePublicApiKey(e,t,r){return this.executorFactory.createExecutor(o.revokePublicApiKey).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},67435:function(e,t,r){r.d(t,{H:()=>a,l:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={accessibleMobileOffers:{method:"POST",path:"payments/AccessibleMobileOffers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getAccessibleCrossSellOffers:{method:"POST",path:"payments/GetAccessibleCrossSellOffers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getAccessibleStoreOffers:{method:"POST",path:"payments/GetAccessibleStoreOffers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getAccessibleWebOffers:{method:"POST",path:"payments/GetAccessibleWebOffers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getCustomerInvoice:{method:"POST",path:"payments/GetCustomerInvoice",requestAcceptHeader:"application/pdf",responseType:"arraybuffer",authType:i.d.USER_DEVICE,version:n.W.V1},getDefaultWebOffers:{method:"POST",path:"payments/GetDefaultWebOffers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getExpectedTaxInformation:{method:"POST",path:"payments/GetExpectedTaxInformation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getProcessOutKeys:{method:"POST",path:"payments/GetProcessOutKeys",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.NONE,version:n.W.V1},grantFullRefundAndCancelSubscription:{method:"POST",path:"payments/GrantFullRefundAndCancelSubscription",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},listInvoices:{method:"POST",path:"payments/ListInvoices",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},verifyApplestoreReceipt:{method:"POST",path:"payments/VerifyApplestoreReceipt",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},verifyPlaystoreReceipt:{method:"POST",path:"payments/VerifyPlaystoreReceipt",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{accessibleMobileOffers(e,t,r){return this.executorFactory.createExecutor(o.accessibleMobileOffers).executeRequest({credentials:e,body:t,options:r})}getAccessibleCrossSellOffers(e,t){return this.executorFactory.createExecutor(o.getAccessibleCrossSellOffers).executeRequest({body:e,options:t})}getAccessibleStoreOffers(e,t,r){return this.executorFactory.createExecutor(o.getAccessibleStoreOffers).executeRequest({credentials:e,body:t,options:r})}getAccessibleWebOffers(e,t){return this.executorFactory.createExecutor(o.getAccessibleWebOffers).executeRequest({body:e,options:t})}getCustomerInvoice(e,t,r){return this.executorFactory.createExecutor(o.getCustomerInvoice).executeRequest({credentials:e,body:t,options:r})}getDefaultWebOffers(e,t){return this.executorFactory.createExecutor(o.getDefaultWebOffers).executeRequest({body:e,options:t})}getExpectedTaxInformation(e,t){return this.executorFactory.createExecutor(o.getExpectedTaxInformation).executeRequest({body:e,options:t})}getProcessOutKeys(e){return this.executorFactory.createExecutor(o.getProcessOutKeys).executeRequest({body:{},options:e})}grantFullRefundAndCancelSubscription(e,t,r){return this.executorFactory.createExecutor(o.grantFullRefundAndCancelSubscription).executeRequest({credentials:e,body:t,options:r})}listInvoices(e,t){return this.executorFactory.createExecutor(o.listInvoices).executeRequest({credentials:e,body:{},options:t})}verifyApplestoreReceipt(e,t,r){return this.executorFactory.createExecutor(o.verifyApplestoreReceipt).executeRequest({credentials:e,body:t,options:r})}verifyPlaystoreReceipt(e,t,r){return this.executorFactory.createExecutor(o.verifyPlaystoreReceipt).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},90259:function(e,t,r){r.d(t,{j:()=>a,q:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={getB2CCancellationCoupon:{method:"POST",path:"premium/GetB2CCancellationCoupon",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getPremiumStatus:{method:"POST",path:"premium/GetPremiumStatus",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getSubscriptionCode:{method:"POST",path:"premium/GetSubscriptionCode",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getSubscriptionInfo:{method:"POST",path:"premium/GetSubscriptionInfo",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{getB2CCancellationCoupon(e,t){return this.executorFactory.createExecutor(o.getB2CCancellationCoupon).executeRequest({credentials:e,body:{},options:t})}getPremiumStatus(e,t){return this.executorFactory.createExecutor(o.getPremiumStatus).executeRequest({credentials:e,body:{},options:t})}getSubscriptionCode(e,t){return this.executorFactory.createExecutor(o.getSubscriptionCode).executeRequest({credentials:e,body:{},options:t})}getSubscriptionInfo(e,t){return this.executorFactory.createExecutor(o.getSubscriptionInfo).executeRequest({credentials:e,body:{},options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},18770:function(e,t,r){r.d(t,{D:()=>o,J:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={getHashes:{method:"POST",path:"pwleak/GetHashes",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1}};class a{getHashes(e,t){return this.executorFactory.createExecutor(o.getHashes).executeRequest({body:e,options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},75551:function(e,t,r){r.d(t,{V:()=>a,t:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={completeKeyExchange:{method:"POST",path:"secretTransfer/CompleteKeyExchange",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},completeTransfer:{method:"POST",path:"secretTransfer/CompleteTransfer",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getKeyExchangeTransferInfo:{method:"POST",path:"secretTransfer/GetKeyExchangeTransferInfo",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},requestTransfer:{method:"POST",path:"secretTransfer/RequestTransfer",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},startReceiverKeyExchange:{method:"POST",path:"secretTransfer/StartReceiverKeyExchange",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},startSenderKeyExchange:{method:"POST",path:"secretTransfer/StartSenderKeyExchange",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},startTransfer:{method:"POST",path:"secretTransfer/StartTransfer",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1}};class a{completeKeyExchange(e,t){return this.executorFactory.createExecutor(o.completeKeyExchange).executeRequest({body:e,options:t})}completeTransfer(e,t,r){return this.executorFactory.createExecutor(o.completeTransfer).executeRequest({credentials:e,body:t,options:r})}getKeyExchangeTransferInfo(e,t){return this.executorFactory.createExecutor(o.getKeyExchangeTransferInfo).executeRequest({credentials:e,body:{},options:t})}requestTransfer(e,t){return this.executorFactory.createExecutor(o.requestTransfer).executeRequest({body:e,options:t})}startReceiverKeyExchange(e,t){return this.executorFactory.createExecutor(o.startReceiverKeyExchange).executeRequest({body:e,options:t})}startSenderKeyExchange(e,t,r){return this.executorFactory.createExecutor(o.startSenderKeyExchange).executeRequest({credentials:e,body:t,options:r})}startTransfer(e,t){return this.executorFactory.createExecutor(o.startTransfer).executeRequest({body:e,options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},67055:function(e,t,r){r.d(t,{V:()=>a,f:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={commitSecureFile:{method:"POST",path:"securefile/CommitSecureFile",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deleteSecureFile:{method:"POST",path:"securefile/DeleteSecureFile",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getDownloadLink:{method:"POST",path:"securefile/GetDownloadLink",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getUploadLink:{method:"POST",path:"securefile/GetUploadLink",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{commitSecureFile(e,t,r){return this.executorFactory.createExecutor(o.commitSecureFile).executeRequest({credentials:e,body:t,options:r})}deleteSecureFile(e,t,r){return this.executorFactory.createExecutor(o.deleteSecureFile).executeRequest({credentials:e,body:t,options:r})}getDownloadLink(e,t,r){return this.executorFactory.createExecutor(o.getDownloadLink).executeRequest({credentials:e,body:t,options:r})}getUploadLink(e,t,r){return this.executorFactory.createExecutor(o.getUploadLink).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},45842:function(e,t,r){r.d(t,{T:()=>o,b:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={acceptCollection:{method:"POST",path:"sharing-userdevice/AcceptCollection",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},acceptItemGroup:{method:"POST",path:"sharing-userdevice/AcceptItemGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},acceptUserGroup:{method:"POST",path:"sharing-userdevice/AcceptUserGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},addItemGroupsToCollection:{method:"POST",path:"sharing-userdevice/AddItemGroupsToCollection",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},addItems:{method:"POST",path:"sharing-userdevice/AddItems",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createCollection:{method:"POST",path:"sharing-userdevice/CreateCollection",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createItemGroup:{method:"POST",path:"sharing-userdevice/CreateItemGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createMultipleItemGroups:{method:"POST",path:"sharing-userdevice/CreateMultipleItemGroups",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createTeamAdminsUserGroup:{method:"POST",path:"sharing-userdevice/CreateTeamAdminsUserGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createUserGroup:{method:"POST",path:"sharing-userdevice/CreateUserGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createUserGroupsItemGroup:{method:"POST",path:"sharing-userdevice/CreateUserGroupsItemGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deleteCollection:{method:"POST",path:"sharing-userdevice/DeleteCollection",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deleteItemGroup:{method:"POST",path:"sharing-userdevice/DeleteItemGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deleteUserGroup:{method:"POST",path:"sharing-userdevice/DeleteUserGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},postSharingUserdevice:{method:"POST",path:"sharing-userdevice/Get",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getTeamLogins:{method:"POST",path:"sharing-userdevice/GetTeamLogins",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getUsersPublicKey:{method:"POST",path:"sharing-userdevice/GetUsersPublicKey",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},inviteCollectionMembers:{method:"POST",path:"sharing-userdevice/InviteCollectionMembers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},inviteItemGroupMembers:{method:"POST",path:"sharing-userdevice/InviteItemGroupMembers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},inviteMultipleItemGroupMembers:{method:"POST",path:"sharing-userdevice/InviteMultipleItemGroupMembers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},inviteUserGroupUsers:{method:"POST",path:"sharing-userdevice/InviteUserGroupUsers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},refuseCollection:{method:"POST",path:"sharing-userdevice/RefuseCollection",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},refuseItemGroup:{method:"POST",path:"sharing-userdevice/RefuseItemGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},refuseUserGroup:{method:"POST",path:"sharing-userdevice/RefuseUserGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},removeItemGroupsFromCollection:{method:"POST",path:"sharing-userdevice/RemoveItemGroupsFromCollection",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},removeItems:{method:"POST",path:"sharing-userdevice/RemoveItems",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},renameCollection:{method:"POST",path:"sharing-userdevice/RenameCollection",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},renameUserGroup:{method:"POST",path:"sharing-userdevice/RenameUserGroup",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},resendItemGroupInvites:{method:"POST",path:"sharing-userdevice/ResendItemGroupInvites",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},revokeCollectionMembers:{method:"POST",path:"sharing-userdevice/RevokeCollectionMembers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},revokeItemGroupMembers:{method:"POST",path:"sharing-userdevice/RevokeItemGroupMembers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},revokeUserGroupUsers:{method:"POST",path:"sharing-userdevice/RevokeUserGroupUsers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateCollectionMembers:{method:"POST",path:"sharing-userdevice/UpdateCollectionMembers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateItem:{method:"POST",path:"sharing-userdevice/UpdateItem",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateItemGroupMembers:{method:"POST",path:"sharing-userdevice/UpdateItemGroupMembers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateMultipleItemGroupMembers:{method:"POST",path:"sharing-userdevice/UpdateMultipleItemGroupMembers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateUserGroupUsers:{method:"POST",path:"sharing-userdevice/UpdateUserGroupUsers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{acceptCollection(e,t,r){return this.executorFactory.createExecutor(o.acceptCollection).executeRequest({credentials:e,body:t,options:r})}acceptItemGroup(e,t,r){return this.executorFactory.createExecutor(o.acceptItemGroup).executeRequest({credentials:e,body:t,options:r})}acceptUserGroup(e,t,r){return this.executorFactory.createExecutor(o.acceptUserGroup).executeRequest({credentials:e,body:t,options:r})}addItemGroupsToCollection(e,t,r){return this.executorFactory.createExecutor(o.addItemGroupsToCollection).executeRequest({credentials:e,body:t,options:r})}addItems(e,t,r){return this.executorFactory.createExecutor(o.addItems).executeRequest({credentials:e,body:t,options:r})}createCollection(e,t,r){return this.executorFactory.createExecutor(o.createCollection).executeRequest({credentials:e,body:t,options:r})}createItemGroup(e,t,r){return this.executorFactory.createExecutor(o.createItemGroup).executeRequest({credentials:e,body:t,options:r})}createMultipleItemGroups(e,t,r){return this.executorFactory.createExecutor(o.createMultipleItemGroups).executeRequest({credentials:e,body:t,options:r})}createTeamAdminsUserGroup(e,t,r){return this.executorFactory.createExecutor(o.createTeamAdminsUserGroup).executeRequest({credentials:e,body:t,options:r})}createUserGroup(e,t,r){return this.executorFactory.createExecutor(o.createUserGroup).executeRequest({credentials:e,body:t,options:r})}createUserGroupsItemGroup(e,t,r){return this.executorFactory.createExecutor(o.createUserGroupsItemGroup).executeRequest({credentials:e,body:t,options:r})}deleteCollection(e,t,r){return this.executorFactory.createExecutor(o.deleteCollection).executeRequest({credentials:e,body:t,options:r})}deleteItemGroup(e,t,r){return this.executorFactory.createExecutor(o.deleteItemGroup).executeRequest({credentials:e,body:t,options:r})}deleteUserGroup(e,t,r){return this.executorFactory.createExecutor(o.deleteUserGroup).executeRequest({credentials:e,body:t,options:r})}postSharingUserdevice(e,t,r){return this.executorFactory.createExecutor(o.postSharingUserdevice).executeRequest({credentials:e,body:t,options:r})}getTeamLogins(e,t){return this.executorFactory.createExecutor(o.getTeamLogins).executeRequest({credentials:e,body:{},options:t})}getUsersPublicKey(e,t,r){return this.executorFactory.createExecutor(o.getUsersPublicKey).executeRequest({credentials:e,body:t,options:r})}inviteCollectionMembers(e,t,r){return this.executorFactory.createExecutor(o.inviteCollectionMembers).executeRequest({credentials:e,body:t,options:r})}inviteItemGroupMembers(e,t,r){return this.executorFactory.createExecutor(o.inviteItemGroupMembers).executeRequest({credentials:e,body:t,options:r})}inviteMultipleItemGroupMembers(e,t,r){return this.executorFactory.createExecutor(o.inviteMultipleItemGroupMembers).executeRequest({credentials:e,body:t,options:r})}inviteUserGroupUsers(e,t,r){return this.executorFactory.createExecutor(o.inviteUserGroupUsers).executeRequest({credentials:e,body:t,options:r})}refuseCollection(e,t,r){return this.executorFactory.createExecutor(o.refuseCollection).executeRequest({credentials:e,body:t,options:r})}refuseItemGroup(e,t,r){return this.executorFactory.createExecutor(o.refuseItemGroup).executeRequest({credentials:e,body:t,options:r})}refuseUserGroup(e,t,r){return this.executorFactory.createExecutor(o.refuseUserGroup).executeRequest({credentials:e,body:t,options:r})}removeItemGroupsFromCollection(e,t,r){return this.executorFactory.createExecutor(o.removeItemGroupsFromCollection).executeRequest({credentials:e,body:t,options:r})}removeItems(e,t,r){return this.executorFactory.createExecutor(o.removeItems).executeRequest({credentials:e,body:t,options:r})}renameCollection(e,t,r){return this.executorFactory.createExecutor(o.renameCollection).executeRequest({credentials:e,body:t,options:r})}renameUserGroup(e,t,r){return this.executorFactory.createExecutor(o.renameUserGroup).executeRequest({credentials:e,body:t,options:r})}resendItemGroupInvites(e,t,r){return this.executorFactory.createExecutor(o.resendItemGroupInvites).executeRequest({credentials:e,body:t,options:r})}revokeCollectionMembers(e,t,r){return this.executorFactory.createExecutor(o.revokeCollectionMembers).executeRequest({credentials:e,body:t,options:r})}revokeItemGroupMembers(e,t,r){return this.executorFactory.createExecutor(o.revokeItemGroupMembers).executeRequest({credentials:e,body:t,options:r})}revokeUserGroupUsers(e,t,r){return this.executorFactory.createExecutor(o.revokeUserGroupUsers).executeRequest({credentials:e,body:t,options:r})}updateCollectionMembers(e,t,r){return this.executorFactory.createExecutor(o.updateCollectionMembers).executeRequest({credentials:e,body:t,options:r})}updateItem(e,t,r){return this.executorFactory.createExecutor(o.updateItem).executeRequest({credentials:e,body:t,options:r})}updateItemGroupMembers(e,t,r){return this.executorFactory.createExecutor(o.updateItemGroupMembers).executeRequest({credentials:e,body:t,options:r})}updateMultipleItemGroupMembers(e,t,r){return this.executorFactory.createExecutor(o.updateMultipleItemGroupMembers).executeRequest({credentials:e,body:t,options:r})}updateUserGroupUsers(e,t,r){return this.executorFactory.createExecutor(o.updateUserGroupUsers).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},25559:function(e,t,r){r.d(t,{f:()=>a,w:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={confirmMasterPasswordChangeDone:{method:"POST",path:"sync/ConfirmMasterPasswordChangeDone",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getDataForMasterPasswordChange:{method:"POST",path:"sync/GetDataForMasterPasswordChange",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getLatestContent:{method:"POST",path:"sync/GetLatestContent",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},uploadContent:{method:"POST",path:"sync/UploadContent",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},uploadDataForCryptoUpdate:{method:"POST",path:"sync/UploadDataForCryptoUpdate",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},uploadDataForMasterPasswordChange:{method:"POST",path:"sync/UploadDataForMasterPasswordChange",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{confirmMasterPasswordChangeDone(e,t){return this.executorFactory.createExecutor(o.confirmMasterPasswordChangeDone).executeRequest({credentials:e,body:{},options:t})}getDataForMasterPasswordChange(e,t){return this.executorFactory.createExecutor(o.getDataForMasterPasswordChange).executeRequest({credentials:e,body:{},options:t})}getLatestContent(e,t,r){return this.executorFactory.createExecutor(o.getLatestContent).executeRequest({credentials:e,body:t,options:r})}uploadContent(e,t,r){return this.executorFactory.createExecutor(o.uploadContent).executeRequest({credentials:e,body:t,options:r})}uploadDataForCryptoUpdate(e,t,r){return this.executorFactory.createExecutor(o.uploadDataForCryptoUpdate).executeRequest({credentials:e,body:t,options:r})}uploadDataForMasterPasswordChange(e,t,r){return this.executorFactory.createExecutor(o.uploadDataForMasterPasswordChange).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},45427:function(e,t,r){r.d(t,{b:()=>o,p:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={acceptTeamInvite:{method:"POST",path:"teams/AcceptTeamInvite",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},accessibleTeamOffers:{method:"POST",path:"teams/AccessibleTeamOffers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},activateSsoForUsers:{method:"POST",path:"teams/ActivateSsoForUsers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},addGroupManager:{method:"POST",path:"teams/AddGroupManager",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},addSeats:{method:"POST",path:"teams/AddSeats",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},addTeamCaptain:{method:"POST",path:"teams/AddTeamCaptain",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},cancelLoginChange:{method:"POST",path:"teams/CancelLoginChange",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},changeTeamKeyTeamSignUpPage:{method:"POST",path:"teams/ChangeTeamKeyTeamSignUpPage",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},changeTierMidCycle:{method:"POST",path:"teams/ChangeTierMidCycle",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},changeTierMidCycleV2:{method:"POST",path:"teams/ChangeTierMidCycleV2",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},completeDomainsRegistration:{method:"POST",path:"teams/CompleteDomainsRegistration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},completeLoginChange:{method:"POST",path:"teams/CompleteLoginChange",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},computeAdditionalSeats:{method:"POST",path:"teams/ComputeAdditionalSeats",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},computePlanPricing:{method:"POST",path:"teams/ComputePlanPricing",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},computeRenewalPrice:{method:"POST",path:"teams/ComputeRenewalPrice",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},confirmFreeTrial:{method:"POST",path:"teams/ConfirmFreeTrial",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},countDomainUsersNotInTeam:{method:"POST",path:"teams/CountDomainUsersNotInTeam",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createTeamDeviceAccount:{method:"POST",path:"teams/CreateTeamDeviceAccount",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createTeamSignUpPage:{method:"POST",path:"teams/CreateTeamSignUpPage",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},createZendeskCancellationTicket:{method:"POST",path:"teams/CreateZendeskCancellationTicket",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deactivateDomain:{method:"POST",path:"teams/DeactivateDomain",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deactivateSsoForUsers:{method:"POST",path:"teams/DeactivateSsoForUsers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deactivateTeamDevice:{method:"POST",path:"teams/DeactivateTeamDevice",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},deleteTeamVat:{method:"POST",path:"teams/DeleteTeamVAT",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},editSettings:{method:"POST",path:"teams/EditSettings",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},extendFreeTrial:{method:"POST",path:"teams/ExtendFreeTrial",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},extendTierTrial:{method:"POST",path:"teams/ExtendTierTrial",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getAdminsEmailInfo:{method:"POST",path:"teams/GetAdminsEmailInfo",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getAllMemberDeviceInformation:{method:"POST",path:"teams/GetAllMemberDeviceInformation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getAuditLogQueryResults:{method:"POST",path:"teams/GetAuditLogQueryResults",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getCustomerSupportContacts:{method:"POST",path:"teams/GetCustomerSupportContacts",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getDarkWebInsightsReportDetails:{method:"POST",path:"teams/GetDarkWebInsightsReportDetails",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getDarkWebInsightsSummary:{method:"POST",path:"teams/GetDarkWebInsightsSummary",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getDirectorySyncRequest:{method:"POST",path:"teams/GetDirectorySyncRequest",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getDirectorySyncToken:{method:"POST",path:"teams/GetDirectorySyncToken",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getDomainUsersNotInTeam:{method:"POST",path:"teams/GetDomainUsersNotInTeam",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getExpectedTaxInformation:{method:"POST",path:"teams/GetExpectedTaxInformation",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getHealthAndNudgeReport:{method:"POST",path:"teams/GetHealthAndNudgeReport",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getIdpNotifications:{method:"POST",path:"teams/GetIDPNotifications",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getMidCycleTierUpgradePrice:{method:"POST",path:"teams/GetMidCycleTierUpgradePrice",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getMidCycleTierUpgradePriceV2:{method:"POST",path:"teams/GetMidCycleTierUpgradePriceV2",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getRecoveryCodesAsTeamCaptain:{method:"POST",path:"teams/GetRecoveryCodesAsTeamCaptain",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getTeamDevice:{method:"POST",path:"teams/GetTeamDevice",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getTeamDeviceEncryptedConfiguration:{method:"POST",path:"teams/GetTeamDeviceEncryptedConfiguration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getTeamLastUpdateTs:{method:"POST",path:"teams/GetTeamLastUpdateTs",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getTeamMembers:{method:"POST",path:"teams/GetTeamMembers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getTeamOffers:{method:"POST",path:"teams/GetTeamOffers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getTeamReceipts:{method:"POST",path:"teams/GetTeamReceipts",requestAcceptHeader:"application/pdf",responseType:"arraybuffer",authType:i.d.USER_DEVICE,version:n.W.V1},getTeamSignUpPage:{method:"POST",path:"teams/GetTeamSignUpPage",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},getTeamSignUpPageForAdmin:{method:"POST",path:"teams/GetTeamSignUpPageForAdmin",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getTeamVat:{method:"POST",path:"teams/GetTeamVAT",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getUserPermissions:{method:"POST",path:"teams/GetUserPermissions",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getZendeskCancellationTicket:{method:"POST",path:"teams/GetZendeskCancellationTicket",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},invoiceTeamCreate:{method:"POST",path:"teams/InvoiceTeamCreate",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},invoiceTeamUpgrade:{method:"POST",path:"teams/InvoiceTeamUpgrade",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},lastAdSyncDate:{method:"POST",path:"teams/LastADSyncDate",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},listDomains:{method:"POST",path:"teams/ListDomains",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},listTeamDevices:{method:"POST",path:"teams/ListTeamDevices",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},notifyChangeLoginServiceProviderKey:{method:"POST",path:"teams/NotifyChangeLoginServiceProviderKey",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.TEAM_DEVICE,version:n.W.V1},proposeMembers:{method:"POST",path:"teams/ProposeMembers",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},registerFreeTrial:{method:"POST",path:"teams/RegisterFreeTrial",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},registerFreeTrialOptionalFields:{method:"POST",path:"teams/RegisterFreeTrialOptionalFields",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},registerTeamDevice:{method:"POST",path:"teams/RegisterTeamDevice",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},removeGroupManager:{method:"POST",path:"teams/RemoveGroupManager",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},removeTeamCaptain:{method:"POST",path:"teams/RemoveTeamCaptain",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},report:{method:"POST",path:"teams/Report",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},reportTeamDeviceError:{method:"POST",path:"teams/ReportTeamDeviceError",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.TEAM_DEVICE,version:n.W.V1},requestDomainRegistration:{method:"POST",path:"teams/RequestDomainRegistration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},requestLoginChange:{method:"POST",path:"teams/RequestLoginChange",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},requestTeamInviteToken:{method:"POST",path:"teams/RequestTeamInviteToken",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.APP,version:n.W.V1},spaceDeleted:{method:"POST",path:"teams/SpaceDeleted",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},startAuditLogsQuery:{method:"POST",path:"teams/StartAuditLogsQuery",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},startTierTrial:{method:"POST",path:"teams/StartTierTrial",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},storeActivityLogs:{method:"POST",path:"teams/StoreActivityLogs",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},storeAuditLogs:{method:"POST",path:"teams/StoreAuditLogs",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},teamStatus:{method:"POST",path:"teams/TeamStatus",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},toggleTeamSignUpPage:{method:"POST",path:"teams/ToggleTeamSignUpPage",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateBillingAdmin:{method:"POST",path:"teams/UpdateBillingAdmin",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateDirectorySyncRequestStatus:{method:"POST",path:"teams/UpdateDirectorySyncRequestStatus",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateTeamDeviceEncryptedConfiguration:{method:"POST",path:"teams/UpdateTeamDeviceEncryptedConfiguration",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},upgradeTeamWithExistingCc:{method:"POST",path:"teams/UpgradeTeamWithExistingCC",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},upsertTeamVat:{method:"POST",path:"teams/UpsertTeamVAT",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{acceptTeamInvite(e,t){return this.executorFactory.createExecutor(o.acceptTeamInvite).executeRequest({body:e,options:t})}accessibleTeamOffers(e,t){return this.executorFactory.createExecutor(o.accessibleTeamOffers).executeRequest({body:e,options:t})}activateSsoForUsers(e,t,r){return this.executorFactory.createExecutor(o.activateSsoForUsers).executeRequest({credentials:e,body:t,options:r})}addGroupManager(e,t,r){return this.executorFactory.createExecutor(o.addGroupManager).executeRequest({credentials:e,body:t,options:r})}addSeats(e,t,r){return this.executorFactory.createExecutor(o.addSeats).executeRequest({credentials:e,body:t,options:r})}addTeamCaptain(e,t,r){return this.executorFactory.createExecutor(o.addTeamCaptain).executeRequest({credentials:e,body:t,options:r})}cancelLoginChange(e,t,r){return this.executorFactory.createExecutor(o.cancelLoginChange).executeRequest({credentials:e,body:t,options:r})}changeTeamKeyTeamSignUpPage(e,t){return this.executorFactory.createExecutor(o.changeTeamKeyTeamSignUpPage).executeRequest({credentials:e,body:{},options:t})}changeTierMidCycle(e,t,r){return this.executorFactory.createExecutor(o.changeTierMidCycle).executeRequest({credentials:e,body:t,options:r})}changeTierMidCycleV2(e,t,r){return this.executorFactory.createExecutor(o.changeTierMidCycleV2).executeRequest({credentials:e,body:t,options:r})}completeDomainsRegistration(e,t){return this.executorFactory.createExecutor(o.completeDomainsRegistration).executeRequest({credentials:e,body:{},options:t})}completeLoginChange(e,t){return this.executorFactory.createExecutor(o.completeLoginChange).executeRequest({body:e,options:t})}computeAdditionalSeats(e,t,r){return this.executorFactory.createExecutor(o.computeAdditionalSeats).executeRequest({credentials:e,body:t,options:r})}computePlanPricing(e,t,r){return this.executorFactory.createExecutor(o.computePlanPricing).executeRequest({credentials:e,body:t,options:r})}computeRenewalPrice(e,t,r){return this.executorFactory.createExecutor(o.computeRenewalPrice).executeRequest({credentials:e,body:t,options:r})}confirmFreeTrial(e,t){return this.executorFactory.createExecutor(o.confirmFreeTrial).executeRequest({body:e,options:t})}countDomainUsersNotInTeam(e,t){return this.executorFactory.createExecutor(o.countDomainUsersNotInTeam).executeRequest({credentials:e,body:{},options:t})}createTeamDeviceAccount(e,t,r){return this.executorFactory.createExecutor(o.createTeamDeviceAccount).executeRequest({credentials:e,body:t,options:r})}createTeamSignUpPage(e,t,r){return this.executorFactory.createExecutor(o.createTeamSignUpPage).executeRequest({credentials:e,body:t,options:r})}createZendeskCancellationTicket(e,t,r){return this.executorFactory.createExecutor(o.createZendeskCancellationTicket).executeRequest({credentials:e,body:t,options:r})}deactivateDomain(e,t,r){return this.executorFactory.createExecutor(o.deactivateDomain).executeRequest({credentials:e,body:t,options:r})}deactivateSsoForUsers(e,t,r){return this.executorFactory.createExecutor(o.deactivateSsoForUsers).executeRequest({credentials:e,body:t,options:r})}deactivateTeamDevice(e,t,r){return this.executorFactory.createExecutor(o.deactivateTeamDevice).executeRequest({credentials:e,body:t,options:r})}deleteTeamVat(e,t){return this.executorFactory.createExecutor(o.deleteTeamVat).executeRequest({credentials:e,body:{},options:t})}editSettings(e,t,r){return this.executorFactory.createExecutor(o.editSettings).executeRequest({credentials:e,body:t,options:r})}extendFreeTrial(e,t){return this.executorFactory.createExecutor(o.extendFreeTrial).executeRequest({credentials:e,body:{},options:t})}extendTierTrial(e,t,r){return this.executorFactory.createExecutor(o.extendTierTrial).executeRequest({credentials:e,body:t,options:r})}getAdminsEmailInfo(e,t){return this.executorFactory.createExecutor(o.getAdminsEmailInfo).executeRequest({body:e,options:t})}getAllMemberDeviceInformation(e,t){return this.executorFactory.createExecutor(o.getAllMemberDeviceInformation).executeRequest({credentials:e,body:{},options:t})}getAuditLogQueryResults(e,t,r){return this.executorFactory.createExecutor(o.getAuditLogQueryResults).executeRequest({credentials:e,body:t,options:r})}getCustomerSupportContacts(e,t){return this.executorFactory.createExecutor(o.getCustomerSupportContacts).executeRequest({credentials:e,body:{},options:t})}getDarkWebInsightsReportDetails(e,t,r){return this.executorFactory.createExecutor(o.getDarkWebInsightsReportDetails).executeRequest({credentials:e,body:t,options:r})}getDarkWebInsightsSummary(e,t,r){return this.executorFactory.createExecutor(o.getDarkWebInsightsSummary).executeRequest({credentials:e,body:t,options:r})}getDirectorySyncRequest(e,t){return this.executorFactory.createExecutor(o.getDirectorySyncRequest).executeRequest({credentials:e,body:{},options:t})}getDirectorySyncToken(e,t){return this.executorFactory.createExecutor(o.getDirectorySyncToken).executeRequest({credentials:e,body:{},options:t})}getDomainUsersNotInTeam(e,t){return this.executorFactory.createExecutor(o.getDomainUsersNotInTeam).executeRequest({credentials:e,body:{},options:t})}getExpectedTaxInformation(e,t,r){return this.executorFactory.createExecutor(o.getExpectedTaxInformation).executeRequest({credentials:e,body:t,options:r})}getHealthAndNudgeReport(e,t,r){return this.executorFactory.createExecutor(o.getHealthAndNudgeReport).executeRequest({credentials:e,body:t,options:r})}getIdpNotifications(e,t){return this.executorFactory.createExecutor(o.getIdpNotifications).executeRequest({credentials:e,body:{},options:t})}getMidCycleTierUpgradePrice(e,t,r){return this.executorFactory.createExecutor(o.getMidCycleTierUpgradePrice).executeRequest({credentials:e,body:t,options:r})}getMidCycleTierUpgradePriceV2(e,t,r){return this.executorFactory.createExecutor(o.getMidCycleTierUpgradePriceV2).executeRequest({credentials:e,body:t,options:r})}getRecoveryCodesAsTeamCaptain(e,t,r){return this.executorFactory.createExecutor(o.getRecoveryCodesAsTeamCaptain).executeRequest({credentials:e,body:t,options:r})}getTeamDevice(e,t,r){return this.executorFactory.createExecutor(o.getTeamDevice).executeRequest({credentials:e,body:t,options:r})}getTeamDeviceEncryptedConfiguration(e,t,r){return this.executorFactory.createExecutor(o.getTeamDeviceEncryptedConfiguration).executeRequest({credentials:e,body:t,options:r})}getTeamLastUpdateTs(e,t,r){return this.executorFactory.createExecutor(o.getTeamLastUpdateTs).executeRequest({credentials:e,body:t,options:r})}getTeamMembers(e,t,r){return this.executorFactory.createExecutor(o.getTeamMembers).executeRequest({credentials:e,body:t,options:r})}getTeamOffers(e,t,r){return this.executorFactory.createExecutor(o.getTeamOffers).executeRequest({credentials:e,body:t,options:r})}getTeamReceipts(e,t,r){return this.executorFactory.createExecutor(o.getTeamReceipts).executeRequest({credentials:e,body:t,options:r})}getTeamSignUpPage(e,t){return this.executorFactory.createExecutor(o.getTeamSignUpPage).executeRequest({body:e,options:t})}getTeamSignUpPageForAdmin(e,t){return this.executorFactory.createExecutor(o.getTeamSignUpPageForAdmin).executeRequest({credentials:e,body:{},options:t})}getTeamVat(e,t){return this.executorFactory.createExecutor(o.getTeamVat).executeRequest({credentials:e,body:{},options:t})}getUserPermissions(e,t){return this.executorFactory.createExecutor(o.getUserPermissions).executeRequest({credentials:e,body:{},options:t})}getZendeskCancellationTicket(e,t){return this.executorFactory.createExecutor(o.getZendeskCancellationTicket).executeRequest({credentials:e,body:{},options:t})}invoiceTeamCreate(e,t){return this.executorFactory.createExecutor(o.invoiceTeamCreate).executeRequest({body:e,options:t})}invoiceTeamUpgrade(e,t){return this.executorFactory.createExecutor(o.invoiceTeamUpgrade).executeRequest({body:e,options:t})}lastAdSyncDate(e,t){return this.executorFactory.createExecutor(o.lastAdSyncDate).executeRequest({credentials:e,body:{},options:t})}listDomains(e,t){return this.executorFactory.createExecutor(o.listDomains).executeRequest({credentials:e,body:{},options:t})}listTeamDevices(e,t){return this.executorFactory.createExecutor(o.listTeamDevices).executeRequest({credentials:e,body:{},options:t})}notifyChangeLoginServiceProviderKey(e,t,r){return this.executorFactory.createExecutor(o.notifyChangeLoginServiceProviderKey).executeRequest({credentials:e,body:t,options:r})}proposeMembers(e,t,r){return this.executorFactory.createExecutor(o.proposeMembers).executeRequest({credentials:e,body:t,options:r})}registerFreeTrial(e,t){return this.executorFactory.createExecutor(o.registerFreeTrial).executeRequest({body:e,options:t})}registerFreeTrialOptionalFields(e,t){return this.executorFactory.createExecutor(o.registerFreeTrialOptionalFields).executeRequest({body:e,options:t})}registerTeamDevice(e,t,r){return this.executorFactory.createExecutor(o.registerTeamDevice).executeRequest({credentials:e,body:t,options:r})}removeGroupManager(e,t,r){return this.executorFactory.createExecutor(o.removeGroupManager).executeRequest({credentials:e,body:t,options:r})}removeTeamCaptain(e,t,r){return this.executorFactory.createExecutor(o.removeTeamCaptain).executeRequest({credentials:e,body:t,options:r})}report(e,t,r){return this.executorFactory.createExecutor(o.report).executeRequest({credentials:e,body:t,options:r})}reportTeamDeviceError(e,t,r){return this.executorFactory.createExecutor(o.reportTeamDeviceError).executeRequest({credentials:e,body:t,options:r})}requestDomainRegistration(e,t,r){return this.executorFactory.createExecutor(o.requestDomainRegistration).executeRequest({credentials:e,body:t,options:r})}requestLoginChange(e,t,r){return this.executorFactory.createExecutor(o.requestLoginChange).executeRequest({credentials:e,body:t,options:r})}requestTeamInviteToken(e,t){return this.executorFactory.createExecutor(o.requestTeamInviteToken).executeRequest({body:e,options:t})}spaceDeleted(e,t,r){return this.executorFactory.createExecutor(o.spaceDeleted).executeRequest({credentials:e,body:t,options:r})}startAuditLogsQuery(e,t,r){return this.executorFactory.createExecutor(o.startAuditLogsQuery).executeRequest({credentials:e,body:t,options:r})}startTierTrial(e,t,r){return this.executorFactory.createExecutor(o.startTierTrial).executeRequest({credentials:e,body:t,options:r})}storeActivityLogs(e,t,r){return this.executorFactory.createExecutor(o.storeActivityLogs).executeRequest({credentials:e,body:t,options:r})}storeAuditLogs(e,t,r){return this.executorFactory.createExecutor(o.storeAuditLogs).executeRequest({credentials:e,body:t,options:r})}teamStatus(e,t){return this.executorFactory.createExecutor(o.teamStatus).executeRequest({credentials:e,body:{},options:t})}toggleTeamSignUpPage(e,t,r){return this.executorFactory.createExecutor(o.toggleTeamSignUpPage).executeRequest({credentials:e,body:t,options:r})}updateBillingAdmin(e,t,r){return this.executorFactory.createExecutor(o.updateBillingAdmin).executeRequest({credentials:e,body:t,options:r})}updateDirectorySyncRequestStatus(e,t,r){return this.executorFactory.createExecutor(o.updateDirectorySyncRequestStatus).executeRequest({credentials:e,body:t,options:r})}updateTeamDeviceEncryptedConfiguration(e,t,r){return this.executorFactory.createExecutor(o.updateTeamDeviceEncryptedConfiguration).executeRequest({credentials:e,body:t,options:r})}upgradeTeamWithExistingCc(e,t,r){return this.executorFactory.createExecutor(o.upgradeTeamWithExistingCc).executeRequest({credentials:e,body:t,options:r})}upsertTeamVat(e,t,r){return this.executorFactory.createExecutor(o.upsertTeamVat).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},57343:function(e,t,r){r.d(t,{i:()=>o,q:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={getRemoteTimeList:{method:"GET",path:"time/GetRemoteTime",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.NONE,version:n.W.V1},getRemoteTime:{method:"POST",path:"time/GetRemoteTime",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.NONE,version:n.W.V1}};class a{getRemoteTimeList(e,t){return this.executorFactory.createExecutor(o.getRemoteTimeList).executeRequest({body:e,options:t})}getRemoteTime(e,t){return this.executorFactory.createExecutor(o.getRemoteTime).executeRequest({body:e,options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},40904:function(e,t,r){r.d(t,{g:()=>o,n:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={completeLoginChange:{method:"POST",path:"user/CompleteLoginChange",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},requestLoginChange:{method:"POST",path:"user/RequestLoginChange",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},sendLoginChangeToken:{method:"POST",path:"user/SendLoginChangeToken",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{completeLoginChange(e,t,r){return this.executorFactory.createExecutor(o.completeLoginChange).executeRequest({credentials:e,body:t,options:r})}requestLoginChange(e,t,r){return this.executorFactory.createExecutor(o.requestLoginChange).executeRequest({credentials:e,body:t,options:r})}sendLoginChangeToken(e,t){return this.executorFactory.createExecutor(o.sendLoginChangeToken).executeRequest({credentials:e,body:{},options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},88714:function(e,t,r){r.d(t,{K:()=>o,V:()=>a});var s=r(55466),i=r(83377),n=r(44969);let o={create:{method:"POST",path:"useractivity/Create",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{create(e,t,r){return this.executorFactory.createExecutor(o.create).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},59866:function(e,t,r){r.d(t,{G:()=>a,_:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={getConsents:{method:"POST",path:"userconsents/GetConsents",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},updateConsents:{method:"POST",path:"userconsents/UpdateConsents",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{getConsents(e,t,r){return this.executorFactory.createExecutor(o.getConsents).executeRequest({credentials:e,body:t,options:r})}updateConsents(e,t,r){return this.executorFactory.createExecutor(o.updateConsents).executeRequest({credentials:e,body:t,options:r})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},8539:function(e,t,r){r.d(t,{V:()=>a,m:()=>o});var s=r(55466),i=r(83377),n=r(44969);let o={getCredentials:{method:"POST",path:"vpn/GetCredentials",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1},getVpnSubscriptionInfo:{method:"POST",path:"vpn/GetVPNSubscriptionInfo",requestAcceptHeader:"application/json",responseType:"json",authType:i.d.USER_DEVICE,version:n.W.V1}};class a{getCredentials(e,t,r){return this.executorFactory.createExecutor(o.getCredentials).executeRequest({credentials:e,body:t,options:r})}getVpnSubscriptionInfo(e,t){return this.executorFactory.createExecutor(o.getVpnSubscriptionInfo).executeRequest({credentials:e,body:{},options:t})}constructor(e){(0,s._)(this,"executorFactory",void 0),this.executorFactory=e}}},81218:function(e,t,r){r.d(t,{ET:()=>i});var s,i=((s={}).USER="USER",s.TAC="TAC",s.AD="AD",s.SCIM="SCIM",s.SAML="SAML",s)},83377:function(e,t,r){r.d(t,{d:()=>i});var s,i=((s={}).NONE="NONE",s.APP="App",s.USER_DEVICE="UserDevice",s.SESSION="Session",s.TEAM_DEVICE="TeamDevice",s.BACK_OFFICE="Backoffice",s.EXTERNAL="External",s.MASS_DEPLOYED_TEAM_KEY="MassDeployedTeamKey",s.CUSTOM="Custom",s)},44969:function(e,t,r){r.d(t,{W:()=>i});var s,i=((s={}).V1="v1",s)}}]);