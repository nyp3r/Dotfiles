"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[1711],{11711:(e,t,i)=>{i.r(t),i.d(t,{CollectionView:()=>he});var l=i(96832),n=i(15192),o=i(73704),a=i(48038),s=i(80936),c=i(45272),r=i(92077),d=i(19122),h=i(75632),p=i(62735),u=i(58780),g=i(88795),_=i(40846),S=i(97227),Z=i(95727),w=i(16019),m=i(22903),b=i(68999),C=i(47124),I=i(63071),D=i(33360),O=i(82454),v=i(31062),f=i(7544),y=i(27637),T=i(88203),A=i(55357),k=i(68014),x=i(36351);const N=e=>{const{translate:t}=(0,T.Z)(),{canDelete:i,role:l}=(0,A.n)(e.id);return(0,x.tZ)(v.u,{content:(0,x.tZ)(k.V,{tooltipTitle:t("webapp_collection_action_disabled_editor_title"),tooltipDescription:t("webapp_collection_action_disabled_editor_description")}),passThrough:l!==y.Yt.Editor,wrapTrigger:!0,children:(0,x.tZ)(f.h,{label:t("collections_delete_button_text"),leadingIcon:"ActionDeleteOutlined",isDestructive:!0,disabled:!i,onSelect:()=>e.setIsDeleteDialogOpen(!0),children:t("collections_delete_button_text")})})};var V=i(42670);const E=e=>{const{translate:t}=(0,T.Z)(),{canEdit:i}=(0,A.n)(e.id),{openDialog:l,shouldShowFrozenStateDialog:n}=(0,V.Ub)(),{role:a}=(0,A.n)(e.id);return(0,x.tZ)(v.u,{content:(0,x.tZ)(k.V,{tooltipTitle:t("webapp_collection_action_disabled_editor_title"),tooltipDescription:t("webapp_collection_action_disabled_editor_description")}),passThrough:a!==y.Yt.Editor,wrapTrigger:!0,location:"left",children:(0,x.tZ)(f.h,{label:t("_common_action_edit"),leadingIcon:"ActionEditOutlined",onSelect:()=>{n?l():((0,c.Nc)(o.PageView.CollectionEdit),e.setIsEditDialogOpen(!0))},disabled:!i,children:t("_common_action_edit")})})},B=({id:e,setIsSharedAccessDialogOpen:t})=>{const{translate:i}=(0,T.Z)();return(0,x.tZ)(f.h,{label:i("webapp_sharing_collection_access_dialog_title"),leadingIcon:"SharedOutlined",onSelect:()=>{(0,c.Kz)(new o.UserSharingStartEvent({sharingFlowType:o.SharingFlowType.CollectionSharing,collectionId:e,origin:o.Origin.CollectionDetailView})),t(!0)},children:i("webapp_sharing_collection_access_dialog_title")})};var L,X=i(59973),z=i(99822),P=i(53133),F=i(67986),M=i(26642),R=i(67678),U=i(85281),J=i(60345),Y=i(80343);const j=({id:e})=>{var t;const i=(0,U.G)(),l=(0,X.k)(),[n,a]=(0,P.A)(e),{role:s,canShare:r,sharingDisabledReason:d}=(0,A.n)(e),{openDialog:h,closeDialog:p}=(0,R.R)(),{translate:u}=(0,T.Z)(),{isStarterTeam:g,isAdmin:_}=(0,S.Te)(),Z=g&&!_&&s===y.Yt.Manager,{secureNotes:w}=(0,Y.y)(),m=w.some((e=>e.attachments?.length)),b=!Z&&!r||a!==P.z.Complete||m,I=(0,k.S)(d)?.title,D=(0,k.S)(d)?.description;return(0,x.tZ)(v.u,{content:(0,x.tZ)(k.V,{tooltipTitle:I?u(I):"",tooltipDescription:D?u(D):""}),passThrough:!b||!I&&!D,wrapTrigger:!0,children:(0,x.tZ)(J.x,{onClick:()=>{if((0,c.Kz)(new o.UserSharingStartEvent({sharingFlowType:o.SharingFlowType.CollectionSharing,collectionId:e,origin:o.Origin.CollectionDetailView})),l){const t=!i&&a===P.z.Complete&&n?(0,z.wu)(e):(0,z.H4)(e);h((0,x.tZ)(F.Z,{sharing:t,onDismiss:p,origin:o.Origin.CollectionDetailView}))}else h(t||(t=(0,x.tZ)(M.z,{closeDialog:p})))},icon:L||(L=(0,x.tZ)(C.JO,{name:"ActionShareOutlined"})),disabled:b,children:u("_common_action_share")})})};var q,K,W,$=i(81012),G=i(96997);const H=({isShared:e=!1,isPersonalSpaceDisabled:t,vaultItemsIds:i,...n})=>{const[o,a]=(0,l.useState)(!1),[s,c]=(0,l.useState)(!1),[r,d]=(0,l.useState)(!1),[h,p]=(0,l.useState)(!1),{translate:u}=(0,T.Z)();return(0,x.tZ)(O.h,{sx:{marginRight:"16px"},startWidgets:(0,x.tZ)(D.b,{isShared:e,spaceId:t?void 0:n.spaceId,children:(0,x.tZ)(m.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.name})}),endWidget:(0,x.BX)(l.Fragment,{children:[(0,x.tZ)(b.z,{icon:q||(q=(0,x.tZ)(C.JO,{name:"ActionAddOutlined"})),layout:"iconLeading",onClick:()=>p(!0),children:u("webapp_collection_bulk_action_add_items")}),n?.spaceId?(0,x.tZ)(j,{id:n.id}):null,(0,x.BX)(I.h_,{align:"end",children:[K||(K=(0,x.tZ)(I.sB,{"aria-label":"More",icon:"ActionMoreOutlined",layout:"iconOnly",mood:"neutral",intensity:"quiet",id:"collection-action-more"})),(0,x.BX)(I.Nv,{children:[e?(0,x.tZ)(B,{id:n.id,setIsSharedAccessDialogOpen:a}):null,(0,x.tZ)(E,{setIsEditDialogOpen:c,...n}),(0,x.tZ)(N,{id:n.id,setIsDeleteDialogOpen:d})]})]}),W||(W=(0,x.tZ)(G.D,{})),(0,x.tZ)($.Zy,{isOpen:o,onClose:()=>a(!1),id:n.id}),(0,x.tZ)($.mu,{isOpen:s,onClose:()=>c(!1),isShared:e,...n}),(0,x.tZ)($.AN,{isOpen:r,onClose:()=>d(!1),isShared:e,id:n.id,name:n.name,setIsSharedAccessDialogOpen:a}),(0,x.tZ)(_.B,{children:(0,x.tZ)($.jJ,{isOpen:h,onClose:()=>p(!1),collectionName:n.name,spaceId:n.spaceId,isSharedCollection:e,collectionId:n.id,vaulItemsInCollection:i})},String(h))]})})};var Q=i(46876),ee=i(64959),te=i(29315);const ie=()=>{var e,t;const{translate:i}=(0,T.Z)(),o=`{${(0,n.UO)().collectionId}}`,[a,s]=(0,l.useState)(!1),{currentSpaceId:c}=(0,d.fV)(),{routes:h}=(0,r.Xo)(),{collections:p,sharedCollections:u}=(0,Z.bA)(),g=de(o),S=null!=(e=p.find(g))?e:u.find(g);return!S||null!==c&&S.spaceId!==c?(0,x.tZ)(n.l_,{to:h.userCredentials}):(0,x.BX)(te.x,{title:i("webapp_collections_empty_view_title"),description:i("webapp_collections_empty_view_description"),illustrationLightSrc:Q,illustrationDarkSrc:ee,children:[(0,x.tZ)(b.z,{icon:"ActionAddOutlined",layout:"iconLeading",onClick:()=>s(!0),children:i("webapp_collection_bulk_action_add_items")}),(0,x.tZ)(_.B,{children:(0,x.tZ)($.jJ,{isOpen:a,onClose:()=>s(!1),collectionName:S.name,spaceId:S.spaceId,isSharedCollection:null!=(t=S.isShared)&&t,collectionId:S.id,vaulItemsInCollection:[]})},String(a))]})};var le=i(80842),ne=i(9503);const oe=({isNotesViewDisplayed:e,setTab:t})=>{const{secureNotes:i}=(0,Y.y)(),n=(0,g.h)();return(0,l.useEffect)((()=>(!n&&i?.length>0?t(w.f.SecureNotes):n&&!i?.length&&t(w.f.Passwords),()=>{t(w.f.Passwords)})),[n,i]),!i?.length||!n&&i.length>0?null:(0,x.tZ)(ne.n,{isNotesViewDisplayed:e,setTab:t})};var ae,se,ce,re=i(73501);const de=e=>t=>t.id===e,he=()=>{var e;const{routes:t}=(0,r.Xo)(),i=`{${(0,n.UO)().collectionId}}`,{currentSpaceId:m}=(0,d.fV)(),{collections:b,sharedCollections:C,isCollectionsLoading:I,updateActiveCollection:D}=(0,Z.bA)(),{canShareCollection:O,hasSharingCollectionPaywall:v,isAdmin:f}=(0,S.Te)(),y=(0,s.I)(),[T,A]=(0,l.useState)(w.f.Passwords);if((0,l.useEffect)((()=>((0,c.Nc)(o.PageView.CollectionDetails),()=>D(null))),[]),I||y.status!==a.rq.Success)return null;const k=de(i),N=null!=(e=b.find(k))?e:C.find(k);if(!N||null!==m&&N.spaceId!==m)return(0,x.tZ)(n.l_,{to:t.userCredentials});D(N);const{vaultItems:V,...E}=N;return(0,x.tZ)(p.Z,{ids:V.map((e=>e.id)),children:(0,x.tZ)(u.v,{children:(0,x.BX)(Y.c,{ids:V.map((e=>e.id)),children:[v&&f?(0,x.tZ)(S.Li,{canShareCollection:O,sx:{margin:"24px"},clickOrigin:O?o.ClickOrigin.CollectionsSharingStarterLimitCloseToBeReachedMain:o.ClickOrigin.CollectionsSharingStarterLimitReachedMain}):null,(0,x.tZ)(re.I,{header:(0,x.tZ)(H,{isPersonalSpaceDisabled:y.isDisabled,vaultItemsIds:V.map((e=>e.id)),...E}),children:V.length>0?(0,x.tZ)(g.x,{children:(0,x.BX)(_.B,{children:[(0,x.tZ)(oe,{isNotesViewDisplayed:T===w.f.SecureNotes,setTab:A}),T===w.f.SecureNotes?(0,x.tZ)("div",{sx:{marginLeft:"42px",height:"100%",overflow:"hidden",position:"relative"},children:ae||(ae=(0,x.tZ)(le.E,{withLayout:!1}))}):se||(se=(0,x.tZ)(h.k,{withLayout:!1}))]})}):ce||(ce=(0,x.tZ)(ie,{}))})]})})})}}}]);