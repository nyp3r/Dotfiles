(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[3961],{43414:(e,t,n)=>{"use strict";n.d(t,{o:()=>A,H:()=>I});var a,i=n(96832),r=n(88355),o=n(16166),s=n(32690),l=n(68999),c=n(8180),d=n(77727),p=n(88203),u=n(10051),_=n(92077),m=n(78956),h=n(14856),g=n(29020),b=n(38687),w=n(75017),y=n(37527),f=n(29710),x=n(36351);const S=({isOpen:e,title:t,description:n,submitLabel:r,onSubmit:o,onCancel:s,onResendToken:l})=>{const{translate:c}=(0,p.Z)(),[d,u]=(0,i.useState)("");return(0,x.BX)(m.Vq,{dialogClassName:y.Ht,title:t,isOpen:e,decorationSlot:a||(a=(0,x.tZ)(h.v,{mood:"warning",name:"ItemEmailOutlined",size:"xlarge"})),closeActionLabel:c("_common_dialog_dismiss_button"),onClose:s,actions:{primary:{children:r,onClick:()=>o(d),disabled:d.length<f.k},secondary:{children:c("_common_action_cancel"),onClick:s}},children:[(0,x.tZ)(g.n,{color:"ds.text.neutral.standard",sx:{marginBottom:"16px"},children:n}),(0,x.tZ)(b.v,{label:"Verification code",isPinVisible:!0,autoClear:!1,onPinComplete:e=>u(e)}),(0,x.BX)("div",{sx:{display:"flex",alignItems:"center"},children:[(0,x.BX)(g.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.reduced.regular",children:[c("webapp_change_login_email_verify_dialog_helper_text"),"Â "]}),(0,x.tZ)(w.Q,{onClick:l,sx:{marginLeft:"8px"},children:(0,x.tZ)(g.n,{textStyle:"ds.body.reduced.link",color:"ds.text.brand.standard",children:c("webapp_change_login_email_verify_dialog_resend_email")})})]})]})};var v=n(78346),C=n(73704),Z=n(43866);const k="webapp_change_contact_email_confirm_change_button",I="changeAccountEmailErrorId",E="newEmail",D={EMAIL_CONTAINER:{minHeight:"120px"},CONFIRM_BUTTON:{marginTop:"0"}},T={newEmail:""},A=({effectiveCurrentEmail:e})=>{const{translate:t}=(0,p.Z)(),{routes:n}=(0,_.Xo)(),a=(0,_.k6)(),[m,h]=(0,i.useState)(!1),{initChangeLoginEmail:g,completeChangeLoginEmail:b,resendVerificationCode:w}=(0,c.u)(d.v),y=(e,t)=>{(0,Z.$n)(),b({verificationCode:t,newEmail:e}),a.replace(n.changeLoginEmail)},f=e=>{e(!1),h(!1)},A=()=>{(0,Z.Zy)(),w()};return(0,x.tZ)(r.J9,{onSubmit:async(n,{setSubmitting:a,setFieldError:i})=>{if((0,Z.SQ)(),a(!1),!(0,u.vV)(n.newEmail))return(0,Z.kf)(C.ChangeLoginError.InvalidEmail),i(E,t("webapp_change_contact_email_error_email_format"));if(n.newEmail===e)return(0,Z.kf)(C.ChangeLoginError.SameEmail),i(E,t("webapp_change_contact_email_error_identical_email"));try{const e=await g({newEmail:n.newEmail});if(!(0,v.d6)(e))return(0,Z.kf)(C.ChangeLoginError.ExistingEmail),i(E,t("webapp_change_email_error_email_already_used"))}catch(e){return(0,Z.kf)(C.ChangeLoginError.Generic),i(E,t("webapp_change_contact_email_error_generic"))}a(!0),h(!0)},initialValues:T,children:({dirty:e,isSubmitting:n,setSubmitting:a,values:c})=>(0,x.BX)(i.Fragment,{children:[(0,x.BX)(r.l0,{autoComplete:"off",noValidate:!0,children:[(0,x.tZ)("div",{sx:(0,o.jM)([{display:"flex",flexDirection:"column"},D.EMAIL_CONTAINER]),children:(0,x.tZ)(r.gN,{name:E,children:({field:e,meta:n})=>(0,x.tZ)(s.s,{id:"account-management-change-email-new-id",label:t("webapp_change_login_email_new_email_label"),...e,value:e.value,feedback:n.error?{id:I,text:n.error}:void 0,error:!!n.error})})}),(0,x.tZ)("div",{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:(0,x.tZ)(l.z,{disabled:!e||n,sx:D.CONFIRM_BUTTON,type:"submit",children:t(k)})})]}),(0,x.tZ)(S,{isOpen:m,onCancel:f.bind(null,a),onSubmit:y.bind(null,c.newEmail),onResendToken:A,submitLabel:t(k),title:t("webapp_change_login_email_verify_dialog_title"),description:t.markup("webapp_change_login_email_verify_dialog_description_markup",{login:c.newEmail})})]})})}},43866:(e,t,n)=>{"use strict";n.d(t,{$n:()=>h,Lj:()=>d,Pr:()=>o,SQ:()=>p,ZD:()=>s,Zy:()=>g,kf:()=>m,nL:()=>_,r8:()=>l,ur:()=>u,y_:()=>c});var a=n(45272),i=n(73704);const r=e=>{(0,a.Kz)(new i.UserChangeContactEmailEvent({flowStep:e}))},o=r.bind(null,i.FlowStep.Start),s=r.bind(null,i.FlowStep.Cancel),l=r.bind(null,i.FlowStep.Error),c=r.bind(null,i.FlowStep.Complete),d=()=>(0,a.Kz)(new i.UserUserChangeLoginEmailEvent({changeLoginEmailFlowStep:i.ChangeLoginEmailFlowStep.StartEmailChange})),p=()=>(0,a.Kz)(new i.UserUserChangeLoginEmailEvent({changeLoginEmailFlowStep:i.ChangeLoginEmailFlowStep.SubmitEmailChange})),u=()=>(0,a.Kz)(new i.UserUserChangeLoginEmailEvent({changeLoginEmailFlowStep:i.ChangeLoginEmailFlowStep.CancelEmailChange})),_=()=>(0,a.Kz)(new i.UserUserChangeLoginEmailEvent({changeLoginEmailFlowStep:i.ChangeLoginEmailFlowStep.SuccessfulEmailChange})),m=e=>{(0,a.Kz)(new i.UserUserChangeLoginEmailEvent({changeLoginEmailFlowStep:i.ChangeLoginEmailFlowStep.Error,errorName:e}))},h=()=>{(0,a.Kz)(new i.UserUserChangeLoginEmailEvent({changeLoginEmailFlowStep:i.ChangeLoginEmailFlowStep.VerifyToken}))},g=()=>{(0,a.Kz)(new i.UserUserChangeLoginEmailEvent({changeLoginEmailFlowStep:i.ChangeLoginEmailFlowStep.ResendVerificationCode}))}},52223:(e,t,n)=>{"use strict";n.d(t,{C:()=>_r,d:()=>mr});var a=n(96832),i=n(80225),r=n(39632),o=n(92077),s=n(68197),l=n(8319),c=n(85462),d=n.n(c),p=n(5465),u=n(89611),_=n(86662);let m=function(e){return e[e.Root=0]="Root",e[e.ChangeContactEmail=1]="ChangeContactEmail",e[e.ChangeLoginEmail=2]="ChangeLoginEmail",e}({});var h=n(40577),g=n(92350),b=n(53092),w=n(68999),y=n(47124),f=n(29020),x=n(48038),S=n(88203),v=n(22903),C=n(36351);const Z={width:"100%",lineHeight:0,display:"flex",padding:"20px 16px",alignItems:"center",gap:"4px"},k=parseInt(d()["--edit-panel-animation-duration-enter"],10),I=({headingText:e,headingAriaLabelledby:t,onNavigateOut:n,children:i})=>{const r=(0,a.useRef)(null),{translate:o}=(0,S.Z)();return(0,a.useEffect)((()=>{const e=setTimeout((()=>{r.current?.focus()}),k);return()=>{clearTimeout(e)}}),[]),(0,C.BX)("section",{sx:{display:"flex",height:"100vh",flexDirection:"column",width:"360px",padding:"0 8px"},children:[(0,C.BX)("div",{sx:Z,children:[(0,C.tZ)(w.z,{mood:"neutral",intensity:"supershy",layout:"iconOnly",icon:"ArrowLeftOutlined",onClick:n,"aria-label":o("webapp_account_common_panel_back_button")}),(0,C.tZ)(v.X,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy","aria-labelledby":t,children:e})]}),(0,C.tZ)("div",{sx:{flex:1,overflowX:"clip",overflowY:"visible",msOverflowY:"auto",outline:0},ref:r,tabIndex:-1,children:i})]})};var E,D=n(48827),T=n(97962),A=n(43866),N=n(14900),O=n(37332);const P=({sectionTitle:e,children:t,showBorder:n=!1})=>(0,C.BX)(a.Fragment,{children:[n?E||(E=(0,C.tZ)(O.i,{})):null,(0,C.BX)(N.T5p,{gap:"8px",sx:{padding:"16px"},gridTemplateColumns:"auto",children:[e?(0,C.tZ)(v.X,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:e}):null,t]})]});var L,R,M=n(70836),B=n(2951),z=n(54350);const U="webapp_account_management_label_login_email",F=({onNavigateOut:e,changeActivePanel:t})=>{var n;const{translate:a}=(0,S.Z)(),{routes:i}=(0,o.Xo)(),r=(0,B.Q)(),s=(0,h.o)(g.u.ChangeLoginEmailB2CWeb),l=(0,z.Z)(),c=r.status===x.rq.Success&&!r.isB2B&&l.status===x.rq.Success&&!l.isMPLessUser&&s,d=(0,D.G)(),p=(0,T.f)();return(0,C.BX)(I,{headingText:a("webapp_account_management_panel_heading"),onNavigateOut:e,children:[(0,C.BX)(P,{sectionTitle:a(U),children:[(0,C.tZ)(b.C,{label:a(U),labelPersists:!1,id:"account-login-email",value:p,actions:[(0,C.tZ)(w.z,{onClick:()=>{(0,A.Lj)(),t(m.ChangeLoginEmail)},disabled:!c,"aria-label":a("webapp_change_login_email_section_title"),icon:L||(L=(0,C.tZ)(y.JO,{name:"ActionEditOutlined"})),intensity:"supershy",layout:"iconOnly"},"edit-login-email")],sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",borderRadius:"8px",padding:"8px 12px"}}),c?null:(0,C.tZ)(f.n,{color:"ds.text.neutral.quiet",children:a.markup("webapp_account_management_description_login_email_markup",{},{linkTarget:"_blank"})})]}),(0,C.tZ)(P,{showBorder:!0,sectionTitle:a("webapp_account_management_privacy_section_heading"),children:(0,C.tZ)(w.z,{mood:"neutral",intensity:"quiet",size:"small",role:"link","aria-label":a("webapp_account_management_privacy_edit_a11y_label"),onClick:()=>(0,o.uX)(i.userSettingsTab(M.B.Privacy)),children:a("webapp_account_management_privacy_edit_button")})}),(0,C.BX)(P,{showBorder:!0,sectionTitle:a("webapp_account_management_verification_section_heading"),children:[(0,C.tZ)(b.C,{label:a("webapp_account_management_label_contact_email"),id:"account-contact-email",value:null!=(n=d?.email)?n:p,actions:[(0,C.tZ)(w.z,{onClick:()=>{(0,A.Pr)(),t(m.ChangeContactEmail)},"aria-label":a("webapp_account_management_change_contact_email_a11y_label"),icon:R||(R=(0,C.tZ)(y.JO,{name:"ActionEditOutlined"})),intensity:"supershy",layout:"iconOnly"},"edit-contact-email")],sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",borderRadius:"8px",padding:"4px 12px"}}),(0,C.tZ)(f.n,{color:"ds.text.neutral.quiet",children:a("webapp_account_management_contact_email_description")})]})]})};var X=n(21143),q=n(88355),H=n(16166),V=n(32690),W=n(35944),j=n(86498),G=n(10051),K=n(30894),Y=n(68819);const $="webapp_change_contact_email_error_email_format",Q="newEmail",J={EMAIL_CONTAINER:{minHeight:"120px"},CONFIRM_BUTTON:{marginTop:"0"}},ee={newEmail:""},te=({effectiveCurrentEmail:e,onNavigateOut:t})=>{const{translate:n}=(0,S.Z)(),a=(0,j.V)(),{areProtectedItemsUnlocked:i,openProtectedItemsUnlocker:r}=(0,K.tY)();return(0,C.tZ)(q.J9,{onSubmit:async(o,{setSubmitting:s,setFieldError:l})=>{if(s(!1),!(0,G.vV)(o.newEmail))return(0,A.r8)(),l(Q,n($));if(o.newEmail===e)return(0,A.r8)(),l(Q,n("webapp_change_contact_email_error_identical_email"));s(!0);const c=async()=>{const e=await p.C.editContactInfo({contactEmail:o.newEmail});if(s(!1),e.success)(0,A.y_)(),a.showAlert(n("webapp_change_contact_email_alert_success"),N.BLW.SUCCESS),t();else switch((0,A.r8)(),e.error.code){case W.D.INVALID_EMAIL:case W.D.EMPTY_EMAIL:l(Q,n($));break;case W.D.UNKNOWN_ERROR:default:a.showAlert((0,C.tZ)(f.n,{textStyle:"ds.body.standard.strong",color:"ds.text.danger.quiet",children:n("webapp_change_contact_email_error_generic")}),N.BLW.ERROR)}};i?c():r({itemType:Y.R.UpdateContactEmail,options:{fieldsKeys:{title:"webapp_change_contact_email_master_password_unlock_title",subtitle:"webapp_change_contact_email_master_password_unlock_description",confirm:"webapp_change_contact_email_confirm_change_button",placeholder:"webapp_change_contact_email_master_password_unlock_placeholder"},translated:!1},successCallback:c,cancelCallback:()=>s(!1)})},initialValues:ee,children:({dirty:e,isSubmitting:t})=>(0,C.BX)(q.l0,{autoComplete:"off",noValidate:!0,children:[(0,C.tZ)("div",{sx:(0,H.jM)([{display:"flex",flexDirection:"column"},J.EMAIL_CONTAINER]),children:(0,C.tZ)(q.gN,{name:Q,children:({field:e,meta:t})=>(0,C.tZ)(V.s,{id:"account-management-change-email-new-id",label:n("webapp_change_contact_email_new_email_label"),...e,value:e.value,feedback:t.error?{id:"changeAccountEmailErrorId",text:t.error}:void 0,error:!!t.error})})}),(0,C.tZ)("div",{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:(0,C.tZ)(w.z,{disabled:!e||t,sx:J.CONFIRM_BUTTON,type:"submit",children:n("webapp_change_contact_email_confirm_change_button")})})]})})};var ne,ae=n(43414);let ie=function(e){return e[e.CONTACT_EMAIL=0]="CONTACT_EMAIL",e[e.LOGIN_EMAIL=1]="LOGIN_EMAIL",e}({});const re={[ie.CONTACT_EMAIL]:{HEADING:"webapp_change_contact_email_section_title",DESCRIPTION:"webapp_change_contact_email_section_description",CURRENT_EMAIL:"webapp_change_contact_email_current_email_label",NEW_EMAIL:"webapp_change_contact_email_new_email_label",CONFIRM_CHANGE:"webapp_change_contact_email_confirm_change_button"},[ie.LOGIN_EMAIL]:{HEADING:"webapp_change_login_email_section_title",DESCRIPTION:"webapp_change_login_email_section_description",CURRENT_EMAIL:"webapp_change_login_email_current_email_label",NEW_EMAIL:"webapp_change_login_email_new_email_label",CONFIRM_CHANGE:"webapp_change_contact_email_confirm_change_button",ACCEPTED_DOMAINS:"webapp_change_login_email_accepted_domains_label"}},oe=({flow:e,onNavigateOut:t})=>{var n;const{translate:i}=(0,S.Z)(),r=(0,D.G)(),o=(0,T.f)(),s=e===ie.CONTACT_EMAIL&&null!=(n=r?.email)?n:o;return(0,C.tZ)(I,{headingText:i(re[e].HEADING),onNavigateOut:()=>{e===ie.CONTACT_EMAIL?(0,A.ZD)():(0,A.ur)(),t()},children:(0,C.BX)(P,{children:[(0,C.tZ)(f.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:i(re[e].DESCRIPTION)}),(0,C.BX)("div",{sx:{display:"flex",flexDirection:"column",marginTop:"18px"},children:[(0,C.tZ)(b.C,{id:"account-management-change-email-current-id",label:i(re[e].CURRENT_EMAIL),value:s,sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",borderRadius:"8px",padding:"8px 12px"}}),ne||(ne=(0,C.tZ)(X.c,{height:18})),s?(0,C.BX)(a.Fragment,{children:[e===ie.CONTACT_EMAIL?(0,C.tZ)(te,{effectiveCurrentEmail:s,onNavigateOut:t}):null,e===ie.LOGIN_EMAIL?(0,C.tZ)(ae.o,{effectiveCurrentEmail:s}):null]}):null]})]})})},se={enter:"enter--eDZ8ySAq7M",enterActive:"enterActive--TgqXVICVbC",exit:"exit--Q1ZSvWr9oe",exitActive:"exitActive--wWDxw2BoDU"},le={enter:"enter--d2nmtK6oXu",enterActive:"enterActive--Vd9n69X94e",exit:"exit--KiytjzvxhC",exitActive:"exitActive--wGGPNH9QfJ"},ce=parseInt(d()["--edit-panel-animation-duration-enter"],10),de={[m.Root]:e=>(0,C.tZ)(F,{changeActivePanel:e.setActivePanel,onNavigateOut:e.onNavigateOut}),[m.ChangeContactEmail]:e=>(0,C.tZ)(oe,{flow:ie.CONTACT_EMAIL,onNavigateOut:e.onSubPanelExitRequest}),[m.ChangeLoginEmail]:e=>(0,C.tZ)(oe,{flow:ie.LOGIN_EMAIL,onNavigateOut:e.onSubPanelExitRequest})},pe=(e,t)=>(0,C.tZ)(r.Z,{classNames:e===m.Root?se:le,timeout:ce,children:de[e]({...t})},e),ue=e=>{const[t,n]=(0,a.useState)(m.Root),r=(0,o.CN)().get("view");(0,a.useEffect)((()=>{n("change-login-email"===r?m.ChangeLoginEmail:m.Root)}),[r]);const s={...e,setActivePanel:n,onSubPanelExitRequest:()=>{n(m.Root)}};return(0,C.tZ)("div",{className:"rootContainer--q7fIVDc089",children:(0,C.tZ)(i.Z,{children:pe(t,s)})})};var _e=n(62264),me=n(99751),he=n(24507),ge=n(8180),be=n(83849),we=n.n(be);const ye={container:"container--sgn5i6PANV",deactivate:"deactivate--JNEuLvUGXN",infoContainer:"infoContainer--aJXyG_JoUr",iconContainer:"iconContainer--bjPUlTci6y",textContainer:"textContainer--iuFEpct2H_",propertyLabel:"propertyLabel--D0HDiKzfFh",propertiesWrapper:"propertiesWrapper--VIyPyCxvUc",deactivateButton:"deactivateButton--MsmW0NX8e6",init:"init--dEUeNV1S2w",visible:"visible--M4UTyvGytq",hidden:"hidden--s357JgT3fB",platformIcon:"platformIcon--D1cyNe_3aD",platformIcon_webaccess:"platformIcon_webaccess--jW6sjL09UX",platformIcon_server_tac:"platformIcon_server_tac--cNK1w0sNYG",platformIcon_server_leeloo:"platformIcon_server_leeloo--vej8keJzba",platformIcon_server_leeloo_dev:"platformIcon_server_leeloo_dev--tjH93J066z",platformIcon_server_standalone:"platformIcon_server_standalone--gcdci8Sbxw",platformIcon_server_win:"platformIcon_server_win--BxsF9u5Oo5",platformIcon_server_macosx:"platformIcon_server_macosx--UfLM8aSTI_",platformIcon_server_iphone:"platformIcon_server_iphone--bDOeKccAbf",platformIcon_server_ipad:"platformIcon_server_ipad--rHfVFU8_pe",platformIcon_iphone:"platformIcon_iphone--M0PZZZY30M",platformIcon_server_android:"platformIcon_server_android--YTmYJBo2N5",deactivateConfirmationCTAs:"deactivateConfirmationCTAs--qjwDzl68Cc",date:"date--F52QJGovdy"};var fe;const xe=({actionState:e,handleClick:t})=>{const{translate:n}=(0,S.Z)();return(0,C.tZ)("button",{type:"button",className:we()({[ye.deactivateButton]:!0,[ye.init]:e===Ee.CanRemoveDevice,[ye.visible]:e===Ee.NamedEdited,[ye.hidden]:e===Ee.EditInProgress}),title:n("webapp_account_devices_device_deactivate_tooltip"),onClick:t,children:fe||(fe=(0,C.tZ)(y.JO,{name:"ActionCloseOutlined",color:"ds.text.neutral.quiet"}))})},Se=({onConfirm:e,onCancel:t})=>{const{translate:n}=(0,S.Z)();return(0,C.BX)("div",{children:[(0,C.tZ)(w.z,{sx:{marginRight:"8px"},intensity:"quiet",size:"small",onClick:t,children:n("webapp_account_devices_device_cancel_deactivate_button")}),(0,C.tZ)(w.z,{mood:"danger",size:"small",onClick:e,children:n("webapp_account_devices_device_confirm_deactivate_button")})]})};var ve=n(16782),Ce=n(15622);const Ze=({creationDate:e,lastUpdateDate:t})=>{const{translate:n}=(0,S.Z)(),a=n.shortDate;return(0,C.BX)("div",{children:[(0,C.BX)("div",{className:ye.propertiesWrapper,children:[(0,C.BX)("span",{sx:{color:"ds.text.neutral.quiet"},children:[n("webapp_account_devices_device_label_authorized_date")," "]}),(0,C.tZ)("span",{sx:{color:"ds.text.neutral.standard"},children:a(e,ve._T.L)})]}),(0,C.BX)("div",{className:ye.propertiesWrapper,children:[(0,C.BX)("span",{sx:{color:"ds.text.neutral.quiet"},children:[n("webapp_account_devices_device_label_last_update_time")," "]}),(0,C.tZ)("span",{sx:{color:"ds.text.neutral.standard"},children:(0,C.tZ)(Ce.Z,{date:t})})]})]})};var ke=function(e){return e[e.Off=0]="Off",e[e.InProgress=1]="InProgress",e[e.Saved=2]="Saved",e}(ke||{});const Ie=({name:e,onSave:t,onCancel:n,onChange:i,canToggle:r})=>{const{translate:o}=(0,S.Z)(),s=a.createRef(),l=a.useRef(null),[c,d]=a.useState(!1),[p,u]=a.useState(null),[_,m]=a.useState(ke.Off);a.useEffect((()=>{c&&s.current?.focus()}),[c]),a.useEffect((()=>()=>{l.current&&clearTimeout(l.current)}),[]);const h=()=>{var a;const i=null!=(a=s.current?.value)?a:"",r=i&&i!==e;d(!1),m(r?ke.InProgress:ke.Off),r?(u(i),t(i,700),l.current=setTimeout((()=>{u(null),m(ke.Saved)}),700)):n&&n()},g=()=>{r&&(d(!0),m(ke.Off),u(null),i&&i())};return(0,C.BX)("div",{className:"wrap--_tt82iYhnp",children:[c?(0,C.tZ)("input",{role:"heading","aria-level":2,type:"text",ref:s,onBlur:()=>h(),onKeyDown:e=>(e=>{"Enter"===e.key&&h()})(e),className:"input--S7p40APuSc",placeholder:o("webapp_account_devices_device_set_name_placeholder")}):(()=>{const t=(null!=p?p:e)||o("webapp_account_devices_device_name_unnamed");return(0,C.tZ)(v.X,{as:"h2",title:t,color:"ds.text.neutral.catchy",className:we()({"name--JUIvyhg_q5":!0,"hintEditField--CTrOjmEtcr":_!==ke.InProgress&&r}),children:(0,C.tZ)("button",{onClick:g,children:t})})})(),(0,C.tZ)("div",{className:we()({"wrapIcon--Z_VjOuJquZ":!0,"visible--W9TvHTdrX0":_===ke.InProgress,"hidden--TTxSQujbL0":_===ke.Saved}),children:(0,C.tZ)("div",{className:we()({"icon--jxM1YS4rFt":!0,"saved--G1TO4JF9oS":_!==ke.Off})})})]})};let Ee=function(e){return e[e.CanRemoveDevice=0]="CanRemoveDevice",e[e.NamedEdited=1]="NamedEdited",e[e.EditInProgress=2]="EditInProgress",e}({});const De=({device:e,onDeactivationRequest:t,isDeactivationRequested:n,hideDeactivationButton:i,onDeactivationCancelled:r,onConfirmedDeactivationRequest:o,onSave:s,onChange:l})=>{const c=a.useRef(null),[d,p]=a.useState(Ee.CanRemoveDevice),{translate:u}=(0,S.Z)();a.useEffect((()=>()=>{c.current&&clearTimeout(c.current)}),[]);const _=we()(ye.container,{[ye.deactivate]:n});return(0,C.tZ)("section",{className:_,children:(0,C.BX)("div",{className:ye.infoContainer,children:[(0,C.tZ)("div",{className:ye.iconContainer,children:(0,C.tZ)("div",{className:we()(ye.platformIcon,ye["platformIcon_"+e.devicePlatform])})}),(0,C.BX)("div",{className:ye.textContainer,children:[e.isCurrentDevice||i?null:(0,C.tZ)(xe,{actionState:d,handleClick:()=>t(e.deviceId)}),(0,C.tZ)(Ie,{canToggle:!n,name:e.deviceName,onCancel:()=>{p(Ee.CanRemoveDevice)},onChange:()=>{p(Ee.EditInProgress),l&&l()},onSave:(t,n)=>{s&&s(e.deviceId,t),p(Ee.EditInProgress),c.current=setTimeout((()=>{d===Ee.EditInProgress&&p(Ee.NamedEdited)}),2*n)}}),(0,C.tZ)("div",{role:"status",style:{height:"1px",width:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clipPath:"inset(50%)"},children:d===Ee.NamedEdited?u("webapp_account_devices_name_updated_aria"):""}),n?(0,C.tZ)(Se,{onConfirm:()=>o(e.deviceId),onCancel:r},"deactivation-confirm"):(0,C.tZ)(Ze,{creationDate:new Date(1e3*e.creationDate),lastUpdateDate:new Date(1e3*e.lastUpdateDate)})]})]})})},Te={exit:"exit--sHMsaBbcB9",exitActive:"exitActive--DIXRXi77UA"},Ae="webapp_account_devices_heading",Ne=({onNavigateOut:e})=>{const[t,n]=(0,a.useState)(null),[o,s]=(0,a.useState)([]),l=(0,he.k)(me.c,"listAuthorisedDevice"),{revokeAuthorisedDevice:c}=(0,ge.u)(me.c),{renameAuthorisedDevice:d}=(0,ge.u)(me.c),{translate:p}=(0,S.Z)(),{showToast:u}=(0,_e.p)(),_=l.data?.filter((e=>!o.some((t=>t===e.deviceId)))),m=(e=>{if(void 0!==e)return e.map((e=>e)).sort(((e,t)=>{const n=new Date(e.lastUpdateDate).getTime(),a=new Date(t.lastUpdateDate).getTime();return n<a?1:n>a?-1:0}))})(_),h=async(e,t)=>{await d({deviceId:e,updatedName:t})},g=e=>{n(e)},b=()=>{n(null)},w=async e=>{await c({deviceId:e}),s((t=>t.concat(e))),n(null),u({description:p("webapp_account_device_deactivation_announcement"),closeActionLabel:"Close"})};return(0,C.BX)(I,{headingText:p(Ae),onNavigateOut:e,children:[(0,C.tZ)(P,{sectionTitle:p(Ae),children:(0,C.tZ)(f.n,{textStyle:"ds.body.helper.regular",color:"ds.text.neutral.standard",children:p("webapp_account_devices_intro_list")})}),m?.length?(0,C.tZ)(i.Z,{component:"ul",children:(e=>{const n=Boolean(t);if(void 0!==e)return e.map((e=>{const a=t===e.deviceId;return(0,C.tZ)(r.Z,{classNames:{...Te},enter:!1,timeout:200,children:(0,C.tZ)("li",{children:(0,C.tZ)(De,{device:e,onSave:h,onDeactivationRequest:g,hideDeactivationButton:n,isDeactivationRequested:a,onDeactivationCancelled:b,onConfirmedDeactivationRequest:w})})},"device-"+e.deviceId)}))})(m)}):(0,C.tZ)("div",{className:"empty--matzR59l9g",children:p("webapp_account_devices_empty_list")})]})};var Oe=n(63847),Pe=n(5063),Le=n(96289),Re=n(73704),Me=n(78956),Be=n(37527);const ze="webapp_account_export_personal_data_cancel",Ue=({isOpen:e,onDismiss:t,onConfirm:n})=>{const{translate:a}=(0,S.Z)();return(0,C.BX)(Me.Vq,{isOpen:e,onClose:t,closeActionLabel:a(ze),title:a("webapp_account_export_personal_data_title"),dialogClassName:Be.Ht,actions:{primary:{children:a("webapp_account_export_personal_data_continue"),onClick:n},secondary:{children:a(ze)}},children:[(0,C.tZ)(f.n,{children:a("webapp_account_export_personal_data_subtitle")}),(0,C.tZ)(Pe.k,{size:"small",title:a("webapp_account_export_personal_data_warning")})]})};var Fe=n(45272),Xe=(n(42403),n(98849),n(78895),n(45595),n(25676),n(15313).Buffer);const qe="webapp_account_import_export_data_csv_button",He=({reportError:e})=>{const{areProtectedItemsUnlocked:t,openProtectedItemsUnlocker:n}=(0,K.tY)(),{translate:i}=(0,S.Z)(),r=(0,j.V)(),[o,s]=(0,a.useState)(!1),l=async()=>{const t=await p.C.getPersonalDataExport({exportType:"csv"});if(!t.success)return void e(new Error(`Cannot export CSV file : ${t.error.code}`));const n=(e=>{const t=Xe.from(e.split(",")[1],"base64"),n=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),i=new Uint8Array(a);for(let e=0;e<t.length;e++)i[e]=t[e];return new Blob([a],{type:n})})(t.response.content),a=await n.arrayBuffer();(0,Le.S)(a,t.response.filename,"application/zip"),r.showAlert(i("webapp_account_import_export_data_csv_success_message"),N.BLW.SUCCESS),(0,Fe.Kz)(new Re.UserExportDataEvent({backupFileType:Re.BackupFileType.Csv,exportDataStatus:Re.TransferDataStatus.Success,exportDataStep:Re.TransferDataStep.Success}))},c=async()=>{await p.C.getIsForcedDomainsEnabled()?s(!0):l()};return(0,C.BX)("div",{children:[(0,C.BX)(Oe.k,{sx:{padding:"0 16px",marginBottom:"24px"},children:[(0,C.tZ)(v.X,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",sx:{marginTop:"16px"},children:i("webapp_account_import_export_data_sub_title2_export")}),(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",sx:{margin:"16px 0"},children:i("webapp_account_import_export_data_csv_help_text")}),(0,C.tZ)(Pe.k,{sx:{marginBottom:"16px"},mood:"warning",title:i("webapp_account_import_export_data_csv_warning_text")}),(0,C.tZ)(w.z,{intensity:"quiet",mood:"neutral",type:"button","aria-label":i(qe),onClick:()=>{t?c():n({action:Y.P.Export,options:{fieldsKeys:{confirm:"webapp_lock_items_export"},translated:!1},itemType:Y.R.ExportData,successCallback:c})},children:i(qe)})]}),o?(0,C.tZ)(Ue,{isOpen:!0,onDismiss:()=>{s(!1)},onConfirm:()=>{l(),s(!1)}}):null]})};var Ve=n(92386),We=n(11966);const je="webapp_create_unique_password_confirm_password_input",Ge=({onDismiss:e,onConfirm:t,isOpen:n})=>{const{translate:a}=(0,S.Z)();return(0,C.BX)(Me.Vq,{closeActionLabel:a("_common_dialog_dismiss_button"),isOpen:n,onClose:e,dialogClassName:Be.Ht,title:a("webapp_create_unique_password_title"),children:[(0,C.tZ)(f.n,{children:a("webapp_create_unique_password_subtitle")}),(0,C.tZ)(We.f,{createPasswordInputLabel:a("webapp_create_unique_password_enter_password_input"),createPasswordPlaceholderLabel:a("webapp_create_unique_password_create_password_placeholder"),confirmPasswordInputLabel:a(je),confirmPasswordPlaceholderLabel:a(je),primaryButtonTitle:a("webapp_create_unique_password_export_data_button"),secondaryButtonTitle:a("webapp_create_unique_password_cancel"),onSubmit:t,onDismiss:e})]})},Ke="webapp_account_import_export_data_secure_export_button",Ye=({reportError:e})=>{const{translate:t}=(0,S.Z)(),{areProtectedItemsUnlocked:n,openProtectedItemsUnlocker:i}=(0,K.tY)(),{showToast:r}=(0,_e.p)(),[o,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),d=async()=>{await p.C.getIsForcedDomainsEnabled()?s(!0):c(!0)};return(0,C.BX)("div",{children:[(0,C.BX)(Oe.k,{sx:{padding:"0 16px",marginBottom:"24px"},children:[(0,C.tZ)(v.X,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",sx:{marginTop:"16px"},children:t("webapp_account_import_export_data_sub_title_export")}),(0,C.tZ)(f.n,{color:"ds.text.neutral.standard",sx:{margin:"16px 0"},textStyle:"ds.body.standard.regular",children:t("webapp_account_import_export_data_help_text_secure_export")}),Ve.G6()?(0,C.tZ)(Pe.k,{title:t("webapp_account_import_export_data_secure_export_safari_unsupported")}):(0,C.BX)(a.Fragment,{children:[(0,C.tZ)(Pe.k,{sx:{marginBottom:"16px"},mood:"warning",title:t("webapp_account_import_export_data_secure_export_passkey_unsupported")}),(0,C.tZ)(w.z,{intensity:"quiet",mood:"neutral",type:"button","aria-label":t(Ke),onClick:()=>{n?d():i({action:Y.P.Export,itemType:Y.R.ExportData,options:{fieldsKeys:{confirm:"webapp_lock_items_export"},translated:!1},successCallback:()=>d()})},children:t(Ke)})]})]}),o?(0,C.tZ)(Ue,{isOpen:!0,onDismiss:()=>{s(!1)},onConfirm:()=>{s(!1),c(!0)}}):null,l?(0,C.tZ)(Ge,{isOpen:!0,onConfirm:async n=>{const a=await p.C.getPersonalDataExport({exportType:"secure-dashlane",password:n});a.success?((0,Le.S)(a.response.content,a.response.filename,"text/dash"),c(!1),r({description:t("webapp_account_import_export_data_secure_success_message")}),(0,Fe.Kz)(new Re.UserExportDataEvent({backupFileType:Re.BackupFileType.SecureVault,exportDataStatus:Re.TransferDataStatus.Success,exportDataStep:Re.TransferDataStep.Success}))):e(new Error(`Cannot export DASH file : ${a.error.code}`))},onDismiss:()=>{c(!1)}}):null]})},$e=({onNavigateOut:e,reportError:t})=>{const{translate:n}=(0,S.Z)();return(0,C.BX)(I,{headingText:n("webapp_account_import_export_data_heading"),onNavigateOut:e,children:[(0,C.tZ)(O.i,{sx:{margin:"0 8px"}}),(0,C.tZ)(Ye,{reportError:t}),(0,C.tZ)(O.i,{sx:{margin:"0 8px"}}),(0,C.tZ)(He,{reportError:t})]})};var Qe=n(63520),Je=n(95255),et=n(30442);let tt=function(e){return e.Root="root",e.AccountDetails="account-details",e.DeviceManagement="device-management",e.SecuritySettings="security-settings",e.ImportExportData="import-export-data",e.AccessAllFeatures="access-all-features",e.AccountRecovery="account-recovery",e}({});var nt=n(93853),at=n(6786);const it="Installation ID",rt=()=>{const[e,t]=(0,a.useState)(!1),n=(0,at.m)();return n.status!==x.rq.Success?null:n.data?(0,C.BX)("div",{sx:{margin:"16px 32px"},children:[(0,C.tZ)(w.z,{type:"button",mood:"neutral",intensity:"quiet",icon:"ActionRevealOutlined",layout:"iconLeading",onClick:()=>t(!0),children:"Show debug data"}),(0,C.tZ)(Me.Vq,{isOpen:e,title:"Debug data",onClose:()=>t(!1),closeActionLabel:"Close",className:Be.e_,children:(0,C.tZ)(nt.n,{label:it,value:n.data,readOnly:!0,actions:[{label:`Copy ${it}`,iconName:"ActionCopyOutlined",onClick:async()=>await navigator.clipboard.writeText(n.data)}]})})]}):null};var ot=n(43773);const st={group:{margin:"0 32px",padding:"8px 0",borderTop:"1px solid ds.border.neutral.quiet.idle"},item:{alignItems:"center",display:"flex",height:"40px",outline:0,a:{justifyContent:"space-between",display:"flex",variant:"text.ds.body.standard.regular"},button:{display:"flex",backgroundColor:"transparent",background:"inherit",border:"none",margin:"0",padding:"0",textAlign:"left",flexDirection:"row",lineHeight:"30px",alignItems:"center",justifyContent:"space-between"},"a, button":{width:"100%",color:"inherit",cursor:"pointer",textDecoration:"none",fontSize:"20px"}}},lt=({children:e})=>(0,C.tZ)("ul",{sx:st.group,children:e}),ct=({children:e})=>(0,C.tZ)("li",{sx:st.item,children:e});var dt=n(85902),pt=n(90993),ut=n(6210),_t=n(22522);var mt,ht;const gt=({status:e})=>{switch(e){case wt.Error:return mt||(mt=(0,C.tZ)(y.JO,{size:"medium",name:"FeedbackFailOutlined",color:"ds.text.danger.quiet"}));case wt.Success:return ht||(ht=(0,C.tZ)(y.JO,{size:"medium",name:"FeedbackSuccessOutlined",color:"ds.text.positive.quiet"}));case wt.Loading:return(0,C.tZ)(_t.Z,{mood:"neutral",sx:{position:"relative",bottom:"3px",margin:"0 1px 0 1px",width:"18px",height:"18px"}});default:return null}},bt=({onClick:e,status:t,children:n,animationDuration:i=2e3})=>{const[r,o]=(0,a.useState)(!1);(0,a.useEffect)((()=>{let e=0;return[wt.Success,wt.Error].includes(t)?e=window.setTimeout((()=>o(!0)),i):o(!1),()=>{clearTimeout(e)}}),[i,t]);const s=we()("button--m538DcAEXg","loading"===t&&"loading--Vjd297oyMd","success"===t&&"success--WvCifR7Rro","error"===t&&"error--JqVB4XmKw1");return(0,C.BX)("button",{type:"button",className:s,onClick:e,children:[n,"idle"===t||r?null:(0,C.tZ)("div",{className:"icon--I1z7RfgSaN","data-testid":"syncIcon",style:{animationDuration:"loading"!==t?`${i}ms`:void 0},role:"alert","aria-label":t,children:(0,C.tZ)(gt,{status:t})})]})};let wt=function(e){return e.Error="error",e.Success="success",e.Loading="loading",e.Idle="idle",e}({});const yt=e=>{switch(e){case pt.L.FAILURE:return wt.Error;case pt.L.SUCCESS:return wt.Success;case pt.L.IN_PROGRESS:return wt.Loading;default:return wt.Idle}},ft=({children:e})=>{const{sync:t}=(0,ge.u)(ut.r),{watchNextSync:n,status:i}=(()=>{const e=a.useRef(!1),t=(0,he.k)(ut.r,"syncProgress"),[n,i]=a.useState();return(0,x.lU)((t=>{t===x.ae.KILLED&&e.current&&i(Je.LW.FAILURE)}),[n]),a.useEffect((()=>{e.current&&t.status===x.rq.Success&&([Je.LW.SUCCESS,Je.LW.FAILURE].includes(t.data.status)&&(e.current=!1),i(t.data.status))}),[t]),{watchNextSync:()=>{e.current=!0},status:n}})();return(0,C.tZ)(bt,{status:yt(i),onClick:()=>{n(),t({trigger:Re.Trigger.Manual})},children:e})};var xt,St,vt,Ct,Zt,kt,It,Et,Dt,Tt=n(80443),At=n(61605),Nt=n(80936),Ot=n(15607),Pt=n(79602),Lt=n(16037);const Rt="_common_toast_close_label",Mt=({premiumStatus:e,triggerSwitchPanel:t,onClickLogout:n,onClickFamilyDashboard:i,secureExportEnabled:r})=>{var s;const[l,c]=(0,a.useState)(!1),{translate:d}=(0,S.Z)(),{routes:p,store:u}=(0,o.Xo)(),_=(0,Nt.I)(),m=_.status===x.rq.Success&&!_.isDisabled,g=(0,Ot.JS)(),{openTeamConsole:b}=(0,Pt.q)(),w=(0,T.f)(),Z=(0,h.o)(et.c.ImportOrchestratorGrapheneMigration),k=!!m||g.status===x.rq.Success&&!!g.data.b2bStatus?.currentTeam?.teamInfo?.vaultExportEnabled,{status:I,isMPLessUser:E}=(0,z.Z)();(0,a.useEffect)((()=>{(0,Fe.Nc)(Re.PageView.SettingsGeneral)}),[]);const D=e=>{const n={"account-details":Re.PageView.SettingsAccount,"device-management":Re.PageView.SettingsDeviceList,"security-settings":Re.PageView.SettingsSecurity,"import-export-data":Re.PageView.SettingsExport,"access-all-features":Re.PageView.SettingsMoreFeatures,"account-recovery":Re.PageView.SettingsSecurity};(0,Fe.Nc)(n[e]),t(e)},A=e=>t=>{(0,At.YT)(e)(t)},N=null!=(s=u.getState().user?.session?.permissions.tacAccessPermissions.size>0)&&s,O=(0,Tt.p6)(e),P=e.statusCode===Je.lU.PREMIUM||e.statusCode===Je.lU.NEW_USER||e.statusCode===Je.lU.PREMIUM_CANCELLED||e.statusCode===Je.lU.OLD_ACCOUNT,L=Z?p.importDataV2:p.importData;return(0,C.BX)("section",{children:[(0,C.tZ)(v.X,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",sx:{padding:"32px"},children:d("manage_subscription_account_menu_settings")}),N?(0,C.tZ)(lt,{children:(0,C.tZ)(ct,{children:(0,C.tZ)("button",{type:"button",onClick:()=>{b({email:w,routeInExtension:p.teamAccountRoutePath,routeInWebapp:Lt.$.ACCOUNT})},children:d("webapp_account_root_go_to_team_admin_console")})})}):null,(0,C.BX)(lt,{children:[(0,C.tZ)(ct,{children:(0,C.BX)("button",{type:"button",onClick:()=>D(tt.AccountDetails),children:[d("webapp_account_management_panel_heading"),xt||(xt=(0,C.tZ)(y.JO,{name:"CaretRightOutlined",color:"ds.text.neutral.standard"}))]})}),(0,C.tZ)(ct,{children:(0,C.BX)("button",{type:"button",onClick:()=>D(tt.DeviceManagement),children:[d("webapp_account_root_item_device_management"),St||(St=(0,C.tZ)(y.JO,{name:"CaretRightOutlined",color:"ds.text.neutral.standard"}))]})}),(0,C.tZ)(ct,{children:(0,C.BX)("button",{type:"button",onClick:()=>D(tt.SecuritySettings),children:[d("webapp_account_root_item_security_settings"),vt||(vt=(0,C.tZ)(y.JO,{name:"CaretRightOutlined",color:"ds.text.neutral.standard"}))]})}),(0,C.tZ)(ct,{children:(0,C.tZ)(o.rU,{to:`${p.userSettingsTab(M.B.Appearance)}`,children:d("webapp_appearance_settings_tab")})}),(0,C.tZ)(Me.Vq,{isOpen:l,actions:{primary:{children:d(Rt),onClick:()=>c(!1)}},closeActionLabel:d(Rt),onClose:()=>c(!1),title:d("webapp_account_root_export_disabled_title"),children:(0,C.tZ)(f.n,{children:d("webapp_account_root_export_disabled_content")})}),r?(0,C.tZ)(ct,{children:(0,C.BX)("button",{type:"button",onClick:()=>{k?D(tt.ImportExportData):c(!0)},children:[d("webapp_account_root_item_import_export_data"),Ct||(Ct=(0,C.tZ)(y.JO,{name:"CaretRightOutlined",color:"ds.text.neutral.standard"}))]})}):null,(0,C.tZ)(ct,{children:(0,C.tZ)(o.rU,{to:L,children:d("webapp_account_root_import_data")})}),O?(0,C.tZ)(ct,{children:(0,C.tZ)("button",{type:"button",onClick:i,children:d("webapp_account_root_item_family_dashboard")})}):null]}),I!==x.rq.Success?null:E?(0,C.tZ)(lt,{children:(0,C.tZ)(ct,{children:(0,C.tZ)(o.rU,{to:`${p.deviceTransfer}`,children:d("webapp_account_root_item_add_device")})})}):null,P?(0,C.tZ)(lt,{children:(0,C.tZ)(ct,{children:(0,C.tZ)(ft,{children:d("webapp_account_root_item_manual_sync")})})}):null,(0,C.BX)(lt,{children:[(0,C.tZ)(ct,{children:(0,C.tZ)(o.rU,{to:`${p.userSettingsTab(M.B.Referral)}`,children:d("webapp_account_root_item_refer_a_friend")})}),(0,C.tZ)(ct,{children:(0,C.BX)("a",{href:"https://support.dashlane.com/hc",target:"_blank",rel:"noopener noreferrer",onClick:(R={type:"account",action:"helpCenter"},e=>{(0,Fe.Kz)(new Re.UserOpenHelpCenterEvent({helpCenterArticleCta:Re.HelpCenterArticleCta.HelpCenter})),(0,Fe.Kz)(new Re.UserOpenHelpCenterEvent({})),(0,At.YT)(R)(e)}),children:[d("webapp_account_root_item_help_center"),Zt||(Zt=(0,C.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined",color:"ds.text.neutral.standard"}))]})})]}),(0,C.BX)(lt,{children:[(0,C.tZ)(ct,{children:(0,C.BX)("a",{href:"https://www.dashlane.com/terms",target:"_blank",rel:"noopener noreferrer",onClick:A({type:"account",action:"termsOfService"}),children:[d("webapp_account_root_item_terms"),kt||(kt=(0,C.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined",color:"ds.text.neutral.standard"}))]})}),(0,C.tZ)(ct,{children:(0,C.BX)("a",{href:"https://www.dashlane.com/privacy",target:"_blank",rel:"noopener noreferrer",onClick:A({type:"account",action:"privacyPolicy"}),children:[d("webapp_account_root_item_privacy_policy"),It||(It=(0,C.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined",color:"ds.text.neutral.standard"}))]})})]}),(0,C.BX)(lt,{children:[(0,C.tZ)(ct,{children:(0,C.tZ)(f.n,{textStyle:"ds.title.supporting.small",children:d("webapp_settings_find_us_social_media")})}),Et||(Et=(0,C.tZ)(ct,{children:(0,C.tZ)(dt.I,{})}))]}),(0,C.tZ)(lt,{children:(0,C.tZ)(ct,{children:(0,C.tZ)("button",{type:"button",onClick:()=>((0,ot.P)(),void n()),children:d("webapp_account_root_item_log_out")})})}),Dt||(Dt=(0,C.tZ)(rt,{}))]});var R};var Bt,zt,Ut=n(51031),Ft=n(59522),Xt=n(84133);const qt=({sectionTitle:e,action:t,children:n,isBeta:i})=>(0,C.BX)(a.Fragment,{children:[Bt||(Bt=(0,C.tZ)(O.i,{})),(0,C.BX)(N.T5p,{gap:"8px",sx:{padding:"16px"},gridTemplateColumns:"auto",children:[e?(0,C.BX)(Oe.k,{as:"header",alignItems:"center",flexWrap:"nowrap",fullWidth:!0,gap:"8px",justifyContent:"space-between",children:[(0,C.tZ)(v.X,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:e}),t]}):null,i?zt||(zt=(0,C.tZ)(N.dDn,{justifySelf:"flex-start",children:(0,C.tZ)(N.Cts,{intent:"info",children:"BETA"})})):null,n]})]});var Ht=n(63123),Vt=n(82429);const Wt=({showAdminRecoveryHelp:e})=>{const{translate:t}=(0,S.Z)(),n=(0,x.qr)({queryConfig:{query:p.C.getRecoveryOptInSetting}},[]),[i,r]=a.useState(!1),[o,s]=a.useState(!1);return a.useEffect((()=>{const e=n.status===x.rq.Success&&n.data;s(n.status===x.rq.Loading),r(e)}),[n]),(0,C.tZ)(qt,{sectionTitle:t("webapp_account_security_settings_account_recovery_setting_title"),action:(0,C.tZ)(Ht.Z,{disabled:o,id:"account-recovery-optin",checked:i,onChange:async e=>{const t=e.currentTarget.checked;r(t),s(!0),t?await p.C.activateAccountRecovery():await p.C.deactivateAccountRecovery(),s(!1)},"aria-label":t("webapp_account_security_settings_account_recovery_setting_toggle_aria_label")}),children:(0,C.BX)("div",{className:"accountRecoverySection--e0a6egTSEW",children:[(0,C.tZ)(Vt.C,{label:t("_common_settings_web_only_feature_badge")}),(0,C.tZ)("label",{htmlFor:"account-recovery-optin",className:"accountRecoverySectionLabel--eSN6MzxOj5",children:t("webapp_account_security_settings_account_recovery_setting_desc")}),(0,C.BX)(N.rUS,{href:"#",role:"button",color:N.colors.midGreen00,className:"linkButton--rjnsna_uVs",onClick:t=>{t.preventDefault(),e()},children:[(0,C.tZ)("span",{className:"linkButtonContent--U8t2CIon2j",children:t("webapp_account_security_settings_account_recovery_setting_help_link")}),(0,C.tZ)("span",{"aria-hidden":"true",children:(0,C.tZ)(N.jcJ,{size:12,color:N.colors.midGreen00})})]})]})})},jt=({content:e,header:t,number:n})=>(0,C.BX)("div",{className:"accountRecoveryHelpSection--uXUM7WNpWs",children:[(0,C.tZ)("span",{className:"number--qJ96cR6NZx",children:n}),(0,C.BX)("section",{children:[(0,C.tZ)("h3",{children:t}),(0,C.tZ)("p",{children:e})]})]}),Gt=({onNavigateOut:e})=>{const{translate:t}=(0,S.Z)();return(0,C.tZ)(I,{headingText:t("webapp_account_security_settings_account_recovery_setting_title"),onNavigateOut:e,children:(0,C.BX)(qt,{sectionTitle:t("webapp_account_security_settings_account_recovery_help_title"),children:[(0,C.tZ)("p",{className:"intro--xk47bt1VPF",children:t("webapp_account_security_settings_account_recovery_help_intro")}),(0,C.BX)("div",{children:[(0,C.tZ)(N.X6q,{size:"x-small",as:"h2",children:t("webapp_account_security_settings_account_recovery_help_subtitle")}),(0,C.tZ)("p",{children:t("webapp_account_security_settings_account_recovery_help_content")}),(0,C.tZ)(jt,{number:1,header:t("webapp_account_security_settings_account_recovery_help_section_one_header"),content:t("webapp_account_security_settings_account_recovery_help_section_one_content")}),(0,C.tZ)(jt,{number:2,header:t("webapp_account_security_settings_account_recovery_help_section_two_header"),content:t("webapp_account_security_settings_account_recovery_help_section_two_content")}),(0,C.tZ)(jt,{number:3,header:t("webapp_account_security_settings_account_recovery_help_section_three_header"),content:t("webapp_account_security_settings_account_recovery_help_section_three_content")}),(0,C.tZ)(jt,{number:4,header:t("webapp_account_security_settings_account_recovery_help_section_four_header"),content:t("webapp_account_security_settings_account_recovery_help_section_four_content")})]})]})})};var Kt=n(75050),Yt=n(20675),$t=n(47240),Qt=n(66913),Jt=n(78346),en=n(27849),tn=n(85823),nn=n(48328);const an="_common_dialog_dismiss_button",rn=({onClose:e})=>{const{translate:t}=(0,S.Z)(),{trackPageView:n}=(0,Yt.D)(),{deactivate:i}=(0,ge.u)(Kt.j),[r,o]=(0,a.useState)(null),[s,l]=(0,a.useState)(!1);(0,a.useEffect)((()=>{n({pageView:Re.PageView.SettingsSecurityRecoveryKeyDisable})}),[]);const c=()=>{o(null),e()};return r?(0,C.tZ)(Me.Vq,{isOpen:!0,"aria-label":"account-recovery-key-deactivation-dialog",disableScrolling:!0,onClose:()=>c(),closeActionLabel:t(an),dialogClassName:we()(Be.Ht),children:(0,C.tZ)(en.Nq,{error:r,onClose:c})}):(0,C.BX)(Me.Vq,{onClose:e,"aria-label":"account-recovery-key-deactivation-dialog",isOpen:!0,disableScrolling:!0,closeActionLabel:t(an),dialogClassName:we()(Be.Ht),actions:{primary:{children:t("webapp_account_recovery_key_deactivation_turn_off"),isLoading:s,onClick:async()=>{try{l(!0);const t=await i({reason:"SETTINGS"});if((0,Jt.hx)(t))return void o(t.error.tag);(0,tn.EZ)(Re.DeleteKeyReason.SettingDisabled),l(!1),e()}catch(e){o(e)}}},secondary:{children:t("_common_action_cancel"),onClick:e}},children:[(0,C.tZ)(nn.$,{title:t("webapp_account_recovery_key_deactivation_title"),iconName:"RecoveryKeyOutlined"}),(0,C.tZ)(f.n,{color:"ds.text.neutral.standard",children:t("webapp_account_recovery_key_deactivation_description")})]})};var on;const sn=()=>{const{translate:e}=(0,S.Z)(),{trackPageView:t}=(0,Yt.D)(),{resetActivationFlow:n}=(0,ge.u)(Kt.j),{status:i,isMPLessUser:r}=(0,z.Z)();(0,a.useEffect)((()=>{t({pageView:Re.PageView.SettingsSecurityRecoveryKey})}),[]);const o=(0,$t.c)(),[s,l]=(0,a.useState)(void 0);return(0,C.BX)(a.Fragment,{children:[(0,C.BX)(qt,{sectionTitle:e("webapp_account_security_settings_account_recovery_section_recovery_key_title"),action:(0,C.tZ)(Ht.Z,{id:"recovery-key-toggle",checked:o,onChange:async()=>{await n(),l(o?"accountRecoveryKeyDeactivation":"accountRecoveryKeyActivation")},disabled:r}),children:[(0,C.tZ)("div",{style:{fontSize:"12px",marginBottom:"14px"},children:(0,C.tZ)("label",{htmlFor:"recovery-key-toggle",children:i!==Ut.rq.Success?null:e(r?"webapp_account_security_settings_account_recovery_section_recovery_key_description_password_less":"webapp_account_security_settings_account_recovery_section_recovery_key_description")})}),o?(0,C.tZ)(w.z,{intensity:"quiet",mood:"neutral",size:"small",onClick:async()=>{await n(),l("accountRecoveryKeyActivation")},children:e("webapp_account_security_settings_account_recovery_section_recovery_key_generate")}):null,i!==Ut.rq.Success?null:r?(0,C.BX)(N.rUS,{target:"_blank",rel:"noopener noreferrer",href:Ft.rI,color:"ds.text.brand.standard",style:{display:"flex",alignItems:"end"},children:[(0,C.tZ)("span",{style:{marginRight:"6px",fontWeight:"normal"},children:e("webapp_account_security_settings_account_recovery_section_help_link")}),on||(on=(0,C.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.brand.standard"}))]}):null]}),"accountRecoveryKeyActivation"===s?(0,C.tZ)(Qt.o,{onClose:()=>l(void 0)}):null,"accountRecoveryKeyDeactivation"===s?(0,C.tZ)(rn,{onClose:()=>l(void 0)}):null]})},ln=()=>{const{translate:e}=(0,S.Z)();return(0,C.tZ)(qt,{sectionTitle:e("webapp_account_security_settings_account_recovery_section_biometric_recovery_title"),children:(0,C.BX)("div",{sx:{fontSize:"12px"},children:[(0,C.tZ)(Vt.C,{label:e("_common_settings_mobile_only_feature_badge")}),(0,C.tZ)("label",{style:{display:"block",marginTop:"16px"},children:e("webapp_account_security_settings_account_recovery_section_biometric_recovery_description")})]})})};var cn,dn,pn;var un=function(e){return e[e.Root=0]="Root",e[e.AdminRecoveryHelpPanel=1]="AdminRecoveryHelpPanel",e}(un||{});const _n=({onNavigateOut:e})=>{const t=(0,Xt.h)(),n=t.status===Ut.rq.Success&&t.data,[i,r]=(0,a.useState)(un.Root),{translate:o}=(0,S.Z)();return i===un.AdminRecoveryHelpPanel?(0,C.tZ)(Gt,{onNavigateOut:()=>{r(un.Root)}}):(0,C.BX)(I,{headingText:o("webapp_account_security_settings_account_recovery_section_title"),onNavigateOut:e,children:[cn||(cn=(0,C.tZ)(sn,{})),n?(0,C.tZ)(Wt,{showAdminRecoveryHelp:()=>{r(un.AdminRecoveryHelpPanel)}}):null,dn||(dn=(0,C.tZ)(ln,{})),(0,C.tZ)(qt,{children:(0,C.BX)(N.rUS,{target:"_blank",rel:"noopener noreferrer",href:Ft.rI,color:"ds.text.brand.standard",style:{display:"flex",alignItems:"end"},children:[(0,C.tZ)("span",{style:{marginRight:"6px",fontWeight:"normal"},children:o("webapp_account_security_settings_account_recovery_section_help_link")}),pn||(pn=(0,C.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.brand.standard"}))]})})]})};var mn;const hn=()=>{const{translate:e}=(0,S.Z)();return(0,C.BX)(Oe.k,{sx:{color:N.colors.black,marginTop:"32px"},alignItems:"center",children:[mn||(mn=(0,C.tZ)(N.yLQ,{})),(0,C.tZ)("span",{sx:{paddingLeft:"13px"},children:e("webapp_account_security_settings_2fa_authenticator_app_value")})]})},gn=({recoveryPhone:e})=>(0,C.tZ)(N.oil,{sx:{marginTop:"15px"},value:e,disabled:!0});var bn,wn=n(34445);const yn=({twoFactorAuthenticationMode:e})=>{const{translate:t}=(0,S.Z)();return(0,C.BX)(Oe.k,{sx:{marginTop:"20px"},alignItems:"center",children:[bn||(bn=(0,C.tZ)(N.mBM,{})),(0,C.tZ)(N.nvN,{sx:{paddingLeft:"11px",flex:1},color:N.colors.black,children:t(e===wn.fr.DEVICE_REGISTRATION?"webapp_account_security_settings_2fa_security_level_value":"webapp_account_security_settings_2fa_security_level_value_login")})]})};var fn,xn=n(26849),Sn=n(10994);const vn="webapp_account_security_settings_2fa_u2f_menu_title",Cn=({name:e,creationDateUnix:t,keyHandle:n,onRemoveAuthenticator:a})=>{const{translate:i}=(0,S.Z)(),r=(0,Sn.Z)(t),o=(0,C.tZ)(N.W7o,{onClick:()=>{a(n)},children:(0,C.BX)(Oe.k,{flexWrap:"nowrap",alignItems:"center",children:[(0,C.tZ)(N.XHJ,{sx:{marginRight:"8px"},size:16,"aria-hidden":"true"}),(0,C.tZ)(N.nvN,{size:"small",color:N.colors.dashGreen00,bold:!0,children:i("webapp_account_security_settings_2fa_u2f_menu_delete")})]})});return(0,C.BX)(Oe.k,{sx:{color:N.colors.black,marginTop:"30px",width:"100%",flexWrap:"nowrap",flexDirection:"row",alignItems:"center"},children:[(0,C.tZ)("div",{sx:{flexGrow:0,paddingRight:"13px"},children:(0,C.tZ)(N.Exr,{color:N.colors.grey01})}),(0,C.BX)("div",{sx:{flexGrow:1,overflow:"hidden"},children:[(0,C.tZ)(N.nvN,{color:N.colors.grey01,sx:{marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e}),(0,C.tZ)(N.nvN,{color:N.colors.grey01,size:"x-small",children:i("webapp_account_security_settings_2fa_u2f_added_date",{date:i.shortDate(new Date(r),"MMM dd, yyyy"),time:i.shortDate(new Date(r),"h:mma").toLowerCase()})})]}),(0,C.tZ)("div",{sx:{flexGrow:0},children:(0,C.tZ)(N.h_2,{offset:[0,4],placement:"bottom-end",content:o,children:(0,C.tZ)(N.hU,{type:"button",size:"small","aria-label":i(vn),title:i(vn),icon:fn||(fn=(0,C.tZ)(N.YAX,{size:20,rotate:90}))})})})]})};var Zn=n(97362);const kn=(0,xn.either)(xn.isNil,xn.isEmpty),In=({authenticators:e})=>{const{openU2FRemoveAuthenticatorDialog:t}=(0,Zn.r0)(),n=a.useCallback((n=>{const a=e?.find((e=>e.keyHandle===n));a&&t(n)}),[e,t]);return kn(e)?null:(0,C.tZ)(a.Fragment,{children:e.map((({name:e,creationDateUnix:t,keyHandle:a})=>(0,C.tZ)(Cn,{name:e,creationDateUnix:t,keyHandle:a,onRemoveAuthenticator:n},a)))})};var En;const Dn=({title:e,children:t,description:n})=>(0,C.BX)(Oe.k,{sx:{p:"32px",pt:"0"},flexDirection:"column",children:[En||(En=(0,C.tZ)(O.i,{})),e?(0,C.BX)(Oe.k,{as:"header",flexDirection:"column",flexWrap:"nowrap",fullWidth:!0,justifyContent:"space-between",sx:{marginTop:"16px"},children:[(0,C.tZ)(N.X6q,{size:"x-small",as:"h2",children:e}),n?(0,C.tZ)(N.nvN,{size:"x-small",sx:{paddingTop:"14px",color:N.colors.grey00},children:n}):null]}):null,t]});var Tn,An=n(78611);const Nn=({onNavigateOut:e})=>{const{translate:t}=(0,S.Z)(),n=(0,An.Tg)(),i=(0,An.BM)();return(0,C.BX)(I,{headingText:t("webapp_account_security_settings_2fa_heading"),headingAriaLabelledby:t("webapp_account_security_settings_two_factor_authentication_title"),onNavigateOut:e,children:[(0,C.tZ)(Dn,{title:t("webapp_account_security_settings_2fa_authenticator_title"),description:t("webapp_account_security_settings_2fa_authenticator_app_description"),children:Tn||(Tn=(0,C.tZ)(hn,{}))}),n.length>0&&(0,C.tZ)(Dn,{title:t("webapp_account_security_settings_2fa_u2f_title"),description:t("webapp_account_security_settings_2fa_u2f_description"),children:(0,C.tZ)(In,{authenticators:n})}),i?.status===wn.dN.READY?(0,C.BX)(a.Fragment,{children:[(0,C.tZ)(Dn,{title:t("webapp_account_security_settings_2fa_backup_title"),description:t("webapp_account_security_settings_2fa_backup_description"),children:(0,C.tZ)(gn,{recoveryPhone:i?.recoveryPhone})}),(0,C.tZ)(Dn,{title:t("webapp_account_security_settings_2fa_security_level_title"),description:t.markup("webapp_account_security_settings_2fa_security_level_description_markup",{},{linkTarget:"_blank"}),children:(0,C.tZ)(yn,{twoFactorAuthenticationMode:i.type})})]}):null]})};var On=n(18250),Pn=n(88093),Ln=n(75017);const Rn=({recoveryMethodsCount:e,openAccountRecoveryPanel:t})=>{const{translate:n}=(0,S.Z)();return(0,C.BX)(a.Fragment,{children:[(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",sx:{marginBottom:"8px"},children:e<1?n("webapp_account_security_settings_account_recovery_section_description_no_method"):n.markup("webapp_account_security_settings_account_recovery_section_description_markup",{count:e})}),e<1?(0,C.tZ)(Pe.k,{mood:"warning",size:"small",title:n("webapp_account_security_settings_account_recovery_section_warning_info"),sx:{marginBottom:"8px"}}):null,(0,C.tZ)(Ln.Q,{onClick:t,children:n("webapp_account_security_settings_account_recovery_section_view_options")})]})},Mn=()=>{const{translate:e}=(0,S.Z)();return(0,C.tZ)("div",{id:"accountRecoveryLoading",sx:{marginTop:"20px"},title:e("webapp_loader_loading"),children:(0,C.tZ)(N.HoD,{color:N.colors.midGreen01,size:40,"aria-describedby":"accountRecoveryLoading"})})};var Bn;const zn=({changeActivePanel:e})=>{const t=(0,he.k)(Kt.j,"recoveryMethodsInfo"),{translate:n}=(0,S.Z)();return(0,C.tZ)(qt,{sectionTitle:n("webapp_account_security_settings_account_recovery_section_title"),children:(0,C.tZ)("div",{"data-testid":"account-recovery-settings-section",children:t.status===Ut.rq.Success?(0,C.tZ)(Rn,{recoveryMethodsCount:(a=t.data,Object.values(a).filter(Boolean).length),openAccountRecoveryPanel:t=>{t.preventDefault(),e(Ji.AccountRecovery)}}):Bn||(Bn=(0,C.tZ)(Mn,{}))})});var a};var Un=n(55139),Fn=n(77270),Xn=n(67323),qn=n(44754),Hn=function(e){return e.SIX_DIGIT_TOKEN="SIX_DIGIT_TOKEN",e.BACKUP_CODE="BACKUP_CODE",e}(Hn||{});const Vn="_common_generic_error",Wn=({handleOnCancel:e,handleOnSubmit:t,login:n})=>{const{translate:i}=(0,S.Z)(),[r,o]=a.useState(Hn.SIX_DIGIT_TOKEN),[s,l]=a.useState(void 0),c=e=>{o(e),l(void 0)},d={handleClickOnBack:e,handleClickOnSubmit:async({authenticationCode:e})=>{try{const n=await p.C.validateToken({type:"otp",value:e});n.success?(l(void 0),t()):l({code:n.error.code,message:(0,qn.J)(n.error.code)?.errorMessage||Vn})}catch(e){l({code:e?.code,message:Vn})}},error:s,login:n},u=r===Hn.BACKUP_CODE?(0,C.tZ)(Xn.xd,{...d,toggleAuthenticationCodeMode:c.bind(null,Hn.SIX_DIGIT_TOKEN)}):(0,C.tZ)(Xn.mr,{...d,toggleAuthenticationCodeMode:c.bind(null,Hn.BACKUP_CODE)});return(0,C.tZ)(N.VqE,{isOpen:!0,modalContentClassName:we()(Be.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:i("_common_dialog_dismiss_button"),onClose:e,children:u})};var jn=n(63794);const Gn=()=>{const{translate:e}=(0,S.Z)();return(0,C.tZ)(Pe.k,{title:e("webapp_account_security_settings_changemp_section_leaked_master_password_title"),description:e("webapp_account_security_settings_changemp_section_leaked_master_password_description"),mood:"danger",size:"large",sx:{marginBottom:"8px"},actions:[(0,C.tZ)(w.z,{mood:"danger",size:"small",intensity:"quiet",onClick:()=>(0,At.Yo)(jn.dx),children:e("webapp_account_security_settings_changemp_section_leaked_master_password_blog_link")},"hc-link")]})},Kn=()=>{const{translate:e}=(0,S.Z)();return(0,C.tZ)(Pe.k,{title:e("webapp_account_security_settings_changemp_section_weak_master_password_title"),description:e("webapp_account_security_settings_changemp_section_weak_master_password_description"),mood:"danger",size:"large",sx:{marginBottom:"8px"},actions:[(0,C.tZ)(w.z,{mood:"danger",size:"small",intensity:"quiet",onClick:()=>(0,At.Yo)(jn.zG),children:e("webapp_account_security_settings_changemp_section_weak_master_password_blog_link")},"hc-link")]})};var Yn,$n,Qn,Jn=n(90143),ea=n(90435);const ta=()=>{const e=(()=>{const{data:e,status:t}=(0,he.k)(Jn.J,"isMasterPasswordWeak");return t===Ut.rq.Success&&e})();return(0,ea.o)()?Yn||(Yn=(0,C.tZ)(Gn,{})):e?$n||($n=(0,C.tZ)(Kn,{})):null},na=()=>Qn||(Qn=(0,C.tZ)(ta,{}));var aa,ia=n(44);const ra="webapp_account_security_settings_changemp_section_button_disabled_1",oa=({changeActivePanel:e,twoFactorAuthenticationInfo:t})=>{var n;const{translate:i}=(0,S.Z)(),r=null!=(n=(0,ia.f)())?n:"",[o,s]=(0,a.useState)(!1),l=()=>{e(Ji.ChangeMP),o&&s(!1)},c=()=>{t?.status===wn.dN.READY&&t.isTwoFactorAuthenticationEnabled&&t.type!==wn.fr.SSO?s(!0):l()},d=(()=>{const e=(0,Fn._)();return e.status===x.rq.Success&&e.data[Un.w.WebproductExtensionActivateChangeMasterPasswordRelease]})(),p=({disabled:e})=>(0,C.tZ)(w.z,{type:"button",mood:"brand",size:"small",onClick:c,disabled:e,sx:{marginTop:"8px"},children:i("webapp_account_security_settings_changemp_section_button")}),u=t?.status===wn.dN.READY,_=t?.status===wn.dN.ERROR;return(0,C.BX)(a.Fragment,{children:[(0,C.tZ)(qt,{sectionTitle:i("webapp_account_security_settings_changemp_section_title"),children:u?(0,C.tZ)((()=>(0,C.BX)(a.Fragment,{children:[d?(0,C.BX)(a.Fragment,{children:[(0,C.tZ)(f.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:i("webapp_account_security_settings_changemp_section_description")}),aa||(aa=(0,C.tZ)(na,{})),(0,C.tZ)(f.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:i.markup("webapp_account_security_settings_changemp_section_note_markup")})]}):null,(0,C.tZ)(N.dDn,{justifySelf:"flex-start",children:(0,C.BX)(a.Fragment,{children:[d?null:(0,C.BX)(a.Fragment,{children:[(0,C.tZ)(f.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",sx:{marginBottom:"8px"},children:i(ra)}),(0,C.tZ)(f.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:i("webapp_account_security_settings_changemp_section_button_disabled_2")})]}),(0,C.tZ)(p,{disabled:!d})]})})]})),{}):_?(0,C.tZ)((()=>(0,C.tZ)(N.dDn,{justifySelf:"flex-start",children:(0,C.tZ)(N.vDh,{severity:"alert",size:"small",title:i(ra)})})),{}):(0,C.tZ)((()=>(0,C.tZ)(N.dDn,{justifySelf:"flex-start",id:"changeMasterPasswordLoading",sx:{marginTop:"20px"},title:i("webapp_loader_loading"),children:(0,C.tZ)(N.HoD,{color:N.colors.midGreen01,size:40,"aria-describedby":"changeMasterPasswordLoading"})})),{})}),o?(0,C.tZ)(Wn,{handleOnCancel:()=>s(!1),handleOnSubmit:l,login:r}):null]})};var sa=n(32853),la=n(59115),ca=n(75968),da=n(77377);const pa="webapp_account_security_settings_sub_title",ua="cryptoSelectLabel",_a=()=>{const{translate:e}=(0,S.Z)(),{status:t,isMPLessUser:n}=(0,z.Z)(),[i,r]=(0,a.useState)(!0),[o,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(""),d=(0,da.w)(Un.w.ItadminSAEXCryptoMigrationPhase3V1),u=function(){const e=(0,x.qr)({queryConfig:{query:p.C.getCanUserChangeCrypto}},[]);return e.status===x.rq.Success&&e.data}()&&d,_=function(){const e=(0,x.qr)({queryConfig:{query:p.C.getUserDerivationMethod},liveConfig:{live:p.C.liveUserDerivationMethod}},[]),t=Object.values(sa.a);return e.status===x.rq.Success&&t.includes(e.data)?e.data:void 0}();(0,a.useEffect)((()=>{_&&(r(!1),c(_))}),[_]);const m=[{label:e("webapp_account_security_settings_input_value_argon"),value:sa.a.ARGON2D},{label:e("webapp_account_security_settings_input_value_pbkdf2_advanced"),value:sa.a.PBKDF2},{label:e("webapp_account_security_settings_input_value_pbkdf2_standard"),value:sa.a.KWC3,disabled:!0}],h=e=>{var t;return null!=(t=m.find((t=>t.value===e))?.label)?t:""};return(0,C.BX)(qt,{sectionTitle:e(pa),children:[(0,C.tZ)(la.m,{label:e(pa),value:l,onChange:async e=>{r(!0),s(!1),c(e);try{(await p.C.changeUserCrypto({newDerivationMethod:e})).success||s(!0)}catch(e){s(!0),_&&c(_)}finally{r(!1)}},disabled:!u||i||t===Ut.rq.Success&&n,placeholder:u?e("webapp_account_security_settings_input_placeholder"):h(l),error:o,feedback:o?{text:e("_common_generic_error")}:void 0,"aria-describedby":ua,children:m.map((e=>(0,C.tZ)(ca.$,{value:e.value,disabled:e.disabled,children:e.label},e.value)))}),(0,C.tZ)(f.n,{textStyle:"ds.body.helper.regular",color:"ds.text.neutral.quiet",sx:{marginTop:"16px"},id:ua,children:t!==Ut.rq.Success?null:n?e("webapp_account_security_settings_help_text_password_less"):u?e.markup("webapp_account_security_settings_help_text_markup"):e.markup("webapp_account_security_settings_help_text_enforced_kdf_markup",{enforcedKdf:h(l)})})]})};var ma=n(18789);let ha=function(e){return e.USING_WEBAPP="using_webapp",e.UNSUPPORTED_BROWSER="unsupported_browser",e.ENABLED_SSO="enabled_sso",e.ENABLED_2FA="enabled_2fa",e.DATA_LOADING="data_loading",e}({});const ga=({title:e,message:t})=>(0,C.tZ)(qt,{sectionTitle:e,children:(0,C.tZ)(f.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:t})}),ba=()=>{const{translate:e}=(0,S.Z)();return(0,C.tZ)(qt,{sectionTitle:e("webapp_account_security_settings_passwordless_all_authenticators_biometrics_title"),children:(0,C.tZ)("div",{id:"biometricsLoading",sx:{marginTop:"20px"},title:e("webapp_loader_loading"),children:(0,C.tZ)(N.HoD,{color:N.colors.midGreen01,size:40,"aria-describedby":"biometricsLoading"})})})};var wa;const ya={[ha.USING_WEBAPP]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_biometrics_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_outside_extension"},[ha.UNSUPPORTED_BROWSER]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_biometrics_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_feature_unsupported"},[ha.ENABLED_SSO]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_biometrics_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_by_sso"},[ha.ENABLED_2FA]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_biometrics_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_by_two_factor_authentication"}},fa={WEBAUTHN_SECTION_DESCRIPTION:{marginBottom:"8px","& p:first-child":{marginBottom:"15px"}},WEBAUTHN_SECTION_LINK_BUTTON:{display:"flex",alignItems:"center",textDecoration:"none"},WEBAUTHN_SECTION_LINK_BUTTON_CONTENT:{marginRight:"8px"}},xa=({authenticators:e,webAuthnOptedIn:t,changeActivePanel:n,onDialogStateChanged:i})=>{const{translate:r}=(0,S.Z)(),o=function(){const e=(0,An.BM)();let t,n=!1;return(0,ma.ET)(window.location.href)||Ve.G6()?t=ha.UNSUPPORTED_BROWSER:e?.status!==wn.dN.READY?t=ha.DATA_LOADING:e.type===wn.fr.SSO?t=ha.ENABLED_SSO:e.type===wn.fr.LOGIN?t=ha.ENABLED_2FA:n=!0,{result:n,reason:t}}(),[s]=(0,a.useState)((0,On._U)()),{openWebAuthnEnablerDialog:l,openWebAuthnDisablerDialog:c}=(0,On.$_)({onDialogStateChanged:i}),d=(0,On.rV)(),p=(0,a.useMemo)((()=>s&&(t||e?.length)),[e?.length,s,t]),u=(0,a.useCallback)((e=>{e.currentTarget.checked?l():c()}),[l,c]),_=(0,a.useCallback)((e=>{e.preventDefault(),n(Ji.WebAuthn)}),[n]);if(null===d)return null;const m=d?"webapp_account_security_settings_passwordless_all_authenticators_biometrics_title":"webapp_account_security_settings_passwordless_noplatform_title",h=d?"webapp_account_security_settings_passwordless_all_authenticators_desc_markup":"webapp_account_security_settings_passwordless_noplatform_desc_markup";if(o.result||o.reason!==ha.DATA_LOADING){if(o.result||void 0===o.reason)return(0,C.BX)(qt,{sectionTitle:r(m),action:(0,C.tZ)(Ht.Z,{"aria-label":r("webapp_account_security_settings_passwordless_all_authenticators_toggle_aria_label"),checked:t,onChange:u,disabled:!s}),children:[(0,C.BX)(Oe.k,{as:f.n,alignItems:"flex-start",flexDirection:"column",color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:[s?null:(0,C.tZ)(N.vDh,{severity:"subtle",size:"small",title:r("webapp_account_security_settings_passwordless_disabled_feature_unsupported")}),s?(0,C.tZ)("div",{sx:fa.WEBAUTHN_SECTION_DESCRIPTION,children:r.markup(h)}):null]}),p?(0,C.tZ)(Ln.Q,{href:"#",onClick:_,children:r("webapp_account_security_settings_passwordless_view_biometrics_options")}):null]});{const e=ya[o.reason];return(0,C.tZ)(ga,{title:r(e.TITLE),message:r(e.MESSAGE)})}}return wa||(wa=(0,C.tZ)(ba,{}))},Sa={BUTTON:{display:"flex",alignItems:"center",textDecoration:"none",color:N.colors.midGreen00},CONTENT:{marginRight:"5px"}},va=({changeActivePanel:e})=>{const{translate:t}=(0,S.Z)();return(0,C.BX)(N.rUS,{href:"#",role:"button",sx:Sa.BUTTON,onClick:t=>{t.preventDefault(),e(Ji.TwoFactorAuthentication)},children:[(0,C.tZ)("span",{sx:Sa.CONTENT,children:t("webapp_account_security_settings_two_factor_authentication_options")}),(0,C.tZ)("span",{"aria-hidden":"true",children:(0,C.tZ)(N.jcJ,{size:12,color:N.colors.midGreen00})})]})},Ca=()=>{const{translate:e}=(0,S.Z)();return(0,C.tZ)(f.n,{color:"ds.text.neutral.standard",sx:{margin:"16px 0",marginBottom:"8px"},textStyle:"ds.body.standard.regular",children:e("webapp_account_security_settings_two_factor_authentication_enforced_enabled_description")})},Za=()=>{const{translate:e}=(0,S.Z)();return(0,C.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:e("webapp_account_security_settings_two_factor_authentication_disabled_description_1")}),(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:e("webapp_account_security_settings_two_factor_authentication_disabled_description_2")}),(0,C.tZ)(Ln.Q,{href:Ft._x,isExternal:!0,children:e("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_hc_link")})]})};var ka,Ia,Ea=n(31187),Da=n(59346);const Ta={SECTION_CONTAINER:{fontSize:1,marginTop:"5px",display:"inline-block",color:N.colors.grey00}},Aa=({changeActivePanel:e,onDialogStateChanged:t,twoFactorAuthenticationInfo:n})=>{const{translate:i}=(0,S.Z)(),{isTwoFactorAuthenticationEnabled:r,isTwoFactorAuthenticationEnforced:o}=n,{openTwoFactorAuthenticationDisablerDialog:s,openTwoFactorAuthenticationEnablerDialog:l}=(0,An.Cw)({onDialogStateChanged:t}),c=(0,a.useCallback)((e=>{e.currentTarget.checked?((0,Da.wP)(),l()):((0,Ea.kG)(),s())}),[s,l]),d=o&&r;return(0,C.tZ)(qt,{sectionTitle:i("webapp_account_security_settings_two_factor_authentication_title"),action:(0,C.tZ)(Ht.Z,{"data-testid":"two-factor-authentication-settings-option-toggle",id:"two-factor-authentication-settings-option",name:"two-factor-authentication-settings-option",checked:r,onChange:c,"aria-label":i("webapp_account_security_settings_two_factor_authentication_toggle_aria_label")}),children:(0,C.tZ)("div",{sx:Ta.SECTION_CONTAINER,children:d?(0,C.BX)(a.Fragment,{children:[ka||(ka=(0,C.tZ)(Ca,{})),(0,C.tZ)(va,{changeActivePanel:e})]}):r?(0,C.tZ)(va,{changeActivePanel:e}):Ia||(Ia=(0,C.tZ)(Za,{}))})})},Na=()=>{const{translate:e}=(0,S.Z)();return(0,C.tZ)(qt,{sectionTitle:e("webapp_account_security_settings_two_factor_authentication_title"),children:(0,C.tZ)("div",{id:"twoFactorAuthLoading",sx:{marginTop:"20px"},title:e("webapp_loader_loading"),children:(0,C.tZ)(N.HoD,{color:N.colors.midGreen01,size:40,"aria-describedby":"twoFactorAuthLoading"})})})},Oa=({error:e,message:t})=>{const{translate:n}=(0,S.Z)(),a=(0,C.tZ)(f.n,{color:"ds.text.neutral.standard",sx:{marginTop:"5px"},textStyle:"ds.body.standard.regular",children:n(t)}),i=(0,C.tZ)("div",{style:{marginTop:"20px",maxWidth:"300px"},children:(0,C.tZ)(N.vDh,{severity:"alert",size:"small",title:n(t)})}),r=e?i:a;return(0,C.tZ)(qt,{sectionTitle:n("webapp_account_security_settings_two_factor_authentication_title"),children:r})};var Pa;const La=({changeActivePanel:e,onDialogStateChanged:t,twoFactorAuthenticationInfo:n})=>{if(n&&n.status!==wn.dN.PENDING&&n.status!==wn.dN.UNKNOWN){if(n?.status===wn.dN.READY&&n?.type!==wn.fr.SSO)return(0,C.tZ)(Aa,{changeActivePanel:e,onDialogStateChanged:t,twoFactorAuthenticationInfo:n});{const e=n?.status===wn.dN.READY&&n?.type===wn.fr.SSO,t=n?.status===wn.dN.ERROR?"webapp_account_security_settings_two_factor_authentication_turn_on_generic_error":e?"webapp_account_security_settings_two_factor_authentication_disabled_sso":"webapp_account_security_settings_two_factor_authentication_disabled";return(0,C.tZ)(Oa,{error:n.status===wn.dN.ERROR,message:t})}}return Pa||(Pa=(0,C.tZ)(Na,{}))};var Ra,Ma=n(32197),Ba=n(10291);const za={ProtectPasswords:{alert:"webapp_account_security_settings_master_password_options_require_passwords_alert_enabled",dialogKeys:{title:"webapp_lock_items_require_master_password_for_passwords_title_on",subtitle:"webapp_lock_items_require_master_password_for_passwords_subtitle_on",confirm:"webapp_lock_items_require_master_password_confirm_on"}}},Ua={ProtectPasswords:{alert:"webapp_account_security_settings_master_password_options_require_passwords_alert_disabled",dialogKeys:{title:"webapp_lock_items_require_master_password_for_passwords_title_off",subtitle:"webapp_lock_items_require_master_password_for_passwords_subtitle_off",confirm:"webapp_lock_items_require_master_password_confirm_off"}}},Fa=()=>{const{translate:e}=(0,S.Z)(),t=(0,j.V)(),n=(0,Ma.q)(),{areProtectedItemsUnlocked:i,openProtectedItemsUnlocker:r}=(0,K.tY)(),[o,s]=(0,a.useState)(!1),l=async(n,a)=>{s(!0),await p.C.updateProtectPasswordsSetting(a),s(!1),t.showAlert(e(n),N.BLW.SUCCESS),(0,Fe.Nc)(a?Re.PageView.SettingsSecurityProtectWithMasterPasswordEnable:Re.PageView.SettingsSecurityProtectWithMasterPasswordDisable),(0,Fe.Nc)(a?Re.PageView.SettingsSecurityProtectWithMasterPasswordCredentialsEnable:Re.PageView.SettingsSecurityProtectWithMasterPasswordCredentialsDisable),(0,Ba.a2)(a)};return(0,C.BX)(qt,{sectionTitle:e("webapp_account_security_settings_master_password_options_title"),children:[(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:e("webapp_account_security_settings_master_password_options_subtitle")}),n.status===x.rq.Loading?Ra||(Ra=(0,C.tZ)(_t.Z,{mood:"brand","aria-busy":"true","aria-live":"polite",size:"xlarge"})):null,n.status===x.rq.Success?(0,C.tZ)("ul",{sx:{mt:"8px"},children:(0,C.BX)("li",{sx:{display:"flex",justifyContent:"space-between"},children:[(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",color:"ds.text.positive.standard",children:e("webapp_account_security_settings_master_password_options_require_passwords")}),(0,C.tZ)(Ht.Z,{"aria-label":e("webapp_account_security_settings_master_password_options_require_passwords_toggle_aria_label"),disabled:o,checked:n.data,onChange:()=>(e=>{const t=Object.keys(e)[0],n=e[t],a=n?za:Ua,o=a[t].alert;i?l(o,n):(r({itemType:Y.R.SecuritySettings,options:{fieldsKeys:a[t].dialogKeys,translated:!1},successCallback:()=>l(o,n)}),(0,Ba.u$)())})({ProtectPasswords:!n.data})})]})}):null]})};var Xa=n(26564),qa=n(26667),Ha=n(56742),Va=n(11833),Wa=n(29710),ja=n(52552);const Ga=({onCancel:e,onNext:t})=>{const[n,i]=(0,a.useState)(""),{translate:r}=(0,S.Z)(),o=r("_common_action_cancel");return(0,C.BX)(Me.Vq,{isOpen:!0,dialogClassName:we()(Be.Ht),title:r("webapp_security_settings_activate_pin_code_flow_enter_title"),closeActionLabel:o,onClose:e,actions:{primary:{children:r("webapp_security_settings_activate_pin_code_flow_next"),onClick:()=>{t(n)},disabled:n.length!==Wa.k},secondary:{children:o,onClick:e}},children:[(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",children:r("webapp_security_settings_activate_pin_code_flow_enter_content")}),(0,C.tZ)(ja.i,{pincode:n,onPincodeInputChange:e=>{const t=e.target.value.replace(/\D/g,"");i(t)},onSubmit:()=>t(n)}),(0,C.tZ)(Pe.k,{mood:"warning",title:r("webapp_security_settings_activate_pin_code_flow_avoid_simple_pins")})]})},Ka=({onCancel:e,onNext:t,pinCode:n,onBack:i})=>{const[r,o]=(0,a.useState)(""),[s,l]=(0,a.useState)(!1),{translate:c}=(0,S.Z)(),d=c("_common_action_cancel");return(0,C.BX)(Me.Vq,{isOpen:!0,dialogClassName:we()(Be.Ht),title:c("webapp_security_settings_activate_pin_code_flow_confirm_title"),closeActionLabel:d,onClose:e,actions:{secondary:{children:c("webapp_security_settings_activate_pin_code_flow_back"),onClick:i}},children:[(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",children:c("webapp_security_settings_activate_pin_code_flow_confirm_content")}),(0,C.tZ)(ja.i,{pincode:r,onPincodeInputChange:e=>{const a=e.target.value.replace(/\D/g,"");o(a),e.target.value.length===Wa.k?e.target.value===n?t():l(!0):l(!1)},displayMismatchError:s,mismatchErrorMessage:c("webapp_security_settings_activate_pin_code_flow_pin_mismatch")})]})},Ya=({onCancel:e,onTryAgain:t})=>{const{translate:n}=(0,S.Z)();return(0,C.tZ)(Me.Vq,{isOpen:!0,dialogClassName:we()(Be.Ht),title:n("webapp_security_settings_activate_pin_code_flow_error_title"),closeActionLabel:n("_common_action_cancel"),onClose:e,actions:{primary:{children:n("webapp_security_settings_activate_pin_code_flow_try_again"),onClick:t},secondary:{children:(0,C.tZ)(Ln.Q,{href:Ft.DC,onClick:e,isExternal:!0,children:n("webapp_security_settings_activate_pin_code_flow_error_contact_support")})}},children:(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",children:n("webapp_security_settings_activate_pin_code_flow_error_content")})})};var $a,Qa=function(e){return e[e.Enter=0]="Enter",e[e.Confirm=1]="Confirm",e[e.Success=2]="Success",e[e.Error=3]="Error",e[e.Loading=4]="Loading",e}(Qa||{});const Ja="webapp_security_settings_activate_pin_code_flow_close",ei=({onCancel:e,onComplete:t})=>{const[n,i]=(0,a.useState)(""),[r,o]=(0,a.useState)(Qa.Enter),{activate:s}=(0,ge.u)(qa.n),{translate:l}=(0,S.Z)(),c=(0,Va.u)().wrap((async()=>{o(Qa.Loading),await s({pinCode:n}),o(Qa.Success)}),(()=>{o(Qa.Error)})),d=()=>{i(""),o(Qa.Enter)};switch(r){case Qa.Enter:return(0,C.tZ)(Ga,{onCancel:e,onNext:e=>{i(e),o(Qa.Confirm)}});case Qa.Confirm:return(0,C.tZ)(Ka,{onBack:d,onCancel:e,onNext:c,pinCode:n});case Qa.Loading:return(0,C.tZ)(Me.Vq,{isOpen:!0,onClose:e,closeActionLabel:"",isMandatory:!0,dialogClassName:we()(Be.Ht),title:l("webapp_security_settings_activate_pin_code_flow_activating_title"),children:$a||($a=(0,C.tZ)(Oe.k,{flexDirection:"column",alignItems:"center",children:(0,C.tZ)(_t.Z,{size:72})}))});case Qa.Error:return(0,C.tZ)(Ya,{onTryAgain:d,onCancel:e});case Qa.Success:return(0,C.tZ)(Me.Vq,{isOpen:!0,dialogClassName:we()(Be.Ht),title:l("webapp_security_settings_activate_pin_code_flow_success_title"),onClose:t,closeActionLabel:l(Ja),actions:{primary:{children:l(Ja),onClick:t}},children:(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",children:l("webapp_security_settings_activate_pin_code_flow_success_content")})});default:(0,Ha.U)(r)}};var ti;let ni=function(e){return e[e.Loading=0]="Loading",e[e.Success=1]="Success",e[e.Error=2]="Error",e}({});const ai="webapp_security_settings_activate_pin_code_flow_close",ii=({onCancel:e,onComplete:t})=>{const{translate:n}=(0,S.Z)(),[i,r]=(0,a.useState)(ni.Loading),o=(0,Va.u)(),{deactivate:s}=(0,ge.u)(qa.n),l=o.wrap((async()=>{await s(),r(ni.Success)}),(()=>{r(ni.Error)}));switch((0,a.useEffect)((()=>{l()}),[]),i){case ni.Loading:return(0,C.tZ)(Me.Vq,{isOpen:!0,onClose:e,closeActionLabel:"",isMandatory:!0,dialogClassName:we()(Be.Ht),title:n("webapp_security_settings_deactivate_pin_code_flow_deactivating_title"),children:ti||(ti=(0,C.tZ)(Oe.k,{flexDirection:"column",alignItems:"center",children:(0,C.tZ)(_t.Z,{size:72})}))});case ni.Error:return(0,C.tZ)(Me.Vq,{isOpen:!0,dialogClassName:we()(Be.Ht),title:n("webapp_security_settings_activate_pin_code_flow_error_content"),closeActionLabel:n("_common_action_cancel"),onClose:e,actions:{secondary:{children:(0,C.tZ)(Ln.Q,{href:Ft.DC,onClick:e,isExternal:!0,children:n("webapp_security_settings_activate_pin_code_flow_error_contact_support")})}},children:(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",children:n("webapp_security_settings_activate_pin_code_flow_error_title")})});case ni.Success:return(0,C.tZ)(Me.Vq,{isOpen:!0,dialogClassName:we()(Be.Ht),title:n("webapp_security_settings_deactivate_pin_code_flow_success_title"),onClose:t,closeActionLabel:n(ai),actions:{primary:{children:n(ai),onClick:t}},children:(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",children:n("webapp_security_settings_deactivation_pin_code_flow_success_content")})});default:(0,Ha.U)(i)}};var ri=n(77381);var oi=function(e){return e[e.Activation=0]="Activation",e[e.Deactivation=1]="Deactivation",e}(oi||{});const si=({isMPUser:e})=>{const{translate:t}=(0,S.Z)(),{isPinCodeEnabled:n,isPinCodeStatusLoading:i}=(0,Xa.C)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:o}=(0,K.tY)(),[s,l]=(0,a.useState)(void 0),c=()=>{const e=()=>l(n?oi.Deactivation:oi.Activation);r?e():o({itemType:Y.R.SecuritySettings,options:ri.Y,successCallback:e})},d=()=>(0,C.BX)(qt,{sectionTitle:t("webapp_account_security_settings_pin_unlock_title"),action:(0,C.tZ)(Ht.Z,{id:"pin-unlock-toggle","aria-label":t("webapp_account_security_settings_pin_unlock_title"),checked:n,disabled:i||!!s||n&&!e,onChange:c}),children:[(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",sx:{marginBottom:"8px"},children:t("webapp_account_security_settings_pin_unlock_description")}),(0,C.tZ)(Ln.Q,{href:Ft.p8,isExternal:!0,children:t("webapp_account_security_settings_pin_unlock_help_link")})]});switch(s){case oi.Activation:return(0,C.BX)(a.Fragment,{children:[(0,C.tZ)(d,{}),(0,C.tZ)(ei,{onComplete:()=>l(void 0),onCancel:()=>l(void 0)})]});case oi.Deactivation:return(0,C.BX)(a.Fragment,{children:[(0,C.tZ)(d,{}),(0,C.tZ)(ii,{onComplete:()=>l(void 0),onCancel:()=>l(void 0)})]});default:return(0,C.tZ)(d,{})}};var li,ci=n(33988),di=n(64809);const pi={dialogKeys:{title:"webapp_lock_items_rich_icons_title_on",subtitle:"webapp_lock_items_rich_icons_subtitle_on",confirm:"webapp_lock_items_rich_icons_confirm_on"}},ui={dialogKeys:{title:"webapp_lock_items_rich_icons_title_off",subtitle:"webapp_lock_items_rich_icons_subtitle_off",confirm:"webapp_lock_items_rich_icons_confirm_off"}},_i=({checked:e})=>{const{translate:t}=(0,S.Z)(),{areProtectedItemsUnlocked:n,openProtectedItemsUnlocker:i}=(0,K.tY)(),r=(0,di.V)(),o=e=>p.C.updateRichIconsSetting(e);return(0,C.BX)(a.Fragment,{children:[li||(li=(0,C.tZ)(O.i,{})),(0,C.BX)("div",{sx:{padding:"16px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,C.BX)("div",{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,C.tZ)(v.X,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:t("webapp_account_security_settings_rich_icons_title")}),(0,C.tZ)(Ht.Z,{"aria-label":"webapp_lock_items_rich_icons_aria_label",checked:e,onChange:()=>{const t=e?ui:pi;n?o(!e):i({itemType:Y.R.SecuritySettings,options:{fieldsKeys:t.dialogKeys,translated:!1},successCallback:()=>o(!e)})},disabled:!r})]}),(0,C.tZ)(f.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:t(r?"webapp_account_security_settings_rich_icons_description":"webapp_account_security_settings_tac_disabled_description")}),(0,C.tZ)(Ln.Q,{href:"https://support.dashlane.com/hc/articles/17909345422354",children:t("webapp_account_security_settings_rich_icons_link_title")})]})]})};var mi,hi,gi,bi=n(24059);const wi=({onNavigateOut:e,changeActivePanel:t,onDialogStateChanged:n})=>{const{translate:i}=(0,S.Z)(),r=(0,ci.F)(),{status:o,isMPLessUser:s}=(0,z.Z)(),l=!r&&!s,c=(0,On.dG)(),d=(0,An.BM)(),p=d?.status===wn.dN.READY&&d.isTwoFactorAuthenticationEnabled&&d?.type===wn.fr.LOGIN,u=(0,bi.X)();return(0,a.useEffect)((()=>{(0,Pn.G7)(),(0,Pn.HS)()}),[]),(0,C.BX)(I,{headingText:i("webapp_account_security_settings_heading"),onNavigateOut:e,children:[o!==Ut.rq.Success||s?null:(0,C.tZ)(xa,{changeActivePanel:t,webAuthnOptedIn:c.optedIn,authenticators:c.authenticators,onDialogStateChanged:n}),p||r?null:(0,C.tZ)(si,{isMPUser:l}),o!==Ut.rq.Success||s?null:(0,C.tZ)(La,{changeActivePanel:t,onDialogStateChanged:n,twoFactorAuthenticationInfo:d}),l?(0,C.tZ)(oa,{changeActivePanel:t,twoFactorAuthenticationInfo:d}):null,l?(0,C.tZ)(zn,{changeActivePanel:t}):null,o!==Ut.rq.Success?null:s?mi||(mi=(0,C.tZ)(sn,{})):null,l?hi||(hi=(0,C.tZ)(Fa,{})):null,gi||(gi=(0,C.tZ)(_a,{})),u.status===Ut.rq.Success&&(0,C.tZ)(_i,{checked:u.data})]})};var yi=n(95075);var fi=n(81986);const xi=(e,t)=>{(0,Fe.Kz)(new Re.UserChangeMasterPasswordEvent({flowStep:e,errorName:t||void 0}))},Si=e=>xi(Re.FlowStep.Error,e);var vi=n(30432);let Ci=function(e){return e.LogOut="LogOut",e.DisableArk="DisableArk",e.DisablePin="DisablePin",e}({});const Zi={[Ci.LogOut]:"webapp_account_security_settings_changemp_will_log_out_other_devices",[Ci.DisableArk]:"webapp_account_security_settings_changemp_will_disable_ark",[Ci.DisablePin]:"webapp_account_security_settings_changemp_will_disable_pin"},ki=()=>{const{translate:e}=(0,S.Z)(),t=(()=>{const e=(0,T.f)(),t=(0,he.k)(qa.n,"getCurrentUserStatus"),n=(0,he.k)(Kt.j,"accountRecoveryKeyStatus",{login:null!=e?e:""});return e&&t.status===Ut.rq.Success&&n.status===Ut.rq.Success?{loaded:!0,consequences:[Ci.LogOut,...n.data.isEnabled?[Ci.DisableArk]:[],...t.data.isPinCodeEnabled?[Ci.DisablePin]:[]]}:{loaded:!1,consequences:[]}})();return t.loaded?(0,C.tZ)(Pe.k,{mood:"brand",size:"medium",title:e("webapp_account_security_settings_changemp_will"),description:(0,C.tZ)(f.n,{as:"ul",sx:{listStyleType:t.consequences.length>1?"disc":void 0,listStylePosition:"outside"},children:t.consequences.map((t=>{const n=e(Zi[t]);return(0,C.tZ)("li",{children:n},t)}))})}):null};var Ii,Ei=function(e){return e.WRONG_PASSWORD_ERROR="wrong_password",e.PASSWORDS_DONT_MATCH_ERROR="passwords_dont_match",e.WEAK_PASSWORD_ERROR="weak_password",e.SAME_MASTER_PASSWORD="same_master_password",e}(Ei||{});const Di="webapp_account_security_settings_changemp_panel_currentmp",Ti="webapp_account_security_settings_changemp_panel_newmp",Ai="webapp_account_security_settings_changemp_panel_confirmmp",Ni="webapp_account_security_settings_changemp_panel_show_label",Oi="webapp_account_security_settings_changemp_panel_hide_label",Pi={0:"webapp_account_security_settings_zxcvbn_weakest_password",1:"webapp_account_security_settings_zxcvbn_weak_password",2:"webapp_account_security_settings_zxcvbn_acceptable_password",3:"webapp_account_security_settings_zxcvbn_good_password",4:"webapp_account_security_settings_zxcvbn_awesome_password"},Li=({onNavigateOut:e,onShowPasswordTips:t,onConfirmChangeMasterPassword:n})=>{const{translate:i}=(0,S.Z)(),[r,o]=(0,a.useState)(!1);a.useEffect((()=>{(0,Fe.Nc)(Re.PageView.SettingsSecurityChangeMasterPassword),xi(Re.FlowStep.Start)}),[]);const[s,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[u,_]=(0,a.useState)(""),[m,h]=(0,a.useState)(null),{passwordStrength:g,resetPasswordStrength:b,setPasswordStrength:y,isPasswordStrengthScore:f,isPasswordStrongEnough:x}=(0,vi.R)(),[v,Z]=(0,a.useState)(""),[k,E]=(0,a.useState)(null);return(0,C.tZ)(I,{headingText:i("webapp_account_security_settings_changemp_panel_heading"),onNavigateOut:()=>{xi(Re.FlowStep.Cancel),e()},children:(0,C.BX)(qt,{sectionTitle:i("webapp_account_security_settings_changemp_panel_subtitle"),children:[(0,C.tZ)(Ln.Q,{as:"button",onClick:()=>{t()},sx:{marginBottom:"24px"},children:i("webapp_account_security_settings_changemp_panel_infotext")}),Ii||(Ii=(0,C.tZ)(ki,{})),(0,C.BX)("form",{autoComplete:"off",noValidate:!0,onSubmit:e=>{e.preventDefault(),x?u===s?(Si(Re.ChangeMasterPasswordError.SamePasswordError),h(Ei.SAME_MASTER_PASSWORD)):u!==v?(Si(Re.ChangeMasterPasswordError.PasswordsDontMatch),E(Ei.PASSWORDS_DONT_MATCH_ERROR)):(o(!0),n(s,u)):(Si(Re.ChangeMasterPasswordError.WeakPasswordError),h(Ei.WEAK_PASSWORD_ERROR))},children:[(0,C.BX)("section",{className:"changePasswordSection--fUuBku_Js4",children:[(0,C.tZ)(fi.Z,{label:i(Di),id:i(Di),toggleVisibilityLabel:{show:i(Ni),hide:i(Oi)},onChange:e=>{const t=e.target.value;d(null),l(t),m===Ei.SAME_MASTER_PASSWORD&&u!==t&&h(null)},onBlur:async()=>{if(s)try{const{isMasterPasswordValid:e}=await p.C.checkIfMasterPasswordIsValid({masterPassword:s});e||(Si(Re.ChangeMasterPasswordError.WrongPasswordError),d(Ei.WRONG_PASSWORD_ERROR))}catch(e){Si(Re.ChangeMasterPasswordError.WrongPasswordError),d(Ei.WRONG_PASSWORD_ERROR)}},value:s,error:c===Ei.WRONG_PASSWORD_ERROR,feedback:c===Ei.WRONG_PASSWORD_ERROR?{id:"current-password-feedback-text",text:i("webapp_account_security_settings_changemp_panel_error_incorrect_mp")}:void 0}),(0,C.tZ)(fi.Z,{label:i(Ti),id:i(Ti),toggleVisibilityLabel:{show:i(Ni),hide:i(Oi)},onChange:async e=>{const t=e.target.value;if(_(t),m&&h(null),k&&E(null),""!==t){const e=await p.C.evaluatePassword({password:t});e&&y(e)}else b()},onBlur:()=>{u&&(u&&!x?(Si(Re.ChangeMasterPasswordError.WeakPasswordError),h(Ei.WEAK_PASSWORD_ERROR)):u===s?(Si(Re.ChangeMasterPasswordError.SamePasswordError),h(Ei.SAME_MASTER_PASSWORD)):v&&u&&u!==v&&(Si(Re.ChangeMasterPasswordError.PasswordsDontMatch),E(Ei.PASSWORDS_DONT_MATCH_ERROR)))},value:u,error:m===Ei.WEAK_PASSWORD_ERROR,feedback:m===Ei.WEAK_PASSWORD_ERROR?i("webapp_account_security_settings_changemp_panel_error_weak_pw"):m===Ei.SAME_MASTER_PASSWORD?i("webapp_account_security_settings_changemp_panel_error_same_pw"):void 0,passwordStrength:!m&&g&&f(g.score)?{description:i(`${Pi[g.score]}`),descriptionId:"password-tooltip",score:g.score}:void 0}),(0,C.tZ)(fi.Z,{label:i(Ai),id:i(Ai),toggleVisibilityLabel:{show:i(Ni),hide:i(Oi)},onChange:e=>{E(null),Z(e.target.value)},onBlur:()=>{v&&v!==u&&(Si(Re.ChangeMasterPasswordError.PasswordsDontMatch),E(Ei.PASSWORDS_DONT_MATCH_ERROR))},value:v,error:!!k,feedback:k?i("webapp_account_security_settings_changemp_panel_error_pw_dont_match"):void 0})]}),(0,C.tZ)("section",{className:"actionsSection--cT0JfywuL_",children:(0,C.tZ)(w.z,{type:"submit",disabled:(()=>{const e=!s||!u||!v,t=v===u,n=Boolean(!!c||!!m||!!k);return e||!t||!x||n||r})(),children:i("webapp_account_security_settings_changemp_panel_button_confirm")})})]})]})})};var Ri,Mi=n(14457);const Bi=({onNavigateOut:e})=>{const{translate:t}=(0,S.Z)();return(0,C.tZ)(I,{headingText:t("webapp_account_security_settings_passwordtips_panel_heading"),onNavigateOut:e,children:(0,C.tZ)(qt,{sectionTitle:t("webapp_account_security_settings_passwordtips_panel_subtitle"),children:Ri||(Ri=(0,C.tZ)(Mi.t,{}))})})},zi=parseInt(d()["--edit-panel-animation-duration-enter"],10);let Ui=function(e){return e[e.Root=0]="Root",e[e.PasswordTipsPanel=1]="PasswordTipsPanel",e}({});const Fi=({onNavigateOut:e})=>{const[t,n]=(0,a.useState)(Ui.Root);return(0,C.tZ)("div",{children:(0,C.BX)(i.Z,{children:[t===Ui.Root?(0,C.tZ)(r.Z,{classNames:se,timeout:zi,children:(0,C.tZ)(Li,{onNavigateOut:e,onShowPasswordTips:()=>{n(Ui.PasswordTipsPanel)},onConfirmChangeMasterPassword:(e,t)=>{(async(e,t)=>{e&&t&&await p.C.changeMasterPassword({currentPassword:e,newPassword:t,flow:yi.pT.USER_CHANGING_MP})})(e,t)}},"for-TransitionGroup-security-settings-changemp-form")}):null,t===Ui.PasswordTipsPanel?(0,C.tZ)(r.Z,{classNames:le,timeout:zi,children:(0,C.tZ)(Bi,{onNavigateOut:()=>{n(Ui.Root)}},"for-TransitionGroup-security-settings-changemp-subpanel-passwordtips")}):null]})})};var Xi=n(71844),qi=n(62340);var Hi,Vi;const Wi="webapp_account_security_settings_passwordless_login_methods_menu_title",ji=({authenticator:e,onRemoveAuthenticator:t})=>{const{credentialId:n,name:i}=e,{translate:r}=(0,S.Z)(),[o,s]=a.useState(!1),l=(0,C.tZ)(N.W7o,{onClick:()=>{t(n)},children:(0,C.BX)(Oe.k,{flexWrap:"nowrap",alignItems:"center",children:[Hi||(Hi=(0,C.tZ)(N.XHJ,{size:16,"aria-hidden":"true"})),(0,C.tZ)(N.nvN,{size:"small",color:N.colors.dashGreen00,bold:!0,children:r("webapp_account_security_settings_passwordless_login_methods_menu_delete")})]})});return(0,C.tZ)("li",{className:"authenticator--h2BHIARxFF",children:(0,C.BX)(Oe.k,{justifyContent:"space-between",alignItems:"center",gap:"30px",children:[(0,C.tZ)(N.nvN,{children:i}),(0,C.tZ)("div",{className:"dropdownContainer--wB_yaS6naQ",children:(0,C.tZ)(N.h_2,{offset:[0,4],placement:"bottom-end",content:l,children:(0,C.tZ)(N.hU,{type:"button",size:"small",onClick:e=>{e.stopPropagation(),s(!o)},"aria-label":r(Wi),title:r(Wi),icon:Vi||(Vi=(0,C.tZ)(N.YAX,{size:20,rotate:90}))})})})]})})};var Gi;const Ki="webapp_account_security_settings_passwordless_login_methods_plaftorm",Yi=({authenticators:e,userHasWebAuthnPlatformAuthenticator:t,onClickTriggerWebAuthnAuthenticator:n,onRemoveWebAuthnAuthenticator:a})=>{const{translate:i}=(0,S.Z)(),r=t?"webapp_account_security_settings_passwordless_login_methods_all_authenticators_add":"webapp_account_security_settings_passwordless_login_methods_noplatform_add";if(!e)return null;const o=(e=>{if(1===e.length&&!e[0].isRoaming)return e[0].name=i(Ki),[...e];let t=0,n=0;return e.reduce(((e,a)=>{let r;a.isRoaming?(t++,r=`${i("webapp_account_security_settings_passwordless_login_methods_roaming")} ${t}`):(n++,r=`${i(Ki)} ${n}`);const o={...a,name:r};return e.push(o),e}),[])})(e);return(0,C.tZ)(qt,{sectionTitle:i("webapp_account_security_settings_passwordless_login_methods_title"),action:(0,C.tZ)(N.hU,{type:"button",size:"small",onClick:n,"aria-label":i(r),title:i(r),icon:Gi||(Gi=(0,C.tZ)(N.dtP,{size:16}))}),children:(0,C.tZ)("ol",{children:o.map((e=>(0,C.tZ)(ji,{authenticator:e,onRemoveAuthenticator:a},e.credentialId)))})})},$i=({onNavigateOut:e,onDialogStateChanged:t})=>{const{translate:n}=(0,S.Z)(),{authenticators:i,optedIn:r}=(0,On.dG)(),{openWebAuthnRemoveLastAuthenticatorDialog:o,onRemoveWebAuthnAuthenticator:s}=(0,On.$_)({onDialogStateChanged:t}),{areProtectedItemsUnlocked:l,openProtectedItemsUnlocker:c}=(0,K.tY)(),[d,u]=(0,a.useState)(!1);(0,a.useEffect)((()=>{d||(async()=>{const e=await(0,Xi.FI)();u(e)})()}),[d]);const _=async()=>{const e=(0,ma.Me)();if(!e)throw new Error("WebAuthn attestation cannot be completed as extension Id is missing");const t=await p.C.initRegisterWebAuthnAuthenticator({relyingPartyId:e});if(t.success){const e=await(0,qi.G)(t.response.publicKeyOptions),n=(0,Xi.Sq)();await p.C.registerWebAuthnAuthenticator({credential:e,isRoaming:n})}},m=(0,a.useCallback)((e=>{const t=i?.find((t=>t.credentialId===e));if(t){const n=1===i?.length&&r,a=Boolean(t?.isRoaming);n?o(e,a):s(e,a)}}),[r,i,s,o]),h=d?"webapp_account_security_settings_passwordless_all_authenticators_biometrics_title":"webapp_account_security_settings_passwordless_noplatform_title";return(0,C.tZ)(I,{headingText:n(h),onNavigateOut:e,children:(0,C.tZ)(Yi,{userHasWebAuthnPlatformAuthenticator:d,onClickTriggerWebAuthnAuthenticator:async()=>{l?await _():c({itemType:Y.R.SecuritySettings,successCallback:async()=>await _(),cancelCallback:()=>{t?.(!1)}})},authenticators:i,onRemoveWebAuthnAuthenticator:m})})},Qi=parseInt(d()["--edit-panel-animation-duration-enter"],10);let Ji=function(e){return e[e.WebAuthn=0]="WebAuthn",e[e.AccountRecovery=1]="AccountRecovery",e[e.ChangeMP=2]="ChangeMP",e[e.Root=3]="Root",e[e.TwoFactorAuthentication=4]="TwoFactorAuthentication",e}({});const er=({onNavigateOut:e,onDialogStateChanged:t})=>{const[n,o]=(0,a.useState)(Ji.Root),s=()=>{(0,Fe.Nc)(Re.PageView.SettingsSecurity),o(Ji.Root)};return(0,C.tZ)("div",{children:(0,C.BX)(i.Z,{children:[n===Ji.Root?(0,C.tZ)(r.Z,{classNames:se,timeout:Qi,children:(0,C.tZ)(wi,{onNavigateOut:e,changeActivePanel:o,onDialogStateChanged:t},"for-TransitionGroup-security-settings-root")}):null,n===Ji.ChangeMP?(0,C.tZ)(r.Z,{classNames:le,timeout:Qi,children:(0,C.tZ)(Fi,{onNavigateOut:s},"for-TransitionGroup-security-settings-subpanel-changemp")}):null,n===Ji.AccountRecovery?(0,C.tZ)(r.Z,{classNames:le,timeout:Qi,children:(0,C.tZ)(_n,{onNavigateOut:s},"for-TransitionGroup-security-settings-subpanel-account-recovery")}):null,n===Ji.TwoFactorAuthentication?(0,C.tZ)(r.Z,{classNames:le,timeout:Qi,children:(0,C.tZ)(Nn,{onNavigateOut:s},"for-TransitionGroup-security-settings-subpanel-account-recovery")}):null,n===Ji.WebAuthn?(0,C.tZ)(r.Z,{classNames:le,timeout:Qi,children:(0,C.tZ)($i,{onNavigateOut:s,onDialogStateChanged:t},"for-TransitionGroup-security-settings-subpanel-webauthn")}):null]})})};var tr=n(44951),nr=n(73917),ar=n(77550),ir=n(697),rr=n.n(ir);const or=parseInt(d()["--edit-panel-animation-duration-enter"],10),sr={premiumStatus:{live:p.C.livePremiumStatus,query:p.C.getPremiumStatus}},lr={strategies:sr},cr=(0,u.$)((0,_.i)((({lee:e,premiumStatus:t,onNavigateOut:n,onClickFamilyDashboard:s})=>{const l=(0,a.useRef)(null),[c,p]=(0,a.useState)(!1),[u,_]=(0,a.useState)(tt.Root),[m,h]=(0,a.useState)(!1),g=(0,ar.B)(),{isLogoutDialogOpen:b,openLogoutDialog:w}=(0,nr.q)(),y=(0,o.CN)().get("view");(0,a.useEffect)((()=>{switch(y){case"devices":_(tt.DeviceManagement);break;case"security-settings":_(tt.SecuritySettings);break;case"recovery-key-reactivate":_(tt.SecuritySettings),h(!0);break;case"change-login-email":_(tt.AccountDetails);break;default:_(tt.Root)}}),[y]);const f=e=>{p(e)},x=()=>{_(tt.Root),l.current&&l.current.focus()};(0,a.useEffect)((()=>{l.current&&l.current.focus()}),[]);const S=(0,o.k6)();if((0,a.useEffect)((()=>{const e=S.listen((()=>{n(!0)}));return()=>e()}),[S,n]),null===t||null===g)return null;const v=window.location.href,Z=!(0,ma.hy)(v);return(0,C.tZ)(Qe.s_,{containerSx:{position:"fixed",overflowX:"hidden",overflowY:"auto",backgroundColor:"ds.container.agnostic.neutral.supershy",boxShadow:"-16px 0px 32px rgba(0, 0, 0, 0.1)",width:d()["--account-panel-width"],zIndex:rr()["--z-index-account-panel"]},onNavigateOut:()=>{b||n()},ignoreClickOutsideClassName:`${Be.oo} alertPopup--vjSN1Q_8VK ${Be.e_}`,ignoreCloseOnEscape:c,children:(0,C.BX)("div",{tabIndex:-1,ref:l,children:[m?(0,C.tZ)(tr.H,{onClose:()=>{h(!1)},onGoToSecuritySettings:()=>{_(tt.SecuritySettings)}}):null,(0,C.BX)(i.Z,{children:[u===tt.Root?(0,C.tZ)(r.Z,{classNames:se,timeout:or,children:(0,C.tZ)(Mt,{premiumStatus:t,triggerSwitchPanel:e=>{_(e)},onClickLogout:w,onClickFamilyDashboard:s,secureExportEnabled:Z},"for-CSSTransition-root")}):null,u===tt.AccountDetails?(0,C.tZ)(r.Z,{classNames:le,timeout:or,exit:!1,children:(0,C.tZ)(ue,{onNavigateOut:x,premiumStatus:t,onDialogSateChanged:f},"for-TransitionGroup-subpanel-account-details")}):null,u===tt.DeviceManagement&&(0,C.tZ)(r.Z,{classNames:le,timeout:or,exit:!1,children:(0,C.tZ)(Ne,{onNavigateOut:x},"for-TransitionGroup-subpanel-device-mngmt")}),u===tt.ImportExportData&&(0,C.tZ)(r.Z,{classNames:le,timeout:or,children:(0,C.tZ)($e,{onNavigateOut:x,reportError:e.reportError},"for-TransitionGroup-subpanel-export-data")}),u===tt.SecuritySettings&&(0,C.tZ)(r.Z,{classNames:le,timeout:or,children:(0,C.tZ)(er,{onNavigateOut:x,onDialogStateChanged:f},"for-TransitionGroup-subpanel-security-settings")}),u===tt.AccountRecovery?(0,C.tZ)(r.Z,{classNames:le,timeout:or,exit:!1,children:(0,C.tZ)(_n,{onNavigateOut:x},"for-TransitionGroup-security-settings-subpanel-account-recovery")}):null]})]})})}),lr),sr),dr={enter:"enter--PnfFLtpwZQ",enterActive:"enterActive--7cPufhxXGl",exit:"exit--jYwpuHF2Xr",exitActive:"exitActive--LxVDrl2_Kn"},pr=parseInt(d()["--edit-panel-animation-duration-enter"],10),ur=(0,a.createContext)({}),_r=({children:e,lee:t})=>{const{routes:n}=(0,o.Xo)(),{pathname:c}=(0,o.TH)(),d=(0,o.k6)(),[p,u]=(0,a.useState)(!1),_=(0,a.useMemo)((()=>({openAccountPanel:()=>u(!0),closeAccountPanel:()=>u(!1)})),[]);return(0,a.useEffect)((()=>{c.includes("/account-settings")&&u(!0)}),[c]),(0,C.BX)(ur.Provider,{value:_,children:[e,(0,C.tZ)(i.Z,{className:"sideMenuTransitionGroup--TQKXqVUftt",children:p&&(0,C.tZ)(r.Z,{classNames:dr,timeout:pr,children:p&&(0,C.tZ)(cr,{onNavigateOut:e=>{e||(0,l.u)(c,n),c.includes("/account-settings")&&d.push((0,s.Th)(c,"/account-settings")),u(!1)},onClickFamilyDashboard:()=>d.push(n.familyDashboard),lee:t},"for-CSSTransition-account-panel")})})]})},mr=()=>(0,a.useContext)(ur)},97483:(e,t,n)=>{"use strict";n.d(t,{Yh:()=>a,qc:()=>r,vQ:()=>i,w9:()=>o,x5:()=>s});const a=28,i="****-****-****-****-****-****-****",r="-",o=6,s=/.{1,4}/g},48827:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var a=n(96832),i=n(48038),r=n(5465);function o(){(0,a.useEffect)((()=>{(async()=>{await r.C.refreshContactInfo(void 0)})()}),[]);const e=(0,i.qr)({queryConfig:{query:r.C.getContactInfo},liveConfig:{live:r.C.liveContactInfo}},[]);return e.status===i.rq.Success?e.data:void 0}},97962:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var a=n(48038),i=n(5465);function r(){const e=(0,a.qr)({queryConfig:{query:i.C.getUserLogin}},[]);return e.status===a.rq.Success?e.data:void 0}},43773:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var a=n(73704),i=n(45272);const r=()=>{(0,i.Kz)(new a.UserLogoutEvent({}))}},63375:(e,t,n)=>{"use strict";n.d(t,{S:()=>h});var a=n(82926),i=n(24507),r=n(8180),o=n(51031),s=n(96564),l=n(89394),c=n(11716),d=n(96832),p=n(4289),u=n(61605),_=n(81391),m=n(97962);const h=()=>{const[e,t]=(0,d.useState)(""),[n,h]=(0,d.useState)(!1),[g,b]=(0,d.useState)(!1),w=(0,p.j)(),y=(0,m.f)(),f=(0,i.k)(s.Y,"isAllowed"),x=(0,i.k)(a.V,"getProviderInfo"),{loginUserWithEnclaveSSO:S}=(0,r.u)(c.y),v=(0,d.useCallback)((async()=>{if(!y)throw new Error("User is not logged in");await S({userEmailAddress:y})}),[S,y]);return(0,d.useEffect)((()=>{x.status===o.rq.Success&&void 0!==x.data&&x.data.serviceProviderUrl&&void 0!==x.data.isNitroProvider&&(h(x.data.isNitroProvider),f.status===o.rq.Success&&!f.data.isAllowed&&f.data.reasons.includes(l.Oq.RequiresMP2SSOMigration)&&(w?(t((0,_.$9)()),b(!0)):(t((0,u.C0)(x.data.serviceProviderUrl)),b(!1))))}),[f,w,x.data?.serviceProviderUrl,x.status,x.data]),f.status!==o.rq.Success||f.data.isAllowed||!f.data.isAllowed&&!f.data.reasons.includes(l.Oq.RequiresMP2SSOMigration)?{shouldEnforce:!1}:{shouldEnforce:!0,serviceProviderUrl:e,localSsoRedirect:g,isNitroProvider:n,loginWithSSOCommand:v}}},59215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(24507),i=n(51031),r=n(96564),o=n(89394);const s=()=>{const e=(0,a.k)(r.Y,"isAllowed");return e.status!==i.rq.Success?{shouldEnforce:!1}:{shouldEnforce:!e.data.isAllowed&&e.data.reasons.includes(o.Oq.RequiresSettingUpPin)}}},85902:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var a=n(16166),i=n(68999),r=n(36351);const o={BASE:{display:"flex",flexDirection:"row"},LEGACY:{gap:"3px"},NEW:{flexWrap:"wrap",gap:"6px"}},s=({legacy:e=!0})=>(0,r.tZ)("div",{sx:(0,a.jM)([o.BASE,e?o.LEGACY:o.NEW]),children:[{label:"Facebook",link:"https://www.facebook.com/GetDashlane",icon:"SocialFacebookFilled"},{label:"Twitter",link:"https://twitter.com/dashlane",icon:"SocialTwitterFilled"},{label:"Instagram",link:"https://www.instagram.com/dashlane",icon:"SocialInstagramFilled"},{label:"Youtube",link:"https://www.youtube.com/@Dashlane",icon:"SocialYoutubeFilled"},{label:"Threads",link:"https://threads.net/@dashlane",icon:"SocialThreadsFilled"},{label:"Reddit",link:"https://www.reddit.com/r/Dashlane",icon:"SocialRedditFilled"},{label:"Linkedin",link:"https://www.linkedin.com/company/dashlane",icon:"SocialLinkedinFilled"},{label:"Bluesky",link:"https://bsky.app/profile/dashlane.com",icon:"SocialBlueskyFilled"}].map((({icon:t,label:n,link:a})=>(0,r.tZ)(i.z,{"aria-label":n,mood:e?"neutral":"brand",size:e?"small":"large",intensity:"supershy",layout:"iconOnly",icon:t,onClick:()=>{return e=a,void window.open(e,"_blank","noreferrer");var e},style:e?{padding:"9px"}:{}},t)))})},48328:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var a=n(47124),i=n(22903),r=n(36351);const o=({title:e,iconName:t,isSuccess:n})=>(0,r.BX)("div",{children:[t?(0,r.tZ)(a.JO,{sx:{size:"77px",marginBottom:"16px"},name:t,color:"ds.text.brand.quiet"}):"",(0,r.tZ)(i.X,{sx:n?void 0:{marginBottom:"16px"},as:"h2",textStyle:n?"ds.title.section.large":void 0,children:e})]})},44951:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var a=n(78956),i=n(63847),r=n(29020),o=n(25582),s=n(59101),l=n(88203),c=n(86717),d=n(37527),p=n(36351);const u=({onClose:e,onGoToSecuritySettings:t})=>{const{translate:n}=(0,l.Z)();return(0,p.tZ)(a.Vq,{dialogClassName:d.Ht,isOpen:!0,isMandatory:!0,disableScrolling:!0,closeActionLabel:n("_common_dialog_dismiss_button"),onClose:e,actions:{primary:{children:n("webapp_account_recovery_key_reactivation_pin_cta"),autoFocus:!0,onClick:()=>{t(),e()}},secondary:{children:n("_common_action_cancel"),onClick:e}},children:(0,p.BX)(i.k,{children:[(0,p.tZ)(i.k,{flexDirection:"column",alignContent:"center",sx:{width:"100%",bg:"ds.background.alternate",marginBottom:"32px"},children:(0,p.tZ)(c.b,{lightSrc:s,darkSrc:o,width:360,height:240,sx:{padding:"24px"}})}),(0,p.tZ)(r.n,{textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"},as:"h2",children:n("webapp_account_recovery_key_reactivation_pin_title")}),(0,p.tZ)(r.n,{children:n("webapp_account_recovery_key_reactivation_pin_description")})]})})}},27849:(e,t,n)=>{"use strict";n.d(t,{xo:()=>A,rF:()=>E,KT:()=>x,js:()=>S,V6:()=>k,gq:()=>I,cg:()=>Z,Nq:()=>T});var a=n(96832),i=n(29020),r=n(78956),o=n(20675),s=n(73704),l=n(48328),c=n(83849),d=n.n(c),p=n(58549),u=n.n(p),_=n(14900),m=n(88203),h=n(97483);const g={container:"container--M0Pyd1Y2Yl",_field:"_field--FFzjkl_Waa",input:"input--K7r4YNCO8r _field--FFzjkl_Waa",placeholder:"placeholder--CJMtmx2Js_",textarea:"textarea--uikCIudKux",text:"text--LYgitaGXzx",value:"value--Sadjc5Ctg6"};var b=n(36351);const w=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))},y=({value:e,error:t,onChange:n})=>{const{translate:i}=(0,m.Z)(),r={id:"recovery-key-input",autoComplete:"off",className:d()(g.input,{[g.error]:Boolean(t)}),sx:{...t&&{"::placeholder":{color:"ds.text.danger.quiet"},minWidth:"fit-content"},border:"1px solid",borderColor:t?"ds.border.danger.standard.idle":"ds.border.neutral.quiet.idle"},type:"text",placeholder:i("webapp_account_recovery_key_input_placeholder")},o=(0,b.tZ)(u(),{maskChar:"",mask:h.vQ,onCopy:()=>w(e),onCut:()=>w(e),onChange:n,value:e,children:e=>(0,b.tZ)("input",{...r,...e})});return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(_.nvN,{size:"x-small",sx:{textTransform:"uppercase",fontWeight:600},children:i("webapp_account_recovery_key_input_label")}),(0,b.tZ)("div",{className:d()(g.container),children:o}),t?(0,b.tZ)(_.nvN,{size:"x-small",color:"ds.text.danger.quiet",children:t}):null]})};var f=n(35793);const x=({recoveryKey:e,isLoading:t,goToNextStep:n,goToPrevStep:c})=>{const{translate:d}=(0,m.Z)(),{trackPageView:p}=(0,o.D)();(0,a.useEffect)((()=>{p({pageView:s.PageView.SettingsSecurityRecoveryKeyConfirm})}),[]);const{inputValue:u,inputError:_,isInputValid:h,handleChangeInputValue:g}=(0,f.N)(null!=e?e:"");return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(l.$,{title:d("webapp_account_recovery_key_third_step_title"),iconName:"RecoveryKeyOutlined"}),(0,b.tZ)(i.n,{sx:{marginBottom:"26px"},children:d("webapp_account_recovery_key_third_step_description")}),(0,b.tZ)(y,{value:u,onChange:g,error:_}),(0,b.tZ)(r.cN,{actions:{primary:{children:d("_common_action_continue"),onClick:()=>{n()},isLoading:t,disabled:!h},secondary:{children:d("_common_action_go_back"),onClick:()=>{c()}}}})]})},S=({recoveryKey:e,isLoading:t,goToNextStep:n})=>{var c;const{translate:d}=(0,m.Z)(),{trackPageView:p}=(0,o.D)();(0,a.useEffect)((()=>{p({pageView:s.PageView.SettingsSecurityRecoveryKeyStore})}),[]);const u=(null!=(c=(null!=e?e:"").match(h.x5))?c:[]).map(((e,t)=>(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(i.n,{as:"span",sx:{fontFamily:"monospace"},children:e}),t!==h.w9&&(0,b.tZ)(i.n,{as:"span",sx:{fontFamily:"monospace"},color:"ds.text.warning.standard",children:h.qc})]})));return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(l.$,{title:d("webapp_account_recovery_key_second_step_title"),iconName:"RecoveryKeyOutlined"}),(0,b.tZ)(i.n,{children:d("webapp_account_recovery_key_second_step_description")}),(0,b.tZ)(i.n,{id:"formatted-recovery-key",sx:{background:"ds.container.agnostic.neutral.quiet",borderRadius:"10px",margin:"16px 0",padding:"16px"},children:u}),(0,b.tZ)(i.n,{children:d("webapp_account_recovery_key_second_step_helper_text")}),(0,b.tZ)(r.cN,{actions:{primary:{children:d("_common_action_continue"),onClick:()=>{n()},isLoading:t}}})]})};var v=n(54350),C=n(45272);const Z=({goToNextStep:e})=>{const{translate:t}=(0,m.Z)(),{trackPageView:n}=(0,o.D)(),{isMPLessUser:c}=(0,v.Z)();return(0,a.useEffect)((()=>{n({pageView:s.PageView.SettingsSecurityRecoveryKeyEnable})}),[]),(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(l.$,{title:t("webapp_account_recovery_key_first_step_title"),iconName:"RecoveryKeyOutlined"}),(0,b.tZ)(i.n,{children:t(c?"webapp_account_recovery_key_first_step_description_passwordless":"webapp_account_recovery_key_first_step_description")}),(0,b.tZ)(r.cN,{actions:{primary:{children:t("webapp_account_recovery_key_first_step_generate_key"),onClick:()=>{(0,C.Kz)(new s.UserCreateAccountRecoveryKeyEvent({flowStep:s.FlowStep.Start})),e()}}}})]})},k=({onClose:e})=>{const{translate:t}=(0,m.Z)(),{trackPageView:n}=(0,o.D)();return(0,a.useEffect)((()=>{n({pageView:s.PageView.SettingsSecurityRecoveryKeySuccess})}),[]),(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(l.$,{title:t("webapp_account_recovery_key_fourth_step_description"),iconName:"FeedbackSuccessOutlined",isSuccess:!0}),(0,b.tZ)(r.cN,{actions:{primary:{children:t("_common_dialog_done_button"),onClick:e}}})]})},I=({requestActivation:e,resetActivationFlow:t})=>{const{translate:n}=(0,m.Z)(),{trackPageView:c}=(0,o.D)();return(0,a.useEffect)((()=>{c({pageView:s.PageView.SettingsSecurityRecoveryKeyGenerateNew})}),[]),(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(l.$,{title:n("webapp_account_recovery_key_generate_new_key_title"),iconName:"RecoveryKeyOutlined"}),(0,b.tZ)(i.n,{children:n("webapp_account_recovery_key_generate_new_key_description")}),(0,b.tZ)(r.cN,{actions:{primary:{children:n("webapp_account_recovery_key_first_step_generate_key"),onClick:()=>{e()}},secondary:{children:n("_common_action_cancel"),onClick:()=>{t()}}}})]})},E=({goToPrevStep:e,onClose:t})=>{const{translate:n}=(0,m.Z)();return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(l.$,{title:n("webapp_account_recovery_key_cancel_generate_new_key_title"),iconName:"RecoveryKeyOutlined"}),(0,b.tZ)(i.n,{children:n("webapp_account_recovery_key_cancel_new_key_description")}),(0,b.tZ)(r.cN,{actions:{primary:{children:n("webapp_account_recovery_key_cancel_new_key_button"),onClick:t},secondary:{children:n("_common_action_go_back"),onClick:()=>{e()}}}})]})},D={GENERIC_ERROR:"webapp_account_recovery_key_activation_generic_error_title",GENERIC_ERROR_DESC:"webapp_account_recovery_key_activation_generic_error_desc",GENERIC_ERROR_BUTTON:"_common_dialog_done_button",NETWORK_ERROR:"webapp_account_recovery_key_activation_network_error_title",NETWORK_ERROR_DESC:"webapp_account_recovery_key_activation_network_error_desc",NETWORK_ERROR_BUTTON:"webapp_account_recovery_key_activation_network_error_button"},T=({error:e,onClose:t})=>{const{translate:n}=(0,m.Z)();return(0,a.useEffect)((()=>{"GENERIC_ERROR"===e&&(0,C.Kz)(new s.UserCreateAccountRecoveryKeyEvent({flowStep:s.FlowStep.Error,createKeyErrorName:s.CreateKeyErrorName.Unknown}))}),[e]),(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(l.$,{title:e?n(D[e]):"",iconName:"FeedbackFailOutlined"}),(0,b.tZ)(i.n,{color:"ds.text.brand.standard",children:n(D[`${e}_DESC`])}),(0,b.tZ)(r.cN,{actions:{primary:{children:n(D[`${e}_BUTTON`]),onClick:t}}})]})};n(44951);const A=({goBack:e,resetActivationFlow:t,isFeatureEnabled:n})=>{const{translate:o}=(0,m.Z)();return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(l.$,{title:o(n?"webapp_account_recovery_key_cancel_generate_new_key_title":"webapp_account_recovery_key_activation_cancel_title")}),(0,b.tZ)(i.n,{children:o(n?"webapp_account_recovery_key_cancel_new_key_description":"webapp_account_recovery_key_activation_cancel_description")}),(0,b.tZ)(r.cN,{actions:{primary:{children:o("webapp_account_recovery_key_activation_cancel_primary_button"),onClick:e},secondary:{children:o("webapp_account_recovery_key_activation_cancel_secondary_button"),onClick:t}}})]})}},66913:(e,t,n)=>{"use strict";n.d(t,{o:()=>w});var a=n(83849),i=n.n(a),r=n(96832),o=n(75050),s=n(17524),l=n(78956),c=n(8180),d=n(24507),p=n(73704),u=n(27849),_=n(85823),m=n(88203),h=n(37527),g=n(36351);const b="_common_dialog_dismiss_button",w=({onClose:e})=>{var t,n,a,w;const{translate:y}=(0,m.Z)(),{cancelGeneration:f,confirmActivation:x,goToActivationNextStep:S,goToActivationPrevStep:v,requestActivation:C,resetActivationFlow:Z}=(0,c.u)(o.j),k=(0,d.k)(o.j,"activationFlowStatus"),[I,E]=(0,r.useState)(!0),[D,T]=(0,r.useState)(!1),A=()=>{Z(),(0,_.aJ)(),e()},N=!!k.data?.isFeatureEnabled,O=()=>{Z(),k.data?.step===s.F.ActivationDone&&k.data?.isFeatureEnabled?(0,_.EZ)(p.DeleteKeyReason.NewRecoveryKeyGenerated):(0,_.SY)(),e()};return(0,g.BX)(r.Fragment,{children:[(0,g.tZ)(l.Vq,{isOpen:I,dialogClassName:i()(h.Ht),disableScrolling:!0,closeActionLabel:y(b),onClose:()=>(()=>{const e=k.data?.step;e===s.F.RequestActivation||e===s.F.DisplayKey||e===s.F.ConfirmKey||e===s.F.FinaliseActivation?(E(!1),T(!0)):A()})(),"aria-label":"account-recovery-key-generation-dialog",children:(()=>{switch(k.data?.step){case s.F.InitActivation:return t||(t=(0,g.tZ)(u.cg,{goToNextStep:C}));case s.F.RequestActivation:case s.F.DisplayKey:return(0,g.tZ)(u.js,{...k.data,goToNextStep:S,isLoading:k.data?.step===s.F.RequestActivation});case s.F.ConfirmKey:case s.F.FinaliseActivation:return(0,g.tZ)(u.KT,{...k.data,goToNextStep:x,goToPrevStep:v,isLoading:k.data?.step===s.F.FinaliseActivation});case s.F.ActivationDone:return n||(n=(0,g.tZ)(u.V6,{onClose:O}));case s.F.ShowError:return(0,g.tZ)(u.Nq,{...k.data,onClose:A});case s.F.GenerateNewKey:return a||(a=(0,g.tZ)(u.gq,{requestActivation:C,resetActivationFlow:f}));case s.F.CancelGenerateNewKey:return w||(w=(0,g.tZ)(u.rF,{goToPrevStep:v,onClose:A}));default:return}})()}),(0,g.tZ)(l.Vq,{isOpen:D,dialogClassName:i()(h.Ht),disableScrolling:!0,closeActionLabel:y(b),onClose:()=>T(!D),"aria-label":"account-recovery-key-generation-cancel-dialog",children:(0,g.tZ)(u.xo,{goBack:()=>{T(!D),E(!0)},resetActivationFlow:()=>{A(),T(!D),e()},isFeatureEnabled:N})})]})}},85823:(e,t,n)=>{"use strict";n.d(t,{EZ:()=>r,SY:()=>s,aJ:()=>o});var a=n(73704),i=n(45272);const r=e=>{(0,i.Kz)(new a.UserDeleteAccountRecoveryKeyEvent({deleteKeyReason:e}))},o=()=>{(0,i.Kz)(new a.UserCreateAccountRecoveryKeyEvent({flowStep:a.FlowStep.Cancel}))},s=()=>{(0,i.Kz)(new a.UserCreateAccountRecoveryKeyEvent({flowStep:a.FlowStep.Complete}))}},35793:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var a=n(96832),i=n(73704),r=n(88203),o=n(45272),s=n(97483);const l={ARK_ACTIVATION_DISPLAY_KEY_STEP_WRONG_KEY:"webapp_account_recovery_key_third_step_wrong_key_error"};function c(e){const{translate:t}=(0,r.Z)(),[n,c]=(0,a.useState)(""),[d,p]=(0,a.useState)("");return{inputValue:n,inputError:d,isInputValid:n.length===s.Yh&&!d,handleChangeInputValue:n=>{const a=("string"==typeof n?n:n.target.value).replaceAll("-","").toUpperCase();p(""),a.length===s.Yh&&a!==e&&(p(t(l.ARK_ACTIVATION_DISPLAY_KEY_STEP_WRONG_KEY)),(0,o.Kz)(new i.UserCreateAccountRecoveryKeyEvent({flowStep:i.FlowStep.Error,createKeyErrorName:i.CreateKeyErrorName.WrongConfirmationKey}))),c(a)}}}},54350:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(48038),i=n(5465);const r=()=>{const e=(0,a.qr)({queryConfig:{query:i.C.getAccountAuthenticationType}},[]);return{status:e.status,isMPLessUser:e.status===a.rq.Success&&"invisibleMasterPassword"===e.data}}},84133:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var a=n(48038),i=n(5465);function r(){return(0,a.qr)({queryConfig:{query:i.C.getIsRecoveryEnabled}},[])}},33988:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var a=n(48038),i=n(5465);function r(){const e=(0,a.qr)({queryConfig:{query:i.C.getIsSSOUser}},[]);return!(e.status!==a.rq.Success||!e.data)}},26564:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var a=n(26667),i=n(24507),r=n(51031);function o(){const{data:e,status:t}=(0,i.k)(a.n,"getCurrentUserStatus");return{isPinCodeEnabled:e?.isPinCodeEnabled,isPinCodeStatusLoading:t===r.rq.Loading}}},45026:(e,t,n)=>{"use strict";n.d(t,{j:()=>I});var a=n(63847),i=n(42938),r=n(74481),o=n(92077),s=n(96832),l=n(14900),c=n(88203),d=n(72133),p=n(29020),u=n(22903),_=n(36351);const m=({description:e,subdescription:t,animation:n,shouldLoopAnimation:i=!1,progressValue:r=0,children:o})=>{const{translate:s}=(0,c.Z)();return(0,_.BX)(a.k,{sx:{width:"460px",flexDirection:"column",alignItems:"center"},children:[(0,_.tZ)(d.Z,{height:65,width:65,animationParams:{renderer:"svg",animationData:n,loop:i,autoplay:!0}}),(0,_.tZ)(p.n,{sx:{marginTop:"16px"},children:s("_common_generic_percentage",{number:r})}),(0,_.tZ)(u.X,{sx:{textAlign:"center",margin:"36px 0 24px 0"},as:"h1",children:e}),t?(0,_.tZ)(p.n,{children:t}):null,o]})};var h=n(56810);const g=({progressValue:e,onBack:t})=>{const{translate:n}=(0,c.Z)();return(0,_.tZ)(m,{description:n("webapp_account_security_settings_changemp_error_desc"),subdescription:n("webapp_account_security_settings_changemp_error_sub_desc"),animation:h,progressValue:e,children:(0,_.tZ)("section",{className:"actionsSection--heRhhR1FQu",children:(0,_.tZ)(l.zxk,{type:"button",nature:"primary",size:"small",onClick:t,children:n("webapp_account_security_settings_changemp_error_button_goback")})})})};var b=n(21548);const w=({progressValue:e})=>{const{translate:t}=(0,c.Z)();return(0,_.tZ)(m,{description:t("webapp_account_security_settings_changemp_loading_desc"),subdescription:t("webapp_account_security_settings_changemp_loading_warning"),animation:b,shouldLoopAnimation:!0,progressValue:e})};var y=n(68999),f=n(5063),x=n(9205);const S=({progressValue:e,onDone:t})=>{const{translate:n}=(0,c.Z)();return(0,_.BX)(m,{description:n("webapp_account_security_settings_changemp_success_desc"),animation:x,progressValue:e,children:[(0,_.tZ)(y.z,{type:"button",size:"small",onClick:t,children:n("webapp_account_security_settings_changemp_success_button_done")}),(0,_.tZ)(f.k,{sx:{marginTop:"28px"},title:n("webapp_account_security_settings_tip_generate_new_recovery_key"),mood:"brand"})]})};var v=n(5465),C=n(48038),Z=n(95075);let k=function(e){return e.NOT_STARTED="NOT_STARTED",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e}({});const I=()=>{const e=(0,o.k6)(),{routes:t}=(0,o.Xo)(),{status:n,progressValue:l}=function(){const[e,t]=(0,s.useState)(k.NOT_STARTED),[n,a]=(0,s.useState)(0);(0,C.lU)((n=>{n!==C.ae.KILLED||[k.SUCCESS,k.NOT_STARTED].includes(e)||t(k.FAILURE)}),[e]);const i=(0,C.K_)({live:v.C.liveChangeMasterPasswordStatus},[]);return(0,s.useEffect)((()=>{if(i.status!==C.iD.Received||!i.data)return;const{type:e,value:n}=i.data;e===Z.FD.DONE?t(k.SUCCESS):e===Z.FD.ERROR?t(k.FAILURE):t(k.LOADING),a(n)}),[i]),{status:e,progressValue:n}}(),c=()=>e.push(t.reactivatePinAndArk);return n===k.NOT_STARTED?null:(0,_.tZ)(r.Y,{children:(0,_.BX)(a.k,{role:"complementary",sx:{background:"ds.background.alternate",padding:"40px",top:0,left:0,zIndex:"140",position:"absolute",width:"100vw",height:"100vh",flexDirection:"column",alignItems:"flex-start"},children:[(0,_.tZ)(i.T,{height:40,name:"DashlaneLockup",sx:{position:"relative"}}),(0,_.BX)(a.k,{justifyContent:"center",flexDirection:"column",alignContent:"center",sx:{margin:"max(100px)",flex:1,alignSelf:"center"},children:[n===k.LOADING?(0,_.tZ)(w,{progressValue:l}):null,n===k.FAILURE?(0,_.tZ)(g,{progressValue:l,onBack:c}):null,n===k.SUCCESS?(0,_.tZ)(S,{progressValue:l,onDone:c}):null]})]})})}},23816:(e,t,n)=>{"use strict";n.d(t,{w:()=>L});var a=n(96832),i=n(51031),r=n(14900),o=n(86498),s=n(80936),l=n(88203),c=n(67678),d=n(90248),p=n(95727),u=n(71951),_=n(33918),m=n(42670),h=n(9805),g=n(36351),b=function(e){return e.AddTo="addTo",e.RemoveFrom="removeFrom",e}(b||{});const w=(0,a.createContext)({}),y=({children:e})=>{const[t,n]=(0,a.useState)(null);return(0,g.tZ)(w.Provider,{value:{activeAction:t,toggleActiveAction:e=>n((t=>t===e?null:e))},children:e})},f=(0,n(44810).F4)({from:{transform:"scale3d(0, 0, 1)"},to:{transform:"scale3d(1, 1, 1)"}}),x=({cardOrientation:e,...t})=>(0,g.tZ)("div",{sx:{position:"absolute",right:"calc(100% + 2px)",top:"top"===e?"-38px":"unset",bottom:"bottom"===e?"-8px":"unset",minWidth:"240px",backgroundColor:"ds.container.agnostic.neutral.supershy",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)",borderRadius:"4px",transformOrigin:"bottom right",animation:`${f} 150ms`},...t}),S=({children:e,text:t,iconName:n,actionType:i,...r})=>{const{activeAction:o,toggleActiveAction:s}=(0,a.useContext)(w),l=(0,a.useRef)(null),[c,d]=(0,a.useState)("top"),{openDialog:p,shouldShowFrozenStateDialog:u}=(0,m.Ub)();return(0,a.useEffect)((()=>{(()=>{const e=l.current;if(!e)return;const t=e.getBoundingClientRect(),n=window.innerHeight;t.top<n/2?d("top"):d("bottom")})()}),[]),null===u?null:(0,g.BX)("div",{ref:l,children:[(0,g.tZ)(h.s,{onClick:()=>{u?p():s(i)},icon:n,text:t,hasArrowIcon:!0}),o===i&&(0,g.tZ)("div",{sx:{position:"relative"},children:(0,g.tZ)(x,{cardOrientation:c,...r,children:e})})]})};var v=n(8180),C=n(46525),Z=n(68002),k=n(83459),I=n(30894),E=n(68819);const D=({itemId:e,itemName:t,itemSpaceId:n,canShare:m,itemUrl:h,isItemProtected:w,onActionComplete:y})=>{var f;const{translate:x}=(0,l.Z)(),{openProtectedItemsUnlocker:D}=(0,I.tY)(),{openDialog:T,closeDialog:A}=(0,c.R)(),{showAlert:N}=(0,o.V)(),{addToNewCollection:O,addToExistingCollection:P}=(()=>{const{translate:e}=(0,l.Z)(),{commandHandler:t}=(0,Z.$)(),{createCollection:n,updateCollection:a}=(0,v.u)(C.v),i=e("_common_generic_error");return{addToNewCollection:async a=>{const{collectionName:r,itemName:o,itemId:s,spaceId:l}=a,c=e("collections_quick_action_add_create_success_toast_message",{vaultItemName:o,collectionName:r});return t((()=>n({content:{name:r,spaceId:null!=l?l:"",vaultItems:[{id:s}]}})),c,i)},addToExistingCollection:async(n,r)=>{const{collectionName:o,itemName:s,itemId:l}=r,c=e("collections_quick_action_add_update_success_toast_message",{vaultItemName:s,collectionName:o});return t((()=>a({id:n.id,collection:{vaultItems:[{id:l}]}})),c,i)}}})(),{addToSharedCollection:L}=(()=>{const{translate:e}=(0,l.Z)(),{addItemsToCollections:t}=(0,v.u)(k.a),{commandHandler:n}=(0,Z.$)(),a=e("_common_generic_error");return{addToSharedCollection:(i,r,o)=>{const{collectionName:s,itemName:l,itemId:c}=r,d=e("collections_quick_action_add_update_success_toast_message",{vaultItemName:l,collectionName:s});return n((()=>t({itemIds:[c],collectionPermissions:[{collectionId:i.id,permission:o}]})),d,a)}}})(),{allCollections:R}=(0,p.bA)(),[M,B]=(0,a.useState)(""),z=(0,s.I)(),U=(0,a.useMemo)((()=>R.filter((t=>(z.status===i.rq.Success&&z.isDisabled||t.spaceId===n)&&!t.vaultItems.some((t=>t.id===e))))),[R,z]);return(0,g.tZ)(S,{text:x("collections_quick_action_add_menu_text"),iconName:"CollectionOutlined",actionType:b.AddTo,children:(0,g.tZ)(d.x5,{collections:U,id:`add_to_collection_action_for_${e}`,input:M,spaceId:n,onSubmit:(a=M)=>{if((a=a.trim()).length<=0)return;const i=R.find((e=>e.name===a&&e.spaceId===n)),o={collectionName:a,itemName:t,itemId:e,spaceId:n,url:h};if(!i)return void O(o).then((()=>B("")));if(0===U.filter((e=>e.name===a)).length)return void N(x("webapp_collection_already_created_warning"),r.BLW.ERROR);const s=()=>{i.isShared?((e,n)=>{if(m){const a=t=>L(e,n,t).then((()=>{A(),B("")}));T((0,g.tZ)(_.B,{onSubmit:a,onClose:A,itemTitle:t,collectionName:e.name}))}else T(f||(f=(0,g.tZ)(u.Q,{onClose:A})))})(i,o):P(i,o).then((()=>B(""))),y?.()};if(w)return D({action:I.P7.Copy,itemType:E.R.Password,successCallback:s,showNeverAskOption:!0,credentialId:e});s()},setInput:B,sx:{width:"inherit","> div:first-of-type":{margin:"8px",width:"unset"}}})})};var T=n(86342),A=n(50479);const N=({credentialId:e,title:t,onUndoClicked:n})=>{const{allCollections:a}=(0,p.bA)(),{translate:i}=(0,l.Z)(),{commandHandler:r}=(0,Z.$)(),{updateCollection:o}=(0,v.u)(C.v),{removeItemFromCollections:s}=(0,v.u)(k.a);return(0,g.tZ)(S,{text:i("webapp_credentials_quick_action_delete_collection"),iconName:"ActionCloseOutlined",actionType:b.RemoveFrom,children:(0,g.tZ)(d.EO,{children:a.flatMap((a=>a.vaultItems.some((t=>t.id===e))?(0,g.tZ)(A.j,{collection:a,onClick:()=>(a=>{const l=a.isShared?void 0:()=>n(a,e);r((()=>a.isShared?s({itemId:e,collectionIds:[a.id]}):o({id:a.id,collection:{vaultItems:[{id:e}]},operationType:T.C.SUBSTRACT_VAULT_ITEMS})),i("webapp_credentials_quick_action_remove_collection_alert_success",{title:t,collectionName:a.name}),i("_common_generic_error"),l)})(a)}):[]))})})},O=({credentialId:e,title:t,onUndoClicked:n})=>{const{activeCollection:a}=(0,p.bA)(),{translate:i}=(0,l.Z)(),{commandHandler:r}=(0,Z.$)(),{updateCollection:o}=(0,v.u)(C.v),{removeItemFromCollections:s}=(0,v.u)(k.a);return a?.id?(0,g.tZ)(h.s,{onClick:()=>{const l="isShared"in a&&a.isShared,c=l?void 0:()=>n(a,e);r((()=>l?s({itemId:e,collectionIds:[a.id]}):o({id:a.id,collection:{vaultItems:[{id:e}]},operationType:T.C.SUBSTRACT_VAULT_ITEMS})),i("webapp_credentials_quick_action_remove_collection_alert_success",{title:t,collectionName:a.name}),i("_common_generic_error"),c)},closeOnClick:!0,icon:"ActionCloseOutlined",text:i("webapp_credentials_quick_action_delete_from_active_collection")}):null},P=({itemId:e,itemName:t})=>{const{activeCollection:n,allCollections:a}=(0,p.bA)(),{updateCollection:i}=(0,v.u)(C.v),r=(e,t)=>i({id:e.id,collection:{vaultItems:[{id:t}]},operationType:T.C.APPEND_VAULT_ITEMS});return n?(0,g.tZ)(O,{credentialId:e,title:t,onUndoClicked:r}):a.some((t=>t.vaultItems.some((t=>t.id===e))))?(0,g.tZ)(N,{credentialId:e,title:t,onUndoClicked:r}):null},L=({itemSpaceId:e,...t})=>(0,g.BX)(y,{children:[(0,g.tZ)(D,{itemSpaceId:e,...t}),(0,g.tZ)(P,{...t})]})},68014:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,V:()=>o});var a=n(27637),i=n(36351);const r=e=>{switch(e){case a.Hz.DisabledInTAC:return{title:"team_sharing_disabled",description:"team_sharing_disabled_description"};case a.Hz.EditorRole:return{title:"webapp_collection_sharing_disabled_editor_title",description:"webapp_collection_sharing_disabled_editor_description"};case a.Hz.LimitedRightItems:return{title:"webapp_collection_sharing_disabled_limited_title",description:"webapp_collection_sharing_disabled_limited_description"};default:return}},o=({tooltipTitle:e,tooltipDescription:t})=>(0,i.BX)("div",{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"16px",borderRadius:"8px",textAlign:"left"},children:[(0,i.tZ)("div",{sx:{paddingBottom:"8px",fontWeight:"600",fontSize:"18px"},children:e}),(0,i.tZ)("div",{children:t})]})},9503:(e,t,n)=>{"use strict";n.d(t,{n:()=>c});var a=n(68999),i=n(88203),r=n(16019),o=n(36351);const s={background:"ds.container.agnostic.neutral.supershy",borderRadius:"10px",boxShadow:"0 0 3px 0 rgba(0, 0, 0, 0.04), 0 1px 2px 0 rgba(0, 0, 0, 0.08)",cursor:"default",margin:"0 2px",":hover:enabled, :active:enabled, :focus:enabled":{background:"ds.container.agnostic.neutral.supershy"}},l={borderRadius:"10px",margin:"0 2px"},c=({isNotesViewDisplayed:e,setTab:t,additionalStyle:n})=>{const{translate:c}=(0,i.Z)();return(0,o.BX)("div",{sx:{background:"ds.container.expressive.neutral.quiet.disabled",borderRadius:"10px",margin:"0 32px",padding:"4px 2px",width:"fit-content",...n},children:[(0,o.tZ)(a.z,{onClick:()=>t(r.f.Passwords),intensity:"supershy",mood:e?"neutral":"brand",sx:e?l:s,children:c("webapp_sidemenu_item_passwords")}),(0,o.tZ)(a.z,{onClick:()=>t(r.f.SecureNotes),intensity:"supershy",mood:e?"brand":"neutral",sx:e?s:l,children:c("webapp_sidemenu_item_secure_notes")})]})}},81012:(e,t,n)=>{"use strict";n.d(t,{jJ:()=>Fe,K7:()=>T,AN:()=>L,mu:()=>M,Zy:()=>ae});var a=n(8180),i=n(46525),r=n(88203),o=n(68002),s=n(78956),l=n(36351);const c=({title:e,content:t,confirmAction:n,onClose:a,isDestructive:i,isOpen:o=!0,isScrollingDisabled:c=!0,shouldShowCancelButton:d=!0})=>{const{translate:p}=(0,r.Z)();return(0,l.tZ)(s.Vq,{onClose:a,isOpen:o,disableScrolling:c,closeActionLabel:p("_common_dialog_dismiss_button"),title:e,titleProps:{id:"dialogTitle"},isDestructive:i,actions:{primary:n||void 0,secondary:d?{children:p("_common_action_cancel"),onClick:e=>{e.stopPropagation(),a()}}:void 0},children:t})};var d=n(96832),p=n(90248),u=n(29020);const _=()=>{const{translate:e}=(0,r.Z)();return(0,l.tZ)(u.n,{sx:{color:"ds.text.danger.quiet",maxWidth:"480px"},children:e("collections_dialog_create_already_exist_error")})};var m;const h=({input:e,setInput:t,hasInputError:n})=>{const{translate:a}=(0,r.Z)();return(0,l.BX)(d.Fragment,{children:[(0,l.tZ)(p.rz,{id:"createActionSidemenuInputId",input:e,setInput:t,label:a("collections_dialog_create_name_input_label")}),n&&(m||(m=(0,l.tZ)(_,{})))]})};var g=n(14900),b=n(48038),w=n(80936),y=n(19122),f=n(67406),x=n(51728);const S=(0,d.memo)((({spaceId:e,setSpaceId:t,isLocked:n})=>{const{translate:a}=(0,r.Z)(),{teamId:i}=(0,y.fV)(),o=(0,x.b)(e),s=(0,w.I)();return!i||s.status!==b.rq.Success||s.isDisabled?null:(0,l.tZ)(g.ua7,{content:a("collections_dialog_edit_space_id_locked_info",{space:o}),passThrough:!n,children:(0,l.tZ)("div",{children:(0,l.tZ)(f.M,{id:"createActionSidemenuSpaceInputId",spaceId:null!=e?e:"",hideLabel:!0,disabled:n,onChange:t,isUsingNewDesign:!0,sx:{flex:"1"}})})})}));var v=n(63847);const C=({initialName:e="",initialSpaceId:t="",lockedSpaceId:n,collections:a})=>{var i;const[r,o]=(0,d.useState)(e),[s,l]=(0,d.useState)(null!=(i=null!=n?n:t)?i:""),[c,p]=(0,d.useState)(!1),u=(0,d.useMemo)((()=>r.trim()),[r]),_=(0,d.useMemo)((()=>Boolean(u)),[u]),m=(0,d.useMemo)((()=>void 0!==n),[n]),h=(0,d.useMemo)((()=>!_||c),[c,_]),g=(0,d.useCallback)((()=>{const e=a.some((e=>e.name===u&&e.spaceId===s));return p(e),e}),[a,s,u]),b=(0,d.useCallback)((e=>{o(e),p(!1)}),[]);return{name:r,spaceId:s,isNameValid:_,isDuplicate:c,isLocked:m,isDisabled:h,checkDuplicate:g,onNameChange:b,onSpaceChange:l}},Z=({name:e,spaceId:t,isLocked:n,isDuplicated:a,onNameChange:i,onSpaceChange:r})=>(0,l.BX)(v.k,{gap:"8px",flexDirection:"column",children:[(0,l.tZ)(h,{input:e,setInput:i,hasInputError:null!=a&&a}),(0,l.tZ)(S,{spaceId:t,setSpaceId:r,isLocked:n})]});var k,I=n(41584),E=n(95727);const D="createDialogFormId",T=e=>{const{translate:t}=(0,r.Z)(),{createCollection:n}=(0,a.u)(i.v),{commandHandler:s,isLoading:p}=(0,o.$)(),{allCollections:u}=(0,E.bA)(),{onClose:_}=e,{teamId:m}=(0,y.fV)(),{name:h,spaceId:g,isLocked:b,isDisabled:w,isDuplicate:f,checkDuplicate:x,onNameChange:S,onSpaceChange:v}=C({initialSpaceId:m?String(m):void 0,collections:u}),T=(0,d.useCallback)((async()=>{x()||(await s((()=>n({content:{name:h,spaceId:g}})),t("collections_dialog_create_success_toast_message",{name:h}),t("collections_dialog_create_error_toast_message")),_())}),[x,s,n,h,_,g,t]),A=(0,d.useCallback)((e=>{e.preventDefault(),T()}),[T]);return(0,l.tZ)(c,{title:t("collections_dialog_create_header_title"),content:(0,l.BX)(d.Fragment,{children:[k||(k=(0,l.tZ)(I.T,{})),(0,l.tZ)("form",{id:D,onSubmit:A,children:(0,l.tZ)(Z,{spaceId:g,name:h,isLocked:b,isDuplicated:f,onNameChange:S,onSpaceChange:v})})]}),confirmAction:{disabled:w,isLoading:p,children:t("collections_dialog_create_button_text"),type:"submit",form:D},...e})};var A,N=n(22522),O=n(83459),P=n(56501);const L=({id:e,isShared:t=!1,name:n,isOpen:s,onClose:d,setIsSharedAccessDialogOpen:p,...u})=>{var _,m;const{translate:h}=(0,r.Z)(),{deleteCollection:g}=(0,a.u)(i.v),{commandHandler:b,isLoading:w}=(0,o.$)(),{deleteSharedCollection:y}=(0,a.u)(O.a),{users:f,userGroups:x}=(0,P._)([e]);if(!f&&!x)return(0,l.tZ)(c,{content:A||(A=(0,l.tZ)(N.Z,{})),onClose:d,title:"",isOpen:s});const S=(null!=(_=f?.length)?_:0)+(null!=(m=x?.length)?m:0)>1,v=S?"webapp_sharing_collection_cant_delete":"collections_dialog_delete_header_title",C=S?"webapp_sharing_collection_cant_delete_description":"collections_dialog_delete_info_text";return(0,l.tZ)(c,{title:h(v),content:h(C),isOpen:s,confirmAction:S?{children:h("webapp_sharing_permissions_revoke"),onClick:()=>{p(!0),d()},isLoading:w}:{children:h("collections_delete_button_text"),onClick:async a=>{a.preventDefault();const i=t?y:g;await b((()=>i({id:e,name:n})),h("collections_dialog_delete_success_toast_message",{name:n}),h("collections_dialog_delete_error_toast_message")),d()},isLoading:w},isDestructive:!0,onClose:d,...u})},R="editDialogFormId",M=({id:e,isShared:t,name:n,spaceId:s,onClose:p,...u})=>{const{translate:_}=(0,r.Z)(),{updateCollection:m}=(0,a.u)(i.v),{renameCollection:h}=(0,a.u)(O.a),{commandHandler:g,isLoading:b}=(0,o.$)(),{allCollections:w}=(0,E.bA)(),{name:y,spaceId:f,isLocked:x,isDisabled:S,isDuplicate:v,checkDuplicate:k,onNameChange:I,onSpaceChange:D}=C({initialName:n,collections:w,lockedSpaceId:s}),T=(0,d.useCallback)((async()=>{if(!k()){if(t){const t={collectionId:e,newName:y};await g((()=>h(t)),_("_common_toast_changes_saved"),_("_common_generic_error"))}else await g((()=>m({id:e,collection:{name:y}})),_("_common_toast_changes_saved"),_("_common_generic_error"));p()}}),[e,y,t,k,p,g,h,m,_]),A=(0,d.useCallback)((e=>{e.preventDefault(),T()}),[T]);return(0,l.tZ)(c,{title:_("collections_dialog_edit_header_title"),content:(0,l.tZ)("form",{id:R,onSubmit:A,children:(0,l.tZ)(Z,{spaceId:f,name:y,isLocked:x,isDuplicated:v,onNameChange:I,onSpaceChange:D})}),confirmAction:{disabled:S,isLoading:b,children:_("_common_action_save"),type:"submit",form:R},onClose:p,...u})};var B=n(5063),z=n(11833),U=n(27637),F=n(55357),X=n(86498),q=n(47124),H=n(20733),V=n(58037),W=n(59115),j=n(75968),G=n(13252),K=n(97227),Y=n(95355);const $="webapp_sharing_invite_item_select_dropdown_manager_label",Q="webapp_sharing_invite_item_select_dropdown_editor_label",J={whiteSpace:"normal"},ee=({isUpdatePending:e,isUserCollectionManager:t,canEditRoles:n,isGroup:a,isLastGroupMember:i,currentUser:o,memberToConfirm:s,member:c,setEditorManagerMemberToConfirm:p})=>{var _;const{translate:m}=(0,r.Z)(),{isStarterTeam:h,isAdmin:g}=(0,K.Te)(),b=h&&g,w=c.status===G.qb.Pending?m("webapp_sharing_collection_access_dialog_revoke_invite_button"):m("webapp_sharing_collection_access_dialog_revoke_button"),y=[{value:U.Yt.Editor,label:m(Q),description:(0,l.tZ)(Y.m,{labelText:(0,l.BX)(d.Fragment,{children:[(0,l.tZ)(u.n,{as:"h2",children:m(Q)}),(0,l.tZ)(u.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",sx:J,children:m("webapp_sharing_invite_item_select_dropdown_editor_description")})]}),isStarterAdmin:b})},{value:U.Yt.Manager,label:m($),description:(0,l.tZ)(Y.m,{labelText:(0,l.BX)(d.Fragment,{children:[(0,l.tZ)(u.n,{as:"h2",children:m($)}),(0,l.tZ)(u.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",sx:J,children:m("webapp_sharing_invite_item_select_dropdown_manager_description")})]}),upgradeText:(0,l.tZ)(u.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",sx:J,children:m("webapp_sharing_invite_item_select_dropdown_manager_upgrade")}),hasIcon:!0,isStarterAdmin:b,memberPermission:c.sharedCollectionRole}),isDisabled:!!b},{value:"revoke",label:w,description:(0,l.tZ)(Y.m,{labelText:(0,l.BX)(d.Fragment,{children:[(0,l.tZ)(u.n,{as:"h2",color:"ds.text.danger.quiet",children:w}),(0,l.tZ)(u.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",sx:J,children:m("webapp_shared_access_item_select_dropdown_revoke_description")})]}),isStarterAdmin:b})}],f=y.find((e=>{const t=s.find((e=>e.id===c.id)),n=t?t.permission:c.sharedCollectionRole;return e.value===n}));return(0,l.tZ)(W.m,{name:"sharedAccessSelect",id:"shared-access-select",label:m("webapp_sharing_invite_item_select_dropdown_label"),labelPersists:!1,value:null!=(_=f?.value)?_:"revoke",onChange:e=>(e=>{const t=[...s],n=s.find((e=>e.id===c.id)),i="revoke"===e?void 0:e;n?n.permission=i:t.push({...c,permission:i,isGroup:a}),p(t)})(e),portal:document.body,disabled:c.id===o||i||!t||!n||e,sx:{width:"150px"},children:y.map((e=>(0,l.tZ)(j.$,{value:e.value,displayValue:e.label,disabled:e.isDisabled,children:e.description},e.value)))})};var te;const ne=({isGroup:e=!1,isLastGroupMember:t=!1,member:n,...a})=>{var i;const r=(0,V.j)()?.login;return(0,l.BX)(v.k,{flexWrap:"nowrap",justifyContent:"space-between",sx:{width:"576px"},children:[(0,l.BX)(v.k,{alignItems:"center",flexWrap:"nowrap",sx:{height:"64px",overflow:"hidden"},children:[e?(0,l.tZ)(v.k,{alignItems:"center",justifyContent:"center",sx:{background:"ds.container.agnostic.neutral.standard",border:"1px solid ds.border.neutral.quiet.idle",borderRadius:"50%",height:"35px",width:"35px"},children:te||(te=(0,l.tZ)(q.JO,{name:"GroupOutlined"}))}):(0,l.tZ)(H.S,{email:null!=(i=n.label)?i:"",avatarSize:36,placeholderFontSize:18,placeholderTextType:"firstTwoCharacters"}),(0,l.tZ)(u.n,{color:"ds.text.neutral.catchy",textStyle:"ds.body.standard.regular",sx:{ml:"16px",overflow:"hidden",textOverflow:"ellipsis"},children:n.label})]}),(0,l.tZ)(v.k,{alignItems:"center",flexWrap:"nowrap",sx:{height:"64px",overflow:"hidden",flexShrink:"0"},children:(0,l.tZ)(ee,{isLastGroupMember:t,isGroup:e,currentUser:r,member:n,...a})})]})},ae=({id:e,onClose:t,isOpen:n=!0})=>{var i,o;const[s,p]=(0,d.useState)([]),[u,_]=(0,d.useState)(null),[m,h]=(0,d.useState)(!1),b=(0,z.u)(),{revokeCollectionMembers:w,updateCollectionMembers:y}=(0,a.u)(O.a),{showAlert:f}=(0,X.V)(),{translate:x}=(0,r.Z)(),S=(0,P._)([e]),{role:v,canEditRoles:C}=(0,F.n)(e),Z=v===U.Yt.Manager,k=null!=(i=S?.userGroups)?i:[],I=null!=(o=S?.users)?o:[],E=(0,d.useCallback)((n=>{b.wrap((async()=>{const a=s.filter((e=>null!=n?n:e.isGroup)),i=s.filter((e=>{var t;return null!=(t=!e.isGroup)?t:!n})),r=a.filter((e=>!e.permission)),o=i.filter((e=>!e.permission));if(r.length||o.length){const t={collectionId:e};r.length&&(t.userGroupIds=r.map((e=>e.id))),o.length&&(t.userLogins=o.map((e=>e.id))),(t.userGroupIds||t.userLogins)&&await w(t)}if(a.length||i.length){const t={collectionId:e};a.length&&!r.length&&(t.userGroupRecipients=a.map((e=>{var t;return{groupId:e.id,role:null!=(t=e?.permission)?t:U.Yt.Editor}}))),i.length&&!o.length&&(t.userRecipients=i.map((e=>{var t;return{login:e.id,role:null!=(t=e?.permission)?t:U.Yt.Editor}}))),(t.userGroupRecipients||t.userRecipients)&&await y(t)}h(!1),f(x("webapp_collection_shared_access_updated"),g.BLW.SUCCESS),p([]),t()}),(()=>{h(!1),f(x("webapp_sharing_invite_collection_share_error"),g.BLW.ERROR)}))()}),[b,s,e]),D=1===k.length&&0===I.length;return(0,l.tZ)(c,{title:x("webapp_sharing_collection_access_dialog_title"),shouldShowCancelButton:null!==s,isScrollingDisabled:!1,confirmAction:{onClick:()=>E(),isLoading:m,disabled:!s.length,children:x("webapp_sharing_collection_access_update_button")},content:(0,l.BX)("div",{sx:{marginBottom:"40px"},children:[!Z&&(0,l.tZ)(B.k,{mood:"brand",title:x("webapp_sharing_collection_access_editor_infobox")}),k.map((e=>(0,l.tZ)(ne,{isGroup:!0,isLastGroupMember:D,isUpdatePending:m,member:e,memberToConfirm:s,isUserCollectionManager:Z,canEditRoles:C,setEditorManagerMemberToConfirm:p},e.id))),k.length>0&&(0,l.tZ)("div",{sx:{width:"100%",borderBottom:"1px solid ds.border.neutral.quiet.idle"}}),I.map((e=>(0,l.tZ)(ne,{isUpdatePending:m,member:e,memberToConfirm:s,isUserCollectionManager:Z,canEditRoles:C,setEditorManagerMemberToConfirm:p},e.id)))]}),onClose:()=>{u&&_(null),s.length?p([]):t(),t()},isOpen:n})};var ie=n(40577),re=n(24750),oe=n(88331),se=n(39431),le=n(93314),ce=n(50094),de=n(16019),pe=n(24507),ue=n(51031),_e=n(13134),me=n(31062),he=n(11744),ge=n(80610),be=n(14646);const we=(0,d.memo)((function({title:e,description:t,isShared:n,isDisabled:a,isSelected:i,canShare:o,onToggle:s,thumbnail:c,tooltip:d}){const{translate:p}=(0,r.Z)(),u=a?void 0:s;return(0,l.tZ)(me.u,{content:d,wrapTrigger:!0,children:(0,l.tZ)(he.H,{sx:{cursor:a?"not-allowed":"pointer"},"aria-label":e,onClick:u,checkboxSlot:(0,l.tZ)(ge.X,{"aria-label":p("webapp_collection_bulk_add_collection_checkbox_aria_label",{itemName:e}),checked:i,readOnly:a,tooltip:d,onChange:u}),children:(0,l.tZ)(be.s,{sx:{cursor:a?"not-allowed":"pointer"},title:e,description:t,icons:n?["SharedOutlined"]:void 0,badge:n&&!o?{label:p("webapp_collection_sharing_disabled_limited_title"),mood:"neutral",intensity:"supershy"}:void 0,thumbnail:c})})})}));var ye=n(94307);const fe=({id:e,title:t,description:n,canShare:a,isShared:i,isDisabled:r,tooltip:o,thumbnail:s,type:c,onToggle:d})=>{const{isSelected:p}=(0,ye.f2)(),{toggleSelectedItems:u}=(0,ye.a8)(),_=p(e,c);return _&&r&&u(new Set([e]),c),(0,l.tZ)(we,{title:t,description:n,isShared:i,isDisabled:r,isSelected:_,canShare:a,onToggle:d,tooltip:o,thumbnail:s})};var xe=n(26555);const Se=({credential:e,domain:t,isShared:n,canShare:a,isSharedCollection:i,onCheckCredential:o})=>{const{translate:s}=(0,r.Z)(),{id:c,itemName:p,email:u,username:_}=e,m=u||_,h=i&&n&&!a,g=(0,d.useCallback)((t=>o(e.id,"credentials",t)),[e,o]);return(0,l.tZ)(fe,{type:"credentials",id:c,title:p,description:m,isShared:n,isDisabled:h,canShare:a,onToggle:g,tooltip:h&&s("webapp_collection_bulk_disabled_tooltip_limited_right"),thumbnail:(0,l.tZ)(xe.h,{domainURL:t})})};var ve=n(84925),Ce=n(1011),Ze=n(31449),ke=n(26658);const Ie=e=>{const{items:t,matchCount:n,notFoundText:a,setPageNumber:i,renderItem:r}=e,o=(0,pe.k)(ve.X,"getPermissionForItems",{itemIds:t.map((e=>e.id))}),s=t.length<n,c=(0,d.useCallback)(((e,t)=>{const n=!!o?.data?.[e.id],a=!!o?.data?.[e.id]?.capabilities.canShare;return r(e,t,{isShared:n,canShare:a})}),[o.data,r]);return o.status===ue.rq.Success&&o.data?t.length?(0,l.tZ)(ke.C,{onNextPage:i,hasMore:s,ListComponent:Ce.a,sx:{paddingBottom:"20px"},children:t.map(c)}):(0,l.tZ)(Ze.vN,{text:a}):null},Ee=e=>{const{credentials:t,matchCount:n,setPageNumber:a,isSharedCollection:i}=e,o=(0,ye.p7)(t),{translate:s}=(0,r.Z)(),c=(0,d.useMemo)((()=>t.map((e=>new _e.Y(e.URL).getRootDomain()))),[t]),p=(0,d.useCallback)(((e,t,{isShared:n,canShare:a})=>(0,l.tZ)(Se,{credential:e,domain:c[t],isShared:n,canShare:a,isSharedCollection:i,onCheckCredential:o},e.id)),[c,i,o]);return(0,l.tZ)(Ie,{items:t,matchCount:n,notFoundText:s("webapp_sharing_invite_no_credentials_found"),setPageNumber:a,renderItem:p})};var De=n(18504);const Te=({secureNote:e,canShare:t,isSharedCollection:n,isShared:a,onCheckSecureNote:i})=>{const{translate:o}=(0,r.Z)(),{id:s,title:c,color:p,attachments:u=!1}=e,_=u&&u.length>0,m=_||n&&a&&!t,h=(0,d.useCallback)((t=>{i(e.id,"notes",t)}),[i,e]);return(0,l.tZ)(fe,{type:"notes",id:s,title:c,isShared:a,isDisabled:m,canShare:t,onToggle:h,tooltip:_?o("webapp_secure_notes_infobox_has_attachments"):m?o("webapp_collection_bulk_disabled_tooltip_limited_right"):null,thumbnail:(0,l.tZ)(De.G,{noteColor:p})})},Ae=e=>{const{secureNotes:t,matchCount:n,setPageNumber:a,isSharedCollection:i}=e,o=(0,ye.p7)(t),{translate:s}=(0,r.Z)(),c=(0,d.useCallback)(((e,t,{isShared:n,canShare:a})=>(0,l.tZ)(Te,{secureNote:e,isShared:n,canShare:a,isSharedCollection:i,onCheckSecureNote:o},e.id)),[i,o]);return(0,l.tZ)(Ie,{items:t,matchCount:n,notFoundText:s("webapp_sharing_invite_no_notes_found"),setPageNumber:a,renderItem:c})};var Ne=n(9503),Oe=n(70279),Pe=n(30894);const Le=()=>{const{translate:e}=(0,r.Z)(),{addItemsToCollections:t}=(0,a.u)(O.a),{commandHandler:n}=(0,o.$)(),i=e("_common_generic_error");return{addItemsToSharedCollection:(a,r,o)=>{const s=e("collections_add_new_items_success_toast_message",{itemCount:r.length,collectionName:a.name});return n((()=>t({itemIds:r,collectionPermissions:[{collectionId:a.id,permission:o}]})),s,i)}}};var Re=n(68819);const Me=({isOpen:e,onClose:t,collectionName:n,spaceId:c,isSharedCollection:p,collectionId:u,vaulItemsInCollection:_})=>{const{translate:m}=(0,r.Z)(),[h,g]=(0,d.useState)(de.f.Passwords),[b,w]=(0,d.useState)(""),[y,f]=(0,d.useState)(1),{commandHandler:x}=(0,o.$)(),{openProtectedItemsUnlocker:S}=(0,Pe.tY)(),{updateCollection:v}=(0,a.u)(i.v),[C,Z]=(0,d.useState)(!1),[k,I]=(0,d.useState)(G.y3.Limited),{getSelectedItems:E}=(0,ye.f2)(),{addItemsToSharedCollection:D}=Le(),T=E?.(["credentials","notes"])?.length>0,{data:A,status:N}=(0,pe.k)(oe.R,"search",{searchQuery:b,vaultItemTypes:[se.U.Credential,se.U.SecureNote],pageNumber:1,pageSize:20*y,propertyFilters:null!==c?[{property:"spaceId",value:c}]:void 0,propertySorting:{property:"title",direction:le.S.Ascend}}),O=()=>{w(""),t()},{data:P}=(0,pe.k)(ce.I,"getPreferencesForCredentials",{credentialIds:E(["credentials","notes"])}),L=!Array.isArray(P)||P.some((e=>e.requireMasterPassword)),R=(0,d.useMemo)((()=>{var e;return null!=(e=A?.credentialsResult.items.filter((e=>!_?.includes(e.id))))?e:[]}),[A?.credentialsResult.items,_]),M=(0,d.useMemo)((()=>{var e;return null!=(e=A?.secureNotesResult.items.filter((e=>!_?.includes(e.id))))?e:[]}),[A?.secureNotesResult.items,_]);return N!==ue.rq.Success||void 0===A?null:C?(0,l.tZ)(s.Vq,{onClose:()=>{Z(!1),O()},isOpen:C,closeActionLabel:m("_common_dialog_dismiss_button"),children:(0,l.tZ)(Oe.l,{goToStep:()=>{Z(!1)},onClick:()=>{const e=E(["credentials","notes"]);D({id:u,name:n},e,k),O(),Z(!1)},isCollectionSharing:!0,isLoading:!1,permission:k,onSelectPermission:I})}):(0,l.BX)(s.Vq,{onClose:O,isOpen:e,closeActionLabel:m("_common_dialog_dismiss_button"),sx:{height:"calc(100vh - 68px)"},"aria-label":m("webapp_collection_bulk_action_add_items"),children:[(0,l.tZ)(s.$N,{title:n?m("webapp_collection_add_items_dialog_title",{name:n}):""}),(0,l.tZ)(Ne.n,{isNotesViewDisplayed:h===de.f.SecureNotes,setTab:g,additionalStyle:{margin:"0"}}),(0,l.tZ)(re.U,{label:m("webapp_sidemenu_search_placeholder"),sx:{marginBottom:"8px"},value:b,onChange:e=>w(e.target.value)}),(0,l.BX)("div",{children:[h===de.f.Passwords?(0,l.tZ)(Ee,{credentials:R,matchCount:A.credentialsResult.matchCount,setPageNumber:f,isSharedCollection:p}):null,h===de.f.SecureNotes?(0,l.tZ)(Ae,{secureNotes:M,matchCount:A.secureNotesResult.matchCount,setPageNumber:f,isSharedCollection:p}):null]}),(0,l.tZ)(s.cN,{actions:{primary:{children:m("webapp_login_add_item_to_shared_collection_dialog_confirm_button"),onClick:()=>{const e=E(["credentials","notes"]),t=e.map((e=>({id:e}))),a=()=>{if(p)return Z(!0);x((()=>v({id:u,collection:{vaultItems:t}})),m("collections_add_new_items_success_toast_message",{itemCount:e.length,collectionName:n}),m("_common_generic_error")),O()};if(L){const e=P?.find((e=>e.requireMasterPassword));return S({action:Re.P.Export,itemType:Re.R.Password,successCallback:a,showNeverAskOption:!0,credentialId:e?e.id:""})}a()},disabled:!T},secondary:{children:m("_common_action_cancel")}}})]})};var Be=n(76745),ze=n(23434);const Ue=({isOpen:e,onClose:t,collectionName:n,spaceId:c,isSharedCollection:p,collectionId:u,vaulItemsInCollection:_})=>{const{translate:m}=(0,r.Z)(),[h,g]=(0,d.useState)(de.f.Passwords),[b,w]=(0,d.useState)(""),[y,f]=(0,d.useState)(1),{commandHandler:x}=(0,o.$)(),{openProtectedItemsUnlocker:S}=(0,Pe.tY)(),{updateCollection:v}=(0,a.u)(i.v),[C,Z]=(0,d.useState)(!1),[k,I]=(0,d.useState)("restricted"),{getSelectedItems:E}=(0,ye.f2)(),{addItemsToSharedCollection:D}=Le(),T=E?.(["credentials","notes"])?.length>0,{data:A,status:N}=(0,pe.k)(oe.R,"search",{searchQuery:b,vaultItemTypes:[se.U.Credential,se.U.SecureNote],pageNumber:1,pageSize:20*y,propertyFilters:null!==c?[{property:"spaceId",value:c}]:void 0,propertySorting:{property:"title",direction:le.S.Ascend}}),O=()=>{w(""),t()},{data:P}=(0,pe.k)(ce.I,"getPreferencesForCredentials",{credentialIds:E(["credentials","notes"])}),L=!Array.isArray(P)||P.some((e=>e.requireMasterPassword)),R=(0,d.useMemo)((()=>{var e;return null!=(e=A?.credentialsResult.items.filter((e=>!_?.includes(e.id))))?e:[]}),[A?.credentialsResult.items,_]),M=(0,d.useMemo)((()=>{var e;return null!=(e=A?.secureNotesResult.items.filter((e=>!_?.includes(e.id))))?e:[]}),[A?.secureNotesResult.items,_]);if(N!==ue.rq.Success||void 0===A)return null;if(C)return(0,l.tZ)(s.Vq,{onClose:()=>{Z(!1),O()},isOpen:C,closeActionLabel:m("_common_dialog_dismiss_button"),children:(0,l.tZ)(Be.s,{goToStep:()=>{Z(!1)},onClick:()=>{const e=E(["credentials","notes"]);D({id:u,name:n},e,(0,ze.I)(k)),O(),Z(!1)},sharingIntent:{type:"items",itemIds:E(["credentials","notes"])},isLoading:!1,permission:k,onSelectPermission:I})});const B=n?m("webapp_collection_add_items_dialog_title",{name:n}):"";return(0,l.BX)(s.Vq,{onClose:O,isOpen:e,titleProps:{title:B},actions:{primary:{children:m("webapp_login_add_item_to_shared_collection_dialog_confirm_button"),onClick:()=>{const e=E(["credentials","notes"]),t=e.map((e=>({id:e}))),a=()=>{if(p)return Z(!0);x((()=>v({id:u,collection:{vaultItems:t}})),m("collections_add_new_items_success_toast_message",{itemCount:e.length,collectionName:n}),m("_common_generic_error")),O()};if(L){const e=P?.find((e=>e.requireMasterPassword));return S({action:Re.P.Export,itemType:Re.R.Password,successCallback:a,showNeverAskOption:!0,credentialId:e?e.id:""})}a()},disabled:!T},secondary:{children:m("_common_action_cancel")}},closeActionLabel:m("_common_dialog_dismiss_button"),sx:{height:"calc(100vh - 68px)"},"aria-label":m("webapp_collection_bulk_action_add_items"),children:[(0,l.tZ)(Ne.n,{isNotesViewDisplayed:h===de.f.SecureNotes,setTab:g,additionalStyle:{margin:"0"}}),(0,l.tZ)(re.U,{label:m("webapp_sidemenu_search_placeholder"),sx:{marginBottom:"8px"},value:b,onChange:e=>w(e.target.value)}),(0,l.BX)("div",{children:[h===de.f.Passwords?(0,l.tZ)(Ee,{credentials:R,matchCount:A.credentialsResult.matchCount,setPageNumber:f,isSharedCollection:p}):null,h===de.f.SecureNotes?(0,l.tZ)(Ae,{secureNotes:M,matchCount:A.secureNotesResult.matchCount,setPageNumber:f,isSharedCollection:p}):null]})]})},Fe=e=>{const t=(0,ie.o)("sharing_Web_GranularPermissions_dev");if(null===t)return null;const n=!0===t?Ue:Me;return(0,l.tZ)(n,{...e})}},95727:(e,t,n)=>{"use strict";n.d(t,{Cn:()=>u,bA:()=>_});var a=n(96832),i=n(24507),r=n(51031),o=n(46525),s=n(83459),l=n(81701),c=n(19122),d=n(36351);const p=(0,a.createContext)({}),u=({children:e})=>{var t;const n=(0,a.useRef)(null),{data:u,status:_}=(0,i.k)(o.v,"queryCollections",{}),{data:m,status:h}=(0,i.k)(s.a,"sharedCollectionsWithItems"),{currentSpaceId:g}=(0,c.fV)(),b=_!==r.rq.Success||h!==r.rq.Success,w=null!=(t=u?.collections)?t:[],y=null!==g?w.filter((e=>e.spaceId===g)):w,f=(0,a.useMemo)((()=>{if(b)return[];const e=m&&""!==g?y.concat(m):y;return(0,l.p)(e)}),[g,b,m,y]),x={activeCollection:n.current,updateActiveCollection:e=>n.current=e,collections:u?.collections?(0,l.p)(u.collections):[],sharedCollections:null!=m?m:[],allCollections:f,isCollectionsLoading:b};return(0,d.tZ)(p.Provider,{value:x,children:e})},_=()=>(0,a.useContext)(p)},50479:(e,t,n)=>{"use strict";n.d(t,{j:()=>l});var a,i=n(1553),r=n(47124),o=n(36351);const s={display:"flex",flex:1,textWrap:"nowrap",justifyContent:"space-between",alignItems:"center",borderRadius:"4px",gap:"8px",padding:"10px 12px",backgroundColor:"ds.container.expressive.neutral.supershy.idle",color:"ds.text.neutral.catchy",fill:"ds.text.neutral.catchy",variant:"text.ds.body.standard.regular",":focus":{backgroundColor:"ds.container.expressive.neutral.supershy.active",border:"none",outline:"none",userSelect:"none"},":hover":{backgroundColor:"ds.container.expressive.neutral.supershy.hover"}},l=({collection:e,highlightedText:t,onClick:n})=>(0,o.tZ)("li",{sx:{display:"flex"},children:(0,o.BX)("button",{type:"button",sx:s,onClick:n,children:[(0,o.tZ)("span",{children:(0,o.tZ)(i.y,{text:e.name,highlightedText:t})}),e.isShared?a||(a=(0,o.tZ)(r.JO,{name:"SharedOutlined",size:"xsmall"})):null]})})},90248:(e,t,n)=>{"use strict";n.d(t,{KH:()=>o,rz:()=>h,x5:()=>Z,zT:()=>_,EO:()=>f});var a=n(57195),i=n(88203),r=n(36351);const o=({children:e,onDismiss:t,isShared:n=!1})=>{const{translate:o}=(0,i.Z)();return(0,r.tZ)(a.V,{label:e,trailingIcon:n?"SharedOutlined":void 0,onDismiss:t,isDismissible:void 0!==t,dismissActionLabel:o("webapp_collections_actions_delete_tooltip")})};var s=n(96832),l=n(31062),c=n(47124),d=n(39378);const p=({isVisible:e=!0,...t})=>(0,r.tZ)("li",{sx:{flex:0,maxWidth:"200px",...e?{visibility:"visible",transform:"scale3d(1,1,1)",width:"100%",marginRight:"16px"}:{visibility:"hidden",transform:"scale3d(0,0,1)",width:0},transformOrigin:"top left",transition:"all 200ms"},...t}),u=(0,s.forwardRef)(((e,t)=>{const n=(0,s.useRef)(null),[a,i]=(0,s.useState)(0),{children:o,className:l,...c}=e;return(0,s.useEffect)((()=>{n.current&&a!==n.current.scrollHeight&&i(n.current.scrollHeight)}),[o]),(0,s.useImperativeHandle)(t,(()=>({ulElement:n.current,getWidth:()=>{var e;return null!=(e=n.current?.clientWidth)?e:0},getListItemsWidths:()=>{if(!n.current)return[];const e=[];for(const t of n.current.children)e.push(t.getBoundingClientRect().width+16);return e}}))),(0,r.tZ)("ul",{ref:n,sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",flex:"1 1 100%",rowGap:"16px",maxHeight:`${a}px`,transition:"all 200ms ease-out",overflow:"hidden"},className:l,...c,children:o})}));u.displayName="UlRow";const _=({collections:e,className:t,...n})=>{const[i,_]=(0,s.useState)(0),[m,h]=(0,s.useState)({ulRowWidth:0,totalCollectionItemsWidth:0}),g=(0,s.useRef)(null),b=(0,s.useRef)([]),w=(0,s.useRef)(0),y=(0,s.useRef)(0),f=e.length;if((0,s.useEffect)((()=>{if(!g.current?.ulElement)return;const e=(0,d.debounce)((()=>{if(!g.current)return;const e=g.current.getWidth();e!==m.ulRowWidth&&h((t=>({...t,ulRowWidth:e})))}),100),t=new ResizeObserver((()=>{e()}));return t.observe(g.current.ulElement),()=>t.disconnect()}),[g.current]),(0,s.useEffect)((()=>{var e;g.current&&(b.current=g.current.getListItemsWidths(),w.current=null!=(e=b.current.pop())?e:0,h({ulRowWidth:g.current.getWidth(),totalCollectionItemsWidth:b.current.reduce(((e,t)=>e+t),0)}))}),[f]),(0,s.useEffect)((()=>{if(g.current){if(m.ulRowWidth>=m.totalCollectionItemsWidth)y.current=f;else{const e=m.ulRowWidth-w.current;let t=0;for(let n=0;n<b.current.length;n++)if(t+=b.current[n],t>=e){y.current=n;break}}_(y.current||1)}}),[m]),0===f)return null;const x=f-i,S=x>0,v=e.slice(i);return(0,r.BX)(u,{"data-testid":"collectionsList",ref:g,className:t,sx:{[`li:nth-of-type(n+${i+1})`]:{transition:"none",visibility:"hidden",position:"absolute",width:"fit-content"},...S&&{"li:last-child":{visibility:"visible",position:"unset"}},flexWrap:"nowrap",lineHeight:"19px",width:"100%"},...n,children:[e.map((e=>(0,r.tZ)(p,{children:(0,r.tZ)(o,{isShared:e.isShared,children:e.name})},`vault_row_item_collections_list_${e.id}`))),S?(0,r.tZ)("li",{children:(0,r.tZ)(l.u,{wrapTrigger:!0,content:(0,r.tZ)("p",{children:v.map(((e,t)=>(0,r.BX)("span",{sx:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[e.name,e.isShared?(0,r.tZ)(c.JO,{sx:{display:"inline-block"},name:"SharedOutlined",size:"xsmall",color:"ds.text.inverse.catchy"}):null,t!==v.length-1?",Â ":null]},e.name)))}),children:(0,r.tZ)(a.V,{label:`+${x}`})})}):null]})};var m=n(93853);const h=(0,s.forwardRef)(((e,t)=>{const{translate:n}=(0,i.Z)(),{id:a,input:o,label:s,setInput:l,onSubmit:c}=e,d=(e,t=!0)=>{c&&"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),t&&c(o))};return(0,r.tZ)(m.n,{ref:t,id:a,value:o,onKeyUp:d,onKeyDown:e=>d(e,!1),onChange:e=>{return(t=e.target.value).length<=40&&l(t);var t},placeholder:n("webapp_collections_input_placeholder_add_new"),label:s||n("webapp_collections_input_placeholder_add_new"),labelPersists:void 0!==s,autoFocus:!0})}));h.displayName="CollectionInput";var g=n(51031),b=n(80936);const w=e=>(0,r.tZ)("span",{sx:{position:"absolute",top:"calc(100% - 4px)",zIndex:130,width:"100%",backgroundColor:"ds.container.agnostic.neutral.supershy",boxShadow:"0px 12px 24px 0px #0000003D",borderRadius:"8px",transformOrigin:"0 0",padding:"4px"},...e});var y=n(74020);const f=e=>(0,r.tZ)("ul",{sx:{display:"flex",flexDirection:"column",overflowY:"scroll",maxHeight:"25vh",...y.W},...e});var x=n(68999);const S=({children:e,title:t,style:n})=>(0,r.tZ)("span",{title:null!=t?t:e,sx:{width:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"500",fontSize:"0.75rem",...n},children:e}),v=({collections:e,input:t,onClick:n})=>{const{translate:a}=(0,i.Z)(),o=e.some((e=>e.name===t));return!t.trim()||o?null:(0,r.BX)("li",{sx:{display:"flex",alignItems:"center"},children:[(0,r.tZ)(S,{style:{color:"ds.text.brand.standard",margin:"0 12px",overflow:"unset",width:"fit-content"},children:a("webapp_collections_input_create")}),(0,r.tZ)(x.z,{onClick:()=>n(t),intensity:"quiet",mood:"neutral",sx:{overflow:"hidden"},children:(0,r.tZ)(S,{children:t})})]})};var C=n(50479);const Z=({collections:e,id:t,input:n,spaceId:a,setInput:i,onSubmit:o,inputRef:l,selectionAsDropdown:c=!1,...d})=>{const p=(0,b.I)(),u=c?w:s.Fragment,_=e.filter((e=>(p.status===g.rq.Success&&p.isDisabled||e.spaceId===a)&&e.name.toLowerCase().includes(n.toLowerCase())));return(0,r.BX)("div",{sx:{position:"relative",width:"240px"},...d,children:[(0,r.tZ)(h,{ref:l,id:t,input:n,onSubmit:()=>o(n),setInput:i}),(_.length||Boolean(n.trim()))&&(0,r.tZ)(u,{children:(0,r.BX)(f,{children:[(0,r.tZ)(v,{collections:_,input:n,onClick:o}),_.map((e=>(0,r.tZ)(C.j,{collection:e,onClick:()=>{o(e.name)},highlightedText:n},e.id)))]})})]})}},74020:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});const a={"::-webkit-scrollbar":{width:"4px"},"::-webkit-scrollbar-thumb":{background:"rgba(0, 0, 0, 0.38)",borderRadius:"8px"},"::-webkit-scrollbar-thumb:hover":{background:"rgba(0, 0, 0, 0.5)"}}},68002:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});var a=n(96832),i=n(78346),r=n(62264),o=n(11833),s=n(88203);const l=()=>{const[e,t]=(0,a.useState)(!1),{translate:n}=(0,s.Z)(),{showToast:l,closeToast:c}=(0,r.p)(),{wrap:d}=(0,o.u)();return{commandHandler:async(e,a,r,o)=>{const s=d((async()=>{t(!0);const s=(0,i.d6)(await e());l({description:s?a:r,closeActionLabel:n("_common_alert_dismiss_button"),mood:s?"brand":"danger",action:o?{label:n("common_alert_undo_action"),onClick:e=>{o(),c(e)}}:void 0}),t(!1)}),(()=>l({description:r,mood:"danger"})));await s()},isLoading:e}}},51728:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var a=n(48038),i=n(18108),r=n(88203);const o=e=>{const t=(0,i.E)(),{translate:n}=(0,r.Z)();return t.status!==a.rq.Success||0===t.data.length?"":t.data.find((t=>t.teamId===e))?.teamName||n("webapp_form_field_personal_space")}},81701:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});const a=e=>e.sort(((e,t)=>e.name.localeCompare(t.name)))},96997:(e,t,n)=>{"use strict";n.d(t,{D:()=>Ee});var a=n(96832),i=n(63071),r=n(37332),o=n(88203),s=n(69898),l=n(63847),c=n(14900),d=n(36351);const p="manage_subscription_tooltip_confirmation_button",u="manage_subscription_account_recovery_activation_tooltip_description_markup",_="webapp_account_recovery_activation_sidemenu_notification_title",m=({accountButtonSx:e,color:t,hideRecoveryNotification:n})=>{const{translate:i}=(0,o.Z)();return(0,d.tZ)(c.ua7,{placement:"bottom",trigger:"persist",portalTarget:document.body,sx:{display:"flex",flexDirection:"column",padding:"16px"},content:(0,d.BX)(a.Fragment,{children:[(0,d.tZ)(c.nvN,{color:c.colors.white,size:"large",sx:{fontWeight:"18px",textAlign:"left"},children:i(_)}),(0,d.tZ)(c.nvN,{size:"x-small",color:c.colors.white,sx:{textAlign:"left",padding:"8px 0px 16px 0px"},children:i.markup(u)}),(0,d.tZ)(c.zxk,{size:"small",sx:{alignSelf:"flex-end"},type:"button",onClick:n,children:i(p)})]}),children:(0,d.BX)(c.zxk,{sx:{...e,color:t},nature:"ghost",onClick:n,type:"button",children:[(0,d.tZ)(l.k,{sx:{margin:"0 12px 0 0"},children:i("webapp_account_root_header")}),(0,d.tZ)(c.veu,{color:t})]})})};var h=n(97962),g=n(30926),b=n(7544),w=n(73704),y=n(8180),f=n(82926),x=n(45272),S=n(47272),v=n(24507),C=n(51031);const Z=()=>{const{translate:e}=(0,o.Z)(),t=(()=>{const e=(0,v.k)(S.n,"canLockApp");return e.status===C.rq.Success&&e.data})(),{lockSession:n}=(0,y.u)(f.V);return t?(0,d.tZ)(b.h,{"data-testid":"lockItem",onSelect:()=>{(0,x.Kz)(new w.UserLockAppEvent({})),n()},label:e("webapp_account_root_item_lock")}):null};var k=n(40577),I=n(7870),E=n(92077);const D=()=>{const e=(0,k.o)(I.r5),{routes:t}=(0,E.Xo)();return e?(0,d.tZ)(b.h,{"data-testid":"dashlane-labs-item",onSelect:e=>(e=>{e.preventDefault(),(0,E.uX)(t.dashlaneLabs)})(e),label:"Dashlane Labs"}):null};var T,A=n(48038),N=n(82429),O=n(95255),P=n(14943),L=n(79602),R=n(80443);const M="manage_subscription_plan_name_business",B="manage_subscription_plan_name_omnix",z="manage_subscription_plan_name_team",U="manage_subscription_plan_name_advanced",F="manage_subscription_plan_name_essentials",X="manage_subscription_plan_name_family",q="manage_subscription_plan_name_free",H="manage_subscription_plan_name_premium",V="manage_subscription_plan_name_premium_plus",W="manage_subscription_plan_name_premium_trial",j="manage_subscription_plan_name_standard",G=()=>{const{translate:e}=(0,o.Z)(),t=(0,P.Y)();if(t.status!==A.rq.Success||!t.data)return null;const n=(0,R.AF)(t.data),a=(0,R.yf)(t.data),i=(0,R.b1)(t.data),r=a||i;return r?(0,d.tZ)(N.C,{label:(()=>{let a="...";return a=(0,R.Fz)(t.data)&&"2022_team_starter_tier"===t.data.planName?"Starter":e(((e,t)=>{if(t){const t=(0,R.Fz)(e);return t&&(0,R.t0)(t.tier)===O.rR.Team?z:t&&(0,R.t0)(t.tier)===O.rR.Standard?j:t&&(0,R.t0)(t.tier)===O.rR.BusinessPlus?B:M}return(0,R.ry)(e)?X:(0,R.LF)(e)?U:(0,R.sZ)(e)?F:(0,R.b1)(e)?W:(0,R.Tg)(e)?V:(0,R.Sm)(e)?H:q})(t.data,n)),a})(),iconName:n?void 0:"PremiumOutlined",layout:"iconLeading",mood:r&&!n?"brand":"neutral"}):null},K=({setShowConsoleDialog:e})=>{const{openTeamConsole:t}=(0,L.q)(),{translate:n}=(0,o.Z)(),{routes:a,store:i}=(0,E.Xo)(),r=i.getState().user?.session?.permissions.tacAccessPermissions.size>0;return(0,d.tZ)(b.h,{"data-testid":"subscriptionItem",label:n("manage_subscription_page_title"),onSelect:e=>(e=>{e.preventDefault(),r?t({routeInExtension:a.teamAccountRoutePath}):(0,E.uX)(a.userSubscriptionManagement)})(e),badge:T||(T=(0,d.tZ)(G,{}))})};var Y=n(43773),$=n(73917);const Q=()=>{const{translate:e}=(0,o.Z)(),{openLogoutDialog:t}=(0,$.q)();return(0,d.tZ)(b.h,{isDestructive:!0,"data-testid":"logoutItem",onSelect:()=>{(0,Y.P)(),t()},label:e("manage_subscription_account_menu_logout")})};var J=n(52223);const ee=()=>{const{translate:e}=(0,o.Z)(),{openAccountPanel:t}=(0,J.d)();return(0,d.tZ)(b.h,{"data-testid":"settingsItem",onSelect:t,label:e("manage_subscription_account_menu_settings")})},te=({login:e,setShowConsoleDialog:t})=>{const{openTeamConsole:n}=(0,L.q)(),{translate:a}=(0,o.Z)(),{store:i}=(0,E.Xo)();return i.getState().user?.session?.permissions.tacAccessPermissions.size>0?(0,d.tZ)(b.h,{onSelect:t=>(t=>{t.preventDefault(),n({email:e})})(t),label:a("manage_subscription_account_menu_admin_console")}):null};var ne,ae,ie,re,oe,se;const le={margin:"0 12px 0 0",":hover:enabled:not(:active), :focus:enabled:not(:active)":{background:"transparent",border:"2px solid ds.oddity.focus"}},ce=({invertColors:e=!1,isOpen:t})=>{var n;const{translate:l}=(0,o.Z)(),c=null!=(n=(0,h.f)())?n:"",[p,u]=(0,a.useState)(!1),[_,b]=(0,a.useState)(!1);return _?(0,d.tZ)(m,{accountButtonSx:le,color:e?"ds.text.inverse.quiet":"ds.text.neutral.standard",hideRecoveryNotification:()=>b(!1)}):(0,d.BX)(a.Fragment,{children:[(0,d.BX)(i.h_,{align:"end",isOpen:t,children:[(0,d.tZ)(i.sB,{showCaret:!0,mood:e?"brand":"neutral",intensity:e?"catchy":"supershy",sx:{zIndex:99},children:l("webapp_account_root_header")}),(0,d.BX)(i.Nv,{children:[(0,d.tZ)(g.I,{login:c}),ne||(ne=(0,d.tZ)(r.i,{})),(0,d.tZ)(K,{setShowConsoleDialog:u}),(0,d.tZ)(te,{login:c,setShowConsoleDialog:u}),ae||(ae=(0,d.tZ)(D,{})),ie||(ie=(0,d.tZ)(ee,{})),re||(re=(0,d.tZ)(r.i,{})),oe||(oe=(0,d.tZ)(Z,{})),se||(se=(0,d.tZ)(Q,{}))]})]}),p?(0,d.tZ)(s.F,{isShown:p,setIsShown:u,isFromVault:!0}):null]})};var de=n(12783),pe=n(47124),ue=n(68999),_e=n(25918),me=n(8319),he=n(76376),ge=n(83849),be=n.n(ge),we=n(71311),ye=n(19825);var fe,xe,Se=n(88381);const ve=()=>{const{isSideMenuCollapsed:e}=(0,ye.f)(),t=be()("notificationsHub--ZkqIONgeSD",{"narrow--lxNXQ_mZF0":!e}),n=(0,k.o)("sharing_Web_GranularPermissions_dev");return null===n?null:(0,d.tZ)(l.k,{className:t,sx:{padding:"28px",maxHeight:"90vh",overflow:"auto"},tabIndex:0,children:(0,d.tZ)("div",{sx:{width:"100%"},children:!0===n?fe||(fe=(0,d.tZ)(Se.B,{})):xe||(xe=(0,d.tZ)(we.A,{maxHeight:542}))})})};var Ce,Ze=n(99827);const ke=({invertColors:e=!1})=>{const{routes:t}=(0,he.Xo)(),{translate:n}=(0,o.Z)(),i=(()=>{const e=(0,v.k)(Ze.t,"hasInvites");return e.status===C.rq.Success&&e.data})(),[r,s]=a.useState(!1),l=(0,E.TH)(),p=a.useRef(r);a.useEffect((()=>{p.current=r}));const u=p.current;a.useEffect((()=>{r&&!u?(0,x.Nc)(w.PageView.NotificationSharingList):!r&&u&&(0,me.u)(l.pathname,t)}),[r,l,t,u]);const _=a.useCallback((e=>{s(e)}),[s]),m=a.useCallback((t=>{const a=r||!i?(0,d.tZ)(pe.JO,{name:"NotificationOutlined",style:{pointerEvents:"none"}}):(0,d.tZ)(c.Z3$,{style:{pointerEvents:"none"},color:"ds.text.neutral.standard"});return(0,d.tZ)("div",{sx:{display:"inline-block",height:"100%"},children:(0,d.tZ)(ue.z,{onClick:t,"aria-label":n("webapp_sharing_notifications_view_notifications"),mood:e?"brand":"neutral",intensity:e?"catchy":"supershy",layout:"iconOnly",icon:a})})}),[e,i,r,n]);return(0,d.tZ)(_e.Lt,{alignment:_e.oA.End,position:_e.ir.Bottom,onToggle:_,withBackdrop:!0,renderRoot:m,children:Ce||(Ce=(0,d.tZ)(ve,{}))})};var Ie;const Ee=({invertColors:e=!1})=>(0,d.BX)(a.Fragment,{children:[Ie||(Ie=(0,d.tZ)(de.r,{})),(0,d.tZ)(ce,{invertColors:e}),(0,d.tZ)(ke,{invertColors:e})]})},30926:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var a=n(29020),i=n(88203),r=n(38686),o=n(36351);const s=({login:e})=>{const{translate:t}=(0,i.Z)();return(0,o.BX)("div",{sx:{display:"flex",flexDirection:"column",padding:"12px",maxWidth:"320px"},children:[(0,o.tZ)(r.H,{email:e}),(0,o.tZ)(a.n,{as:"header",textStyle:"ds.body.helper.regular",color:"ds.text.neutral.quiet",sx:{margin:"12px 0 4px"},children:t("manage_subscription_account_menu_login")}),(0,o.tZ)(a.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard",sx:{overflow:"hidden",textOverflow:"ellipsis",width:"100%"},children:e})]})}},91483:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});const a=768},82454:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var a=n(36351);const i=({startWidgets:e,endWidget:t,...n})=>(0,a.BX)("header",{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",padding:"16px 0",position:"relative",zIndex:"3"},...n,children:[(0,a.tZ)("div",{sx:{display:"flex",gap:"8px"},children:e}),t?(0,a.tZ)("div",{sx:{height:"100%",display:"flex",alignItems:"center",gap:"8px"},children:t}):null]})},25304:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var a=n(96832),i=n(19825),r=n(85462),o=n.n(r);function s(e){const[t,n]=a.useState(!0),{isSideMenuCollapsed:r}=(0,i.f)();return a.useEffect((()=>{const t=()=>{const t=r?o()["--sidemenu-collapsed-width"]:o()["--sidemenu-uncollapsed-min-width"],a=parseInt(t,10);window.innerWidth-a<e?n(!1):n(!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[e,r]),t}},60345:(e,t,n)=>{"use strict";n.d(t,{x:()=>l});var a=n(96832),i=n(68999),r=n(91483),o=n(25304),s=n(36351);const l=(0,a.forwardRef)(((e,t)=>{const n=(0,o.E)(r.W),{mood:a,intensity:l,children:c,disabled:d,icon:p,isPrimary:u,layout:_="iconLeading",onClick:m,onMouseEnter:h,role:g="button"}=e;return(0,s.tZ)(i.z,{ref:t,sx:{whiteSpace:"nowrap"},mood:a||(u?void 0:"neutral"),intensity:l||(u?void 0:"quiet"),onClick:m,onMouseEnter:h,disabled:d,icon:p,role:g,layout:n?_:"iconOnly",children:c})}))},88455:(e,t,n)=>{"use strict";n.d(t,{t:()=>v});var a,i,r=n(31062),o=n(47124),s=n(40577),l=n(30442),c=n(92077),d=n(88203),p=n(42670),u=n(82454),_=n(76376),m=n(60345),h=n(36351);const g="webapp_password_history_all_passwords_view_header_title",b=()=>{const{routes:e}=(0,_.Xo)(),{translate:t}=(0,d.Z)(),{openDialog:n,shouldShowFrozenStateDialog:r}=(0,p.Ub)();return null===r?null:r?(0,h.tZ)(m.x,{onClick:n,icon:a||(a=(0,h.tZ)(o.JO,{name:"HistoryBackupOutlined"})),children:t(g)}):(0,h.tZ)(c.rU,{to:e.userPasswordHistory,tabIndex:-1,children:(0,h.tZ)(m.x,{icon:i||(i=(0,h.tZ)(o.JO,{name:"HistoryBackupOutlined"})),children:t(g)})})};var w,y,f,x=n(96997),S=n(96832);const v=({handleAddNew:e,tooltipContent:t,tooltipPassThrough:n=!1,addNewDisabled:a=!1,shareButtonElement:i=null,shouldDisplayPasswordHistoryButton:_=!1,shouldDisplayNewAccountImportButton:g=!1,shouldDisplayAddButton:v=!0})=>{const{translate:C}=(0,d.Z)(),{routes:Z}=(0,c.Xo)(),k=(0,c.k6)(),{shouldShowFrozenStateDialog:I}=(0,p.Ub)(),E=null!==I&&!I&&g,D=(0,s.o)(l.c.ImportOrchestratorGrapheneMigration)?Z.importDataV2:Z.importData;return(0,h.tZ)(u.h,{startWidgets:(0,h.BX)(S.Fragment,{children:[v?(0,h.tZ)(r.u,{location:"bottom",passThrough:n,content:t,wrapTrigger:!0,children:(0,h.tZ)(m.x,{onClick:e,disabled:a,icon:w||(w=(0,h.tZ)(o.JO,{name:"ActionAddOutlined"})),isPrimary:!0,children:C("credentials_header_add_password")})}):null,E?(0,h.tZ)(m.x,{role:"link",icon:"ImportOutlined",mood:"brand",intensity:"quiet",onClick:()=>k.push(D),children:C("webapp_account_root_import_data")}):null,i,_?y||(y=(0,h.tZ)(b,{})):null]}),endWidget:f||(f=(0,h.tZ)(x.D,{}))})}},97855:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var a=n(63847),i=n(29020),r=n(36351);const o=({rank:e})=>(0,r.tZ)(a.k,{alignItems:"center",justifyContent:"center",sx:{width:"32px",height:"32px",borderRadius:"10.67px",padding:"6px",backgroundColor:"ds.container.expressive.brand.quiet.disabled"},children:(0,r.tZ)(i.n,{textStyle:"ds.body.standard.strong",color:"ds.text.brand.quiet",children:e})})},33360:(e,t,n)=>{"use strict";n.d(t,{b:()=>c});var a=n(47124),i=n(27636),r=n(19122),o=n(96832),s=n(36351);const l={gap:"8px",svg:{flex:"0 0 20px",marginRight:0}},c=({spaceId:e,isShared:t,size:n="default",children:c})=>{const{spaceDetails:d}=(0,r.fV)(),p=void 0!==e&&d&&d.teamId===e,u=t;if(!u&&!p)return(0,s.tZ)(o.Fragment,{children:c});const _="small"===n&&!p,m=_?{}:l;return(0,s.BX)("div",{sx:{display:"flex",alignItems:"center",...m},children:[c,p&&(0,s.tZ)(i.R,{space:{...d,id:d.teamId,name:d.teamName}}),u&&(0,s.tZ)(a.JO,{name:"SharedOutlined",size:_?"xsmall":"medium",color:"ds.text.neutral.catchy"})]})}},27636:(e,t,n)=>{"use strict";n.d(t,{R:()=>c}),n(96832);var a=n(62150),i=n.n(a);var r,o,s=n(36351);const l=({color:e="#EB5CCB",letter:t})=>(0,s.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20",height:"20",viewBox:"0 0 18 18",className:"spacedIcon--ua2qxQJNp8",children:[r||(r=(0,s.tZ)("defs",{children:(0,s.tZ)("path",{id:"a",d:"M10.667 16H0V5.333L5.333 0H16v10.667z"})})),(0,s.BX)("g",{fill:"none",fillRule:"evenodd",children:[(0,s.BX)("g",{fillRule:"nonzero",children:[(0,s.tZ)("use",{fill:e,fillRule:"evenodd",xlinkHref:"#a"}),o||(o=(0,s.tZ)("path",{stroke:"#FFF",strokeOpacity:".5",d:"M10.46 15.5l5.04-5.04V.5H5.54L.5 5.54v9.96h9.96z"}))]}),(0,s.tZ)("text",{fill:"#FFF",fontFamily:i()["--dashlane-fontfamily-primary"],fontSize:"10",fontWeight:"600",children:(0,s.tZ)("tspan",{x:"7.5",y:"12",textAnchor:"middle",children:t})})]})]}),c=({space:e})=>null===e.id?(0,s.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yIDdMNyAySDE4VjE0TDEzIDE4SDJWN1pNMTMuNzUgNi4yNUg0Ljg3MTMyTDcuNjIxMzIgMy41SDE2LjVWMTMuMjc5MUwxMy43NSAxNS40NzkxVjYuMjVaTTMuNSAxNi41SDEyLjI1VjEzLjc1SDYuMjVWNy43NUgzLjVWMTYuNVpNNy43NSA3Ljc1SDEyLjI1VjEyLjI1SDcuNzVWNy43NVoiIGZpbGw9IiMwRTM1M0QiLz4KPC9zdmc+Cg==",alt:e.name}):(0,s.tZ)(l,{color:e.color,letter:e.letter})},11966:(e,t,n)=>{"use strict";n.d(t,{f:()=>h});var a=n(96832),i=n(57459),r=n(81986),o=n(63847),s=n(68999),l=n(20452),c=n(88203),d=n(5465),p=n(21501),u=n(30432);var _=n(36351),m=function(e){return e.PASSWORDS_DONT_MATCH_ERROR="passwords_dont_match",e.WEAK_PASSWORD_ERROR="weak_password",e}(m||{});const h=({createPasswordInputLabel:e,createPasswordPlaceholderLabel:t,confirmPasswordInputLabel:n,confirmPasswordPlaceholderLabel:h,primaryButtonTitle:g,secondaryButtonTitle:b,onSubmit:w,onDismiss:y})=>{var f,x;const{translate:S}=(0,c.Z)(),[v,C]=a.useState(""),[Z,k]=a.useState(null),[I,E]=a.useState(!0),[D,T]=a.useState(""),[A,N]=a.useState(null),{passwordStrength:O,resetPasswordStrength:P,setPasswordStrength:L,isPasswordStrongEnough:R}=(0,u.R)(),[M,B]=a.useState(!1),z=(0,i.Z)(),U=e=>{if(e)return e===m.WEAK_PASSWORD_ERROR?S("webapp_sso_to_mp_error_weak_password"):S("webapp_sso_to_mp_error_passwords_dont_match")},F=()=>!v||!D||!(D===v)||!R||M;return(0,_.BX)("form",{style:{width:"100%"},autoComplete:"off",noValidate:!0,onSubmit:async e=>{e?.preventDefault(),F()||(v===D?(B(!0),await w(v),B(!1)):N(m.PASSWORDS_DONT_MATCH_ERROR))},children:[(0,_.BX)("div",{children:[(0,_.tZ)("div",{className:"createPasswordContainer--kHVW3MrOEy",children:(0,_.tZ)(l.T,{id:"password-tooltip",passwordStrength:O,showTooltip:I,children:(0,_.tZ)(r.Z,{toggleVisibilityLabel:{show:S("webapp_sso_to_mp_password_show_label"),hide:S("webapp_sso_to_mp_password_hide_label")},onBlur:()=>{const e=v&&D&&v!==D;k(!v||R?null:m.WEAK_PASSWORD_ERROR),E(!1),N(e?m.PASSWORDS_DONT_MATCH_ERROR:null)},onFocus:()=>{E(!0)},onChange:async e=>{const t=e.target.value;C(t),Z&&k(null),A&&N(null),""===t&&P();const n=await d.C.evaluatePassword({password:t});L(n)},placeholder:t||S("webapp_sso_to_mp_password_hint_text"),value:v,label:e||S("webapp_sso_to_mp_create_password_floating_label"),error:!!Z,feedback:Z?{text:null!=(f=U(Z))?f:""}:void 0,passwordStrength:O?{descriptionId:z,score:O.score,description:S(`account_creation_${p.Yh[O.score]}`)}:void 0,"aria-describedby":z})})}),(0,_.tZ)(r.Z,{value:D,toggleVisibilityLabel:{show:S("webapp_sso_to_mp_confirm_password_show_label"),hide:S("webapp_sso_to_mp_confirm_password_hide_label")},placeholder:h||S("webapp_sso_to_mp_confirm_password_hint_text"),onBlur:()=>{D&&v!==D&&N(m.PASSWORDS_DONT_MATCH_ERROR)},onChange:e=>{T(e.target.value),N(null)},label:n||S("webapp_sso_to_mp_confirm_password_floating_label"),feedback:A?{text:null!=(x=U(A))?x:""}:void 0,error:!!A})]}),(0,_.BX)(o.k,{sx:{marginTop:"24px"},justifyContent:"flex-end",gap:"8px",children:[b?(0,_.tZ)(s.z,{onClick:y,mood:"neutral",intensity:"quiet",children:b}):void 0,(0,_.tZ)(s.z,{type:"submit",disabled:F(),children:g||S("webapp_sso_to_mp_create_password_button")})]})]})}},62735:(e,t,n)=>{"use strict";n.d(t,{T:()=>m,Z:()=>_});var a=n(96832),i=n(89078),r=n(14877),o=n(39431),s=n(93314),l=n(91198),c=n(19122),d=n(46771),p=n(36351);const u=(0,a.createContext)({}),_=({children:e,ids:t,previousPage:n})=>{const{currentSpaceId:_}=(0,c.fV)(),{setSortOrder:m,sortingOptions:h}=(0,d.M)(),[g,b]=(0,a.useState)(1),{credentialsGloballyProtected:w,query:{data:y,status:f}}=(0,i.Y)(r.L,{query:{queryParam:{vaultItemTypes:[o.U.Credential],pageNumber:1,pageSize:50*g,ids:t,propertyFilters:null!==_?[{property:"spaceId",value:_}]:void 0,propertySorting:{property:"title"===h.field?"itemName":h.field,direction:h.direction===l._.ascending?s.S.Ascend:s.S.Descend}}},credentialsGloballyProtected:{}},[t,g,h,_]),x=(0,a.useMemo)((()=>{var e;return null!=(e=y?.credentialsResult.items.map((e=>e.id)))?e:[]}),[y?.credentialsResult.items]),S=(0,a.useMemo)((()=>{var e,t;return{credentials:null!=(e=y?.credentialsResult.items)?e:[],credentialIds:null!=x?x:[],isCredentialsGloballyProtected:null==(t=w.data)||t,hasMore:!y||y.credentialsResult.items.length<y.credentialsResult.matchCount,onNextPage:b,setSortOrder:m,sortingOptions:h,credentialStatus:f,previousPage:n}}),[x,f,y,w.data,n,m,h]);return(0,p.tZ)(u.Provider,{value:S,children:e})},m=()=>{const e=(0,a.useContext)(u);if(!e)throw new Error("useCredentialsContext must be used within a CredentialsProvider");return e}},88795:(e,t,n)=>{"use strict";n.d(t,{h:()=>c,x:()=>l});var a=n(96832),i=n(51031),r=n(62735),o=n(36351);const s=(0,a.createContext)(void 0),l=({children:e})=>{const{credentials:t,credentialStatus:n}=(0,r.T)();let a;return t.length>0?a=!0:n!==i.rq.Loading&&(a=!1),(0,o.tZ)(s.Provider,{value:a,children:e})},c=()=>(0,a.useContext)(s)},58780:(e,t,n)=>{"use strict";n.d(t,{o:()=>d,v:()=>c});var a=n(96832),i=n(89078),r=n(84925),o=n(62735),s=n(36351);const l=(0,a.createContext)({}),c=({children:e})=>{const{credentialIds:t}=(0,o.T)(),{getSharingStatusForItems:n,getPermissionForItems:c,sharingEnabled:d,isSharingAllowed:p}=(0,i.Y)(r.X,{getSharingStatusForItems:{queryParam:{itemIds:t}},getPermissionForItems:{queryParam:{itemIds:t}},isSharingAllowed:{},sharingEnabled:{}},[t]),u=(0,a.useMemo)((()=>{var e,t,a,i;return{sharingStatus:null!=(e=n.data)?e:{},sharingCapabilities:null!=(t=c.data)?t:{},isSharingEnabled:null!=(a=d.data)&&a,isSharingAllowed:null!=(i=p.data)&&i}}),[p.data,c.data,d.data,n.data]);return(0,s.tZ)(l.Provider,{value:u,children:e})},d=()=>{const e=(0,a.useContext)(l);if(!e)throw new Error("useSharingContext must be used within a SharingProvider");return e}},46771:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var a=n(96832),i=n(48122),r=n(91198);const o=(e=i.bC)=>{const[t,n]=(0,a.useState)((()=>{const t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){}return{field:"itemName",direction:r._.ascending}}));return{sortingOptions:t,setSortOrder:t=>{n(t),(t=>{localStorage.setItem(e,JSON.stringify(t))})(t)}}}},82207:(e,t,n)=>{"use strict";n.d(t,{m:()=>p});var a=n(68999),i=n(30894),r=n(68819),o=n(2039),s=n(96832),l=n(2016),c=n(36351);class d extends s.Component{constructor(e){super(e),this.copyText=()=>{this.props.data&&navigator.clipboard.writeText(this.props.data).then((()=>{this._onCopyDone(!0)}),(e=>{this._onCopyDone(!1,e)}))},this.scheduleFeedback=()=>{const e=window.setTimeout((()=>{this.setState({showFeedback:!0})}),100),t=window.setTimeout((()=>{this.setState({showFeedback:!1,copySuccess:void 0})}),1300);this.setState({timeoutIds:[e,t]})},this.doCopy=()=>{this.scheduleFeedback(),this.copyText()},this.handleClick=()=>{if(this.props.checkProtected?.()){if(this.props.itemId)return this.props.openProtectedItemsUnlocker({successCallback:()=>this.doCopy(),action:r.P.Copy,itemType:r.R.Password,credentialId:this.props.itemId,showNeverAskOption:!0});var e;if(this.props.itemType!==r.R.Password)return this.props.openProtectedItemsUnlocker({successCallback:()=>this.doCopy(),action:r.P.Copy,itemType:null!=(e=this.props.itemType)?e:r.R.BankAccount})}this.doCopy()},this.state={copySuccess:void 0,showFeedback:!1,timeoutIds:[]}}componentWillUnmount(){this.state.timeoutIds.map((e=>window.clearTimeout(e)))}_onCopyDone(e,t){this.state.copySuccess||(this.props.onCopy&&this.props.onCopy(e,t),this.setState({copySuccess:e}))}render(){var e,t;const n=this.props.translate.namespace("webapp_credential_edition_field_"),i=this.state.showFeedback&&void 0!==this.state.copySuccess,r=this.state.copySuccess?"positive":"danger",o=i?this.state.copySuccess?"FeedbackSuccessOutlined":"FeedbackFailOutlined":"ActionCopyOutlined";if(this.props.isUserFrozen)return null;const s=i&&this.state.copySuccess?n("generic_action_copy_feedback_ok"):null!=(e=this.props.copyLabel)?e:n("generic_action_copy");return(0,c.tZ)(a.z,{id:this.props.buttonId,layout:"iconOnly",mood:i?r:"brand",intensity:i?"catchy":"supershy",disabled:this.props.disabled,onClick:this.handleClick,"aria-label":s,title:s,tooltip:{location:null!=(t=this.props.tooltipLocation)?t:"top",content:s,disableCloseOnClick:!0},icon:o})}}const p=(0,l.s)((0,i.DP)((0,o.H)(d)))},33918:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var a=n(96832),i=n(78956),r=n(23466),o=n(87196),s=n(13252),l=n(88203),c=n(37527),d=n(36351);const p="_common_action_cancel",u=({onSubmit:e,onClose:t,itemTitle:n,collectionName:u})=>{const{translate:_}=(0,l.Z)(),[m,h]=(0,a.useState)(s.y3.Limited);return(0,d.tZ)(i.Vq,{onClose:t,isOpen:!0,dialogClassName:c.Ht,title:_.markup("webapp_sharing_add_item_to_shared_collection_dialog_title_markup",{itemTitle:n}),closeActionLabel:_(p),actions:{primary:{onClick:()=>e(m,u),children:_("webapp_login_add_item_to_shared_collection_dialog_confirm_button"),disabled:!m},secondary:{onClick:t,children:_(p),autoFocus:!0}},children:(0,d.BX)(r.E,{groupName:"permission",value:m,onChange:e=>{h(e.currentTarget.value)},children:[(0,d.tZ)(o.Y,{value:"limited",label:_("webapp_sharing_invite_limited_rights"),description:_("webapp_collection_sharing_invite_limited_rights_detail")}),(0,d.tZ)(o.Y,{value:"admin",label:_("webapp_sharing_invite_full_rights"),description:_("webapp_sharing_invite_full_rights_detail")})]})})}},71951:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var a=n(78956),i=n(88203),r=n(37527),o=n(36351);const s="_common_action_cancel",l=({onClose:e})=>{const{translate:t}=(0,i.Z)();return(0,o.tZ)(a.Vq,{closeActionLabel:t(s),onClose:e,isOpen:!0,dialogClassName:r.Ht,title:t("webapp_sharing_item_insufficient_permission_dialog_title"),actions:{secondary:{children:t(s),onClick:e,autoFocus:!0}},children:(0,o.tZ)("div",{sx:{maxWidth:"480px",padding:0,margin:0},children:t("webapp_sharing_item_insufficient_permission_dialog_description")})})}},99975:(e,t,n)=>{"use strict";n.d(t,{e:()=>w});var a=n(96832),i=n(78956),r=n(29020),o=n(73704),s=n(61605),l=n(88203),c=n(23619),d=n(45272),p=n(76376),u=n(69920),_=n(59522),m=n(36351);const h=new o.UserCallToActionEvent({callToActionList:[o.CallToAction.SeeAllPlans,o.CallToAction.BuyDashlane],chosenAction:o.CallToAction.SeeAllPlans,hasChosenNoAction:!1}),g=new o.UserCallToActionEvent({callToActionList:[o.CallToAction.AllOffers,o.CallToAction.BuyDashlane],chosenAction:o.CallToAction.BuyDashlane,hasChosenNoAction:!1}),b=new o.UserCallToActionEvent({callToActionList:[o.CallToAction.AllOffers,o.CallToAction.BuyDashlane],hasChosenNoAction:!0}),w=({isVisible:e,handleDismiss:t})=>{const n=(0,c.U)(),{routes:w}=(0,p.Xo)(),{translate:y}=(0,l.Z)();(0,a.useEffect)((()=>{e&&(0,d.Nc)(o.PageView.PaywallFreeUserPasswordLimitReached)}),[e]);const f={type:u.w2.PREMIUM_PROMPT,subtype:u.X3.PASSWORD_LIMIT,action:u.nS.GO_PREMIUM};return(0,m.tZ)(i.Vq,{isOpen:e,onClose:()=>{t(),(0,d.Kz)(b)},title:y("webapp_paywall_password_limit_dialog_header"),closeActionLabel:y("_common_dialog_dismiss_button"),actions:{primary:{children:y("webapp_paywall_upgrade_premium"),onClick:()=>{const e=`${_.G9}?subCode=${null!=n?n:""}&utm_source=button:buy_dashlane++origin_page:paywall/free_user_password_limit+origin_component:webapp`;(0,d.Kz)(g),(0,s.Yo)(e)},icon:"PremiumOutlined",layout:"iconLeading"},secondary:{children:y("webapp_paywall_password_limit_dialog_secondary_cta"),onClick:()=>{(0,d.Kz)(h),(0,s.Yk)(w.userGoPlans,f)}}},children:(0,m.tZ)(r.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:y("webapp_paywall_password_limit_dialog_subtitle")})})}},50925:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w,b:()=>g});var a=n(5063),i=n(68999),r=n(73704),o=n(24731),s=n(23619),l=n(15394),c=n(8403),d=n(76376),p=n(88203),u=n(45272),_=n(61605),m=n(94307),h=n(36351);let g=function(e){return e.Credentials="credentials",e.SecureNotes="secureNotes",e.SharingLimit="sharingLimit",e}({});const b="webapp_paywall_password_limit_banner_cta",w=({noticeType:e,customSx:t={}})=>{const n=(0,s.U)(),w=(0,c.v0)(),{routes:y}=(0,d.Xo)(),{translate:f}=(0,p.Z)(),{getSelectedItems:x}=(0,m.f2)(),S=x?.(["credentials"])?.length>0,v=y.userGoPremium(null!=n?n:"","yearly"),C=(0,l.II)(["secureNotes"]),Z=!w.isLoading&&w.shouldShowAtOrOverLimitContent,k=(()=>{switch(e){case g.Credentials:return w.isLoading?null:w.shouldShowAtOrOverLimitContent?f("webapp_paywall_password_limit_banner_title"):w.shouldShowNearLimitContent&&w.passwordsLeft?f("webapp_paywall_password_near_limit_banner",{count:w.passwordsLeft,passwordLimit:25}):null;case g.SecureNotes:return C?f.markup("webapp_paywall_secure_note_banner_markup",{link:v},{linkTarget:"_blank"}):null;case g.SharingLimit:return null;default:(0,o.U)(e)}})();return!k||w.isLoading||S?null:(0,h.tZ)(a.k,{title:k,size:"large",icon:"FeedbackWarningOutlined",mood:w.shouldShowNearLimitContent?"brand":"warning",description:w.shouldShowAtOrOverLimitContent?f("webapp_paywall_password_limit_banner_subtitle"):null,actions:[(0,h.tZ)(i.z,{icon:"PremiumOutlined",layout:"iconLeading",onClick:()=>{(0,u.Kz)(new r.UserClickEvent({clickOrigin:Z?r.ClickOrigin.BannerPasswordLimitReached:r.ClickOrigin.BannerPasswordLimitCloseToBeReached,button:r.Button.BuyDashlane})),(0,_.Yo)(v)},children:f(b)},f(b))],sx:t})}},19189:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var a=n(99990),i=n(24507);const r=e=>{const{data:t}=(0,i.k)(a.d,"compromisedCredentials",{credentialIds:e});return null!=t?t:[]}},564:(e,t,n)=>{"use strict";n.d(t,{j:()=>w});var a=n(96832),i=n(67678),r=n(14877),o=n(39431),s=n(62264),l=n(78956),c=n(29020),d=n(88203),p=n(85473),u=n(74020),_=n(22522),m=n(36351);const h=({credentialsToBeDeleted:e,isLoading:t})=>t?(0,m.tZ)(_.Z,{size:"xlarge",sx:{margin:"40px auto 20px"}}):(0,m.tZ)("ul",{sx:{marginRight:"-16px",overflowY:"auto",maxHeight:"50vh",...u.W},children:e.map((e=>(0,m.tZ)("li",{sx:{borderBottom:"1px solid",borderBottomColor:"ds.border.neutral.quiet.idle",padding:"12px 0",marginRight:"32px","&:last-child":{borderBottom:"none"}},children:(0,m.tZ)(p.Q,{size:p.o.SMALL,sxProps:{overflow:"hidden",userSelect:"none"},title:e.itemName,email:e.email,login:e.username})},`bulkdelete_dialog_list_${e.id}`)))});var g=n(8180);const b=({credentialsToBeDeleted:e,onClose:t,clearMultiSelection:n})=>{const{translate:i}=(0,d.Z)(),{showToast:p}=(0,s.p)(),[u,_]=(0,a.useState)(!1),{deleteVaultItems:b}=(0,g.u)(r.L);return(0,m.BX)(l.Vq,{isOpen:!0,isMandatory:!0,isDestructive:!0,disableScrolling:!0,closeActionLabel:i("_common_dialog_dismiss_button"),onClose:t,title:i("webapp_credentials_multiselect_delete_confirm_dialog_title",{count:e.length}),actions:{primary:{children:i("webapp_credentials_multiselect_delete_confirm_dialog_delete_button"),onClick:async()=>{_(!0);const a=e.map((e=>e.id)),r=await b({vaultItemType:o.U.Credential,ids:a});"success"===r.tag?(n(),p({description:i("webapp_credentials_multiselect_delete_success_alert",{count:e.length})})):"failure"===r.tag?p({description:i("webapp_credentials_multiselect_delete_warning_alert_items_deleted",{loginsDeleted:e.length-r.error.failedDeletionIds.length,totalNumberOfLogins:e.length}),mood:"danger"}):p({description:i("webapp_credentials_multiselect_delete_error_alert",{count:e.length}),mood:"danger"}),_(!1),t()}},secondary:{children:i("webapp_credentials_multiselect_delete_confirm_dialog_cancel_button"),onClick:t}},children:[(0,m.tZ)(c.n,{color:"ds.text.danger.quiet",children:i("webapp_credentials_multiselect_delete_confirm_dialog_desc")}),(0,m.tZ)(h,{credentialsToBeDeleted:e,isLoading:u})]})},w=()=>{const{openDialog:e,closeDialog:t}=(0,i.R)();return{openBulkDeletionDialog:(0,a.useCallback)(((n,i)=>{e(a.createElement(b,{credentialsToBeDeleted:n,onClose:t,clearMultiSelection:i}))}),[e,t])}}},3138:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var a=n(95727),i=n(90248),r=n(36351);const o=({vaultItemId:e})=>{const{allCollections:t}=(0,a.bA)();if(!t.length)return null;const n=t.filter((t=>t.vaultItems.some((t=>t.id===e))));return(0,r.tZ)(i.zT,{sx:{margin:"14px 0"},"data-testid":"collections-list",collections:n})}},62059:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});var a=n(13134),i=n(85473),r=n(47124),o=n(88203),s=n(36351);const l="webapp_credentials_row_compromised_tooltip",c=({compromised:e})=>{const{translate:t}=(0,o.Z)();return e?(0,s.tZ)("div",{sx:{marginRight:"48px",whiteSpace:"normal"},children:(0,s.tZ)(r.JO,{name:"FeedbackWarningOutlined",size:"large",color:"ds.text.danger.quiet","aria-label":t(l),tooltip:t(l)})}):null},d=({credential:e,requiresMP:t,isCompromised:n,isShared:r,showTitleIcons:o,tag:l})=>{const{itemName:d,URL:p,email:u,username:_}=e;return(0,s.BX)("div",{sx:{display:"flex",alignItems:"center",width:"100%"},children:[(0,s.tZ)(i.Q,{title:d,showTitleIcons:o,login:_,email:u,shared:r,autoProtected:t,domain:new a.Y(p).getRootDomain(),tag:l,sxProps:{maxWidth:"350px",minWidth:0,marginRight:"8px"}}),(0,s.tZ)("div",{sx:{display:"flex",flexGrow:"1",justifyContent:"flex-end"},children:(0,s.tZ)(c,{compromised:n})})]})}},75632:(e,t,n)=>{"use strict";n.d(t,{k:()=>ve});var a=n(96832),i=n(15192),r=n(73704),o=n(88203),s=n(8403),l=n(92077),c=n(13368),d=n(99822),p=n(16019),u=n(1639),_=n(88455),m=n(88795),h=n(36351);const g=()=>{const{translate:e}=(0,o.Z)(),t=(0,s.v0)(),n=!t.isLoading&&t.shouldShowAtOrOverLimitContent,{openPaywall:a}=(0,s.nL)(),g=(0,i.k6)(),{routes:b}=(0,l.Xo)(),w=(0,m.h)();return(0,h.tZ)(_.t,{tooltipPassThrough:!n,tooltipContent:e("webapp_paywall_password_limit_tooltip"),handleAddNew:()=>{n?a(c.qd.Credential):g.push(b.userAddWebsiteCredential)},addNewDisabled:t.isLoading,shareButtonElement:(0,h.tZ)(u.Z,{sharing:{...(0,d.j8)(),tab:p.f.Passwords},intensity:"quiet",text:e("credentials_header_share_password"),origin:r.Origin.ItemListView}),shouldDisplayPasswordHistoryButton:!0,shouldDisplayAddButton:w,shouldDisplayNewAccountImportButton:w})};var b=n(19189),w=n(62735);const y=(0,a.createContext)({}),f=({children:e})=>{const{credentialIds:t}=(0,w.T)(),n=(0,b.q)(t),i=(0,a.useMemo)((()=>new Set(n)),[n]),r=(0,a.useCallback)((e=>i.has(e)),[i]);return(0,h.tZ)(y.Provider,{value:{isCredentialCompromised:r},children:e})};var x=n(40846),S=n(7606),v=n(78506),C=n(63847),Z=n(22522),k=n(58780),I=n(94307),E=n(10994),D=n(31062),T=n(80610),A=n(39431),N=n(15622),O=n(73630),P=n(45272),L=n(25960),R=n(62059),M=n(68999),B=n(61605),z=n(33840),U=n(47286);const F="webapp_credentials_row_open_website",X={canManageAccess:!0,canCopy:!0,canEdit:!0,canShare:!0,canReveal:!0},q=({credentialItemRoute:e,credential:t,isUserFrozen:n})=>{var a;const{translate:i}=(0,o.Z)(),{isCredentialsGloballyProtected:r}=(0,w.T)(),{isSharingAllowed:s,isSharingEnabled:l,sharingCapabilities:c,sharingStatus:d}=(0,k.o)(),{id:p,URL:u}=t,_=!u,m=i("webapp_credentials_row_no_website_tooltip"),g=d?.[t.id]?.isShared,b=null!=(a=c[t.id]?.capabilities)?a:X;return(0,h.BX)("div",{"data-testid":"quick-action-container",sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,h.tZ)("div",{sx:{marginRight:"8px"},children:(0,h.tZ)(D.u,{content:_?m:i(F),location:"bottom",children:(0,h.tZ)(M.z,{title:i(F),icon:"ActionOpenExternalLinkOutlined",layout:"iconOnly",mood:"brand",intensity:"supershy",name:"hiddenAction",role:"link",onClick:()=>{(0,z.k)(p,u),(0,B.Yo)(u)},"aria-label":_?m:i(F),disabled:_,sx:{opacity:"0",":disabled":{cursor:"not-allowed"}}})})}),(0,h.tZ)(U.r,{credential:t,credentialItemRoute:e,isCredentialsGloballyProtected:r,isSharingEnabled:l,isSharingAllowed:s,isShared:g,isUserFrozen:n,sharingCapabilities:b,triggerButton:{layout:"iconOnly",intensity:"supershy",mood:"brand",icon:"ActionMoreOutlined",showCaret:!1,"aria-label":i("webapp_credentials_row_accessibility_actions_menu")}})]})},H=(0,a.memo)(q);var V=n(47733),W=n(89481),j=n(3138);const G=({credential:e,isShared:t})=>{var n;const{isCredentialCompromised:i}=(()=>{const e=(0,a.useContext)(y);if(!e)throw new Error("useCompromisedCredentialsContext must be used within a CompromisedCredentialsProvider");return e})();return(0,h.tZ)(R.$,{credential:e,isShared:t,requiresMP:null!=(n=e.isSecured)&&n,isCompromised:i(e.id)})},K=({credential:e,isUserFrozen:t,onSelectCredential:n,isSelected:a,isShared:i,className:s,onItemFocus:c,onItemBlur:d})=>{const{translate:p}=(0,o.Z)(),{routes:u}=(0,l.Xo)(),{pathname:_}=(0,l.TH)(),{previousPage:m}=(0,w.T)(),g=u.userVaultItem(e.id,A.U.Credential,_);return(0,h.tZ)(W.Z,{previousPage:m,link:g,type:"link",selected:a,onClick:()=>{(0,P.Nc)(r.PageView.ItemCredentialDetails),(0,L.kb)(e.id)},className:s,checkboxSlot:(0,h.tZ)(D.u,{passThrough:!i,location:"right",content:p("webapp_multiselect_disabled_checkbox_tooltip"),sx:{maxWidth:"200px",whiteSpace:"normal"},children:(0,h.tZ)(T.X,{"aria-label":""!==e.URL?e.URL:e.username,checked:a,onChange:t=>n(e.id,"credentials",t),readOnly:i,onFocus:c,onBlur:d})}),data:[{key:"title",content:(0,h.tZ)(G,{credential:e,isShared:i})},{key:"lastUse",content:(0,h.tZ)(O.Z,{children:e.lastUse&&e.lastUse>0?(0,h.tZ)(N.Z,{date:(0,E.Z)(e.lastUse)}):p("webapp_credentials_row_last_used_never")}),sxProps:V.L.LAST_USE_CELL},{key:"collection",content:(0,h.tZ)(j.I,{vaultItemId:e.id}),sxProps:V.L.COLLECTION_CELL}],actions:(0,h.tZ)(H,{credentialItemRoute:g,credential:e,isUserFrozen:t})})},Y=(0,a.memo)(K),$=({credential:e,isUserFrozen:t,onSelectCredential:n,className:a,onItemFocus:i,onItemBlur:r})=>{const{isSelected:o}=(0,I.f2)(),{sharingStatus:s}=(0,k.o)(),{toggleSelectedItems:l}=(0,I.a8)(),c=s[e.id]?.isShared,d=o(e.id,"credentials");return d&&c?(l(new Set([e.id]),"credentials"),null):(0,h.tZ)(Y,{credential:e,isUserFrozen:t,isShared:c,onSelectCredential:n,isSelected:d,className:a,onItemFocus:i,onItemBlur:r})};var Q,J=n(73875),ee=n(564);const te=(0,a.memo)((({data:e,index:t,style:n})=>{const a=t>=e.credentials.length;return a&&!e.hasMore?null:a?(0,h.tZ)(C.k,{sx:{...n,height:"60px"},alignContent:"center",justifyContent:"center",children:Q||(Q=(0,h.tZ)(Z.Z,{size:"xlarge"}))}):(0,h.tZ)($,{sx:{...n,pointerEvents:"auto"},credential:e.credentials[t],isUserFrozen:e.isUserFrozen,onSelectCredential:e.onSelectCredential,onItemFocus:e.onItemFocus,onItemBlur:e.onItemBlur},e.credentials[t].id)}));te.displayName="CredentialRow";const ne=()=>{const{credentials:e,hasMore:t,onNextPage:n}=(0,w.T)(),{sharingStatus:i}=(0,k.o)(),r=(0,J.l)(),{openBulkDeletionDialog:o}=(0,ee.j)(),s=(0,I.p7)(e,i),{isSelected:l,getSelectedItems:c}=(0,I.f2)(),{clearSelection:d}=(0,I.a8)(),p=c(["credentials"]).length,[u,_]=(0,a.useState)(!1),m=(0,a.useRef)(1),g=(0,a.useRef)(e.length),b=(0,a.useRef)(!1);(0,a.useEffect)((()=>{const t=t=>{const{key:n}=t;if(("Backspace"===n||"Delete"===n)&&u&&p>0){const t=e.filter((e=>l(e.id,"credentials")));o(t,d)}};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}}),[e,u,p]);const y=(0,a.useCallback)((({overscanStopIndex:a})=>{a>=e.length-1&&t&&!b.current?(b.current=!0,g.current=e.length,n(++m.current)):b.current&&g.current!==e.length&&(b.current=!1)}),[e.length,t,n]),f=(0,a.useMemo)((()=>({credentials:e,isUserFrozen:null==r||r,onSelectCredential:s,onItemFocus:()=>_(!0),onItemBlur:()=>_(!1),hasMore:t})),[e,t,r,s,_]);return(0,h.tZ)("div",{style:{flex:"1 1 auto"},"data-testid":"credentials-list",children:(0,h.tZ)(v.ZP,{children:({height:n,width:a})=>(0,h.tZ)(S.t7,{height:n,itemCount:t?e.length+1:e.length,itemData:f,itemSize:60,width:a,onItemsRendered:y,overscanCount:20,children:te})})})};var ae=n(34202);const ie=()=>{const{translate:e}=(0,o.Z)(),{setSortOrder:t,sortingOptions:n}=(0,w.T)();return(0,h.tZ)(ae.h,{header:[{key:"title",sortable:!0,content:e("webapp_credentials_header_row_name"),logSubaction:"name"},{key:"lastUse",sortable:!0,content:e("webapp_credentials_header_row_last_used"),sxProps:V.L.LAST_USE_CELL,logSubaction:"lastUsed"},{key:"collection",sortable:!1,content:e("webapp_credentials_header_row_category"),sxProps:V.L.COLLECTION_CELL}],onSort:t,options:n,sxProps:{paddingLeft:"38px"}})};var re=n(11659),oe=n(50925),se=n(26215),le=n(85434),ce=n(6832),de=n(48038),pe=n(40577),ue=n(30442),_e=n(2951),me=n(29315),he=n(7576);const ge={admin:{title:"webapp_credentials_empty_state_title_admin",description:"webapp_credentials_empty_state_description_admin",nextStep:{add:{title:"webapp_credentials_empty_state_next_step_add_title_admin",description:"webapp_credentials_empty_state_next_step_add_description_admin",button:"webapp_credentials_empty_state_next_step_add_button_admin"},import:{title:"webapp_credentials_empty_state_next_step_import_title_admin",description:"webapp_credentials_empty_state_next_step_import_description_admin",button:"webapp_credentials_empty_state_next_step_import_button_admin"}}},employee:{title:"webapp_credentials_empty_state_title_employee",description:"webapp_credentials_empty_state_description_employee",nextStep:{add:{title:"webapp_credentials_empty_state_next_step_add_title_employee",description:"webapp_credentials_empty_state_next_step_add_description_employee",button:"webapp_credentials_empty_state_next_step_add_button_employee"},import:{title:"webapp_credentials_empty_state_next_step_import_title_employee",description:"webapp_credentials_empty_state_next_step_import_description_employee",button:"webapp_credentials_empty_state_next_step_import_button_employee"}}},b2c:{title:"webapp_credentials_empty_state_title",description:"webapp_credentials_empty_state_description",nextStep:{add:{title:"webapp_credentials_empty_state_next_step_add_title",description:"webapp_credentials_empty_state_next_step_add_description",button:"webapp_credentials_empty_state_next_step_add_button"},import:{title:"webapp_credentials_empty_state_next_step_import_title",description:"webapp_credentials_empty_state_next_step_import_description",button:"webapp_credentials_empty_state_next_step_import_button"}}}},be=()=>{const{routes:e}=(0,l.Xo)(),{translate:t}=(0,o.Z)(),n=(0,_e.Q)(),a=(0,pe.o)(ue.c.ImportOrchestratorGrapheneMigration);if(n.status!==de.rq.Success)return null;const i=a?e.importDataV2:e.importData,s=ge[n.isB2B?n.b2bRoles.isAdmin?"admin":"employee":"b2c"];return(0,h.BX)(me.x,{title:t(s.title),description:t(s.description),illustrationLightSrc:le,illustrationDarkSrc:ce,children:[(0,h.tZ)(he.G,{title:t(s.nextStep.import.title),description:t(s.nextStep.import.description),button:{children:t(s.nextStep.import.button),layout:"iconLeading",icon:"ImportOutlined",onClick:()=>{(0,P.Kz)(new r.UserClickEvent({button:r.Button.ImportLogins})),(0,l.uX)(i)}}}),(0,h.tZ)(he.G,{title:t(s.nextStep.add.title),description:t(s.nextStep.add.description),button:{children:t(s.nextStep.add.button),intensity:"quiet",layout:"iconLeading",icon:"ActionAddOutlined",onClick:()=>{(0,P.Kz)(new r.UserClickEvent({button:r.Button.AddLogin})),(0,l.uX)(e.userAddWebsiteCredential)}}})]})};var we,ye,fe,xe,Se;const ve=({withLayout:e=!0})=>{const t=(0,m.h)();return void 0===t?null:t?(0,h.tZ)(re.k,{withLayout:e,header:ye||(ye=(0,h.tZ)(g,{})),children:(0,h.tZ)(k.v,{children:(0,h.BX)(f,{children:[fe||(fe=(0,h.tZ)(x.N,{type:"credentials"})),(0,h.BX)("div",{sx:{position:"relative",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,h.tZ)(oe.Z,{noticeType:oe.b.Credentials,customSx:{marginBottom:"8px"}}),xe||(xe=(0,h.tZ)(ie,{})),Se||(Se=(0,h.tZ)(ne,{}))]})]})})}):(0,h.tZ)(re.k,{withLayout:e,header:(0,h.tZ)(se.t,{title:"webapp_credentials_empty_state_page_title"}),children:we||(we=(0,h.tZ)(be,{}))})}},9805:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var a=n(47124),i=n(29020),r=n(14900),o=n(36351);const s=({icon:e,text:t,onClick:n,closeOnClick:s,hasArrowIcon:l,disabled:c})=>{const d="ds.text.neutral.standard",p=s?{"data-close-dropdown":!0}:{};return(0,o.tZ)(r.W7o,{fullWidth:!0,onClick:n,...p,disabled:c,sx:{width:"100%",padding:"10px 12px",borderRadius:"4px",border:"none",backgroundColor:"ds.container.expressive.neutral.supershy.idle","&:hover":{backgroundColor:"ds.container.expressive.neutral.supershy.hover"}},children:(0,o.BX)(r.T5p,{gridTemplateColumns:"1fr auto",gap:"8px",role:"menuitem",children:[(0,o.BX)("div",{sx:{display:"flex",gap:"8px"},children:[(0,o.tZ)(a.JO,{name:e,color:d}),(0,o.tZ)(i.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",children:t})]}),l&&(0,o.tZ)("div",{children:(0,o.tZ)(a.JO,{name:"CaretRightOutlined",color:d})})]})})}},47286:(e,t,n)=>{"use strict";n.d(t,{r:()=>P});var a=n(96832),i=n(63071),r=n(13134),o=n(14900),s=n(73704),l=n(61605),c=n(45272),d=n(33840),p=n(92077);const u=async(e,t,n,a)=>{const i=new r.Y(t).getRootDomain();(0,c.Kz)(new s.UserCopyVaultItemFieldEvent({itemType:s.ItemType.Credential,field:n,itemId:e,isProtected:a})),(0,c.Kz)(new s.AnonymousCopyVaultItemFieldEvent({itemType:s.ItemType.Credential,field:n,domain:{id:await(0,s.hashDomain)(i),type:s.DomainType.Web}}))};var _=n(88203),m=n(86498),h=n(83849),g=n.n(h),b=n(7544),w=n(51031),y=n(24731),f=n(2039),x=n(37527),S=n(99822),v=n(68819),C=n(67678),Z=n(67986),k=n(26642),I=n(30894),E=n(23816),D=n(80936);var T=n(36351);const A=(0,I.DP)((0,f.H)((e=>{var t,n;const{openDialog:r,closeDialog:o}=(0,C.R)(),[l,c]=(0,a.useState)(void 0),[d,p]=(0,a.useState)(!1),[u,_]=(0,a.useState)(void 0),[m,h]=(0,a.useState)(!1),[f,I]=(0,a.useState)(void 0),[A,N]=(0,a.useState)(!1),[O,P]=(0,a.useState)(0),[L,R]=(0,a.useState)(0),[M,B]=(0,a.useState)(0),z=(0,D.I)();(0,a.useEffect)((()=>()=>{window.clearTimeout(O),window.clearTimeout(L),window.clearTimeout(M)}),[]);const U=(t=!1)=>{e.closePopover&&e.closePopover(t)},F=e=>{switch(e){case"password":return f;case"login":return l;case"email":return u;default:(0,y.U)(e)}},X=({type:e,success:t,callback:n})=>{if(!F(e)){if(n&&n(t),"password"===e?I(t):"email"===e?_(t):c(t),!t)return U();switch(e){case"password":return void(()=>{N(!0);const e=window.setTimeout((()=>{N(!1),I(void 0)}),900);B(e)})();case"login":return void(()=>{p(!0);const e=window.setTimeout((()=>{c(void 0),p(!1)}),900);P(e)})();case"email":return void(()=>{h(!0);const e=window.setTimeout((()=>{_(void 0),h(!1)}),900);R(e)})();default:(0,y.U)(e)}}},q=e=>(e=>{switch(e){case"password":return A;case"login":return d;case"email":return m;default:(0,y.U)(e)}})(e)&&void 0!==F(e),H=e=>F(e)?"CheckmarkOutlined":"ActionCloseOutlined",{login:V,email:W,onEditItem:j,onGoToWebsite:G,password:K,translate:Y}=e,$=z.status===w.rq.Success&&z.isDisabled&&!e.spaceId,Q=!$,J=e.isSharingEnabled&&e.sharingCapabilities?.canShare&&!$,ee=K&&(!e.isShared||e.sharingCapabilities?.canCopy);return(0,T.BX)(i.Nv,{className:g()("quickActionsMenu--yuwrgiBDtx",x.jK),children:[(0,T.tZ)(b.h,{onSelect:j,leadingIcon:"ActionEditOutlined",label:Y("webapp_credentials_quick_actions_edit_item")}),G?(0,T.tZ)(b.h,{onSelect:G,leadingIcon:"ActionOpenExternalLinkOutlined",label:Y("webapp_credentials_quick_actions_go_to_website")}):null,ee&&!e.isUserFrozen?(0,T.tZ)(b.h,{onSelect:t=>{t.preventDefault();const n=async()=>{const t=await navigator.clipboard.writeText(e.password).then((()=>!0)).catch((()=>!1));X({success:t,type:"password",callback:e.onCopyPassword})};if(!e.areProtectedItemsUnlocked&&(e.autoProtected||e.isCredentialsGloballyProtected))return e.openProtectedItemsUnlocker({action:v.P.Copy,itemType:v.R.Password,successCallback:n,showNeverAskOption:!0,credentialId:e.id});n()},leadingIcon:q("password")?H("password"):"ActionCopyOutlined",label:q("password")?Y(f?"webapp_credentials_quick_actions_copy_password_feedback_ok":"webapp_credentials_quick_actions_copy_password_feedback_not_ok"):Y("webapp_credentials_quick_actions_copy_password")}):null,V&&!e.isUserFrozen?(0,T.tZ)(b.h,{onSelect:async t=>{t.preventDefault();const n=await navigator.clipboard.writeText(e.login).then((()=>!0)).catch((()=>!1));X({success:n,type:"login",callback:e.onCopyLogin})},leadingIcon:q("login")?H("login"):"ActionCopyOutlined",label:q("login")?Y(l?"webapp_credentials_quick_actions_copy_login_feedback_ok":"webapp_credentials_quick_actions_copy_login_feedback_not_ok"):Y("webapp_credentials_quick_actions_copy_login")}):null,W&&!e.isUserFrozen?(0,T.tZ)(b.h,{onSelect:async t=>{t.preventDefault();const n=await navigator.clipboard.writeText(e.email).then((()=>!0)).catch((()=>!1));X({success:n,type:"email",callback:e.onCopyEmail})},leadingIcon:q("email")?H("email"):"ActionCopyOutlined",label:q("email")?Y(u?"webapp_credentials_quick_actions_copy_email_feedback_ok":"webapp_credentials_quick_actions_copy_email_feedback_not_ok"):Y("webapp_credentials_quick_actions_copy_email")}):null,J&&!e.isUserFrozen?(0,T.tZ)(b.h,{onSelect:()=>{U(!0);const{id:n,isSharingAllowed:a}=e,i=(0,S.Ei)(n);r(a&&i?(0,T.tZ)(Z.Z,{sharing:i,onDismiss:o,origin:s.Origin.ItemListView}):t||(t=(0,T.tZ)(k.z,{closeDialog:o})))},leadingIcon:"ActionShareOutlined",label:Y("webapp_sharing_invite_share")}):null,Q?(0,T.tZ)(E.w,{itemId:e.id,itemName:e.title,itemSpaceId:null!=(n=e.spaceId)?n:"",canShare:!!e.sharingCapabilities?.canShare,itemUrl:e.url,isItemProtected:!e.areProtectedItemsUnlocked&&(e.autoProtected||e.isCredentialsGloballyProtected)}):null]})})));var N=n(16103),O=n(79432);const P=({credential:e,sharingCapabilities:t,isSharingEnabled:n,isSharingAllowed:h,isShared:g,isUserFrozen:b,isCredentialsGloballyProtected:w,credentialItemRoute:y,searchEmbedded:f,triggerButton:x,triggerLabel:S})=>{const{closeSearch:v}=(0,N.A)(),{translate:C}=(0,_.Z)(),Z=(0,m.V)(),{protectedItemsUnlockerShown:k}=(0,I.tY)(),{logCopiedCredentialField:E}=(0,O.D)(),[D,P]=(0,a.useState)(!1),L=e.isSecured,R=()=>{u(e.id,e.URL,s.Field.Login,!1)},M=()=>{u(e.id,e.URL,s.Field.Email,!1)},B=()=>{const t=e.URL,n=e.email||e.username||e.alternativeUsername,a=L||w,i=Boolean(e.spaceId);u(e.id,e.URL,s.Field.Password,a),i&&E({credentialLogin:n,credentialURL:t})},z=(e,t)=>{e(),t||Z.showAlert(C("webapp_generic_copy_to_clipboard_feedback_error"),o.BLW.ERROR)};return(0,T.BX)(i.h_,{onOpenChange:()=>{if(k)return;const e=!D;P(e),e&&((0,c.Nc)(s.PageView.ItemQuickActionsDropdown),(0,c.Kz)(new s.UserOpenVaultItemDropdownEvent({dropdownType:s.DropdownType.QuickActions,itemType:s.ItemType.Credential})))},isOpen:D,children:[(0,T.tZ)(i.sB,{showCaret:!0,...x,children:S}),(0,T.tZ)(A,{autoProtected:L,sharingCapabilities:t,isShared:g,isCredentialsGloballyProtected:w,isSharingEnabled:n,isSharingAllowed:h,isUserFrozen:b,closePopover:(e=!1)=>{P(!1),f&&e&&v()},id:e.id,login:e.username,email:e.email,onCopyLogin:e=>z(R,e),onCopyPassword:e=>z(B,e),onCopyEmail:e=>z(M,e),onEditItem:()=>{f&&v(),(0,p.uX)(y)},onGoToWebsite:()=>{(0,d.k)(e.id,e.URL);const t=new r.Y(e.URL);(0,l.Yo)(t.getUrlWithFallbackHttpsProtocol())},password:e.password,spaceId:e.spaceId,title:e.itemName,url:e.URL})]})}},47733:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});const a={LAST_USE_CELL:{width:"180px !important"},COLLECTION_CELL:{flex:"1",width:"unset",minWidth:"160px"}}},7870:(e,t,n)=>{"use strict";n.d(t,{qb:()=>i,r5:()=>a});const a=n(55139).w.TechWeekWebDisplayLabs,i="https://forms.gle/SpSK8aNZQaBmMx3D6"},67678:(e,t,n)=>{"use strict";n.d(t,{r:()=>l,R:()=>c});var a=n(96832),i=n(51285);const r=({dialogId:e})=>{const t=document.getElementById(null!=e?e:"dashlane-dialog"),{isDialogVisible:n,dialogContent:r}=a.useContext(s);return t&&n&&r?i.createPortal(r,t):null};var o=n(36351);const s=a.createContext({isDialogVisible:!1,dialogContent:null,openDialog:()=>{},closeDialog:()=>{}}),l=({children:e,dialogId:t})=>{const{isDialogVisible:n,dialogContent:i,openDialog:l,closeDialog:c}=(()=>{const[e,t]=a.useState(!1),[n,i]=a.useState(null);return{isDialogVisible:e,dialogContent:n,openDialog:n=>{t(!e),n&&i(n)},closeDialog:()=>{t(!1),i(null)}}})();return(0,o.BX)(s.Provider,{value:{isDialogVisible:n,dialogContent:i,openDialog:l,closeDialog:c},children:[(0,o.tZ)(r,{dialogId:t}),e]})},c=()=>a.useContext(s)},29315:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var a=n(22903),i=n(29020),r=n(86717),o=n(36351);const s=({illustrationLightSrc:e,illustrationDarkSrc:t,title:n,description:s,children:l})=>(0,o.BX)("div",{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",maxWidth:"560px",margin:"0 auto",height:"100%"},children:[(0,o.tZ)(r.b,{lightSrc:e,darkSrc:t,sx:{maxWidth:"50%",aspectRatio:"3/2",alignSelf:"center"}}),(0,o.BX)("div",{sx:{marginBottom:"16px",textAlign:"center"},children:[(0,o.tZ)(a.X,{as:"h2",textStyle:"ds.title.section.large",sx:{marginBottom:"8px"},children:n}),(0,o.tZ)(i.n,{textStyle:"ds.body.standard.regular",children:s})]}),(0,o.tZ)("div",{sx:{display:"flex",gap:"8px",flexWrap:"nowrap",flexDirection:"row",width:"100%",justifyContent:"space-around"},children:l})]})},26215:(e,t,n)=>{"use strict";n.d(t,{t:()=>c});var a,i=n(22903),r=n(88203),o=n(82454),s=n(96997),l=n(36351);const c=({title:e})=>{const{translate:t}=(0,r.Z)();return(0,l.tZ)(o.h,{startWidgets:(0,l.tZ)(i.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:t(e)}),endWidget:a||(a=(0,l.tZ)(s.D,{}))})}},7576:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var a=n(22903),i=n(29020),r=n(68999),o=n(36351);const s=({title:e,description:t,button:n})=>(0,o.tZ)("div",{sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",borderRadius:"8px",padding:"24px",textAlign:"left",containerType:"inline-size",containerName:"next-step",width:"100%"},children:(0,o.BX)("div",{sx:{display:"grid",gap:"16px",alignItems:"center",gridTemplateColumns:"1fr auto",gridTemplateAreas:'"content action"',"@container next-step (width < 320px)":{gridTemplateColumns:"unset",gridTemplateAreas:'"content" "action"',height:"100%",alignContent:"space-between"}},children:[(0,o.BX)("div",{sx:{gridArea:"content"},children:[(0,o.tZ)(a.X,{as:"h3",textStyle:"ds.title.block.medium",children:e}),(0,o.tZ)(i.n,{textStyle:"ds.body.reduced.regular",children:t})]}),(0,o.tZ)(r.z,{...n,sx:{gridArea:"action","@container next-step (width < 320px)":{width:"100%"}}})]})})},79432:(e,t,n)=>{"use strict";n.d(t,{D:()=>Z});var a=n(8180),i=n(40577),r=n(8333),o=n(28275),s=n(13134),l=n(96832),c=n(73704),d=n(30309);const p=(e,t)=>{switch(e){case c.Field.Iban:switch(t){case d.cH.GB:case d.cH.US:case d.cH.MX:return"account_number";default:return"iban"}case c.Field.Bic:switch(t){case d.cH.GB:return"sort_code";case d.cH.US:return"routing_number";case d.cH.MX:default:return"swift"}}};var u=n(59664),_=n(57459);const m=()=>({category:u.s.ItemUsage,date_time:(new Date).getTime(),schema_version:"1.0.0",is_sensitive:!0,uuid:(0,_.Z)().toUpperCase()}),h=e=>({...m(),log_type:u.b.UserRevealedCredentialField,properties:e}),g=e=>({...m(),log_type:u.b.UserRevealedCreditCardField,properties:e}),b=e=>({...m(),log_type:u.b.UserRevealedBankAccountField,properties:e}),w=e=>({...m(),log_type:u.b.UserRevealedSecret,properties:{name:e}}),y=e=>({...m(),log_type:u.b.UserRevealedSecureNote,properties:{name:e}}),f=e=>({...m(),log_type:u.b.UserCopiedCredentialField,properties:e}),x=e=>({...m(),log_type:u.b.UserCopiedCreditCardField,properties:e}),S=e=>({...m(),log_type:u.b.UserCopiedBankAccountField,properties:e}),v=e=>({...m(),log_type:u.b.UserCopiedSecret,properties:{name:e}}),C=e=>({...m(),log_type:u.b.UserCopiedSecureNote,properties:{name:e}});function Z(){const{storeActivityLogs:e}=(0,a.u)(r.g),t=(0,i.o)(o.q.SharingVaultTacAuditLogsProtectedItemRevealed);return{logRevealCredentialField:(0,l.useCallback)((async({credentialURL:n,credentialLogin:a})=>{if(!t)return;const i=new s.Y(n).getRootDomain(),r=h({field:"password",credential_domain:i,credential_login:a});await e({activityLogs:[r]})}),[t,e]),logRevealCreditCardField:(0,l.useCallback)((async({name:n,field:a})=>{if(!t)return;const i=g({field:a,name:n});await e({activityLogs:[i]})}),[t,e]),logRevealBankAccountField:(0,l.useCallback)((async({name:n,field:a,country:i})=>{if(!t)return;const r=p(a,i);if(r){const t=b({field:r,name:n});await e({activityLogs:[t]})}}),[t,e]),logRevealSecretContent:(0,l.useCallback)((async n=>{if(!t)return;const a=w(n);await e({activityLogs:[a]})}),[t,e]),logRevealSecureNoteContent:(0,l.useCallback)((async n=>{if(!t)return;const a=y(n);await e({activityLogs:[a]})}),[t,e]),logCopiedCredentialField:(0,l.useCallback)((async({credentialLogin:n,credentialURL:a})=>{if(!t)return;const i=new s.Y(a).getRootDomain(),r=f({field:"password",credential_domain:i,credential_login:n});await e({activityLogs:[r]})}),[t,e]),logCopiedCreditCardField:(0,l.useCallback)((async({name:n,field:a})=>{if(!t)return;const i=x({field:a,name:n});await e({activityLogs:[i]})}),[t,e]),logCopiedBankAccountField:(0,l.useCallback)((async({name:n,field:a,country:i})=>{if(!t)return;const r=p(a,i);if(r){const t=S({field:r,name:n});await e({activityLogs:[t]})}}),[t,e]),logCopiedSecretContent:(0,l.useCallback)((async n=>{if(!t)return;const a=v(n);await e({activityLogs:[a]})}),[t,e]),logCopiedSecureNoteContent:(0,l.useCallback)((async n=>{if(!t)return;const a=C(n);await e({activityLogs:[a]})}),[t,e])}}},66219:(e,t,n)=>{"use strict";n.d(t,{Il:()=>c,Rd:()=>l,bx:()=>o,lt:()=>s});var a=n(39431),i=n(44105);const r={[a.U.Passport]:{type:"webapp_sidemenu_search_results_ids_passports_fallback_type",default:"webapp_sidemenu_search_results_ids_passports_fallback"},[a.U.SocialSecurityId]:{type:"webapp_sidemenu_search_results_ids_social_security_ids_fallback_type",default:"webapp_sidemenu_search_results_ids_social_security_ids_fallback"},[a.U.FiscalId]:{type:"webapp_sidemenu_search_results_ids_fiscal_ids_fallback_type",default:"webapp_sidemenu_search_results_ids_fiscal_ids_fallback"},[a.U.DriversLicense]:{type:"webapp_sidemenu_search_results_ids_driver_licences_fallback_type",default:"webapp_sidemenu_search_results_ids_driver_licences_fallback"},[a.U.IdCard]:{type:"webapp_sidemenu_search_results_ids_id_cards_fallback_type",default:"webapp_sidemenu_search_results_ids_id_cards_fallback"}},o=(e,t,n)=>t&&t!==i.c.UNIVERSAL&&t!==i.c.NO_TYPE?n(r[e].default,{country:n(`country_name_${i.c[t]}`)}):n(r[e].type),s=e=>{const t=e.country,n=i.c.US;var a;return t&&null!=(a=i.c[t])?a:n},l=new Set([i.c.AU,i.c.GB,i.c.IE,i.c.NZ,i.c.CA]);function c(e,t,n){return l.has(n)&&"en"===t?e.replace("license","licence"):e}},58363:(e,t,n)=>{"use strict";n.d(t,{H:()=>o,L:()=>r});var a=n(39431),i=n(73704);const r={[a.U.DriversLicense]:i.ItemType.IdCard,[a.U.FiscalId]:i.ItemType.DriverLicense,[a.U.IdCard]:i.ItemType.FiscalStatement,[a.U.Passport]:i.ItemType.Passport,[a.U.SocialSecurityId]:i.ItemType.SocialSecurity},o={[a.U.DriversLicense]:i.Field.Number,[a.U.FiscalId]:i.Field.Number,[a.U.IdCard]:i.Field.FiscalNumber,[a.U.Passport]:i.Field.Number,[a.U.SocialSecurityId]:i.Field.SocialSecurityNumber}},73501:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var a=n(20565),i=n(36351);const r=({children:e,header:t,aside:n,withCards:r=!0})=>{const o=r?a.Z:"div",s={ROOT:{height:"100%",padding:"0 24px 24px 24px",backgroundColor:"ds.background.alternate",...t?{}:{paddingTop:"24px"}},VIEW:{height:t?"calc(100% - 72px)":"100%",display:"flex",flexDirection:"row",...n?{display:"grid",gap:"16px",gridTemplateColumns:"1fr 320px"}:{}},CARD_MAIN:{width:"100%",height:"100%",overflowY:"auto"},CARD_ASIDE:{width:"100%",display:"block"}};return(0,i.BX)("div",{sx:s.ROOT,children:[t||null,(0,i.BX)("div",{sx:s.VIEW,children:[(0,i.tZ)(o,{sx:s.CARD_MAIN,children:e}),n?(0,i.tZ)("div",{children:(0,i.tZ)(o,{sx:s.CARD_ASIDE,children:n})}):null]})]})}},11659:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var a=n(73501),i=n(36351),r=n(96832);const o=({withLayout:e=!0,children:t,layout:n,...a})=>{const o=n;return e?(0,i.tZ)(o,{...a,children:t}):(0,i.tZ)(r.Fragment,{children:t})},s=e=>(0,i.tZ)(o,{layout:a.I,...e})},90435:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var a=n(24507),i=n(51031),r=n(90143);const o=()=>{const{data:e,status:t}=(0,a.k)(r.J,"isMasterPasswordLeaked");return t===i.rq.Success&&e}},34202:(e,t,n)=>{"use strict";n.d(t,{h:()=>p});var a=n(47124),i=n(16166),r=n(29020),o=n(91198),s=n(85462),l=n.n(s),c=n(11528),d=n(36351);const p=({containerClassName:e,header:t,options:n,onSort:s,sxProps:p={}})=>(0,d.tZ)("div",{className:e,sx:(0,i.jM)([c.L.ROW,p,{height:l()["--dashlane-credentials-table-header-height"]}]),children:(0,d.tZ)("div",{sx:(0,i.jM)([c.L.CELLS_WRAPPER,c.L.BORDER]),children:t.map((e=>(e=>{var t;let l=null;if(n){const t=n.direction;l=e.key===n.field?(0,d.tZ)(a.JO,{size:"xsmall",color:"ds.text.neutral.quiet",name:t===o._.descending?"CaretDownOutlined":"CaretUpOutlined",sx:{marginLeft:"8px"}}):null}return(0,d.BX)("button",{className:e.className,"data-testid":e.key,onClick:()=>((e,t,a)=>{if(!n||!s||!a)return;const i={field:e,direction:n.field===e&&n.direction===o._.ascending?o._.descending:o._.ascending};t&&(i.logSubaction=`${t}${i.direction===o._.descending?"Reversed":""}`),s(i)})(e.key,e.logSubaction,e.sortable),sx:(0,i.jM)([c.L.CELL,null!=(t=e.sxProps)?t:{},e.sortable?{cursor:"pointer",userSelect:"none"}:{}]),children:[(0,d.tZ)(r.n,{textStyle:"ds.title.supporting.small",sx:{color:"ds.text.neutral.quiet",overflow:"hidden",textOverflow:"ellipsis",textTransform:"uppercase"},children:e.content}),l]},e.key)})(e)))})})},40846:(e,t,n)=>{"use strict";n.d(t,{N:()=>_,B:()=>r.Br});var a=n(68999),i=n(88203),r=n(94307),o=(n(96832),n(36351));const s=({onClick:e})=>{const{translate:t}=(0,i.Z)();return(0,o.tZ)(a.z,{size:"small",layout:"iconLeading",mood:"neutral",onClick:e,icon:"ActionDeleteOutlined",children:t("webapp_panel_edition_generic_delete")})};var l=n(22005);const c=({visible:e,children:t})=>(0,o.tZ)("div",{sx:{position:"absolute",top:"0",left:"0",right:"0",zIndex:"50",display:"flex",flexDirection:"row",alignItems:"center",padding:"10px 16px",margin:"8px 24px",borderRadius:"8px",backgroundColor:"inherit",backgroundImage:`linear-gradient(${l.uH.colors.ds.container.expressive.neutral.quiet.idle} 100%, white)`,visibility:e?"visible":"hidden",transform:e?"scale3d(1,1,1)":"scale3d(1,0,1)",transformOrigin:"top",transition:"all 250ms"},children:t});var d=n(564),p=n(62735);const u="webapp_credentials_multiselect_menu_close_button",_=({type:e})=>{const{translate:t}=(0,i.Z)(),{isSelected:n,getSelectedItems:l}=(0,r.f2)(),{credentials:_}=(0,p.T)(),{clearSelection:m}=(0,r.a8)(),{openBulkDeletionDialog:h}=(0,d.j)(),g=l([e]).length;return(0,o.BX)(c,{visible:g>0,children:[(0,o.tZ)("span",{children:t("webapp_credentials_multiselect_selected_count",{count:g||1})}),(0,o.BX)("ul",{sx:{display:"flex",gap:"16px",alignItems:"center",marginLeft:"auto"},children:[(0,o.tZ)("li",{children:(0,o.tZ)(s,{onClick:()=>{const t=_.filter((t=>n(t.id,e)));h(t,m)}})}),(0,o.tZ)("li",{children:(0,o.tZ)(a.z,{size:"small",mood:"neutral",intensity:"quiet",icon:"ActionCloseOutlined","aria-label":t(u),tooltip:t(u),layout:"iconOnly",onClick:m,"data-testid":"closeButton"})})]})]})}},94307:(e,t,n)=>{"use strict";n.d(t,{Br:()=>s,a8:()=>c,f2:()=>l,p7:()=>d});var a=n(96832),i=n(36351);const r=(0,a.createContext)({}),o=(0,a.createContext)({}),s=({children:e,initialSelectedItems:t})=>{const[n,s]=(0,a.useState)(null!=t?t:{}),l=(0,a.useCallback)(((e,t)=>{if(t.size>1)t.forEach((t=>e.add(t)));else{const n=[...t][0];((e,t)=>{e.has(t)?e.delete(t):e.add(t)})(e,n)}return e}),[]),c=(0,a.useCallback)(((e,t)=>{s((n=>{var a;const i={...n};let r=null!=(a=n[t])?a:new Set;return r=new Set(l(r,e)),i[t]=r,i}))}),[l]),d=(0,a.useCallback)((()=>s({})),[]),p=(0,a.useCallback)(((e,t)=>!!n[t]?.has(e)),[n]),u=(0,a.useCallback)((e=>e.flatMap((e=>{var t;return[...null!=(t=n[e])?t:[]]}))),[n]),_=(0,a.useMemo)((()=>({getSelectedItems:u,isSelected:p})),[u,p]),m=(0,a.useMemo)((()=>({clearSelection:d,toggleSelectedItems:c})),[d,c]);return(0,i.tZ)(r.Provider,{value:_,children:(0,i.tZ)(o.Provider,{value:m,children:e})})},l=()=>(0,a.useContext)(r),c=()=>(0,a.useContext)(o),d=(e,t)=>{const n=(0,a.useRef)(0),{toggleSelectedItems:i}=c();return(0,a.useCallback)(((a,r,o,s)=>{const{newSelectedItems:l,newLastSelectedIndex:c}=((e,t,n,a,i,r,o)=>{const s=i.nativeEvent.shiftKey,l=e.findIndex((e=>e?.id===n||e?.groupId===n));if(s){let n,i;l>a?(n=l,i=a+1):(n=a,i=l);const s=Array.from({length:n-i+1},((e,t)=>i+t)),c={};return s.forEach((n=>{var a,i;const s=e[n],l=null!=(a=null!=(i=s.id)?i:s.groupId)?a:"",d=o?o(s):r;t?.[l]?.isShared||(c[d]?.size?c[d]?.add(l):c[d]=new Set([l]))})),{newSelectedItems:c,newLastSelectedIndex:l}}{const e={};return e[r]=new Set([n]),{newSelectedItems:e,newLastSelectedIndex:l}}})(e,t,a,n.current,o,r,s);n.current=c,Object.keys(l).forEach((e=>{i(l[e],e)}))}),[e,t,i])}},89481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(96832),i=n(83849),r=n.n(i),o=n(16166),s=n(11744),l=n(92077),c=n(37527),d=n(11528),p=n(36351);const u=({children:e,link:t,previousPage:n})=>(0,p.tZ)(l.rU,{sx:(0,o.jM)([d.L.CELLS_WRAPPER,{textDecoration:"none"}]),to:{pathname:t,state:n?{previousPage:n}:void 0},children:e}),_=({handleClick:e,onClick:t,children:n})=>(0,p.tZ)("div",{onClick:e,sx:(0,o.jM)([t?{cursor:"pointer"}:{},d.L.CELLS_WRAPPER]),children:n}),m=({selected:e,actions:t,onClick:n,renderers:i,data:l,checkboxSlot:m,className:h,previousPage:g,...b})=>{const w=e=>n?n(e):void 0,y=e=>i?.[e.key]?i[e.key].apply(null,e.params):e.content,f=(0,a.useMemo)((()=>(0,o.jM)([d.L.ROW,{marginLeft:"-8px"},e?d.L.SELECTED:{"&:hover":{backgroundColor:"ds.container.expressive.neutral.supershy.hover",transition:"unset"},transition:"ease-out background-color 0.2s"}])),[e]);return(0,p.tZ)(s.H,{className:r()(h,c.jK),checkboxSlot:m,sx:f,actions:t,children:"link"===b.type?(0,p.tZ)(u,{link:b.link,previousPage:g,children:l.map((e=>{var t;return(0,p.tZ)("div",{onClick:w,tabIndex:0,sx:(0,o.jM)([d.L.CELL,null!=(t=e.sxProps)?t:{}]),className:e.className,children:y(e)},e.key)}))}):(0,p.tZ)(_,{handleClick:w,onClick:n,children:l.map((e=>{var t;return(0,p.tZ)("div",{tabIndex:0,sx:(0,o.jM)([d.L.CELL,null!=(t=e.sxProps)?t:{}]),className:e.className,children:y(e)},e.key)}))})})}},11528:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});const a={CELL:{background:"transparent",boxSizing:"border-box",color:"ds.text.neutral.quiet",display:"flex",paddingRight:"16px",textAlign:"left",variant:"text.ds.body.standard.regular",width:"460px"},BORDER:{borderBottom:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle"},SELECTED:{backgroundColor:"ds.container.expressive.neutral.supershy.active"},CELLS_WRAPPER:{flexGrow:1,display:"inline-flex",alignItems:"center",height:"100%",width:"100%"},ROW:{display:"flex",flexShrink:0,justifyContent:"space-between",alignItems:"center",width:"100%",minHeight:"60px",'&:hover button[name="hiddenAction"], &:focus-within button[name="hiddenAction"]':{opacity:1}}}},50801:(e,t,n)=>{"use strict";n.d(t,{mh:()=>l,oS:()=>s,yh:()=>o,zg:()=>r});var a=n(45272),i=n(73704);const r=()=>{(0,a.Kz)(new i.UserCallToActionEvent({callToActionList:[i.CallToAction.Skip,i.CallToAction.InstallExtension],chosenAction:i.CallToAction.InstallExtension,hasChosenNoAction:!1}))},o=()=>{(0,a.Kz)(new i.UserCallToActionEvent({callToActionList:[i.CallToAction.Skip,i.CallToAction.InstallExtension],chosenAction:i.CallToAction.Skip,hasChosenNoAction:!1}))},s=()=>{(0,a.Kz)(new i.UserCallToActionEvent({callToActionList:[i.CallToAction.Skip,i.CallToAction.InstallExtension],hasChosenNoAction:!0}))},l=()=>{(0,a.Kz)(new i.UserClickEvent({button:i.Button.OpenAdminConsole,clickOrigin:i.ClickOrigin.LeftSideNavigationMenu}))}},69898:(e,t,n)=>{"use strict";n.d(t,{F:()=>k});var a=n(96832),i=n(78956),r=n(73704),o=n(61605),s=n(88203),l=n(45272),c=n(44),d=n(79602),p=n(92077),u=n(16037),_=n(19471),m=n(97182),h=n(54206),g=n(50801),b=n(47124),w=n(29020),y=n(36351);const f="40px",x={ITEM:{display:"grid",gridTemplateColumns:`${f} 1fr`,alignItems:"center",gap:"8px"}},S=({iconName:e,title:t})=>{const{translate:n}=(0,s.Z)();return(0,y.BX)("div",{sx:x.ITEM,children:[(0,y.tZ)("div",{sx:{borderRadius:"8px",backgroundColor:"ds.container.expressive.brand.quiet.disabled",display:"flex",justifyContent:"center",alignItems:"center",height:f,width:f},children:(0,y.tZ)(b.JO,{name:e,size:"large",color:"ds.text.brand.standard"})}),(0,y.tZ)(w.n,{textStyle:"ds.body.standard.regular",children:n(t)})]})};var v;const C=()=>v||(v=(0,y.BX)("svg",{width:"499",height:"231",viewBox:"0 0 499 231",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.BX)("g",{clipPath:"url(#clip0_15276_5208)",children:[(0,y.BX)("g",{clipPath:"url(#clip1_15276_5208)",children:[(0,y.tZ)("path",{d:"M-3749.17 11.798C-3749.17 5.28214 -3743.89 0 -3737.37 0H486.303C492.819 0 498.101 5.28214 498.101 11.798V230.061H-3749.17V11.798Z",fill:"#DEE1E6"}),(0,y.BX)("g",{clipPath:"url(#clip2_15276_5208)",children:[(0,y.tZ)("rect",{width:"4247.27",height:"115.03",transform:"translate(-3749.17 115.03)",fill:"white"}),(0,y.tZ)("rect",{width:"4247.27",height:"112.081",transform:"translate(-3749.17 115.03)",fill:"white"}),(0,y.tZ)("rect",{x:"-3442.42",y:"126.828",width:"3633.77",height:"88.4849",rx:"44.2424",fill:"#DEE1E6",fillOpacity:"0.7"}),(0,y.tZ)("rect",{x:"-3441.7",y:"127.551",width:"3632.33",height:"87.0393",rx:"43.5197",stroke:"#A2A3A3",strokeOpacity:"0.47",strokeWidth:"1.44554"}),(0,y.BX)("g",{clipPath:"url(#clip3_15276_5208)",children:[(0,y.tZ)("rect",{x:"214.949",y:"135.677",width:"70.7879",height:"70.7879",rx:"7",fill:"#0E6173"}),(0,y.tZ)("path",{d:"M268.59 162.073C268.59 161.76 268.277 161.447 267.838 161.321L262.579 159.38C261.702 159.004 260.701 159.443 260.701 160.069V182.956C260.725 183.134 260.796 183.303 260.906 183.446C261.016 183.589 261.161 183.701 261.327 183.77L266.712 185.711C267.526 186.024 268.59 185.586 268.59 184.897L268.59 162.073ZM255.249 179.512C255.249 179.199 254.936 178.886 254.497 178.76L249.238 176.819C248.361 176.443 247.359 176.882 247.359 177.508V191.785C247.384 191.963 247.455 192.132 247.565 192.275C247.674 192.417 247.82 192.529 247.986 192.599L253.371 194.54C254.185 194.853 255.249 194.415 255.249 193.726L255.249 179.512ZM255.249 150.332C255.249 150.019 254.936 149.706 254.497 149.58L249.238 147.639C248.361 147.264 247.359 147.702 247.359 148.328V162.605C247.384 162.783 247.455 162.952 247.565 163.095C247.674 163.237 247.82 163.349 247.986 163.419L253.371 165.36C254.185 165.673 255.249 165.235 255.249 164.546L255.249 150.332ZM241.975 149.237C241.975 148.924 241.662 148.611 241.224 148.485L235.964 146.544C235.088 146.169 234.086 146.607 234.086 147.233V192.943C234.111 193.121 234.181 193.29 234.291 193.433C234.401 193.576 234.546 193.687 234.712 193.757L240.097 195.698C240.911 196.011 241.976 195.573 241.976 194.884L241.975 149.237Z",fill:"white"}),(0,y.tZ)("path",{d:"M362 169.947H358.629V160.958C358.629 158.475 356.618 156.464 354.134 156.464H345.145V153.093C345.145 149.991 342.628 147.475 339.527 147.475C336.426 147.475 333.909 149.991 333.909 153.093V156.464H324.92C322.437 156.464 320.448 158.475 320.448 160.958L320.437 169.498H323.797C327.145 169.498 329.864 172.217 329.864 175.565C329.864 178.913 327.145 181.633 323.797 181.633H320.437L320.426 190.172C320.426 192.655 322.437 194.667 324.92 194.667H333.46V191.296C333.46 187.947 336.179 185.228 339.527 185.228C342.876 185.228 345.595 187.947 345.595 191.296V194.667H354.134C356.617 194.667 358.629 192.655 358.629 190.172V181.183H362C365.101 181.183 367.618 178.666 367.618 175.565C367.618 172.464 365.101 169.947 362 169.947Z",fill:"#606368"}),(0,y.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M439.112 162.222C441.555 162.222 443.536 160.241 443.536 157.797C443.536 155.354 441.555 153.373 439.112 153.373C436.668 153.373 434.688 155.354 434.688 157.797C434.688 160.241 436.668 162.222 439.112 162.222ZM439.112 175.494C441.555 175.494 443.536 173.513 443.536 171.07C443.536 168.627 441.555 166.646 439.112 166.646C436.668 166.646 434.688 168.627 434.688 171.07C434.688 173.513 436.668 175.494 439.112 175.494ZM443.536 184.343C443.536 186.786 441.555 188.767 439.112 188.767C436.668 188.767 434.688 186.786 434.688 184.343C434.688 181.899 436.668 179.919 439.112 179.919C441.555 179.919 443.536 181.899 443.536 184.343Z",fill:"#606368"})]}),(0,y.tZ)("rect",{opacity:"0.2",x:"-3749.17",y:"227.111",width:"4247.27",height:"2.9495",fill:"black"})]})]}),(0,y.tZ)("g",{clipPath:"url(#clip4_15276_5208)",children:(0,y.BX)("g",{clipPath:"url(#clip5_15276_5208)",children:[(0,y.tZ)("path",{d:"M-466.383 47.1917C-466.383 34.16 -455.819 23.5957 -442.787 23.5957H158.91C171.942 23.5957 182.506 34.16 182.506 47.1917V117.98H-466.383V47.1917Z",fill:"white"}),(0,y.BX)("g",{clipPath:"url(#clip6_15276_5208)",children:[(0,y.tZ)("path",{d:"M133.845 62.0284L152.925 81.0366L154.495 79.4721L135.415 60.4639L133.845 62.0284Z",fill:"#464646"}),(0,y.tZ)("path",{d:"M152.903 60.5032L133.844 79.5322L135.405 81.1062L154.464 62.0772L152.903 60.5032Z",fill:"#464646"})]}),(0,y.tZ)("path",{d:"M182.506 94.3848L182.506 117.981L206.102 117.981C193.07 117.981 182.506 107.416 182.506 94.3848Z",fill:"white"}),(0,y.tZ)("path",{d:"M238.548 53.0909L244.447 53.0908V88.4848H238.548V53.0909Z",fill:"#1E1F20"}),(0,y.tZ)("path",{d:"M223.801 73.7373V67.8383H259.195V73.7373H223.801Z",fill:"#1E1F20"})]})})]}),(0,y.BX)("defs",{children:[(0,y.tZ)("clipPath",{id:"clip0_15276_5208",children:(0,y.tZ)("path",{d:"M-80 0H498.101V226.361C498.101 228.404 496.444 230.061 494.401 230.061H-80V0Z",fill:"white"})}),(0,y.tZ)("clipPath",{id:"clip1_15276_5208",children:(0,y.tZ)("path",{d:"M-3749.17 11.798C-3749.17 5.28214 -3743.89 0 -3737.37 0H486.303C492.819 0 498.101 5.28214 498.101 11.798V230.061H-3749.17V11.798Z",fill:"white"})}),(0,y.tZ)("clipPath",{id:"clip2_15276_5208",children:(0,y.tZ)("rect",{width:"4247.27",height:"115.03",fill:"white",transform:"translate(-3749.17 115.03)"})}),(0,y.tZ)("clipPath",{id:"clip3_15276_5208",children:(0,y.tZ)("rect",{width:"259.556",height:"70.7879",fill:"white",transform:"translate(214.949 135.677)"})}),(0,y.tZ)("clipPath",{id:"clip4_15276_5208",children:(0,y.tZ)("rect",{width:"1029.37",height:"115.03",fill:"white",transform:"translate(-714.141 2.94922)"})}),(0,y.tZ)("clipPath",{id:"clip5_15276_5208",children:(0,y.tZ)("rect",{width:"766.869",height:"94.3838",fill:"white",transform:"translate(-466.383 23.5957)"})}),(0,y.tZ)("clipPath",{id:"clip6_15276_5208",children:(0,y.tZ)("rect",{width:"601.697",height:"47.1919",fill:"white",transform:"translate(-442.785 47.1914)"})})]})]}));var Z;const k=({isShown:e,setIsShown:t,onBeforeNavigate:n,isFromVault:b})=>{var w;const{routes:f}=(0,p.Xo)(),{translate:x}=(0,s.Z)(),{setCookie:v}=(0,m.O)(),{openTeamConsole:k}=(0,d.q)(),I=null!=(w=(0,c.f)())?w:"";return(0,a.useEffect)((()=>{e&&(0,l.Nc)(r.PageView.InstallExtensionModal)}),[e]),(0,y.BX)(i.Vq,{isOpen:e,title:x("webapp_onb_extension_installation_modal_title"),actions:{primary:{children:x("webapp_onb_extension_installation_modal_action_install_button"),onClick:()=>{v(h.CT.ADMIN),(0,g.zg)(),n?.(),(0,o.Yo)(_.yi)},icon:"ActionOpenExternalLinkOutlined",layout:"iconTrailing"},secondary:{children:x("webapp_onb_extension_installation_modal_action_maybe_button"),onClick:()=>{b?k({email:I,routeInExtension:f.teamAccountRoutePath,routeInWebapp:u.$.ACCOUNT}):(0,o.Yo)(_.F1),(0,g.yh)(),t(!1),n?.()}}},closeActionLabel:x("_common_dialog_dismiss_button"),onClose:()=>{(0,g.oS)(),t(!1)},children:[(0,y.BX)("div",{sx:{paddingBottom:"8px",display:"flex",flexDirection:"column",gap:"8px"},children:[(0,y.tZ)(S,{iconName:"ActionRefreshOutlined",title:"webapp_onb_extension_installation_modal_protip_seamless_switching"}),(0,y.tZ)(S,{iconName:"FeatureAutofillOutlined",title:"webapp_onb_extension_installation_modal_protip_autofill"}),(0,y.tZ)(S,{iconName:"LockOutlined",title:"webapp_onb_extension_installation_modal_protip_save_logins"})]}),(0,y.tZ)("div",{sx:{height:"265px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"12px",display:"flex",padding:"18px 0px",alignItems:"center"},children:Z||(Z=(0,y.tZ)(C,{}))})]})}},41584:(e,t,n)=>{"use strict";n.d(t,{T:()=>d});var a=n(5063),i=n(68999),r=n(51031),o=n(88203),s=n(19122),l=n(80936),c=n(36351);const d=()=>{const{translate:e}=(0,o.Z)(),{teamId:t}=(0,s.fV)(),n=(0,l.I)();return!t||n.status===r.rq.Success&&n.isDisabled?null:(0,c.tZ)(a.k,{actions:[(0,c.tZ)(i.z,{intensity:"quiet",size:"small",as:"a",href:"https://support.dashlane.com/hc/articles/13734250580370-Share-Collections-with-members-of-Starter-Team-and-Business-plans",rel:"noopener noreferrer",target:"_blank",children:e("webapp_sharing_invite_know_more")},"know-more")],size:"large",title:e("webapp_sharing_invite_collection_tooltip"),icon:"TipOutlined",mood:"brand",sx:{margin:"8px 0px"}})}},91:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var a=n(24507),i=n(8180),r=n(51031),o=n(32701);const s=()=>{const{data:e,status:t}=(0,a.k)(o.U,"isGetStartedDismissed"),{dismissGetStarted:n}=(0,i.u)(o.U);return{status:t,isGetStartedDismissed:t===r.rq.Success&&e,dismissGetStarted:()=>n(void 0)}}},26658:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var a=n(96832),i=n(1011),r=n(36351);const o={height:"1px"},s=({onNextPage:e,children:t,hasMore:n,ListComponent:s=i.a,...l})=>{const c=(0,a.useRef)(1),d=(0,a.useRef)(null),p=(0,a.useRef)(new IntersectionObserver((t=>{t[0].isIntersecting&&e(++c.current)}),{rootMargin:"0px 0px 500px 0px"}));return(0,a.useEffect)((()=>!n&&d.current?p.current.unobserve(d.current):(d.current&&p.current.observe(d.current),()=>{d.current&&p.current.unobserve(d.current)})),[d,n]),(0,r.BX)(s,{...l,children:[t,(0,r.tZ)("li",{"aria-hidden":!0,ref:d,sx:o})]})}},63520:(e,t,n)=>{"use strict";n.d(t,{zI:()=>L,s_:()=>u,V9:()=>H});var a=n(96832),i=n(32094),r=n(95793),o=n(16166),s=n(697),l=n.n(s),c=n(7867),d=n(36351);const p={position:"absolute",top:0,right:0,width:"640px",maxWidth:"80vw",outline:"none",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden",color:"ds.text.neutral.standard",backgroundColor:"ds.container.agnostic.neutral.quiet",zIndex:l()["--z-index-webapp-panel"],"> div ":{position:"static",border:0}},u=({children:e,ignoreClickOutsideClassName:t,ignoreCloseOnEscape:n,onNavigateOut:s,containerSx:l})=>{const[u,_]=(0,a.useState)(!1),m=(0,a.useRef)(null),h=(0,a.useMemo)((()=>({innerContainer:m.current,setDisableCloseOnEscape:_})),[_]);return(0,a.useEffect)((()=>{const e=e=>{if("Tab"===e.key&&m.current){const t=m.current.querySelectorAll("a[href], button, textarea, input, select");if(t.length>0){const n=t[0],a=t[t.length-1];e.shiftKey||document.activeElement!==a?e.shiftKey&&document.activeElement===n&&(a.focus(),e.preventDefault()):(n.focus(),e.preventDefault())}}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),(0,a.useEffect)((()=>{const e=setTimeout((()=>{const e=document.getElementsByTagName("aside");e&&e[0]&&e[0].focus()}),200);return()=>{clearTimeout(e)}}),[]),(0,d.tZ)(c.j,{onOutsideClick:s,ignoredClassName:t,children:(0,d.tZ)(i.Z,{onEscape:()=>{n||u||s()},children:(0,d.tZ)(r.t.Provider,{value:h,children:(0,d.tZ)("aside",{ref:m,tabIndex:-1,"data-testid":"aside-panel",sx:(0,o.jM)([p,null!=l?l:{}]),children:e})})})})};var _=n(39378),m=n(50415),h=n(39632),g=n(80225),b=n(14900),w=n(63847),y=n(68999),f=n(47124),x=n(88203),S=n(68976),v=n(33659),C=n(37527);const Z={visibleLabel:{opacity:1,top:0,position:"absolute"},hiddenLabel:{display:"none"}},k=({labels:e,visibleLabel:t})=>(0,d.BX)("div",{className:"container--rSu4eqW0cg",children:[e.map((e=>(0,d.tZ)("div",{className:"spacerH--E42g_bb_rW _spacer--zYu3DV9ErW",children:e},`spacerH_${e}`))),(0,d.tZ)("div",{className:"spacerVContainer--dr3RE1_P52",children:e.map((e=>(0,d.tZ)("div",{className:"spacerV--EzVGr0FKjn _spacer--zYu3DV9ErW",children:e},`spacerV_${e}`)))}),e.map((e=>(0,d.tZ)("div",{style:e===t?Z.visibleLabel:Z.hiddenLabel,children:e},e)))]});var I=n(23514),E=n(85462);const D="actionsContainer--cbj0zi2pPQ";var T;const A=parseInt(n.n(E)()["--transition-duration-slow"],10),N=(0,m.x)("close","cancel"),O="webapp_panel_edition_generic_close",P="webapp_panel_edition_generic_cancel_changes",L=({children:e,formId:t,isViewingExistingItem:n,itemHasBeenEdited:i,isCardValid:r=!0,isEditableItem:o=!0,onClickDelete:s,onNavigateOut:l,onSubmit:c,header:p,primaryActions:m,secondaryActions:Z,submitPending:E,submitDisabled:L,ignoreCloseOnEscape:R,withoutCloseButton:M,withoutDeleteButton:B,withoutConfirmationDialog:z,isSomeDialogOpen:U=!1,isUsingNewDesign:F=!1})=>{const{translate:X}=(0,x.Z)(),[q,H]=a.useState(!1),V=(0,I.Y)(),W=()=>o&&i&&r,j=()=>Boolean(o&&(!n||i)),G=e=>{if(!(i&&q||U)&&l){const t=W()?N.cancel:N.close;void 0===e&&"cancel"===t||i&&!z?H(!0):l(t,e)}};return(0,d.tZ)(S.u,{portalId:"alert-popup-portal",alertSize:b.k3y.SMALL,children:(0,d.BX)(u,{onNavigateOut:G,ignoreClickOutsideClassName:C.jK,ignoreCloseOnEscape:R,children:[p,(0,d.BX)("form",{sx:{backgroundColor:F?"ds.background.alternate":"ds.container.agnostic.neutral.supershy"},className:"form--aZO9urdBdj",autoComplete:"off",noValidate:!0,onSubmit:e=>(e.preventDefault(),!c||E||L||(c(e),V?.()),!1),id:t,children:[e,(0,d.tZ)("div",{className:"alertPopup--HE4FuLRHKN",id:"alert-sidepanel-popup-portal"})]}),(0,d.BX)("footer",{sx:{backgroundColor:"ds.container.agnostic.neutral.supershy",borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle"},className:"actions--L5xv6sT6Vc",children:[(0,d.tZ)("div",{className:D,children:(()=>{const e=n&&o&&!B?[(0,d.tZ)(y.z,{"aria-label":X("webapp_panel_edition_generic_delete"),size:"medium",mood:"danger",icon:T||(T=(0,d.tZ)(f.JO,{name:"ActionDeleteOutlined"})),layout:"iconOnly",intensity:"supershy",onClick:null!=s?s:_.noop},"delete")]:[];return Z?e.concat(Z):e})()}),(0,d.BX)("div",{className:D,children:[(0,d.tZ)(g.Z,{className:"primaryActionsTransitionGroup--fZ7I5UeDxK",children:(()=>{const e=null!=m?m:[];return W()?[(0,d.tZ)(h.Z,{classNames:{enter:"primaryActionsEnter--QZkb22ctyd",enterActive:"primaryActionsEnterActive--fRjwdJqxYc",exit:"primaryActionsExit--m9U0D0015_",exitActive:"primaryActionsExitActive--FQnQAkxGUf"},timeout:A,children:(0,d.tZ)(w.k,{children:(0,d.tZ)(y.z,{type:"submit",size:"medium",sx:{minWidth:"80px"},disabled:E||L,isLoading:E,form:t,children:X("webapp_panel_edition_generic_save_changes")})})},"save"),...e]:e})()}),M?null:(0,d.tZ)(w.k,{children:(0,d.tZ)(y.z,{"data-testid":"detail_panel_close_button","aria-label":j()?X(P):X(O),mood:"neutral",intensity:"quiet",size:"medium",onClick:e=>{G(e.nativeEvent)},children:(0,d.tZ)(k,{labels:[X(O),X(P)],visibleLabel:j()?X(P):X(O)})})})]})]}),q?(0,d.tZ)(v.a,{onDismissClick:()=>{H(!1)},onConfirmClick:()=>{l(N.cancel)}}):null]})})};var R=n(22903),M=n(26385),B=n(73630);const z={display:"flex",flexDirection:"column",padding:"24px 24px 16px 24px",maxHeight:"40vh",gap:"16px"},U={display:"flex",alignItems:"center",gap:"16px"},F={color:"ds.text.neutral.quiet",textTransform:"capitalize",fontSize:"15px",textOverflow:"ellipsis",overflow:"hidden"},X=({title:e})=>(0,d.tZ)(R.X,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",sx:{display:"flex",textOverflow:"ellipsis",overflow:"hidden"},children:(0,d.tZ)(B.Z,{children:e})}),q=({titleDescription:e})=>(0,d.tZ)(B.Z,{tooltipText:e,sx:F,children:e}),H=({icon:e,titleDescription:t,title:n,tabs:a,tabIndex:i,children:r})=>(0,d.BX)("header",{sx:z,children:[(0,d.BX)("div",{sx:U,children:[e,(0,d.BX)("span",{children:[t&&(0,d.tZ)(q,{titleDescription:t}),(0,d.tZ)(X,{title:n}),r]})]}),a&&0!==a.length&&(0,d.tZ)("div",{sx:{overflow:"hidden",scrollbarGutter:"stable"},children:(0,d.tZ)(M.m,{tabs:a,fullWidth:!0,defaultTab:i},i?.toString())})]})},68037:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var a=n(22903),i=n(29020),r=n(47124),o=n(36351);const s=({title:e,description:t,children:n,additionalSx:s,additionalInfo:l})=>(0,o.BX)("div",{sx:{backgroundColor:"ds.container.agnostic.neutral.supershy",borderRadius:"8px",padding:"24px",borderStyle:"solid",borderWidth:"1px",borderColor:"ds.border.neutral.quiet.idle",...s},children:[e?(0,o.BX)(a.X,{as:"h3",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",sx:{marginBottom:t?"8px":"16px",display:"flex",justifyContent:"space-between"},children:[e,l?(0,o.BX)(i.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",sx:{display:"flex",gap:"4px"},children:[(0,o.tZ)(r.JO,{color:"ds.text.neutral.quiet",name:l.icon,size:"small"}),l.content]}):null]}):null,t?(0,o.tZ)(i.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",sx:{marginBottom:"16px"},children:t}):null,n]})},25337:(e,t,n)=>{"use strict";n.d(t,{R:()=>O});var a=n(96832),i=n(29020),r=n(78956),o=n(63847),s=n(14900),l=n(48038),c=n(13134),d=n(5465),p=n(61605),u=n(88203),_=n(37527),m=n(97855),h=n(24507),g=n(51031),b=n(98124),w=n(84925),y=n(14877),f=n(39431),x=n(26555),S=n(36351);const v=({translation:e,domain:t,hostname:n})=>{const[a,,r]=e.split("_");return(0,S.BX)(i.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",sx:{display:"flex",alignItems:"center"},children:[a,(0,S.tZ)("span",{sx:{display:"inline-block",verticalAlign:"center",marginLeft:"6px",marginRight:"4px"},children:(0,S.tZ)(x.h,{domainURL:t,size:"small"})}),(0,S.tZ)("span",{sx:{fontWeight:"600"},children:n}),r]})};var C=n(93853),Z=n(5063),k=n(85473),I=n(69340);const E="webapp_change_password_dialog_no_website_add_website_cancel_button_label",D="missing-url-form",T=({credential:e,onDismiss:t,onSuccess:n})=>{const{translate:o}=(0,u.Z)(),[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)("");return(0,S.BX)(r.Vq,{isOpen:!0,closeActionLabel:o(E),onClose:t,dialogClassName:_.Ht,actions:{primary:{children:o(s?"webapp_change_password_dialog_no_website_add_website_submit_confirm_button_label":"webapp_change_password_dialog_no_website_add_website_submit_button_label"),disabled:!c,form:D,type:"submit",onClick:e=>{e.preventDefault(),(0,I.hS)(c)||(0,I.jv)(c)||s?n({url:c}):l(!0)}},secondary:{children:o(E)}},title:o("webapp_change_password_dialog_no_website_title"),children:[(0,S.tZ)(i.n,{color:"ds.text.neutral.quiet",textStyle:"ds.title.block.medium",children:o("webapp_change_password_dialog_no_website_description")}),(0,S.BX)("div",{sx:{marginTop:"14px",marginBottom:"18px"},children:[e.itemName&&(0,S.tZ)(k.Q,{title:e.itemName,login:e.username,email:e.email,shared:e.isShared,autoProtected:e.isSecured,size:k.o.SMALL,sxProps:{marginBottom:"30px"}}),(0,S.tZ)("form",{id:D,role:"form",autoComplete:"off",noValidate:!0,children:(0,S.tZ)(C.n,{label:o("webapp_change_password_dialog_no_website_add_website_input_name"),labelPersists:!1,autoFocus:!0,id:"missingWebsite",value:c,onChange:e=>{const t=e.target;d(t.value)},placeholder:o("webapp_change_password_dialog_no_website_add_website_input_placeholder"),"aria-describedby":s?"missingWebsiteFormatError":void 0})}),s?(0,S.tZ)(Z.k,{size:"small",mood:"danger",sx:{marginTop:"8px"},title:(0,S.tZ)("p",{role:"alert",id:"missingWebsiteFormatError",children:o("webapp_change_password_dialog_no_website_add_website_input_format_error")})}):null]})]})},A="webapp_change_password_dialog_dismiss",N=({rank:e,content:t})=>(0,S.BX)(s.T5p,{as:"li",gap:"16px",gridTemplateColumns:"35px 1fr",alignItems:"center",justifyContent:"flex-start",sx:{width:"100%"},children:[(0,S.tZ)(s.dDn,{as:m.m,rank:e}),"string"==typeof t?(0,S.tZ)(i.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:t}):t]}),O=({credentialId:e,dismissCallback:t})=>{const{translate:n}=(0,u.Z)(),s=(e=>{const t=(0,h.k)(y.L,"query",{ids:[e],vaultItemTypes:[f.U.Credential]}),n=(0,h.k)(w.X,"getSharingStatusForItem",{itemId:e});if(t.status===g.rq.Error)return{status:g.rq.Error,error:t.error};if(n.status===g.rq.Error)return{status:g.rq.Error,error:n.error};if(t.status===g.rq.Loading||n.status===g.rq.Loading)return{status:g.rq.Loading};const a=t.data.credentialsResult.items.at(0);if(!a){const t=`Could not find credential with id ${e}`;return{status:g.rq.Error,error:(0,b.Vj)("VaultItemNotFound",t)}}const i=n.data.isShared;return{status:g.rq.Success,data:{...a,isShared:i}}})(e),m=(0,a.useCallback)((()=>{s.status===l.rq.Success&&(0,p.Yo)(s.data.URL),t()}),[s,t]);if(s.status!==l.rq.Success)return null;const x=s.data;if(!x.URL)return(0,S.tZ)(T,{credential:x,onSuccess:async e=>{await d.C.updateCredential({id:x.id,update:{...e,isUrlSelectedByUser:!0}})},onDismiss:t});const C=new c.Y(x.URL).getHostname(),Z=new c.Y(x.URL).getRootDomain(),k=[{name:"open-website",content:(0,S.tZ)(v,{hostname:C,domain:Z,translation:n("webapp_change_password_dialog_open_website",{icon:null})},"open")},{name:"go-to-settings",content:n("webapp_change_password_dialog_go_to_settings")},{name:"auto-replace",content:n("webapp_change_password_dialog_dashlane_auto_replace")}];return(0,S.BX)(r.Vq,{isOpen:!0,dialogClassName:_.Ht,closeActionLabel:n(A),onClose:t,actions:{primary:{onClick:m,layout:"iconLeading",icon:"ActionOpenExternalLinkOutlined",children:n("webapp_change_password_dialog_confirm",{domain:C})},secondary:{children:n(A)}},title:n("webapp_change_password_dialog_title"),children:[(0,S.tZ)(i.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:n("webapp_change_password_dialog_subtitle")}),(0,S.tZ)("div",{sx:{marginTop:"32px"},children:(0,S.tZ)(o.k,{as:"ol",gap:"16px",children:k.map((({name:e,content:t},n)=>(0,S.tZ)(N,{rank:n+1,content:t},e)))})})]})}},24058:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var a=n(8180),i=n(99990),r=n(96832);const o=()=>{const{updateIsCredentialExcluded:e}=(0,a.u)(i.d);return{updateIsCredentialExcluded:(0,r.useCallback)(((t,n)=>{e({credentialId:t,excluded:n})}),[e])}}},77257:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(53214);const i={fallback:"#000000",[a.X.Black]:"#191919",[a.X.Silver]:"#A6A6A6",[a.X.White]:"#F5F5F5",[a.X.Red]:"#BD0505",[a.X.Orange]:"#F29100",[a.X.Gold]:"#DFC279",[a.X.Blue1]:"#3290CC",[a.X.Blue2]:"#105079",[a.X.Green1]:"#008E28",[a.X.Green2]:"#39725E"},r=(e="fallback")=>i[e]},13631:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var a=n(32155);const i=(e,t)=>{var n;const i=null!=(n=a.S[e])?n:[];return t&&i.sort(((e,t)=>e.localizedString.localeCompare(t.localizedString))),i}},13368:(e,t,n)=>{"use strict";n.d(t,{Co:()=>a.Co,QR:()=>a.QR,n6:()=>a.n6,qd:()=>a.qd});var a=n(35361)},69920:(e,t,n)=>{"use strict";n.d(t,{RY:()=>d,X3:()=>r,dd:()=>s,h_:()=>l,lF:()=>c,nS:()=>o,w2:()=>i});var a=n(73704);let i=function(e){return e.ADD_NEW_NOTE="add_new_note",e.PREMIUM_PROMPT="premium_prompt",e.SECURE_NOTE="secure_note",e}({}),r=function(e){return e.DARKWEB_MONITORING="dark_web_monitoring",e.PASSWORD_LIMIT="password_limit",e.SECURE_NOTES="secure_notes",e.SHARING_LIMIT="sharing_limit",e.VPN="vpn",e}({}),o=function(e){return e.ADD_NEW="add_new",e.CLOSE="close",e.DISPLAY="display",e.GO_ESSENTIALS="go_essentials",e.GO_PLANS="go_plans",e.GO_PREMIUM="go_premium",e.PREMIUM_PROMPT="premium_prompt",e}({});const s={[r.SECURE_NOTES]:a.PageView.PaywallSecureNotes,[r.DARKWEB_MONITORING]:a.PageView.PaywallDarkWebMonitoring,[r.VPN]:a.PageView.PaywallVpn,[r.PASSWORD_LIMIT]:a.PageView.PaywallPasswordLimit,[r.SHARING_LIMIT]:a.PageView.PaywallSharingLimit},l=new a.UserCallToActionEvent({callToActionList:[a.CallToAction.AllOffers,a.CallToAction.PremiumOffer],hasChosenNoAction:!0}),c=new a.UserCallToActionEvent({callToActionList:[a.CallToAction.AllOffers,a.CallToAction.PremiumOffer],hasChosenNoAction:!1,chosenAction:a.CallToAction.PremiumOffer}),d=new a.UserCallToActionEvent({callToActionList:[a.CallToAction.AllOffers,a.CallToAction.PremiumOffer],hasChosenNoAction:!1,chosenAction:a.CallToAction.AllOffers})},35361:(e,t,n)=>{"use strict";n.d(t,{sW:()=>pe,QR:()=>_e,qd:()=>ce,Co:()=>de,n6:()=>ue});var a,i,r,o=n(96832),s=n(48038),l=n(24731),c=n(14943),d=n(14900),p=n(73704),u=n(63847),_=n(47124),m=n(22903),h=n(29020),g=n(68999),b=n(45272),w=n(7867),y=n(76376),f=n(61605),x=n(88203),S=n(77550),v=n(697),C=n.n(v),Z=n(56854),k=n(42868),I=n(59522),E=n(69920),D=n(89923),T=n(23619),A=n(36351);let N=function(e){return e.Essentials="essentials",e.Premium="premium",e}({});const O="webapp_paywall_close",P=e=>{const{target:t,title:n,mode:l,description:d,paywallFeatures:p,closePaywall:v,paywallType:P,withDefaultFooter:L,headingBadge:R,customFooter:M}=e,{routes:B}=(0,y.Xo)(),{translateWithMarkup:z}=(0,D.Y)(),{translate:U}=(0,x.Z)(),F=(0,S.B)(),X=(0,T.U)(),q=(0,c.Y)();if((0,o.useEffect)((()=>{q.status===s.rq.Success&&q.data&&(0,b.Nc)(E.dd[P])}),[P,q]),q.status!==s.rq.Success)return null;const H=()=>{"popup"===l&&v&&((0,b.Kz)(E.h_),v())},V=t===N.Essentials?"webapp_paywall_upgrade_essentials":"webapp_paywall_upgrade_premium";return(0,A.tZ)(u.k,{sx:{position:"absolute",zIndex:C()["--z-index-above-panel"],top:"0px",overflow:"auto",width:"100%",height:"100%",backgroundColor:"ds.container.agnostic.neutral.standard"},justifyContent:"center",alignItems:"center",children:(0,A.tZ)(w.j,{onOutsideClick:H,children:(0,A.BX)(u.k,{sx:{position:"relative",width:["auto","auto","800px"],backgroundColor:"ds.background.default",border:"1px solid black",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"8px",padding:["32px","32px","88px 88px 46px 88px"]},justifyContent:"center",flexDirection:"column",children:["popup"===l?(0,A.tZ)("button",{sx:{position:"absolute",cursor:"pointer",background:"transparent",top:"21px",right:"21px"},type:"button","aria-label":U(O),title:U(O),onClick:H,children:a||(a=(0,A.tZ)(_.JO,{name:"ActionCloseOutlined",size:"small",color:"ds.text.neutral.standard"}))}):null,(0,A.BX)("div",{sx:{display:"flex",flexDirection:"column",alignItems:"flexStart",gap:"8px"},children:[R,(0,A.tZ)(m.X,{as:"h2",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:z(n)}),(0,A.tZ)(h.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:z(d)})]}),(0,A.tZ)("ul",{sx:{mt:"32px",mb:"32px"},children:p.map((e=>(0,A.BX)("li",{sx:{marginTop:"32px",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",svg:{flexShrink:0}},children:[e.icon,(0,A.BX)("div",{sx:{marginLeft:"16px",lineHeight:"18px"},children:[(0,A.tZ)(h.n,{color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:z(e.title)}),(0,A.tZ)("div",{sx:{marginTop:"4px"},children:(0,A.tZ)(h.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.reduced.regular",children:z(e.description)})})]})]},e.key)))}),L?(0,A.BX)(u.k,{justifyContent:"flex-end",sx:{mt:"36px",mr:["0px","0px","-44px"],button:{ml:"8px"}},children:[(0,A.BX)(g.z,{onClick:()=>{const e={type:E.w2.PREMIUM_PROMPT,subtype:P,action:E.nS.GO_PLANS};(0,f.Yk)(B.userGoPlans,e),(0,b.Kz)(E.RY)},mood:"neutral",intensity:"quiet",children:[U("webapp_paywall_go_to_plans"),i||(i=(0,A.tZ)(_.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.neutral.standard"}))]}),(0,A.BX)(g.z,{onClick:()=>{const e=(0,Z.c)(F?.premiumStatus?.autoRenewInfo),n=t===N.Essentials,a=n?E.nS.GO_ESSENTIALS:E.nS.GO_PREMIUM,i={type:E.w2.PREMIUM_PROMPT,subtype:P,action:a};((e,t,n,a,i)=>{const r=`${a?I.lP:I.G9}?${(0,k.stringify)({subCode:t,coupon:"",pricing:i})}`;(0,f.Yk)(r,n)})(0,null!=X?X:"",i,n,e),(0,b.Kz)(E.lF)},layout:"iconTrailing",children:[U(V),r||(r=(0,A.tZ)(_.JO,{name:"PremiumOutlined",size:"small"}))]})]}):M]})})})},L=[{icon:(0,A.tZ)(d.blU,{size:50,color:d.colors["--dash-green-02"]}),key:"feature1",title:"webapp_paywall_dark_web_monitor_dialog_feature1_title",description:"webapp_paywall_dark_web_monitor_dialog_feature1_text"},{icon:(0,A.tZ)(d._uz,{size:50,color:d.colors["--dash-green-02"]}),key:"feature2",title:"webapp_paywall_dark_web_monitor_dialog_feature2_title",description:"webapp_paywall_dark_web_monitor_dialog_feature2_text"},{icon:(0,A.tZ)(d.tWY,{size:50,color:d.colors["--dash-green-02"]}),key:"feature3",title:"webapp_paywall_dark_web_monitor_dialog_feature3_title",description:"webapp_paywall_dark_web_monitor_dialog_feature3_text"}],R=({mode:e,closePaywall:t})=>(o.useEffect((()=>{(0,b.Nc)(p.Page.PaywallDarkWebMonitoring)}),[]),(0,A.tZ)(P,{closePaywall:t,description:"webapp_paywall_dark_web_monitor_dialog_subtitle",paywallFeatures:L,mode:e,paywallType:E.X3.DARKWEB_MONITORING,title:"webapp_paywall_dark_web_monitor_dialog_title",target:N.Premium,withDefaultFooter:!0})),M=[{icon:(0,A.tZ)(d.kpp,{size:50,color:d.colors["--dash-green-02"]}),key:"file_storage",title:"webapp_paywall_secure_note_file_storage_title",description:"webapp_paywall_secure_note_file_storage_description"},{icon:(0,A.tZ)(d.ROc,{size:50,color:d.colors["--dash-green-02"]}),key:"folder",title:"webapp_paywall_secure_note_folder_title",description:"webapp_paywall_secure_note_folder_description"},{icon:(0,A.tZ)(d.FKb,{size:50,color:d.colors["--dash-green-02"]}),key:"secure_sharing",title:"webapp_paywall_secure_note_secure_sharing_title",description:"webapp_paywall_secure_note_secure_sharing_description"}],B=({mode:e,closePaywall:t})=>(0,A.tZ)(P,{paywallType:E.X3.SECURE_NOTES,title:"webapp_paywall_secure_note_title",description:"webapp_paywall_secure_note_description",mode:e,closePaywall:t,paywallFeatures:M,target:N.Premium,withDefaultFooter:!0});var z,U,F=n(99975),X=n(14183),q=n(95255),H=n(14856),V=n(76593);let W=function(e){return e.FREE="free",e.TRIAL="trial",e.ESSENTIALS="essentials",e}({});const j={[W.FREE]:{title:"webapp_paywall_vpn_free_title",description:{key:"webapp_paywall_vpn_free_description_markup",params:{hotspotShield:V.Xj}}},[W.ESSENTIALS]:{title:"webapp_paywall_vpn_essentials_title",description:{key:"webapp_paywall_vpn_essentials_description_markup",params:{hotspotShield:V.Xj}}},[W.TRIAL]:{title:"webapp_paywall_vpn_trial_title",description:"webapp_paywall_vpn_trial_description"}},G=e=>[{icon:z||(z=(0,A.tZ)(H.v,{name:"HealthPositiveOutlined",mood:"brand",size:"medium"})),key:"privacy_feature",title:`webapp_paywall_vpn_${e}_privacy_feature_title`,description:`webapp_paywall_vpn_${e}_privacy_feature_text`},{icon:U||(U=(0,A.tZ)(H.v,{name:"GeolocationOutlined",mood:"brand",size:"medium"})),key:"access_content_feature",title:`webapp_paywall_vpn_${e}_access_content_feature_title`,description:`webapp_paywall_vpn_${e}_access_content_feature_text`}],K=({premiumStatus:e,closePaywall:t,mode:n})=>{const a=(e=>e.statusCode===q.lU.PREMIUM?"essentials"===e.planFeature?W.ESSENTIALS:W.TRIAL:"free_trial"===e.planType?W.TRIAL:W.FREE)(e);return a?(0,A.tZ)(P,{closePaywall:t,description:j[a].description,target:N.Premium,paywallFeatures:G(a),mode:n,paywallType:E.X3.VPN,title:j[a].title,withDefaultFooter:!0}):null};var Y=n(82429),$=n(80443),Q=n(85993),J=n(92077),ee=n(63794);const te={ACTIONS:{display:"flex",justifyContent:"space-between",alignItems:"center",alignSelf:"stretch"}},ne=({premiumStatus:e})=>{const{translate:t}=(0,x.Z)(),{routes:n}=(0,J.Xo)(),a=(0,J.k6)(),i=(0,$.f1)(e),r={WHATS_VPN:{label:t("webapp_vpn_paywall_whats_vpn"),url:ee.fG},WHY_VPN:{label:t("webapp_vpn_paywall_why_vpn"),url:ee.fG},SET_UP_VPN:{label:t("webapp_vpn_paywall_set_up"),url:ee._H},HOTSPOT_VPN:{label:t("webapp_vpn_paywall_hotspot"),url:ee.w6},ADMIN_HELP_CENTER:{label:t("webapp_vpn_paywall_help_center"),url:ee.Tx}};return(0,A.BX)("div",{sx:te.ACTIONS,children:[(0,A.tZ)(Q.a,{dropdownItems:r,title:t("webapp_vpn_paywall_learn_more")}),(0,A.tZ)(g.z,{mood:"brand",intensity:"catchy",role:i?"link":void 0,onClick:()=>{i?((0,b.Kz)(new p.UserClickEvent({button:p.Button.SeePlan})),a.push(`${n.teamAccountChangePlanRoutePath}`)):((0,b.Kz)(new p.UserClickEvent({button:p.Button.BuyDashlane})),a.push(n.teamAccountCheckoutRoutePath))},children:t(i?"webapp_vpn_paywall_see_plans_button":"webapp_vpn_paywall_buy_dashlane_button")})]})},ae="webapp_vpn_paywall_hotspot_item_title",ie="webapp_vpn_paywall_stay_anonymous_item_title",re="webapp_vpn_paywall_access_item_title",oe=[{icon:(0,A.tZ)(H.v,{name:"FeatureVpnOutlined",mood:"brand",size:"medium"}),key:ae,title:ae,description:"webapp_vpn_paywall_hotspot_item_subtitle"},{icon:(0,A.tZ)(H.v,{name:"HealthPositiveOutlined",mood:"brand",size:"medium"}),key:ie,title:ie,description:"webapp_vpn_paywall_stay_anonymous_item_subtitle"},{icon:(0,A.tZ)(H.v,{name:"WebOutlined",mood:"brand",size:"medium"}),key:re,title:re,description:"webapp_vpn_paywall_access_item_subtitle"}],se=({premiumStatus:e,mode:t})=>{const{translate:n}=(0,x.Z)();return(0,o.useEffect)((()=>{(0,b.Nc)(p.PageView.PaywallVpn)})),(0,A.tZ)(P,{title:"webapp_vpn_paywall_title",description:"webapp_vpn_paywall_subtitle",paywallFeatures:oe,mode:t,paywallType:E.X3.VPN,headingBadge:(0,A.tZ)(Y.C,{mood:"brand",intensity:"quiet",label:n((0,$.f1)(e)?"webapp_vpn_paywall_upgrade_badge":"webapp_vpn_paywall_available_in_paid_badge"),layout:"iconLeading",iconName:"PremiumOutlined"}),customFooter:(0,A.tZ)(ne,{premiumStatus:e})})},le=({mode:e,closePaywall:t,premiumStatus:n,isB2CPaywall:a})=>((0,o.useEffect)((()=>{(0,b.Nc)(p.PageView.PaywallVpn)}),[]),a?(0,A.tZ)(K,{mode:e,closePaywall:t,premiumStatus:n}):(0,A.tZ)(se,{mode:e,premiumStatus:n}));let ce=function(e){return e.DarkWebMonitoring="DarkWebMonitoring",e.Credential="Credential",e.SecureNote="SecureNote",e.Vpn="Vpn",e}({}),de=function(e){return e.DataLeak="dataLeak",e.SecureNotes="secureNotes",e.Vpn="secureWiFi",e}({});const pe={DarkWebMonitoring:"/darkweb-monitoring",Credential:"/credentials",SecureNote:"/secure-notes",Vpn:"/vpn"},ue=(e,t)=>!t||!t[e]?.enabled,_e=({paywall:e,mode:t,children:n,closePaywall:a})=>{var i;const r=(0,c.Y)(),{vpnPaywallInfo:d}=null!=(i=(0,X.q)())?i:{};if(r.status!==s.rq.Success||void 0===d)return null;if(e)if(e===ce.SecureNote){if(ue(de.SecureNotes,r.data.capabilities))return(0,A.tZ)(B,{mode:t,closePaywall:a})}else if(e===ce.DarkWebMonitoring){if(ue(de.DataLeak,r.data.capabilities))return(0,A.tZ)(R,{mode:t,closePaywall:a})}else if(e===ce.Vpn){if(d.isVisible)return(0,A.tZ)(le,{mode:t,closePaywall:a,premiumStatus:r.data,isB2CPaywall:d.type===X.j.B2C})}else{if(e===ce.Credential)return(0,A.tZ)(F.e,{isVisible:!0,handleDismiss:()=>{a?.()}});(0,l.U)(e)}return(0,A.tZ)(o.Fragment,{children:n})}},89390:(e,t,n)=>{"use strict";n.d(t,{L:()=>d});var a=n(5063),i=n(68999),r=n(73704),o=n(88203),s=n(45272),l=n(92077),c=n(36351);const d=({canShareCollection:e,buttonIntensity:t,clickOrigin:n,className:d})=>{const{translate:p}=(0,o.Z)(),{routes:u}=(0,l.Xo)();return(0,c.tZ)(a.k,{title:p(e?"webapp_collections_paywall_warn_title":"webapp_collections_paywall_block_title"),description:p(e?"webapp_collections_paywall_warn_description":"webapp_collections_paywall_block_description"),actions:[(0,c.tZ)(i.z,{layout:"iconLeading",icon:"PremiumOutlined",intensity:t,onClick:()=>{(0,s.Kz)(new r.UserClickEvent({button:r.Button.UpgradeBusinessTier,clickOrigin:n}))},as:l.rU,to:`${u.teamAccountChangePlanRoutePath}?plan=business`,children:p("webapp_collections_paywall_upgrade_cta")},"upgrade")],mood:e?"brand":"warning",size:"large",icon:e?void 0:"FeedbackFailOutlined",className:d})}},97227:(e,t,n)=>{"use strict";n.d(t,{Li:()=>a.L,aF:()=>h,Te:()=>p});var a=n(89390),i=n(40577),r=n(48038),o=n(14943),s=n(2337),l=n(80443),c=n(19686);const d={isAdmin:void 0,isStarterTeam:void 0,isBusinessTrialTeam:void 0,canShareCollection:!0,hasSharingCollectionPaywall:!1},p=()=>{const e=(0,o.Y)(),t=(0,c.Z1)(),n=(0,i.o)("monetization_extension_starterRepackagingCollection");if(e.status!==r.rq.Success||t.status!==r.rq.Success||!1===n)return d;const a="full"===(0,s.R)(e.data),p=(0,l.f1)(e.data),u=(0,l.wt)(e.data),_=e.data.capabilities?.collectionSharing,m=!_?.enabled||!!_.info?.limit;return{isAdmin:a,isStarterTeam:p,canShareCollection:!m||t.data<_?.info?.limit,isBusinessTrialTeam:u,hasSharingCollectionPaywall:m}};var u=n(5063),_=n(88203),m=n(36351);const h=({className:e})=>{const{translate:t}=(0,_.Z)();return(0,m.tZ)(u.k,{title:t("webapp_collections_paywall_business_trial_title"),description:t("webapp_collections_paywall_business_trial_description"),mood:"brand",className:e})}},33659:(e,t,n)=>{"use strict";n.d(t,{a:()=>o}),n(96832);var a=n(88203),i=n(78956),r=n(36351);const o=({onConfirmClick:e,onDismissClick:t})=>{const{translate:n}=(0,a.Z)(),o=()=>{t()};return(0,r.tZ)(i.Vq,{isOpen:!0,onClose:o,title:n("webapp_edit_panel_discard_dialog_title"),closeActionLabel:n("_common_dialog_dismiss_button"),isDestructive:!0,actions:{primary:{children:n("webapp_edit_panel_discard_dialog_confirm"),onClick:()=>{e()}},secondary:{children:n("webapp_edit_panel_discard_dialog_dismiss"),onClick:o}},children:n("webapp_edit_panel_discard_dialog_subtitle")})}},15446:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>l,Tu:()=>s,ZP:()=>u});var a=n(16166),i=n(47124),r=n(50415),o=n(36351);const s=(0,r.x)("address","company","email","emailPro","identity","phone","phoneFax","phoneMobile","phoneWork","phoneWorkFax","phoneWorkMobile","website"),l=(0,r.x)("smallIcon","largeIcon","headerEditPanelIcon"),c={smallIcon:{display:"inline-block",height:"32px",width:"48px"},largeIcon:{height:"108px",width:"160px"},headerEditPanelIcon:{height:"100px",width:"149px"},icon:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"ds.container.agnostic.neutral.standard",border:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"4px"}},d={smallIcon:{width:"24px",minWidth:"24px",height:"24px"},largeIcon:{width:"40px",minWidth:"40px",height:"40px"},headerEditPanelIcon:{width:"40px",minWidth:"40px",height:"40px"}},p={email:"ItemEmailOutlined",emailPro:"ItemEmailOutlined",address:"HomeOutlined",company:"ItemCompanyOutlined",identity:"ItemPersonalInfoOutlined",phone:"ItemPhoneHomeOutlined",phoneFax:"ItemFaxOutlined",phoneMobile:"ItemPhoneMobileOutlined",phoneWork:"ItemPhoneHomeOutlined",phoneWorkFax:"ItemFaxOutlined",phoneWorkMobile:"ItemPhoneMobileOutlined",website:"WebOutlined"},u=({className:e="",iconSize:t,iconType:n})=>(0,o.tZ)("div",{className:e,sx:(0,a.jM)([c[t],c.icon]),children:(0,o.tZ)(i.JO,{name:p[n],color:"ds.text.brand.quiet",sx:d[t]})})},18462:(e,t,n)=>{"use strict";n.d(t,{Y8:()=>h,gV:()=>d,go:()=>b,kl:()=>_,o3:()=>u,qS:()=>g,sG:()=>m});var a=n(51154),i=n(39431),r=n(7325),o=n(44105),s=n(16782);const l={FAX:"personal_info_phone_type_fax",LANDLINE:"personal_info_phone_type_landline",MOBILE:"personal_info_phone_type_mobile",WORK_FAX:"personal_info_phone_type_work_fax",WORK_LANDLINE:"personal_info_phone_type_work_landline",WORK_MOBILE:"personal_info_phone_type_work_mobile",DEFAULT_PHONE:"personal_info_phone_type_any",PHONE_NAME:"personal_info_phone_name"},c={[i.U.Address]:"webapp_personal_info_edition_header_address_new_item_title",[i.U.Company]:"webapp_personal_info_edition_header_company_new_item_title",[i.U.Email]:"webapp_personal_info_edition_header_email_new_item_title",[i.U.Identity]:"webapp_personal_info_edition_header_identity_new_item_title",[i.U.Phone]:"webapp_personal_info_edition_header_phone_new_item_title",[i.U.Website]:"webapp_personal_info_edition_header_website_new_item_title"};function d(e,t){return e(c[t])}function p(e,t){switch(t){case r.z.Fax:return e(l.FAX);case r.z.Landline:return e(l.LANDLINE);case r.z.Mobile:return e(l.MOBILE);case r.z.WorkFax:return e(l.WORK_FAX);case r.z.WorkLandline:return e(l.WORK_LANDLINE);case r.z.WorkMobile:return e(l.WORK_MOBILE);default:return e(l.DEFAULT_PHONE)}}function u(e,t){return t(l.PHONE_NAME,{phoneNumberName:e.itemName,phoneType:p(t,e.type)})}function _(e){const{firstName:t,middleName:n,lastName:a,lastName2:i,pseudo:r}=e;let o=[t,n,a,i].filter((e=>!!e)).join(" ");return r&&(o+=o.length>0?` (${e.pseudo})`:`(${e.pseudo})`),o}function m(e){if(!e)return new Date;const t=(0,a.Z)(e,"yyyy-MM-dd",new Date);return"Invalid Date"!==t.toString()?t:new Date(e)}function h(e,t,n){if(""===e)return"";const a=m(e),i=n.shortDate(a,s._T.LL);return a&&t?`${i}, ${t}`:i}function g(e,t,n,a,i){return[n?n.split("\n")[0]:"",a,e,t?i(`country_name_${t.toUpperCase()}`):""].filter((e=>!!e)).join(", ")}function b(e,t){return e(`country_name_${o.c[t]}`)}},82283:(e,t,n)=>{"use strict";n.d(t,{Z:()=>QE});var a=n(92077),i=n(59522),r=n(98735),o=n(77429),s=n(62150),l=n.n(s),c=n(42670),d=n(43819),p=n(6995),u=n(8403),_=n(76376),m=n(18854),h=n(35865),g=n(19122),b=n(52223),w=n(68999),y=n(25582),f=n(59101),x=n(99570),S=n(95120),v=n(88203),C=n(96832),Z=n(62264),k=n(14856),I=n(22903),E=n(93853),D=n(29020),T=n(78346),A=n(52477),N=n(14900),O=n(29710),P=n(52552),L=n(24507),R=n(51031),M=n(96564),B=n(89394);const z=()=>{const e=(0,L.k)(M.Y,"isAllowed");return e.status!==R.rq.Success?{shouldEnforce:!1}:{shouldEnforce:!e.data.isAllowed&&e.data.reasons.includes(B.Oq.RequiresSettingUpRecoveryKey)}};var U,F=n(36351);const X={width:"100%",backgroundColor:"ds.container.agnostic.neutral.quiet",border:"none","& span":{color:"ds.text.neutral.quiet"},"& input":{color:"ds.text.neutral.catchy"}},q=({loginEmail:e,pinCode:t,onActivatePin:n})=>{const{translate:a}=(0,v.Z)(),[i,r]=(0,C.useState)(""),[o,s]=(0,C.useState)(!1),[l,c]=(0,C.useState)(!1),{shouldEnforce:d}=z(),p=(0,C.useRef)(),{showToast:u,closeToast:_}=(0,Z.p)(),m=async()=>{if(t===i){p.current&&_(p.current),c(!0);try{const e=await n({pinCode:t});(0,T.hx)(e)&&(0,A.EQ)(e.error,{NetworkError:()=>{const e=u({mood:"danger",description:a("_common_alert_network_error_message")});p.current=e}})}catch(e){const t=u({mood:"danger",description:a("_common_generic_error")});p.current=t}finally{c(!1)}}};return(0,F.BX)(N.Ejs,{flexDirection:"column",gap:"24px",children:[(0,F.BX)(N.Ejs,{flexDirection:"column",gap:"16px",children:[U||(U=(0,F.tZ)(k.v,{name:"PinCodeOutlined",size:"xlarge",mood:"brand"})),(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",children:a("webapp_auth_panel_account_creation_passwordless_confirm_pin_title")}),(0,F.tZ)(E.n,{sx:X,label:a("webapp_auth_panel_account_creation_passwordless_login_email_label"),value:e,disabled:!0})]}),(0,F.BX)(N.Ejs,{flexDirection:"column",gap:"5px",children:[(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",children:a("webapp_auth_panel_account_creation_passwordless_pin_input_label")}),(0,F.tZ)(P.i,{pincode:i,onPincodeInputChange:e=>{p.current&&_(p.current);const n=e.target.value.replace(/\D/g,"");r(n),e.target.value.length===O.k?e.target.value!==t&&s(!0):s(!1)},displayMismatchError:o,mismatchErrorMessage:a("webapp_auth_panel_account_creation_passwordless_confirm_pin_mismatch_error"),onSubmit:()=>m()})]}),(0,F.tZ)(w.z,{mood:"brand",disabled:t!==i||l,icon:"ArrowRightOutlined",layout:"iconTrailing",fullsize:!0,onClick:m,children:a(d?"webapp_auth_panel_account_creation_passwordless_activate_after_ark_pin_button":"webapp_auth_panel_account_creation_passwordless_activate_pin_button")})]})};var H,V=n(5063);const W={width:"100%",backgroundColor:"ds.container.agnostic.neutral.quiet",border:"none","& span":{color:"ds.text.neutral.quiet"},"& input":{color:"ds.text.neutral.catchy"}},j=({loginEmail:e,onEnterPin:t})=>{const{translate:n}=(0,v.Z)(),[a,i]=(0,C.useState)("");return(0,F.BX)(N.Ejs,{flexDirection:"column",gap:"24px",children:[(0,F.BX)(N.Ejs,{flexDirection:"column",gap:"16px",children:[H||(H=(0,F.tZ)(k.v,{name:"PinCodeOutlined",size:"xlarge",mood:"brand"})),(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",children:n("webapp_auth_panel_account_creation_passwordless_enter_pin_title")}),(0,F.tZ)(D.n,{children:n("webapp_auth_panel_account_creation_passwordless_enter_pin_subtitle")}),(0,F.tZ)(E.n,{sx:W,label:n("webapp_auth_panel_account_creation_passwordless_login_email_label"),value:e,disabled:!0})]}),(0,F.BX)(N.Ejs,{flexDirection:"column",gap:"5px",children:[(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",children:n("webapp_auth_panel_account_creation_passwordless_pin_input_label")}),(0,F.tZ)(P.i,{pincode:a,onPincodeInputChange:e=>{const t=e.target.value.replace(/\D/g,"");i(t)},onSubmit:()=>t(a)}),(0,F.tZ)(V.k,{title:n("webapp_auth_panel_account_creation_passwordless_pin_code_tips"),mood:"warning"})]}),(0,F.tZ)(w.z,{sx:{marginTop:"32px"},mood:"brand",disabled:a.length!==O.k,icon:"ArrowRightOutlined",layout:"iconTrailing",fullsize:!0,onClick:()=>{t(a)},children:n("webapp_auth_panel_account_creation_passwordless_next_button")})]})};var G=n(26667),K=n(8180),Y=n(97962);let $=function(e){return e.EnterPinCode="enterPinCode",e.ConfirmPinCode="confirmPinCode",e}({});var Q;const J=()=>{const{translate:e}=(0,v.Z)(),{loginEmail:t,pinCode:n,pinEnforcementStep:a,setPinCode:i,setPinEnforcementStep:r,activate:o}=function(){var e;const t=null!=(e=(0,Y.f)())?e:"",[n,a]=(0,C.useState)(""),[i,r]=(0,C.useState)($.EnterPinCode),{activate:o}=(0,K.u)(G.n);return{loginEmail:t,pinCode:n,pinEnforcementStep:i,setPinCode:a,setPinEnforcementStep:r,activate:o}}();return(0,F.BX)("div",{sx:{backgroundColor:"ds.container.agnostic.neutral.supershy",minHeight:"100vh",display:"flex",overflowX:"auto"},children:[Q||(Q=(0,F.tZ)(S.bB,{illustrationSrc:f,illustrationDarkSrc:y})),(0,F.BX)(x.F,{children:[a===$.ConfirmPinCode?(0,F.tZ)(w.z,{intensity:"supershy",layout:"iconLeading",icon:"ArrowLeftOutlined",type:"button",onClick:()=>r($.EnterPinCode),"data-testid":"back",className:"backButton--hB6TYvbsMM",children:e("webapp_auth_panel_standalone_account_creation_back_label")}):null,a===$.EnterPinCode?(0,F.tZ)(j,{loginEmail:t,onEnterPin:e=>{i(e),r($.ConfirmPinCode)}}):null,a===$.ConfirmPinCode?(0,F.tZ)(q,{loginEmail:t,pinCode:n,onActivatePin:o}):null]})]})};var ee=n(75050),te=n(17524),ne=n(63847),ae=n(47468),ie=n(97900),re=n(84464),oe=n(66913);const se=({title:e,iconMood:t="brand",iconName:n,isSuccess:a})=>{const{translate:i}=(0,v.Z)();return(0,F.BX)("div",{children:[n?(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(k.v,{name:n,mood:t,size:"large"}),(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",sx:{textTransform:"uppercase",margin:"16px 0 8px 0"},children:i("webapp_account_security_settings_account_recovery_section_recovery_key_title")})]}):null,(0,F.tZ)(I.X,{sx:a?void 0:{marginBottom:"16px"},as:"h2",textStyle:"ds.title.section.large",children:e})]})};var le=n(58549),ce=n.n(le),de=n(97483);const pe=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))},ue=({value:e,error:t,onChange:n})=>{const{translate:a}=(0,v.Z)();return(0,F.tZ)("div",{sx:{marginBottom:"64px"},children:(0,F.tZ)(ce(),{maskChar:"",mask:de.vQ,onCopy:()=>pe(e),onCut:()=>pe(e),onChange:n,value:e,children:e=>(0,F.tZ)(E.n,{"data-testid":"ark-enforcement-confirm-key-input",type:"text",labelPersists:!0,label:a("webapp_enforce_account_recovery_key_confirm_label"),feedback:t||void 0,error:!!t,sx:{fontWeight:600},...e})})})};var _e=n(35793);const me=({recoveryKey:e,isLoading:t,goToNextStep:n,goToPrevStep:a})=>{const{translate:i}=(0,v.Z)(),{inputValue:r,inputError:o,isInputValid:s,handleChangeInputValue:l}=(0,_e.N)(null!=e?e:"");return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(se,{title:i("webapp_enforce_account_recovery_key_confirm_title"),iconName:"RecoveryKeyOutlined"}),(0,F.tZ)(D.n,{sx:{marginBottom:"26px"},children:i("webapp_enforce_account_recovery_key_confirm_subheading")}),(0,F.tZ)(ue,{value:r,onChange:l,error:o}),(0,F.tZ)(w.z,{fullsize:!0,onClick:n,isLoading:t,disabled:!s,sx:{margin:"8px 0"},children:i("_common_action_confirm")}),(0,F.tZ)(w.z,{onClick:a,fullsize:!0,mood:"neutral",intensity:"quiet",children:i("webapp_enforce_account_recovery_key_confirm_forgot_cta")})]})};var he=n(53092),ge=n(75017),be=n(82207),we=n(63794);const ye=({recoveryKey:e,goToNextStep:t,isLoading:n})=>{var a;const{translate:i}=(0,v.Z)(),r=(null!=(a=(null!=e?e:"").match(de.x5))?a:[]).join(de.qc);return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(se,{title:i("webapp_enforce_account_recovery_key_first_step_title"),iconName:"RecoveryKeyOutlined"}),(0,F.tZ)(D.n,{children:i("webapp_enforce_account_recovery_key_first_step_description")}),(0,F.tZ)(D.n,{sx:{marginTop:"16px"},children:i("webapp_enforce_account_recovery_key_first_step_description_tip")}),(0,F.tZ)("div",{sx:{background:"ds.container.agnostic.neutral.quiet",borderRadius:"8px",margin:"32px 0",padding:"16px"},children:(0,F.tZ)(he.C,{"data-testid":"ark-enforce-display-key",labelPersists:!0,label:i("webapp_enforce_account_recovery_key_first_step_field_label"),actions:[(0,F.tZ)(be.m,{buttonId:"copyPasswordButton",data:r},"copy-password")],value:r})}),(0,F.tZ)(w.z,{fullsize:!0,onClick:t,isLoading:n,children:i("account_creation_button_next")}),(0,F.tZ)(ge.Q,{isExternal:!0,size:"small",href:we.wg,sx:{marginTop:"32px"},children:i("webapp_enforce_account_recovery_key_first_step_learn_more")})]})},fe={GENERIC_ERROR:"webapp_account_recovery_key_activation_generic_error_title",GENERIC_ERROR_DESC:"webapp_account_recovery_key_activation_generic_error_desc",GENERIC_ERROR_BUTTON:"login_account_recovery_key_error_screen_try_again_button",NETWORK_ERROR:"webapp_account_recovery_key_activation_network_error_title",NETWORK_ERROR_DESC:"webapp_account_recovery_key_activation_network_error_desc",NETWORK_ERROR_BUTTON:"login_account_recovery_key_error_screen_try_again_button"},xe=({error:e,goToPrevStep:t})=>{const{translate:n}=(0,v.Z)();return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(se,{title:e?n(fe[e]):"",iconName:"FeedbackFailOutlined",iconMood:"danger"}),(0,F.tZ)(D.n,{sx:{marginBottom:"26px"},children:n(fe[`${e}_DESC`])}),(0,F.tZ)(w.z,{fullsize:!0,onClick:t,sx:{margin:"8px 0"},children:n(fe[`${e}_BUTTON`])})]})};var Se;const ve=()=>{const{goToActivationNextStep:e,requestActivation:t,goToActivationPrevStep:n}=(0,K.u)(ee.j),a=(0,L.k)(ee.j,"activationFlowStatus");return(0,F.BX)("div",{sx:{backgroundColor:"ds.container.agnostic.neutral.supershy",minHeight:"100vh",display:"flex",overflowX:"auto"},children:[Se||(Se=(0,F.tZ)(re.b,{illustrationSrc:ie,illustrationDarkSrc:ae})),(0,F.tZ)(ne.k,{flexDirection:"column",sx:{justifyContent:"center",alignContent:"center",flex:1,width:"440px",margin:"100px"},role:"main",children:(0,F.tZ)(ne.k,{flexDirection:"column",sx:{minWidth:"440px",maxWidth:"620px"},children:(()=>{switch(a.data?.step){case te.F.InitActivation:return a.data.isFeatureEnabled||t(),(0,F.tZ)(ye,{...a.data,goToNextStep:()=>e(),isLoading:!0});case te.F.RequestActivation:case te.F.DisplayKey:return(0,F.tZ)(ye,{...a.data,goToNextStep:()=>e(),isLoading:a.data?.step===te.F.RequestActivation});case te.F.ConfirmKey:case te.F.FinaliseActivation:return(0,F.tZ)(me,{...a.data,goToPrevStep:()=>n(),goToNextStep:()=>e(),isLoading:a.data?.step===te.F.FinaliseActivation});case te.F.ShowError:return(0,F.tZ)(xe,{...a.data,goToPrevStep:()=>n()});case te.F.ActivationDone:case te.F.GenerateNewKey:case te.F.CancelGenerateNewKey:default:return(0,F.tZ)(oe.o,{onClose:()=>{}})}})()})})]})};var Ce,Ze,ke,Ie,Ee=n(78450),De=n(79115),Te=n(78420),Ae=n(98049),Ne=n(16446),Oe=n(61605),Pe=n(9882),Le=n(19471),Re=n(63375);const Me=({dispatchGlobal:e})=>{const{translate:t}=(0,v.Z)(),n=(0,Re.S)(),[i,r]=(0,C.useState)(!1),o=(0,Pe.a)(e);if(!n.shouldEnforce)return null;const{isNitroProvider:s,serviceProviderUrl:l,localSsoRedirect:c,loginWithSSOCommand:d}=n;return(0,F.BX)("div",{sx:{backgroundColor:"ds.container.agnostic.neutral.supershy",overflowX:"auto",minHeight:"100vh",display:"flex"},children:[Ce||(Ce=(0,F.tZ)(S.bB,{illustrationSrc:Te,illustrationDarkSrc:De})),(0,F.tZ)(ne.k,{flexDirection:"column",sx:{justifyContent:"center",alignContent:"center",flex:1,width:"440px",margin:"100px"},role:"main",children:(0,F.BX)(ne.k,{flexDirection:"column",gap:"24px",sx:{minWidth:"440px",maxWidth:"620px"},children:[Ze||(Ze=(0,F.tZ)(k.v,{name:"SsoOutlined",size:"xlarge",mood:"brand"})),(0,F.tZ)(D.n,{textStyle:"ds.title.section.large",as:"h2",children:t("activate_sso_popup_title")}),(0,F.BX)(D.n,{children:[t("activate_sso_popup_body")," ",ke||(ke=(0,F.tZ)("br",{})),t("activate_sso_popup_body_secondary")]}),(0,F.tZ)(V.k,{size:"large",mood:"brand",title:(0,F.tZ)(D.n,{children:t("activate_sso_popup_infobox_title")})}),(0,F.tZ)(w.z,{sx:{width:"100%"},mood:"brand",onClick:async()=>{if(c)return(0,a.uX)(l);s?d():(0,Oe.nL)(l)},children:t("activate_sso_popup_primary_button")}),(0,F.tZ)(w.z,{sx:{width:"100%"},mood:"neutral",intensity:"quiet",onClick:()=>{r(!0)},children:t("webapp_logout_dialog_confirm")}),(0,F.tZ)(ge.Q,{href:Le.n0,isExternal:!0,children:t("activate_sso_popup_secondary_button")}),(0,F.tZ)(Ae.vb,{isOpen:i,onLogout:()=>{o(),r(!1)},onDismiss:()=>{r(!1)}}),Ie||(Ie=(0,F.tZ)(Ne.M,{}))]})})]})};var Be,ze,Ue,Fe=n(43547),Xe=n(59215);const qe=({children:e,dispatchGlobal:t})=>{const n=z().shouldEnforce,a=(0,Xe.Z)().shouldEnforce,i=(0,Fe.V)();return(0,Re.S)().shouldEnforce?(0,F.tZ)(Me,{dispatchGlobal:t}):i?Be||(Be=(0,F.tZ)(Ee.A,{})):a?ze||(ze=(0,F.tZ)(J,{})):n?Ue||(Ue=(0,F.tZ)(ve,{})):(0,F.tZ)(C.Fragment,{children:e})};var He=n(45026),Ve=n(95727),We=n(67678),je=n(73704),Ge=n(39442),Ke=n(93379),Ye=n(83856),$e=n(45272),Qe=n(18789),Je=n(87163),et=n(5465);const tt=e=>{const t=(e=>{var t,n;return(e=e||{}).completedSteps=e.completedSteps||{},{flowCredentialInApp:"saveApp"===e.activeOnboardingType,flowLoginCredentialOnWeb:"loginWeb"===e.activeOnboardingType,flowSaveCredentialOnWeb:"saveWeb"===e.activeOnboardingType,flowImportPasswords:"importPasswords"===e.activeOnboardingType,flowAddMobileOnWeb:"addMobile"===e.activeOnboardingType,flowTryAutofillOnWeb:"tryAutofill"===e.activeOnboardingType,flowLoginCredentialOnWebSite:null!=(t=e.flowLoginCredentialOnWebSite)?t:null,leelooStep:e.leelooStep,popoverStep:null!=(n=e.popoverStep)?n:null,completedSteps:e.completedSteps}})(e);et.C.updateWebOnboardingMode(t)},nt=({flowLoginCredentialOnWeb:e,leelooStep:t,popoverStep:n})=>{const{translate:a}=(0,v.Z)(),i=e&&t===Ge.s.SHOW_LOGIN_USING_EXTENSION_NOTIFICATION&&null===n,r=i&&(0,Qe.Sk)(window.location.href)&&!(0,Qe.kL)(window.location.href),o=i&&!(0,Qe.Sk)(window.location.href);return(0,C.useEffect)((()=>{r&&(0,$e.Nc)(je.PageView.NotificationOnboardingPinExtension)}),[r]),(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(Ke.T,{title:a("webapp_onboarding_notification_chrome_pinning_title"),secondTitle:a("webapp_onboarding_notification_chrome_pinning_subtitle"),imageSrc:Ye,show:r,cancelLabel:a("webapp_onboarding_notification_chrome_pinning_cancel"),onCancel:()=>{tt({popoverStep:Ge.H.SHOW_LOGIN_NOTIFICATION,leelooStep:null,activeOnboardingType:"loginWeb"})}}),(0,F.tZ)(Ke.T,{title:a("webapp_onboarding_notification_login_sites_title"),show:o})]})};var at=n(16103),it=n(95793),rt=n(16166),ot=n(39378),st=n(47124);const lt="webapp_search_input_placeholder",ct={REDUCE_HEIGHT:{"& > div":{minHeight:"40px"},"& > div > div > div > label":{top:"9px"}},REMOVE_BORDER:{"& > div":{borderColor:"transparent !important"}},REMOVE_PADDING:{"& > div":{paddingLeft:0}}},dt=()=>{const{translate:e}=(0,v.Z)(),{setSearchValue:t,closeSearch:n,searchValue:a}=(0,at.A)(),i=(0,C.useRef)(null),r=(0,C.useCallback)((0,ot.debounce)((e=>t(e)),100),[]),o=a.length>0;return(0,C.useEffect)((()=>{a.length&&i.current?.select()}),[]),(0,F.BX)("div",{sx:{display:"grid",alignItems:"center",gap:"12px",width:"100%",gridTemplateColumns:"40px 1fr auto",padding:"12px 16px 12px 20px"},children:[(0,F.tZ)(st.JO,{name:"ActionSearchOutlined",color:"ds.text.neutral.standard",size:"medium",sx:{padding:"10px",boxSizing:"content-box"}}),(0,F.tZ)(E.n,{role:"search",sx:(0,rt.jM)([ct.REDUCE_HEIGHT,ct.REMOVE_BORDER,ct.REMOVE_PADDING]),value:a,onChange:e=>r(e.target.value),labelPersists:!1,label:e(lt),placeholder:e(lt),autoFocus:!0,ref:i}),(0,F.BX)("div",{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"8px"},children:[o?(0,F.tZ)(w.z,{mood:"brand",intensity:"supershy",icon:"ActionCloseOutlined",onClick:()=>{t("")},children:e("webapp_search_input_clear")}):null,(0,F.tZ)(w.z,{layout:"iconOnly",mood:"neutral",intensity:"supershy",icon:"ActionCloseOutlined",onClick:n,"aria-label":e("_common_toast_close_label")})]})]})};var pt=n(1011),ut=n(39431);const _t=({loadMore:e,remaining:t})=>{const{translate:n}=(0,v.Z)();return t?(0,F.tZ)(w.z,{onClick:e,mood:"neutral",intensity:"quiet",size:"small",fullsize:!0,sx:{marginTop:"16px"},children:n("webapp_sidemenu_search_results_see_more",{count:t})}):null},mt={charactersTypedCount:0,totalCount:0,searchSubTypes:{credentials:0,notes:0,identities:0,emails:0,phones:0,addresses:0,companies:0,personalWebsites:0,paymentCards:0,bankAccounts:0,documents:0},updateSearchSubTypes:(e,t)=>mt.searchSubTypes[e]=t,logSearchEvent:(0,ot.debounce)((function(e=!0){(0,$e.Kz)(new je.UserSearchVaultItemEvent({charactersTypedCount:mt.charactersTypedCount,hasInteracted:e,totalCount:mt.totalCount>0?mt.totalCount:Object.values(mt.searchSubTypes).reduce(((e,t)=>e+t))}))}),300)},ht=mt;var gt=n(94138),bt=n(25960),wt=n(18462),yt=n(11744),ft=n(14646);const xt=({id:e,icons:t,title:n,onClick:a,description:i,thumbnail:r,actions:o})=>{const{searchValue:s}=(0,at.A)();return(0,F.tZ)(yt.H,{"aria-label":null!=n?n:e,onClick:a,actions:o,children:(0,F.tZ)(ft.s,{title:n,description:i,highlightedText:s.trim(),thumbnail:r,icons:t})})};var St,vt=n(63071),Ct=n(86498),Zt=n(73875),kt=n(7544);const It=({isEnabled:e,onClick:t,translationKey:n,value:a})=>{const{translate:i}=(0,v.Z)();return(0,F.tZ)(kt.h,{leadingIcon:"ActionCopyOutlined",onSelect:()=>t(a),disabled:!e,label:i(n)})};var Et=n(68819),Dt=n(30894),Tt=n(79432);let At=function(e){return e.BIC="bic",e.IBAN="iban",e}({}),Nt=function(e){return e.LIST="list",e.SEARCH="search",e}({});var Ot=n(30309);const Pt={COPY_ACCOUNT_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_account",COPY_ACCOUNT_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_account_alert",COPY_BIC_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_BIC",COPY_BIC_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_BIC_alert",COPY_CLABE_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_CLABE",COPY_CLABE_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_CLABE_alert",COPY_IBAN_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_IBAN",COPY_IBAN_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_IBAN_alert",COPY_ROUTING_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_routing",COPY_ROUTING_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_routing_alert",COPY_SORT_CODE_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_sort_code",COPY_SORT_CODE_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_sort_code_alert"},Lt={COPY_ACCOUNT_LABEL:"webapp_payment_bankaccount_list_item_copy_account",COPY_ACCOUNT_ALERT:"webapp_payment_bankaccount_list_item_copy_account_alert",COPY_BIC_LABEL:"webapp_payment_bankaccount_list_item_copy_BIC",COPY_BIC_ALERT:"webapp_payment_bankaccount_list_item_copy_BIC_alert",COPY_CLABE_LABEL:"webapp_payment_bankaccount_list_item_copy_CLABE",COPY_CLABE_ALERT:"webapp_payment_bankaccount_list_item_copy_CLABE_alert",COPY_IBAN_LABEL:"webapp_payment_bankaccount_list_item_copy_IBAN",COPY_IBAN_ALERT:"webapp_payment_bankaccount_list_item_copy_IBAN_alert",COPY_ROUTING_LABEL:"webapp_payment_bankaccount_list_item_copy_routing",COPY_ROUTING_ALERT:"webapp_payment_bankaccount_list_item_copy_routing_alert",COPY_SORT_CODE_LABEL:"webapp_payment_bankaccount_list_item_copy_sort_code",COPY_SORT_CODE_ALERT:"webapp_payment_bankaccount_list_item_copy_sort_code_alert"},Rt=({BIC:e,IBAN:t,bicKey:n,ibanKey:a,onClick:i})=>(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(It,{onClick:()=>i(At.BIC),translationKey:n,isEnabled:e.length>0,value:At.BIC}),(0,F.tZ)(It,{onClick:()=>i(At.IBAN),translationKey:a,isEnabled:t.length>0,value:At.IBAN})]}),Mt="webapp_payment_bankaccount_list_item_copy_info",Bt=({bankAccount:e,mode:t,dropdownIsOpen:n,setDropdownIsOpen:a})=>{const{translate:i}=(0,v.Z)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:o}=(0,Dt.tY)(),s=(0,Ct.V)(),l=(0,Zt.l)(),{logCopiedBankAccountField:c}=(0,Tt.D)(),d=((e,t)=>{const n=t===Nt.SEARCH?Pt:Lt;switch(e){case Ot.cH.MX:return{BIC:n.COPY_BIC_LABEL,BIC_ALERT:n.COPY_BIC_ALERT,IBAN:n.COPY_CLABE_LABEL,IBAN_ALERT:n.COPY_CLABE_ALERT};case Ot.cH.GB:return{BIC:n.COPY_SORT_CODE_LABEL,BIC_ALERT:n.COPY_SORT_CODE_ALERT,IBAN:n.COPY_ACCOUNT_LABEL,IBAN_ALERT:n.COPY_ACCOUNT_ALERT};case Ot.cH.US:return{BIC:n.COPY_ROUTING_LABEL,BIC_ALERT:n.COPY_ROUTING_ALERT,IBAN:n.COPY_ACCOUNT_LABEL,IBAN_ALERT:n.COPY_ACCOUNT_ALERT};default:return{BIC:n.COPY_BIC_LABEL,BIC_ALERT:n.COPY_BIC_ALERT,IBAN:n.COPY_IBAN_LABEL,IBAN_ALERT:n.COPY_IBAN_ALERT}}})(e.country,t),p=t===Nt.SEARCH,u=Boolean(e.spaceId),_=(0,F.tZ)(Rt,{BIC:e.BIC,IBAN:e.IBAN,bicKey:d.BIC,ibanKey:d.IBAN,onClick:t=>{const n=async()=>{try{switch(t){case At.BIC:await(async()=>{(0,$e.Kz)(new je.UserCopyVaultItemFieldEvent({itemType:je.ItemType.BankStatement,field:je.Field.Bic,itemId:e.id,isProtected:!0})),u&&c({name:e.accountName,country:e.country,field:je.Field.Bic});try{await navigator.clipboard.writeText(e.BIC),s.showAlert(i(d.BIC_ALERT),N.BLW.SUCCESS)}catch(e){}})();break;case At.IBAN:await(async()=>{(0,$e.Kz)(new je.UserCopyVaultItemFieldEvent({itemType:je.ItemType.BankStatement,field:je.Field.Iban,itemId:e.id,isProtected:!0})),u&&c({name:e.accountName,country:e.country,field:je.Field.Iban});try{await navigator.clipboard.writeText(e.IBAN),s.showAlert(i(d.IBAN_ALERT),N.BLW.SUCCESS)}catch(e){}})()}}catch(e){s.showAlert(i("webapp_generic_copy_to_clipboard_feedback_error"),N.BLW.ERROR)}};if(!r)return o({action:Et.P.Copy,itemType:Et.R.BankAccount,successCallback:n});n()}});return l?null:(0,F.BX)(vt.h_,{children:[(0,F.tZ)(vt.sB,{showCaret:!1,icon:"ActionCopyOutlined",mood:"brand",intensity:"supershy",onClick:e=>{e.stopPropagation(),n||(0,$e.Kz)(new je.UserOpenVaultItemDropdownEvent({dropdownType:je.DropdownType.Copy,itemType:je.ItemType.BankStatement})),a(!n)},layout:"iconOnly",size:p?"small":"medium",tooltip:i(Mt),"aria-label":i(Mt)}),(0,F.tZ)(vt.Nv,{children:_})]})};var zt,Ut,Ft=n(89078),Xt=n(84925),qt=n(13134),Ht=n(14877),Vt=n(33840),Wt=n(59973),jt=n(47286),Gt=n(26555);var Kt,Yt,$t=n(58363);const Qt="webapp_ids_edit_document",Jt={[ut.U.DriversLicense]:{copy:"webapp_ids_driver_licences_driver_licence_copy",success:"webapp_ids_driver_licences_driver_licence_copy_successfull"},[ut.U.FiscalId]:{copy:"webapp_ids_fiscal_ids_fiscal_id_copy",success:"webapp_ids_fiscal_ids_fiscal_id_copy_successfull"},[ut.U.IdCard]:{copy:"webapp_ids_id_cards_id_card_copy",success:"webapp_ids_id_cards_id_card_copy_successfull"},[ut.U.Passport]:{copy:"webapp_ids_passports_passport_copy",success:"webapp_ids_passports_passport_copy_successfull"},[ut.U.SocialSecurityId]:{copy:"webapp_ids_social_security_ids_social_security_id_copy",success:"webapp_ids_social_security_ids_social_security_id_copy_successfull"}},en=({itemId:e,copyValue:t,editRoute:n,reportError:i,variant:r,type:o})=>{const{translate:s}=(0,v.Z)(),{showToast:l}=(0,Z.p)(),c=(0,Zt.l)(),d="search"===r;return null===c?null:(0,F.BX)("span",{onClick:e=>{e.stopPropagation(),e.preventDefault()},sx:{display:"flex","& > *:not(:last-child)":{marginRight:"16px"}},children:[c?null:(0,F.tZ)(w.z,{layout:"iconOnly","aria-label":s(Jt[o].copy),title:s(Jt[o].copy),icon:"ActionCopyOutlined",onClick:async()=>{(0,$e.Kz)(new je.UserCopyVaultItemFieldEvent({itemType:$t.L[o],field:$t.H[o],itemId:e,isProtected:!1}));try{await navigator.clipboard.writeText(t),l({description:s(Jt[o].success)})}catch(e){"function"==typeof i&&i(e,"[ids][quick-actions] Unable to copy to clipboard"),l({description:s("webapp_ids_failed_copy"),mood:"danger",isManualDismiss:!0})}},type:"button",size:"small",intensity:"supershy"}),d?null:(0,F.tZ)(w.z,{layout:"iconOnly","aria-label":s(Qt),title:s(Qt),icon:"ActionEditOutlined",onClick:()=>{(0,a.uX)(n)},type:"button",size:"small",intensity:"supershy"})]})};var tn=n(44105),nn=n(66219);const an=(e,t,n,a)=>{const i=e[t],r=n[i];return"country"===i?void 0===r||r===tn.c.UNIVERSAL?"":a(`country_name_${r}`):"name"!==i||r?r:(0,nn.bx)(t,n.country,a)},rn={[ut.U.DriversLicense]:"drivers-license",[ut.U.FiscalId]:"tax-number",[ut.U.IdCard]:"id-card",[ut.U.Passport]:"passport",[ut.U.SocialSecurityId]:"social-security-number"},on={[ut.U.DriversLicense]:"idName",[ut.U.FiscalId]:"fiscalNumber",[ut.U.IdCard]:"idName",[ut.U.Passport]:"idName",[ut.U.SocialSecurityId]:"idName"},sn={[ut.U.DriversLicense]:"idNumber",[ut.U.FiscalId]:"country",[ut.U.IdCard]:"idNumber",[ut.U.Passport]:"idNumber",[ut.U.SocialSecurityId]:"idNumber"},ln=({item:e,index:t,matchCount:n})=>{const{routes:i}=(0,a.Xo)(),{translate:r}=(0,v.Z)(),{closeSearch:o}=(0,at.A)(),s=e.kwType,{title:l,description:c,thumbnail:d}=((e,t,n)=>({thumbnail:rn[e],title:an(on,e,t,n),description:an(sn,e,t,n)}))(s,e,r),p=i.userEditIdDocument(s,e.id),u=(0,F.tZ)(en,{itemId:e.id,copyValue:e.idNumber||e.fiscalNumber,editRoute:p,variant:"search",type:s});return(0,F.tZ)(xt,{id:e.id,title:l,description:c,onClick:()=>{ht.logSearchEvent(),(0,bt.Q_)(e.id,bt.Ab[s],t+1,n),o(),(0,a.uX)(p)},thumbnail:(0,F.tZ)(gt.A,{type:d}),actions:u})},cn=e=>{const t=(e?(e=>e?e.trim().slice(-4):"")(e):"")||"â¢â¢â¢â¢";return`â¢â¢â¢â¢ â¢â¢â¢â¢ â¢â¢â¢â¢ ${t}`};var dn=n(53214);const pn=e=>{switch(e){case dn.X.Blue1:case dn.X.Blue2:return"blue";case dn.X.Gold:return"yellow";case dn.X.Green1:case dn.X.Green2:return"green";case dn.X.Orange:return"orange";case dn.X.Red:return"red";case dn.X.Black:return"black";default:return"grey"}};var un,_n=n(95930);const mn=(e=!1,t="")=>e?"*******":t.length>30?t.slice(0,27)+"â¦":t;var hn,gn,bn,wn=n(14482),yn=n(33988),fn=n(54350),xn=n(75881),Sn=n(17276),vn=n(56501);const Cn=({item:e})=>{var t,n;const i=(0,vn._)([e.id]),{translate:r}=(0,v.Z)(),{routes:o}=(0,a.Xo)(),{closeSearch:s}=(0,at.A)(),l=null!=(t=i?.users?.length)?t:0,c=null!=(n=i?.userGroups?.length)?n:0,d=l+c>0,p=[e.vaultItems.length?r("webapp_search_collection_description_item_count_plural",{count:e.vaultItems.length}):r("webapp_search_collection_description_item_count_zero"),l>0?r("webapp_search_collection_description_shared_with_people_count_plural",{count:l}):void 0,c>0?r("webapp_search_collection_description_shared_with_group_count_plural",{count:c}):void 0].filter((e=>!!e)).join(" â¢ "),u=(0,F.tZ)(Sn.C,{collection:e,triggerButton:{mood:"brand",intensity:"supershy",size:"small"}});return(0,F.tZ)(xt,{id:e.id,title:e.name,description:p,onClick:()=>{ht.logSearchEvent(),(0,$e.Kz)(new je.UserSelectCollectionEvent({collectionId:e.id,collectionSelectOrigin:je.CollectionSelectOrigin.SearchResults})),s(),(0,a.uX)(o.userCollection(e.id))},thumbnail:bn||(bn=(0,F.tZ)(xn.R,{type:"collection"})),actions:u,icons:d?["SharedOutlined"]:void 0})},Zn={BASE:{padding:"0 8px"},WITH_RESULTS:{marginBottom:"16px"}},kn={[ut.U.Credential]:({item:e,index:t,matchCount:n})=>{const i=e,{routes:r}=(0,a.Xo)(),{translate:o}=(0,v.Z)(),{closeSearch:s}=(0,at.A)(),{data:l}=(0,L.k)(Ht.L,"credentialsGloballyProtected"),c=(0,Wt.k)(),{getPermissionForItem:d,sharingEnabled:p,getSharingStatusForItem:u}=(0,Ft.Y)(Xt.X,{getPermissionForItem:{queryParam:{itemId:i.id}},sharingEnabled:{},getSharingStatusForItem:{queryParam:{itemId:i.id}}},[]),_=!!u.data?.isShared,m=(0,Zt.l)(),h=new qt.Y(i.URL).getRootDomain(),g={shared:{icon:"SharedOutlined",condition:_},autoProtected:{icon:"LockOutlined",condition:!!i.isSecured}},b=Object.values(g).filter((({condition:e})=>e)).map((({icon:e})=>e)),y=o(i.URL?"webapp_sidemenu_search_actions_goto_title":"webapp_sidemenu_search_actions_no_website"),f=r.userCredential(i.id);if(void 0===p.data||void 0===l||null===m)return null;const x=(0,F.BX)("div",{sx:{display:"flex",flexDirection:"row",gap:"8px"},children:[(0,F.tZ)(w.z,{mood:"brand",intensity:"supershy",layout:"iconOnly",size:"small",icon:"ActionOpenExternalLinkOutlined",onClick:()=>{(0,Vt.k)(i.id,i.URL),(0,Oe.Yo)(i.URL)},disabled:!i.URL,"aria-label":y,tooltip:y}),(0,F.tZ)(jt.r,{credential:i,credentialItemRoute:f,sharingCapabilities:d?.data?.capabilities,isShared:_,isSharingAllowed:c,isSharingEnabled:p.data,isUserFrozen:m,isCredentialsGloballyProtected:l,searchEmbedded:!0,triggerButton:{showCaret:!1,mood:"brand",intensity:"supershy",layout:"iconOnly",icon:"ActionMoreOutlined",size:"small","aria-label":o("webapp_sidemenu_search_actions_more_title")}})]});return(0,F.tZ)(xt,{id:i.id,title:i.itemName||i.URL,description:i.username||i.email,onClick:()=>{ht.logSearchEvent(),(0,bt.kb)(i.id,t+1,n),s(),(0,a.uX)(f)},thumbnail:(0,F.tZ)(Gt.h,{domainURL:h}),icons:b,actions:x})},[ut.U.Passkey]:({item:e,index:t,matchCount:n})=>{var i;const r=e,{routes:o}=(0,a.Xo)(),{closeSearch:s}=(0,at.A)();return(0,F.tZ)(xt,{id:r.id,title:null!=(i=r.itemName)?i:r.rpName,description:r.userDisplayName,onClick:()=>{ht.logSearchEvent(),(0,bt.aU)(r.id,t+1,n),s(),(0,a.uX)(o.userPasskey(r.id))},thumbnail:(0,F.tZ)(Gt.h,{domainURL:r.rpId}),icons:["PasskeyOutlined"]})},[ut.U.Secret]:({item:e,index:t,matchCount:n})=>{const i=e,{routes:r}=(0,a.Xo)(),{closeSearch:o}=(0,at.A)(),s=(0,yn.F)(),{isMPLessUser:l}=(0,fn.Z)(),{areProtectedItemsUnlocked:c,openProtectedItemsUnlocker:d}=(0,Dt.tY)(),p=!s&&!l,u=mn(i.isSecured,i.content);return(0,F.tZ)(xt,{id:i.id,title:i.title,description:u,onClick:()=>{ht.logSearchEvent(),(0,bt.pP)(i.id,t+1,n),o();const e=()=>{(0,a.uX)(r.userSecret(i.id))};i.isSecured&&!c&&p?d({action:Dt.P7.Show,itemType:Et.R.Secret,successCallback:e}):e()},thumbnail:hn||(hn=(0,F.tZ)(gt.A,{type:"secret"}))})},[ut.U.SecureNote]:({item:e,index:t,matchCount:n})=>{const i=e,{routes:r}=(0,a.Xo)(),{closeSearch:o}=(0,at.A)(),{areProtectedItemsUnlocked:s,openProtectedItemsUnlocker:l}=(0,Dt.tY)(),{content:c,isSecured:d,title:p}=i,u=mn(d,c),_=r.userSecureNote(i.id),m=(0,F.tZ)("div",{sx:{display:"flex",flexDirection:"row",gap:"8px"},children:(0,F.tZ)(_n.t,{note:i,secureNoteItemRoute:_,triggerButton:{mood:"brand",intensity:"supershy",size:"small"}})});return(0,F.tZ)(xt,{id:i.id,title:p,description:u,onClick:()=>{ht.logSearchEvent(),(0,bt.X0)(i.id,t+1,n),o();const e=()=>{(0,a.uX)(_)};d&&!s?l({action:Dt.P7.Show,itemType:Et.R.SecureNote,successCallback:e}):e()},thumbnail:(0,F.tZ)(gt.A,{type:"secure-note",color:(0,wn.j)(i.color)}),actions:m})},[ut.U.BankAccount]:({item:e,index:t,matchCount:n})=>{const i=e,[r,o]=(0,C.useState)(!1),{routes:s}=(0,a.Xo)(),{closeSearch:l}=(0,at.A)(),c=(0,F.tZ)("div",{sx:{display:"flex",flexDirection:"row",gap:"8px"},children:(0,F.tZ)(Bt,{bankAccount:i,dropdownIsOpen:r,setDropdownIsOpen:o,mode:Nt.SEARCH})});return(0,F.tZ)(xt,{id:i.id,title:i.accountName,description:i.ownerName,onClick:()=>{ht.logSearchEvent(),(0,bt.Mx)(i.id,t+1,n),l(),(0,a.uX)(s.userBankAccount(i.id))},thumbnail:zt||(zt=(0,F.tZ)(gt.A,{type:"bank-account"})),actions:c})},[ut.U.PaymentCard]:({item:e,index:t,matchCount:n})=>{const i=e,{routes:r}=(0,a.Xo)(),{closeSearch:o}=(0,at.A)(),s=cn(i.cardNumber);return(0,F.tZ)(xt,{id:i.id,title:i.itemName,description:s,onClick:()=>{ht.logSearchEvent(),(0,bt.GV)(i.id,t+1,n),o(),(0,a.uX)(r.userPaymentCard(i.id))},thumbnail:(0,F.tZ)(gt.A,{type:"payment-card",color:pn(i.color)})})},[ut.U.Address]:({item:e,index:t,matchCount:n})=>{const i=e,{routes:r}=(0,a.Xo)(),{translate:o}=(0,v.Z)(),{closeSearch:s}=(0,at.A)(),l=(0,wt.qS)(i.city,i.country,i.streetName,i.zipCode,o);return(0,F.tZ)(xt,{id:i.id,title:i.itemName,onClick:()=>{ht.logSearchEvent(),(0,bt.bx)(i.id,je.ItemType.Address,t+1,n),s(),(0,a.uX)(r.userPersonalInfoAddress(i.id))},description:l,thumbnail:St||(St=(0,F.tZ)(gt.A,{type:"address"}))})},[ut.U.Company]:({item:e,index:t,matchCount:n})=>{const i=e,{routes:r}=(0,a.Xo)(),{closeSearch:o}=(0,at.A)();return(0,F.tZ)(xt,{id:i.id,title:i.companyName,description:i.jobTitle,onClick:()=>{ht.logSearchEvent(),(0,bt.bx)(i.id,je.ItemType.Company,t+1,n),o(),(0,a.uX)(r.userPersonalInfoCompany(i.id))},thumbnail:Ut||(Ut=(0,F.tZ)(gt.A,{type:"company"}))})},[ut.U.Email]:({item:e,index:t,matchCount:n})=>{const i=e,{routes:r}=(0,a.Xo)(),{closeSearch:o}=(0,at.A)();return(0,F.tZ)(xt,{id:i.id,title:i.itemName,description:i.emailAddress,onClick:()=>{ht.logSearchEvent(),(0,bt.bx)(i.id,je.ItemType.Email,t+1,n),o(),(0,a.uX)(r.userPersonalInfoEmail(i.id))},thumbnail:Kt||(Kt=(0,F.tZ)(gt.A,{type:"email"}))})},[ut.U.Identity]:({item:e,index:t,matchCount:n})=>{const i=e,{routes:r}=(0,a.Xo)(),{translate:o}=(0,v.Z)(),{closeSearch:s}=(0,at.A)(),l=(0,wt.kl)(i),c=(0,wt.Y8)(i.birthDate,i.birthPlace,o);return(0,F.tZ)(xt,{id:i.id,title:l,description:c,onClick:()=>{ht.logSearchEvent(),(0,bt.bx)(i.id,je.ItemType.Identity,t+1,n),s(),(0,a.uX)(r.userPersonalInfoIdentity(i.id))},thumbnail:Yt||(Yt=(0,F.tZ)(gt.A,{type:"id-card"}))})},[ut.U.Phone]:({item:e,index:t,matchCount:n})=>{const i=e,{routes:r}=(0,a.Xo)(),{translate:o}=(0,v.Z)(),{closeSearch:s}=(0,at.A)(),l=(0,wt.o3)(i,o);return(0,F.tZ)(xt,{id:i.id,title:l,description:i.phoneNumber,onClick:()=>{ht.logSearchEvent(),(0,bt.bx)(i.id,je.ItemType.Phone,t+1,n),s(),(0,a.uX)(r.userPersonalInfoPhone(i.id))},thumbnail:un||(un=(0,F.tZ)(gt.A,{type:"phone-number"}))})},[ut.U.Website]:({item:e,index:t,matchCount:n})=>{const i=e,{routes:r}=(0,a.Xo)(),{closeSearch:o}=(0,at.A)();return(0,F.tZ)(xt,{id:i.id,title:i.itemName,description:i.URL,onClick:()=>{ht.logSearchEvent(),(0,bt.bx)(i.id,je.ItemType.Website,t+1,n),o(),(0,a.uX)(r.userPersonalInfoWebsite(i.id))},thumbnail:gn||(gn=(0,F.tZ)(gt.A,{type:"website"}))})},[ut.U.DriversLicense]:ln,[ut.U.FiscalId]:ln,[ut.U.IdCard]:ln,[ut.U.Passport]:ln,[ut.U.SocialSecurityId]:ln},In=({query:e,search:t})=>{var n;const{translate:a}=(0,v.Z)(),{result:i}=t,r=i?i.matchCount-i.items?.length:0,o=!!i&&i?.matchCount>0;ht.totalCount=null!=(n=i?.matchCount)?n:0;const s=i?.matchCount?a.markup("webapp_search_sections_results_header_plural_markup",{count:i?.matchCount,query:e}):a("webapp_sidemenu_search_results_empty"),l=(0,C.useMemo)((()=>i?.items?i.items.map(((e,t,n)=>{if((e=>void 0!==e.vaultItems)(e))return(0,F.tZ)(Cn,{index:t,matchCount:n.length,item:e},e.id);const a=kn[e.kwType];return(0,F.tZ)(a,{index:t,matchCount:n.length,item:e},e.id)})):null),[i]);return(0,F.BX)("section",{"data-testid":"search-results",children:[(0,F.tZ)(I.X,{as:"h3",color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small",sx:(0,rt.jM)([Zn.BASE,o?Zn.WITH_RESULTS:{}]),children:s}),o?(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(pt.a,{children:l}),(0,F.tZ)(_t,{loadMore:t.loadMore,remaining:r})]}):null]})};var En=n(88331),Dn=n(29289);const Tn=()=>{const[e,t]=(0,C.useState)(10);return{limit:e,loadMore:()=>t((e=>e+10))}},An=(e,t)=>{const{limit:n,loadMore:a}=Tn(),{data:i}=(0,L.k)(En.R,"search",{searchQuery:e,vaultItemTypes:[t],pageSize:n,pageNumber:1});return{result:i?.[Dn.N[t]],loadMore:a}},Nn={BASE:{display:"flex",flexDirection:"column",gap:"16px",padding:"0 12px",overflow:"auto",a:{textDecoration:"none"}},SECTIONS:{"&:has(section)":{paddingTop:"12px",paddingBottom:"12px",borderTop:"1px solid ds.border.neutral.quiet.idle"}}},On=()=>{const{searchValue:e}=(0,at.A)(),t=(e=>{const{limit:t,loadMore:n}=Tn(),{areProtectedItemsUnlocked:a}=(0,Dt.tY)(),{data:i}=(0,L.k)(En.R,"vaultSearchRanked",{searchQuery:e,pageSize:t,pageNumber:1,vaultItemTypes:void 0,areProtectedItemsUnlocked:a});return{result:i,loadMore:n}})(e);return e.length?(0,F.tZ)("div",{sx:(0,rt.jM)([Nn.BASE,Nn.SECTIONS,{maxHeight:"calc(90vh - 64px)"}]),children:(0,F.tZ)(In,{search:t,query:e})}):null};var Pn,Ln;const Rn=()=>(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",overflow:"hidden",width:"100%"},children:[Pn||(Pn=(0,F.tZ)(dt,{})),Ln||(Ln=(0,F.tZ)(On,{}))]});var Mn;const Bn={top:"48px",transform:"translate(-50%, 0)"},zn={"& > div":{padding:0}},Un=()=>{const{isOpen:e,closeSearch:t}=(0,at.A)();return(0,F.tZ)(it.u,{isOpen:e,onClose:()=>{t()},sx:(0,rt.jM)([Bn,zn]),children:Mn||(Mn=(0,F.tZ)(Rn,{}))})};var Fn=n(95255),Xn=n(77270),qn=n(48038),Hn=n(23765),Vn=n(55139),Wn=n(38452),jn=n(80936),Gn=n(77550),Kn=n(39649),Yn=n(572),$n=n(78060),Qn=n(12637),Jn=n(83849),ea=n.n(Jn),ta=(n(92386),n(40577)),na=n(37527),aa=(n(50801),n(69898)),ia=n(19825);const ra=({children:e,title:t,isCollapsed:n=!1,className:a})=>(0,F.BX)("section",{className:a,children:[t?(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",textStyle:"ds.title.supporting.small",sx:{visibility:n?"hidden":"visible",marginLeft:"14px",marginBottom:"8px"},children:t}):null,(0,F.tZ)("ul",{children:C.Children.toArray(e).map(((e,n)=>{const{props:a}=e,i=a.to||a.id||a.collection?.id||`sideMenu_section_${t}_${n}`;return(0,F.tZ)("li",{children:e},i)}))})]}),oa={wrapper:"wrapper--wgYc0yYGn1",menuWrapper:"menuWrapper--b1D7s5I4ay",collapsed:"collapsed--BrviRkpKCo",topRow:"topRow--iUH4OVPBLs",menuItemText:"menuItemText--imGbr2Oml6",link:"link--iDW_9MjgBe",onboarding:"onboarding--jMIsKG0SDO",icon:"icon--p4Hj5TKbLu",active:"active--dH768QsgCa",menuItem:"menuItem--wiIrHeL4aV",itemTextContainer:"itemTextContainer--LNQP0a_ixd",itemText:"itemText--GlDoQof1m2",collapsedForSearch:"collapsedForSearch--cVtyXK59cO",paywallTag:"paywallTag--_Zxj27k463",collapseButton:"collapseButton--DLJ1bSXRP4",customContainer:"customContainer--zc5yW7QMI_",lockIconContainer:"lockIconContainer--bPA96Jrlpa",chip:"chip--yvVs5NEBcF",collapsedChip:"collapsedChip--Eb1BS28Fw6"},sa=e=>(0,F.tZ)(a.OL,{to:e.to,className:ea()(oa.link,oa.menuItem,e.className),activeClassName:oa.active,onClick:()=>{e.onClick?.(),document.getElementsByTagName("main")[0]?.focus()},sx:{backgroundColor:"ds.container.expressive.neutral.supershy.idle","&:hover":{backgroundColor:"ds.container.expressive.neutral.supershy.hover"},"&:active":{backgroundColor:"ds.container.expressive.neutral.supershy.active"}},children:e.children}),la=e=>(0,F.tZ)(a.OL,{to:e.to,className:ea()(oa.link,oa.linkDisabled,oa.menuItem,e.className),activeClassName:oa.active,onClick:e=>{e.preventDefault()},children:e.children});var ca=n(82429);const da=()=>{const{translate:e}=(0,v.Z)();return(0,F.tZ)(ca.C,{mood:"brand",intensity:"catchy",label:e("webapp_sidemenu_upgrade_page"),layout:"iconLeading",iconName:"PremiumOutlined"})};var pa=n(89923);const ua=({trigger:e,placement:t="right-start",title:n,description:a,confirmLabel:i,cancelLabel:r,showOverflow:o,onConfirm:s,onCancel:l,children:c,showNotification:d,width:p})=>{const{translateWithMarkup:u}=(0,pa.Y)();return(0,F.tZ)(N.ua7,{sx:{"&[data-popper-reference-hidden=true]":o?{}:{display:"none"},width:p,maxWidth:p},passThrough:!d||!(null!=n?n:a),arrowSize:8,placement:t,trigger:e,content:(0,F.BX)(N.T5p,{sx:{p:"8px"},justifyItems:"flex-start",children:[n?(0,F.tZ)(N.nvN,{size:"large",sx:{color:N.colors.white,fontWeight:"bold",mb:"8px",textAlign:"start"},children:u(n)}):null,a?(0,F.tZ)(N.nvN,{size:"x-small",sx:{color:N.colors.dashGreen04,textAlign:"start"},children:u(a)}):null,r&&l||i&&s?(0,F.BX)(N.dDn,{sx:{justifySelf:"end",mt:"16px"},children:[r?(0,F.tZ)(N.zxk,{size:"small",nature:"secondary",theme:"dark",sx:{mr:"8px"},type:"button",onClick:l,children:u(r)}):null,i?(0,F.tZ)(N.zxk,{size:"small",type:"button",onClick:s,children:u(i)}):null]}):null]}),children:c})};var _a;const ma=({collapsedChip:e,iconName:t,disabled:n})=>{const a=ea()(oa.icon,n&&oa.disabled),i=n?"ds.text.oddity.disabled":"ds.text.neutral.standard";return t||e?(0,F.BX)("div",{className:a,children:[e&&(0,F.tZ)("div",{className:oa.collapsedChip,children:(0,F.tZ)(st.JO,{name:e,color:i})}),t&&(0,F.tZ)(st.JO,{name:t,color:i})]}):null},ha=({showPaywallTag:e})=>e?_a||(_a=(0,F.tZ)(da,{})):null,ga=({rightIcon:e})=>e?(0,F.tZ)("div",{className:oa.lockIconContainer,children:(0,F.tZ)("div",{className:oa.chip,children:(0,F.tZ)(st.JO,{name:e,color:"ds.text.neutral.standard"})})}):null,ba=({component:e})=>e?(0,F.tZ)(ne.k,{justifyContent:"center",alignContent:"center",children:(0,F.tZ)(e,{})}):null,wa=({children:e,collapsedChip:t,disabled:n,disabledNotification:a,enabledNotification:i,hidden:r,iconName:o,onClick:s,rightIcon:l,rightComponent:c,text:d,to:p,showPaywallTag:u,threeDotsComponent:_,wrapperClass:m})=>{var h,g,b,w;const{translate:y}=(0,v.Z)();if(r)return null;const f=()=>(0,F.BX)(C.Fragment,{children:[h||(h=(0,F.tZ)(ma,{collapsedChip:t,iconName:o,disabled:n})),(0,F.BX)("div",{className:oa.itemTextContainer,children:[d?(0,F.tZ)(D.n,{as:"div",className:oa.itemText,textStyle:"ds.title.block.medium",color:n?"ds.text.oddity.disabled":"ds.text.neutral.catchy",children:y(d)}):null,e,(0,F.tZ)(ha,{showPaywallTag:!!u})]}),g||(g=(0,F.tZ)(ga,{rightIcon:l})),b||(b=(0,F.tZ)(ba,{component:c}))]});var x;return n?(0,F.tZ)(ua,{showNotification:null==(x=a?.showNotification)||x,title:a?.title,description:a?.description,children:(0,F.tZ)("span",{children:(0,F.tZ)(la,{to:p,className:m,children:(0,F.tZ)(f,{})})})}):(0,F.tZ)(ua,{trigger:"persist",showNotification:null==(w=i?.showNotification)||w,...i,children:(0,F.BX)("div",{sx:{display:"flex",alignItems:"stretch"},children:[(0,F.tZ)(sa,{to:p,className:m,sx:{flexGrow:1,"&:hover + button:first-of-type,&:focus-within + button:first-of-type":{backgroundColor:"ds.container.expressive.neutral.supershy.hover"}},onClick:s,children:(0,F.tZ)(f,{})}),_]})})};var ya=n(81012);const fa=()=>{const{translate:e}=(0,v.Z)(),[t,n]=(0,C.useState)(!1),a=(0,C.useRef)(null),{openDialog:i,shouldShowFrozenStateDialog:r}=(0,c.Ub)();return(0,F.BX)("div",{children:[(0,F.tZ)(w.z,{onClick:()=>{r?i():(n(!0),(0,$e.Nc)(je.PageView.CollectionCreate))},icon:(0,F.tZ)(st.JO,{name:"ActionAddOutlined",title:e("collections_sidemenu_create_icon_title")}),layout:"iconOnly",intensity:"supershy",mood:"neutral",size:"medium",ref:a}),t&&(0,F.tZ)(ya.K7,{onClose:()=>n(!1)})]})};var xa;const Sa=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)("div",{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginRight:"8px"},children:[(0,F.tZ)(D.n,{textStyle:"ds.title.supporting.small",color:"ds.text.neutral.standard",children:e("webapp_credentials_header_row_category")}),xa||(xa=(0,F.tZ)(fa,{}))]})};var va=n(33360);const Ca=({collectionName:e,collectionSpaceId:t,isPersonalSpaceDisabled:n,isShared:a})=>(0,F.tZ)(va.b,{isShared:a,spaceId:n?void 0:t,children:(0,F.tZ)(D.n,{as:"span",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",sx:{overflow:"hidden",textOverflow:"ellipsis"},children:e})}),Za=({collection:e,isPersonalSpaceDisabled:t})=>{const{routes:n}=(0,a.Xo)();return(0,F.tZ)(wa,{onClick:()=>(0,$e.Kz)(new je.UserSelectCollectionEvent({collectionId:e.id,collectionSelectOrigin:je.CollectionSelectOrigin.LeftHandSideMenu})),to:n.userCollection(e.id),threeDotsComponent:(0,F.tZ)(Sn.C,{collection:e,sx:{padding:"15px",borderRadius:"0",outlineOffset:"-2px"},triggerButton:{mood:"neutral"}}),children:(0,F.tZ)(Ca,{collectionName:e.name,collectionSpaceId:e.spaceId,isPersonalSpaceDisabled:t,isShared:!!e.isShared})})};var ka,Ia,Ea;const Da=()=>{const{translate:e}=(0,v.Z)(),[t,n]=(0,C.useState)(1),{allCollections:a}=(0,Ve.bA)(),i=(0,jn.I)(),r=a.length>=30,o=(0,C.useMemo)((()=>r?a.slice(0,20*t):a),[a,t,r]);if(i.status!==qn.rq.Success)return null;const s=a.length-o.length;return(0,F.BX)(ra,{title:ka||(ka=(0,F.tZ)(Sa,{})),children:[o.map((e=>(0,F.tZ)(Za,{collection:e,isPersonalSpaceDisabled:i.isDisabled},`collections_sidemenu_${e.id}`))),r&&s>0&&(0,F.tZ)(w.z,{sx:{ml:"8px"},intensity:"quiet",onClick:()=>{n(t+1)},children:e("webapp_sidemenu_collections_see_more",{count:s})}),r&&s<=0&&(0,F.tZ)(w.z,{sx:{ml:"8px"},intensity:"quiet",onClick:()=>{n(1)},children:e("webapp_sidemenu_collections_show_less")})]})},Ta=()=>{const{isSideMenuCollapsed:e}=(0,ia.f)(),{routes:t}=(0,a.Xo)(),n=(0,Xn._)();return e||n.status!==qn.rq.Success?null:n.data[Vn.w.CollectionsPageEnabled]?(0,F.tZ)(ra,{title:Ea||(Ea=(0,F.tZ)(Sa,{})),children:(0,F.tZ)(wa,{iconName:"FolderOutlined",text:"collections_overview_title",to:t.userCollections},"collections_sidemenu_all_collections")}):Ia||(Ia=(0,F.tZ)(Da,{}))};var Aa,Na=n(98803),Oa=n(33392);const Pa=()=>{const{openSearch:e}=(0,at.A)(),t=`${(0,Oa.Iu)("webapp_sidemenu_search_placeholder")} (${(0,Na.T)("Ctrl+F")})`;return(0,F.BX)("button",{onClick:()=>{e()},"data-testid":"sidemenu-search-button",sx:{cursor:"pointer",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"100%",width:"100%",padding:"14px 14px 14px 0",marginLeft:"50px",backgroundColor:"transparent",outlineColor:"ds.oddity.focus"},children:[(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:t}),Aa||(Aa=(0,F.tZ)(st.JO,{name:"ActionSearchOutlined",size:"small",color:"ds.text.neutral.standard"}))]})};var La=n(15192),Ra=n(39632);const Ma={enter:"enter--Y780WLvfbY",enterActive:"enterActive--qt8nwlwV9N",exit:"exit--AUP9wnnNtV",exitActive:"exitActive--IqZd0PL_Vc"},Ba={enter:"enter--cpXdZicxhn",enterActive:"enterActive--LJbc8DIUBr",exit:"exit--RFVS81L4qV",exitActive:"exitActive--jZj_SWUrKQ"},za={enter:"enter--KQHxvPZ1yf",enterActive:"enterActive--NGZgXqNfHO",exit:"exit--lCgi4uLPj6",exitActive:"exitActive--XQoXASrz0z"},Ua={item:"item--IuNSZ2vpeQ",link:"link--aUALnKm5Dx",info:"info--b124GolOBp",title:"title--kEuFH5qeqK",name:"name--bbhyeLogrJ",logoCell:"logoCell--hlRImKslhb",icon:"icon--IwgxREWGWo",actions:"actions--tAAv0zYCQB",iconContainer:"iconContainer--kIeklUGXnA",_icon:"_icon--aacMKAVs87",more:"more--fTrBWXRwi0 _icon--aacMKAVs87",moreImg:"moreImg--Sf7yB_9pEI"},Fa=e=>e.preventDefault(),Xa=({bankAccount:e,onSelectBankAccount:t,getRoute:n,style:i})=>{const[r,o]=(0,C.useState)(!1),{dashGreen00:s}=N.colors,{accountName:l,id:c,ownerName:d}=e;return(0,F.tZ)("div",{style:i,children:(0,F.BX)("div",{className:ea()(Ua.item,na.jK),onMouseLeave:()=>{r&&o(!1)},children:[(0,F.BX)(a.rU,{onClick:t,to:n(c),className:Ua.link,onDragStart:Fa,onDrop:Fa,children:[(0,F.tZ)("div",{className:Ua.logoCell,children:(0,F.tZ)(N.plG,{size:"small",icon:N.Uci.Bank,backgroundColor:s})}),(0,F.BX)("div",{className:Ua.info,children:[(0,F.tZ)("div",{className:Ua.title,children:l}),(0,F.tZ)("div",{className:Ua.name,children:d})]})]}),(0,F.tZ)("div",{className:Ua.actions,children:(0,F.tZ)(Bt,{bankAccount:e,dropdownIsOpen:r,setDropdownIsOpen:o,mode:Nt.SEARCH})})]})})};var qa=n(50094),Ha=n(85473);const Va=({credential:e,sxProps:t={}})=>{const{id:n,itemName:a,username:i,email:r}=e,{data:o}=(0,L.k)(qa.I,"getPreferencesForCredentials",{credentialIds:[n]}),{data:s}=(0,L.k)(Xt.X,"getSharingStatusForItem",{itemId:e.id});return(0,F.tZ)(Ha.Q,{title:a,login:i,email:r,shared:s?.isShared,autoProtected:o?.[0]?.requireMasterPassword,size:Ha.o.SMALL,fullWidth:!0,sxProps:t})},Wa=({id:e,URL:t,label:n,disabled:a})=>(0,F.tZ)(w.z,{disabled:a,"aria-label":n,layout:"iconOnly",mood:"brand",intensity:"supershy",icon:"ActionOpenExternalLinkOutlined",size:"small",onClick:()=>{(0,Vt.k)(e,t),(0,Oe.Yo)(t)},tooltip:n}),ja=e=>e.preventDefault(),Ga=({credential:e,credentialItemRoute:t,triggerButton:n})=>{const{data:a}=(0,L.k)(Ht.L,"credentialsGloballyProtected"),i=(0,Wt.k)(),{getPermissionForItem:r,sharingEnabled:o,getSharingStatusForItem:s}=(0,Ft.Y)(Xt.X,{getPermissionForItem:{queryParam:{itemId:e.id}},sharingEnabled:{},getSharingStatusForItem:{queryParam:{itemId:e.id}}},[]),l=(0,Zt.l)();return void 0===o.data||void 0===a||null===l?null:(0,F.tZ)(jt.r,{credential:e,credentialItemRoute:t,isSharingAllowed:i,isSharingEnabled:o.data,isUserFrozen:l,isCredentialsGloballyProtected:a,triggerButton:n,sharingCapabilities:r?.data?.capabilities,isShared:!!s.data?.isShared})};class Ka extends C.Component{constructor(e){super(e),this.promise=void 0,this.onItemClick=()=>{this.props.onSelectCredential()},this.state={isMounted:!1,onHover:!1}}componentDidMount(){let e=!1;const t=new Promise(((t,n)=>{setTimeout((()=>{e?n():t()}),500)})).then((()=>this.updateState({isMounted:!0}))).catch((()=>{}));this.promise={promise:t,cancel:()=>{e=!0}}}componentWillUnmount(){this.promise.cancel(),this.state.isMounted&&this.updateState({isMounted:!1})}getButtons(){const e=this.props.lee.translate.namespace("webapp_sidemenu_search_actions_"),{credential:t}=this.props,{id:n,URL:a}=t;return this.state.isMounted&&this.state.onHover?(0,F.BX)("div",{className:Ua.actions,children:[(0,F.tZ)(Wa,{id:n,URL:a,disabled:!a,label:e(a?"goto_title":"no_website")}),(0,F.tZ)(Ga,{credential:t,credentialItemRoute:this.props.lee.routes.userCredential(n),triggerButton:{layout:"iconOnly",size:"small",intensity:"supershy",mood:"brand",icon:"ActionMoreOutlined",showCaret:!1,"aria-label":e("more_title")}})]}):null}updateState(e){this.setState(Object.assign({},this.state,e))}render(){const{credential:e,lee:t}=this.props;return(0,F.BX)("div",{className:ea()(Ua.item,na.jK),onMouseLeave:()=>this.updateState({onHover:!1}),onMouseEnter:()=>this.updateState({onHover:!0}),children:[(0,F.tZ)(a.rU,{onClick:this.onItemClick,to:t.routes.userCredential(e.id),className:Ua.link,onDragStart:ja,onDrop:ja,children:(0,F.tZ)(Va,{credential:e,sxProps:{paddingRight:"16px"}})}),this.getButtons()]})}}var Ya=n(50506);const $a={EU:"eu",US:"us",UNIVERSAL:"row"},Qa={FR:"fr",UNIVERSAL:"row"},Ja={FR:"fr",GB:"uk",US:"us",UNIVERSAL:"row"},ei={small:{width:"48",height:"32"},medium:{width:"96",height:"64"},large:{width:"168",height:"108"}},ti={[ut.U.DriversLicense]:(e,t)=>{var n;let a=null!=(n=$a[t])?n:$a.UNIVERSAL;return(0,Ya.S)(Ot.cH[t])===Ya.n.EUROPE&&(a=$a.EU),`/driver-licenses/${a}-${e}.svg`},[ut.U.FiscalId]:e=>`/fiscal-ids/${e}.svg`,[ut.U.IdCard]:(e,t)=>{var n;return`/id-cards/${null!=(n=Qa[t])?n:Qa.UNIVERSAL}-${e}.svg`},[ut.U.Passport]:e=>`/passports/${e}.svg`,[ut.U.SocialSecurityId]:(e,t)=>{var n;return`/social-security-ids/${null!=(n=Ja[t])?n:Ja.UNIVERSAL}-${e}.svg`}},ni=({country:e,size:t,type:n})=>{const a="/assets/ids/thumbnails"+ti[n](t,e||tn.c.UNIVERSAL);return(0,F.tZ)("img",{src:a,sx:{flexShrink:0,userSelect:"none"},alt:"",width:ei[t].width,height:ei[t].height})},ai=(0,C.memo)(ni);let ii=function(e){return e.Small="small",e.Medium="medium",e.Large="large",e}({});const ri=e=>e.preventDefault(),oi=({itemId:e,primaryDisplayData:t,secondaryDisplayData:n,idNumber:i,country:r,type:o,route:s,onSelectId:l})=>(0,F.tZ)(a.rU,{className:"link--ioXm5CpraB",onClick:()=>{l()},to:s,onDragStart:ri,onDrop:ri,children:(0,F.BX)(ne.k,{justifyContent:"space-between",fullWidth:!0,sx:{minWidth:0,width:"100%",height:"100%"},children:[(0,F.BX)(N.T5p,{gap:"16px",gridTemplateColumns:"48px 1fr",alignItems:"center",as:"span",children:[(0,F.tZ)(ai,{size:ii.Small,country:r,type:o}),(0,F.BX)(ne.k,{flexDirection:"column",flexWrap:"nowrap",sx:{minWidth:0},children:[(0,F.tZ)(N.nvN,{size:"medium",bold:!0,as:"strong",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t}),(0,F.tZ)(N.nvN,{size:"x-small",as:"span",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n})]})]}),(0,F.tZ)("span",{className:"quickActions--odxJpJTYOw",children:(0,F.tZ)(en,{itemId:e,copyValue:i,editRoute:s,variant:"search",type:o})})]})});var si=n(18504),li=n(3045);const ci=e=>e.preventDefault(),di=({detailRoute:e,note:t,onSelectNote:n})=>{const{areProtectedItemsUnlocked:i,openProtectedItemsUnlocker:r}=(0,li.t)(),{color:o,content:s,isSecured:l,title:c}=t,d=l&&!i,p=((e=!1,t="")=>e?"*******":t.length>30?t.slice(0,27)+"â¦":t)(l,s);return(0,F.tZ)("div",{className:ea()(Ua.item,na.jK),children:(0,F.BX)(a.rU,{onClick:t=>{n(),d&&(t.preventDefault(),t.stopPropagation(),r({action:Et.P.Show,itemType:Et.R.SecureNote,successCallback:()=>{(0,a.uX)(e)}}))},to:d?"":e,className:Ua.link,onDragStart:ci,onDrop:ci,children:[(0,F.tZ)("div",{className:Ua.logoCell,children:(0,F.tZ)(si.G,{noteColor:o})}),(0,F.BX)("div",{className:Ua.info,children:[(0,F.tZ)("div",{className:Ua.title,title:c.slice(0,30),children:c}),(0,F.tZ)("div",{className:Ua.name,title:p,children:p})]})]})})};var pi=n(84997),ui=n.n(pi),_i=n(77873),mi=n.n(_i),hi=n(20860),gi=n.n(hi),bi=n(77257);var wi;const yi=e=>{const t=e.paymentCardColor===dn.X.White,n=(0,bi.Z)(e.paymentCardColor),a=t?wi||(wi=(0,F.tZ)(gi(),{})):(0,F.tZ)(mi(),{fill:n}),i=(0,F.tZ)("div",{className:ea()("iconWrapper--gZhAmAvO85",e.className,{"hasWhiteBg--dndpXMEbsZ":t}),children:(0,F.tZ)(ui(),{className:"icon--HnCEH4RXcJ"})});return"large"===e.iconSize?i:a},fi=e=>e.preventDefault(),xi=({paymentCard:e,onSelectPaymentCard:t,getRoute:n,style:i})=>{const{color:r,id:o,cardNumber:s,itemName:l}=e,c=cn(s);return(0,F.tZ)("div",{className:Ua.container,style:i,children:(0,F.tZ)("div",{className:ea()(Ua.item,na.jK),children:(0,F.BX)(a.rU,{onClick:()=>{t()},to:n(o),className:Ua.link,onDragStart:fi,onDrop:fi,children:[(0,F.tZ)("div",{className:Ua.logoCell,children:(0,F.tZ)(yi,{iconSize:"small",paymentCardColor:r,className:Ua.icon})}),(0,F.BX)("div",{className:Ua.info,children:[(0,F.tZ)("div",{className:Ua.title,children:l}),(0,F.tZ)("div",{className:Ua.name,children:c})]})]})})})},Si=e=>e.preventDefault(),vi=e=>{const{icon:t,text:n,title:i,detailRoute:r,onSelectPersonalInfo:o}=e;return(0,F.tZ)("div",{className:Ua.container,style:e.style,children:(0,F.tZ)("div",{className:ea()(Ua.item,na.jK),children:(0,F.BX)(a.rU,{onClick:()=>{o()},to:r,className:Ua.link,onDragStart:Si,onDrop:Si,children:[(0,F.tZ)("div",{className:Ua.logoCell,children:t}),(0,F.BX)("div",{className:Ua.info,children:[(0,F.tZ)("div",{className:Ua.title,children:i}),(0,F.tZ)("div",{className:Ua.name,children:n})]})]})})})};var Ci=n(15446),Zi=n(84099);const ki="noResults--uAf5I_vRPF",Ii="searchResultsList--G05NtPMkFu",Ei=({loadMore:e,remaining:t})=>{const{translate:n}=(0,v.Z)();return t?(0,F.tZ)(Zi.Z,{classNames:["loadMore--yeiMaPbEAE"],size:"small",label:n("webapp_sidemenu_search_results_see_more",{count:t}),onClick:e}):null},Di=({i18nKey:e})=>{const{translate:t}=(0,v.Z)();return(0,F.tZ)("header",{className:"headingWrapper--mBXPixEV1r",children:(0,F.tZ)("h1",{className:"heading--ZOad7pwHBU",children:t(e)})})},Ti=({i18nKey:e,children:t,loadMore:n,matchCount:a,loadedCount:i})=>(0,F.BX)("section",{children:[(0,F.tZ)(Di,{i18nKey:e}),t,(0,F.tZ)(Ei,{loadMore:n,remaining:a-i})]}),Ai={[ut.U.DriversLicense]:"idName",[ut.U.FiscalId]:"fiscalNumber",[ut.U.IdCard]:"idName",[ut.U.Passport]:"idName",[ut.U.SocialSecurityId]:"idName"},Ni={[ut.U.DriversLicense]:"idNumber",[ut.U.FiscalId]:"country",[ut.U.IdCard]:"idNumber",[ut.U.Passport]:"idNumber",[ut.U.SocialSecurityId]:"idNumber"},Oi=e=>(t,n,a)=>{const i=e[t],r=n[i];return"country"===i?void 0===r||r===tn.c.UNIVERSAL?"":a(`country_name_${r}`):"name"!==i||r?r:(0,nn.bx)(t,n.country,a)},Pi=Oi(Ai),Li=Oi(Ni),Ri=({idVaultItemType:e,query:t,title:n})=>{const{routes:i}=(0,a.Xo)(),{translate:r}=(0,v.Z)(),{loadMore:o,result:s}=An(t,e);if(!s?.matchCount)return null;const{items:l,matchCount:c}=s;return ht.updateSearchSubTypes("documents",c),(0,F.tZ)(Ti,{i18nKey:n,loadMore:o,matchCount:c,loadedCount:l.length,children:l.map(((t,n)=>(0,F.tZ)(oi,{itemId:t.id,type:e,country:t.country,primaryDisplayData:Pi(e,t,r),secondaryDisplayData:Li(e,t,r),idNumber:t.idNumber||t.fiscalNumber,route:i.userEditIdDocument(e,t.id),onSelectId:()=>{ht.logSearchEvent(),(0,bt.Q_)(t.id,bt.Ab[e],n+1,c)}},t.id)))})},Mi=({lee:e,query:t})=>{const{loadMore:n,result:a}=An(t,ut.U.Credential);if(!a?.matchCount)return null;const{items:i,matchCount:r}=a;return ht.updateSearchSubTypes("credentials",r),(0,F.tZ)(Ti,{i18nKey:"webapp_sidemenu_search_results_heading_passwords",loadMore:n,matchCount:r,loadedCount:i.length,children:i.map(((t,n)=>(0,F.tZ)(Ka,{lee:e,credential:t,onSelectCredential:()=>{ht.logSearchEvent(),(0,bt.kb)(t.id,n+1,r)}},t.id)))})},Bi=({query:e})=>{const{routes:t}=(0,_.Xo)(),{loadMore:n,result:a}=An(e,ut.U.SecureNote);if(!a?.matchCount)return null;const{items:i,matchCount:r}=a;return ht.updateSearchSubTypes("notes",r),(0,F.tZ)(Ti,{i18nKey:"webapp_sidemenu_search_results_heading_secure_notes",loadMore:n,matchCount:r,loadedCount:i.length,children:i.map(((e,n)=>(0,F.tZ)(di,{detailRoute:t.userSecureNote(e.id),note:e,onSelectNote:()=>{ht.logSearchEvent(),(0,bt.X0)(e.id,n+1,r)}},e.id)))})},zi=({query:e})=>{const{routes:t}=(0,_.Xo)(),{translate:n}=(0,v.Z)(),{loadMore:a,result:i}=An(e,ut.U.Identity);if(!i?.matchCount)return null;const{items:r,matchCount:o}=i;return ht.updateSearchSubTypes("identites",o),(0,F.tZ)(Ti,{i18nKey:"webapp_sidemenu_search_results_heading_identities",loadMore:a,matchCount:o,loadedCount:r.length,children:r.map(((e,a)=>(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:Ci.Tu.identity,iconSize:Ci.Jh.smallIcon}),text:(0,wt.Y8)(e.birthDate,e.birthPlace,n),title:(0,wt.kl)(e),detailRoute:t.userPersonalInfoIdentity(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Identity,a+1,o)}},e.id)))})},Ui=({query:e})=>{const{routes:t}=(0,_.Xo)(),{loadMore:n,result:a}=An(e,ut.U.Email);if(!a?.matchCount)return null;const{items:i,matchCount:r}=a;return ht.updateSearchSubTypes("emails",r),(0,F.tZ)(Ti,{i18nKey:"webapp_sidemenu_search_results_heading_emails",loadMore:n,matchCount:r,loadedCount:i.length,children:i.map(((e,n)=>(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:"PRO"===e.type?Ci.Tu.emailPro:Ci.Tu.email,iconSize:Ci.Jh.smallIcon}),text:e.emailAddress,title:e.itemName,detailRoute:t.userPersonalInfoEmail(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Email,n+1,r)}},e.id)))})},Fi=({query:e})=>{const{routes:t}=(0,_.Xo)(),{translate:n}=(0,v.Z)(),{loadMore:a,result:i}=An(e,ut.U.Phone);if(!i?.matchCount)return null;const{items:r,matchCount:o}=i;return ht.updateSearchSubTypes("phones",o),(0,F.tZ)(Ti,{i18nKey:"webapp_sidemenu_search_results_heading_phones",loadMore:a,matchCount:o,loadedCount:r.length,children:r.map(((e,a)=>(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:Ci.Tu.phone,iconSize:Ci.Jh.smallIcon}),text:e.phoneNumber,title:(0,wt.o3)(e,n),detailRoute:t.userPersonalInfoPhone(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Phone,a+1,o)}},e.id)))})},Xi=({query:e})=>{const{routes:t}=(0,_.Xo)(),{translate:n}=(0,v.Z)(),{loadMore:a,result:i}=An(e,ut.U.Address);if(!i?.matchCount)return null;const{items:r,matchCount:o}=i;return ht.updateSearchSubTypes("addresses",o),(0,F.tZ)(Ti,{i18nKey:"webapp_sidemenu_search_results_heading_addresses",loadMore:a,matchCount:o,loadedCount:r.length,children:r.map(((e,a)=>(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:Ci.Tu.address,iconSize:Ci.Jh.smallIcon}),text:(0,wt.qS)(e.city,e.country,e.streetName,e.zipCode,n),title:e.itemName,detailRoute:t.userPersonalInfoAddress(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Address,a+1,o)}},e.id)))})},qi=({query:e})=>{const{routes:t}=(0,_.Xo)(),{loadMore:n,result:a}=An(e,ut.U.Company);if(!a?.matchCount)return null;const{items:i,matchCount:r}=a;return ht.updateSearchSubTypes("companies",r),(0,F.tZ)(Ti,{i18nKey:"webapp_sidemenu_search_results_heading_companies",loadMore:n,matchCount:r,loadedCount:i.length,children:i.map(((e,n)=>(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:Ci.Tu.company,iconSize:Ci.Jh.smallIcon}),text:e.jobTitle,title:e.companyName,detailRoute:t.userPersonalInfoCompany(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Company,n+1,r)}},e.id)))})},Hi=({query:e})=>{const{routes:t}=(0,_.Xo)(),{loadMore:n,result:a}=An(e,ut.U.BankAccount);if(!a?.matchCount)return null;const{items:i,matchCount:r}=a;return ht.updateSearchSubTypes("bankAccounts",r),(0,F.tZ)(Ti,{i18nKey:"webapp_sidemenu_search_results_heading_bank_accounts",loadMore:n,matchCount:r,loadedCount:i.length,children:i.map(((e,n)=>(0,F.tZ)(Xa,{bankAccount:e,getRoute:t.userBankAccount,onSelectBankAccount:()=>{ht.logSearchEvent(),(0,bt.Mx)(e.id,n+1,r)}},e.id)))})},Vi=[{type:ut.U.DriversLicense,title:"webapp_sidemenu_search_results_heading_driver_licenses"},{type:ut.U.FiscalId,title:"webapp_sidemenu_search_results_heading_fiscal_numbers"},{type:ut.U.IdCard,title:"webapp_sidemenu_search_results_heading_id_cards"},{type:ut.U.Passport,title:"webapp_sidemenu_search_results_heading_passports"},{type:ut.U.SocialSecurityId,title:"webapp_sidemenu_search_results_heading_social_security_numbers"}],Wi=({query:e})=>(0,F.tZ)(C.Fragment,{children:Vi.map((t=>(0,F.tZ)(Ri,{idVaultItemType:t.type,title:t.title,query:e},`search_result_id_${t.type}`)))}),ji=({query:e})=>{const{routes:t}=(0,_.Xo)(),{loadMore:n,result:a}=An(e,ut.U.PaymentCard);if(!a?.matchCount)return null;const{items:i,matchCount:r}=a;return ht.updateSearchSubTypes("paymentCards",r),(0,F.tZ)(Ti,{i18nKey:"webapp_sidemenu_search_results_heading_payment_cards",loadMore:n,matchCount:r,loadedCount:i.length,children:i.map(((e,n)=>(0,F.tZ)(xi,{paymentCard:e,getRoute:t.userPaymentCard,onSelectPaymentCard:()=>{ht.logSearchEvent(),(0,bt.GV)(e.id,n+1,r)}},e.id)))})},Gi=({query:e})=>{const{routes:t}=(0,_.Xo)(),{loadMore:n,result:a}=An(e,ut.U.Website);if(!a?.matchCount)return null;const{items:i,matchCount:r}=a;return ht.updateSearchSubTypes("personalWebsites",r),(0,F.tZ)(Ti,{i18nKey:"webapp_sidemenu_search_results_heading_websites",loadMore:n,matchCount:r,loadedCount:i.length,children:i.map(((e,n)=>(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:Ci.Tu.website,iconSize:Ci.Jh.smallIcon}),text:e.URL,title:e.itemName,detailRoute:t.userPersonalInfoWebsite(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Website,n+1,r)}},e.id)))})},Ki=e=>{const{item:t,lee:n,index:a,matchCount:i}=e,{routes:r}=(0,_.Xo)(),{translate:o}=(0,v.Z)();if(t.kwType===ut.U.Address){const e=t;(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:Ci.Tu.address,iconSize:Ci.Jh.smallIcon}),text:(0,wt.qS)(e.city,e.country,e.streetName,e.zipCode,o),title:e.itemName,detailRoute:r.userPersonalInfoAddress(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Address,a+1,i)}},e.id)}if(t.kwType===ut.U.BankAccount){const e=t;(0,F.tZ)(Xa,{bankAccount:e,getRoute:r.userBankAccount,onSelectBankAccount:()=>{ht.logSearchEvent(),(0,bt.Mx)(e.id,a+1,i)}},e.id)}if(t.kwType===ut.U.Company){const e=t;(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:Ci.Tu.company,iconSize:Ci.Jh.smallIcon}),text:e.jobTitle,title:e.companyName,detailRoute:r.userPersonalInfoCompany(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Company,a+1,i)}},e.id)}if(t.kwType===ut.U.Credential){const e=t;return(0,F.tZ)(Ka,{lee:n,credential:e,onSelectCredential:()=>{ht.logSearchEvent(),(0,bt.kb)(e.id,a+1,i)}},e.id)}if(t.kwType===ut.U.DriversLicense){const e=t;return(0,F.tZ)(oi,{itemId:e.id,type:ut.U.DriversLicense,country:e.country,primaryDisplayData:Pi(ut.U.DriversLicense,e,o),secondaryDisplayData:Li(ut.U.DriversLicense,e,o),idNumber:e.idNumber,route:r.userEditIdDocument(ut.U.DriversLicense,e.id),onSelectId:()=>{ht.logSearchEvent(),(0,bt.Q_)(e.id,bt.Ab[ut.U.DriversLicense],a+1,i)}},e.id)}if(t.kwType===ut.U.Email){const e=t;return(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:"PRO"===e.type?Ci.Tu.emailPro:Ci.Tu.email,iconSize:Ci.Jh.smallIcon}),text:e.emailAddress,title:e.itemName,detailRoute:r.userPersonalInfoEmail(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Email,a+1,i)}},e.id)}if(t.kwType===ut.U.IdCard){const e=t;return(0,F.tZ)(oi,{itemId:e.id,type:ut.U.IdCard,country:e.country,primaryDisplayData:Pi(ut.U.IdCard,e,o),secondaryDisplayData:Li(ut.U.IdCard,e,o),idNumber:e.idNumber,route:r.userEditIdDocument(ut.U.IdCard,e.id),onSelectId:()=>{ht.logSearchEvent(),(0,bt.Q_)(e.id,bt.Ab[ut.U.IdCard],a+1,i)}},e.id)}if(t.kwType===ut.U.Identity){const e=t;(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:Ci.Tu.identity,iconSize:Ci.Jh.smallIcon}),text:(0,wt.Y8)(e.birthDate,e.birthPlace,o),title:(0,wt.kl)(e),detailRoute:r.userPersonalInfoIdentity(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Identity,a+1,i)}},e.id)}if(t.kwType,ut.U.Passkey,t.kwType===ut.U.Passport){const e=t;return(0,F.tZ)(oi,{itemId:e.id,type:ut.U.Passport,country:e.country,primaryDisplayData:Pi(ut.U.Passport,e,o),secondaryDisplayData:Li(ut.U.Passport,e,o),idNumber:e.idNumber,route:r.userEditIdDocument(ut.U.Passport,e.id),onSelectId:()=>{ht.logSearchEvent(),(0,bt.Q_)(e.id,bt.Ab[ut.U.Passport],a+1,i)}},e.id)}if(t.kwType===ut.U.PaymentCard){const e=t;(0,F.tZ)(xi,{paymentCard:e,getRoute:r.userPaymentCard,onSelectPaymentCard:()=>{ht.logSearchEvent(),(0,bt.GV)(e.id,a+1,i)}},e.id)}if(t.kwType===ut.U.Phone){const e=t;return(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:Ci.Tu.phone,iconSize:Ci.Jh.smallIcon}),text:e.phoneNumber,title:(0,wt.o3)(e,o),detailRoute:r.userPersonalInfoPhone(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Phone,a+1,i)}},e.id)}if(t.kwType===ut.U.FiscalId){const e=t;return(0,F.tZ)(oi,{itemId:e.id,type:ut.U.FiscalId,country:e.country,primaryDisplayData:Pi(ut.U.FiscalId,e,o),secondaryDisplayData:Li(ut.U.FiscalId,e,o),idNumber:e.fiscalNumber,route:r.userEditIdDocument(ut.U.FiscalId,e.id),onSelectId:()=>{ht.logSearchEvent(),(0,bt.Q_)(e.id,bt.Ab[ut.U.FiscalId],a+1,i)}},e.id)}if(t.kwType===ut.U.SecureNote){const e=t;(0,F.tZ)(di,{detailRoute:r.userSecureNote(e.id),note:e,onSelectNote:()=>{ht.logSearchEvent(),(0,bt.X0)(e.id,a+1,i)}},e.id)}if(t.kwType,ut.U.Secret,t.kwType===ut.U.SocialSecurityId){const e=t;return(0,F.tZ)(oi,{itemId:e.id,type:ut.U.SocialSecurityId,country:e.country,primaryDisplayData:Pi(ut.U.SocialSecurityId,e,o),secondaryDisplayData:Li(ut.U.SocialSecurityId,e,o),idNumber:e.idNumber,route:r.userEditIdDocument(ut.U.SocialSecurityId,e.id),onSelectId:()=>{ht.logSearchEvent(),(0,bt.Q_)(e.id,bt.Ab[ut.U.SocialSecurityId],a+1,i)}},e.id)}if(t.kwType===ut.U.Website){const e=t;(0,F.tZ)(vi,{icon:(0,F.tZ)(Ci.ZP,{iconType:Ci.Tu.website,iconSize:Ci.Jh.smallIcon}),text:e.URL,title:e.itemName,detailRoute:r.userPersonalInfoWebsite(e.id),onSelectPersonalInfo:()=>{ht.logSearchEvent(),(0,bt.bx)(e.id,je.ItemType.Website,a+1,i)}},e.id)}return null},Yi=e=>{const{lee:t,query:n}=e,{translate:a}=(0,v.Z)(),i=(0,ta.o)(Vn.w.SearchRevamp),{loadMore:r,result:o}=An(n,ut.U.Credential);if(!o?.matchCount&&i)return(0,F.tZ)("div",{className:ki,children:a("webapp_sidemenu_search_results_empty")});if(i&&o){const{items:e,matchCount:n}=o;return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)("div",{className:Ii,id:"search-results",children:e.map(((e,a)=>(0,F.tZ)(Ki,{item:e,lee:t,index:a,matchCount:n},e.id)))}),(0,F.tZ)(Ei,{loadMore:r,remaining:n-e.length})]})}return(0,F.BX)(C.Fragment,{children:[(0,F.BX)("div",{className:Ii,id:"search-results",children:[(0,F.tZ)(Mi,{lee:t,query:n}),(0,F.tZ)(Bi,{query:n}),(0,F.tZ)(zi,{query:n}),(0,F.tZ)(Ui,{query:n}),(0,F.tZ)(Fi,{query:n}),(0,F.tZ)(Xi,{query:n}),(0,F.tZ)(qi,{query:n}),(0,F.tZ)(Gi,{query:n}),(0,F.tZ)(ji,{query:n}),(0,F.tZ)(Hi,{query:n}),(0,F.tZ)(Wi,{query:n})]}),(0,F.tZ)("div",{className:ki,children:a("webapp_sidemenu_search_results_empty")})]})},$i=({disabled:e,lee:t,onInputChange:n,onInputFocus:a,handleClickOutsideSearch:i})=>{const[r,o]=(0,C.useState)(!0),[s,l]=(0,C.useState)(""),[c,d]=(0,C.useState)(!1),[p,u]=(0,C.useState)(!1),m=(0,C.createRef)(),{routes:h}=(0,_.Xo)(),{pathname:g}=(0,La.TH)(),{translate:b}=(0,v.Z)(),w=()=>m.current?m.current.value.trim():"",y=(0,ot.debounce)((()=>{const e=w(),t=e.length>0;u(!1),l(e),d(t),n(t)}),100),f=()=>{m.current&&(m.current.value=""),y(),o(!0)};return(0,C.useEffect)((()=>{const e=[h.userCredentials,h.userIdsDocuments,h.userPayments,h.userPersonalInfo,h.userSecureNotes].some((e=>g.startsWith(e)));m.current?.value&&!e&&f()}),[g]),(0,F.BX)("div",{className:"searchInputWrapper--ukuAB5Cp5z",children:[(0,F.BX)("span",{className:"searchWrapper--hty9R0gY6t",children:[!r&&!e&&(0,F.tZ)(Ra.Z,{classNames:Ma,timeout:300,children:(0,F.tZ)("span",{className:"cancelSearchIcon--VneblaPFEx _searchIcon--W1RhNJWfOr",onClick:f,onKeyDown:e=>{13===e.keyCode&&f()},"aria-label":b("webapp_sidemenu_search_clear"),role:"button",tabIndex:0})}),(0,F.tZ)("div",{className:"animatedSearchIcon--vFidc7R5in",children:r&&!e&&(0,F.tZ)(Ra.Z,{classNames:Ba,timeout:300,children:(0,F.tZ)("span",{className:"searchIcon--GmOVk1aFw3 _searchIcon--W1RhNJWfOr",onClick:()=>{m.current&&m.current.focus()}})})}),(0,F.tZ)("input",{ref:m,type:"search",placeholder:b("webapp_sidemenu_search_placeholder"),disabled:e,className:ea()("search--rQjZzQkpXA",{"searchActive--my1Oj4mvLm":s}),onFocus:()=>{const e=w().length>0;o(!1),d(e),a()},sx:{color:"ds.text.neutral.standard",backgroundColor:"ds.container.expressive.neutral.supershy.idle","::placeholder":{color:"ds.text.neutral.standard"}},onBlur:()=>{s?p||(ht.charactersTypedCount=s.length,ht.logSearchEvent(!1),u(!0)):(o(!0),d(!1),i())},onChange:y})]}),c&&(0,F.tZ)(Ra.Z,{classNames:za,timeout:{enter:500,exit:300},children:(0,F.tZ)("div",{className:"searchResults--_LnzWWn0pO",children:(0,F.tZ)(Yi,{lee:t,query:s})})})]})};var Qi=n(7867),Ji=n(27636);var er,tr,nr;const ar={allSpaces:je.Space.All,personalSpace:je.Space.Personal,teamSpace:je.Space.Professional};class ir extends C.PureComponent{constructor(e){super(e),this.close=()=>this.setState({isOpen:!1}),this.toggle=()=>this.setState((({isOpen:e})=>({isOpen:!e}))),this.state={currentSpaceEntryKey:this.getCurrentSpaceEntryKeyFromStore(),isOpen:!1}}getCurrentSpaceEntryKeyFromStore(){return(e=>{switch(e){case null:return"allSpaces";case"":return"personalSpace";default:return"teamSpace"}})((0,Kn.B)(this.props.lee.globalState))}selectSpaceEntry(e,t){this.setState({currentSpaceEntryKey:e,isOpen:!1}),(0,$e.Kz)(new je.UserSelectSpaceEvent({space:ar[e]})),this.props.lee.dispatchGlobal((0,Yn.e)(t))}getSpaceEntries(){const{translate:e}=this.props.lee,t=(0,Wn.xO)(this.props.lee.globalState);if(!t)throw new Error("getSpaceEntries: storeSpace not found.");const n=e("webapp_spaces_switch_personal");return{allSpaces:{id:null,name:e("webapp_spaces_switch_all_spaces")},personalSpace:{id:"",name:n,letter:n[0]},teamSpace:{id:t.teamId,name:t.details.teamName,color:t.details.color,letter:t.details.letter}}}getSpaceItem(e,t){const{isOpen:n}=this.state,a="allSpaces"===e,i=e===this.state.currentSpaceEntryKey;return(0,F.BX)("button",{className:ea()("row--hK5euQ4rcO",{"rowActive--A2l9vJGWrO":n&&i,"rowDefault--pswmhIR80K":!n&&!i}),sx:{color:"ds.text.neutral.catchy"},onClick:()=>i?this.toggle():this.selectSpaceEntry(e,t.id),type:"button",children:[(0,F.BX)("div",{className:"rowLeft--mJMgH9BZvF",children:[null===t.id?er||(er=(0,F.tZ)(st.JO,{name:"SpacesAllOutlined",color:"ds.text.neutral.standard"})):(0,F.tZ)(Ji.R,{space:t}),(0,F.tZ)(D.n,{as:"span",className:"name--jr9PZdNmrE",textStyle:"ds.title.block.medium",children:t.name})]}),n?a?nr||(nr=(0,F.tZ)(st.JO,{name:"CaretUpOutlined",color:"ds.text.neutral.standard"})):null:tr||(tr=(0,F.tZ)(st.JO,{name:"CaretDownOutlined",color:"ds.text.neutral.standard"}))]},`space-${t.name}`)}render(){const{isOpen:e,currentSpaceEntryKey:t}=this.state,n=this.getSpaceEntries(),a=n[t];return(0,F.tZ)(Qi.j,{onOutsideClick:this.close,children:e?(0,F.tZ)("div",{className:"container--B_HkT2QqGt",onClick:this.close,children:Object.entries(n).map((([e,t])=>this.getSpaceItem(e,t)))}):this.getSpaceItem(t,a)})}}var rr,or,sr,lr;const cr={ROOT:{backgroundColor:"ds.container.agnostic.neutral.standard",width:"320px",padding:"0px",boxSizing:"border-box"},INSTALL_EXTENSION:{position:"fixed",bottom:"0",width:"calc(320px - (2 * 0px))",display:"flex",margin:"0 auto",backgroundColor:"ds.container.agnostic.neutral.standard",borderTop:"1px solid ds.border.neutral.quiet.idle"}},dr="webapp_sidemenu_install_extension_navigation_cta",pr=e=>{const{translate:t}=(0,v.Z)(),{routes:n}=(0,a.Xo)(),r=(0,jn.I)(),{isSideMenuCollapsed:o,toggleSideMenu:s,openSideMenu:l}=(0,ia.f)(),[c,d]=(0,C.useState)(!1),p=e.lee.permission.adminAccess.hasTACAccess,u=ea()(oa.wrapper,{[oa.collapsed]:o,[oa.collapsedForSearch]:e.internallyCollapsedForSearch}),_=(0,ta.o)(Vn.w.SearchRevamp);return(0,F.tZ)("nav",{className:u,sx:cr.ROOT,children:(0,F.BX)("div",{sx:{marginBottom:"80px"},children:[(0,F.BX)("div",{className:ea()(oa.topRow,{[oa.collapsed]:o}),children:[(0,F.tZ)("div",{className:ea()(oa.collapseButton,na.jK,na.oo),children:(0,F.tZ)(w.z,{mood:"neutral",intensity:"supershy",layout:"iconOnly",icon:"MenuOutlined","aria-label":t("webapp_sidemenu_toggle_navigation"),onClick:s,"data-testid":"sidemenu-collapse-button",sx:{"&:focus,&:active,&:hover":{backgroundColor:"unset"}}})}),_?rr||(rr=(0,F.tZ)(Pa,{})):(0,F.tZ)($i,{disabled:o,lee:e.lee,onInputChange:t=>e.setInternallyCollapsedForSearch(t),onInputFocus:l,handleClickOutsideSearch:()=>e.setInternallyCollapsedForSearch(!1)})]}),(0,F.BX)("div",{className:oa.menuWrapper,children:[e.hasOnboardingPage?(0,F.tZ)(wa,{to:n.userOnboarding,wrapperClass:oa.onboarding,iconName:"TipOutlined",text:"webapp_sidemenu_item_onboarding"}):null,e.hasSpaceId&&r.status===R.rq.Success&&!r.isDisabled?(0,F.tZ)(ir,{lee:e.lee}):null,(0,F.tZ)(ra,{children:e.topMenu.map((e=>(0,F.az)(wa,{...e,key:e.to})))}),(0,F.tZ)(ra,{isCollapsed:o||e.internallyCollapsedForSearch,title:t("webapp_sidemenu_category_maintenance"),className:ea()({[oa.securityCategoryCollapsed]:o||e.internallyCollapsedForSearch}),children:e.centerMenu.map((e=>(0,F.az)(wa,{...e,key:e.to})))}),!e.internallyCollapsedForSearch&&(or||(or=(0,F.tZ)(Ta,{}))),(0,F.tZ)(aa.F,{isShown:c,setIsShown:d,isFromVault:!0}),p?(0,F.tZ)("div",{sx:(0,rt.jM)([cr.INSTALL_EXTENSION,{justifyContent:o?"left":"center"}]),children:(0,F.tZ)(w.z,{layout:o?"iconOnly":p?"iconLeading":"iconTrailing","aria-label":t(dr),onClick:e=>{e?.preventDefault(),p&&(0,a.uX)(i.wi)},sx:{margin:o?"20px 4px 20px 4px":"20px 25px"},icon:p?sr||(sr=(0,F.tZ)(st.JO,{name:"DashboardOutlined",size:"large",color:"ds.text.inverse.catchy"})):lr||(lr=(0,F.tZ)(st.JO,{name:"ActionOpenExternalLinkOutlined",size:"large",color:"ds.text.inverse.catchy"})),mood:"brand",intensity:"catchy",fullsize:!o,children:t(p?"webapp_sidemenu_open_admin_console_btn":dr)})}):null]})]})})};var ur=n(63277),_r=n(35361),mr=n(76593);const hr=Hn.G.SaexOnboardingHubAddPasswords,gr=(e,t)=>e.status===qn.rq.Success&&!!e.data[t],br=({lee:e})=>{const t=(0,Gn.B)(),{isSideMenuCollapsed:n}=(0,ia.f)(),[i,r]=(0,C.useState)(!1),o=(0,jn.I)(),s=(0,ur.p)();(0,C.useEffect)((()=>{const t=null!==(0,Wn.ev)(e.globalState),n=null===(0,Kn.B)(e.globalState);(!t||t&&o.status===qn.rq.Success&&o.isDisabled)&&!n&&e.dispatchGlobal((0,Yn.e)(null))}),[o,e]);const{routes:l}=(0,a.Xo)(),c=(0,Xn._)(),d=!!(0,Wn.xO)(e.globalState),p=(0,$n.m)(),u=(0,Qn.j)(),_=gr(c,hr),m=gr(c,Vn.w.SettingsRevamp),h=p.status===qn.rq.Success&&p.isTeamCreator,g=_&&!h,b=u.status===qn.rq.Success&&u.shouldDisplayAdminVaultGetStartedGuide,{leelooStep:w,completedSteps:y}=e.carbon.webOnboardingMode,f=y&&y.saveCredentialOnWeb&&y.loginCredentialOnWeb&&w===Ge.s.SHOW_WEB_SAVE_AND_AUTOLOGIN_COMPLETED,x=(S=t?.premiumStatus?.capabilities,!!S&&(S.identityRestoration?.enabled||S.identityTheftProtection?.enabled||S.creditMonitoring?.enabled));var S;const v=(0,_r.n6)(_r.Co.SecureNotes,t?.premiumStatus?.capabilities),Z=(0,_r.n6)(_r.Co.DataLeak,t?.premiumStatus?.capabilities),k=(0,mr.Hn)(n||i,oa.comingSoonNotification);if(void 0===k?.showVpnPage||void 0===k?.showVpnMenuItem||void 0===k?.vpnPaywallInfo||void 0===k?.getVpnDisabledNotification||!t)return null;const I=[{to:l.userCredentials,iconName:"ItemLoginOutlined",text:"webapp_sidemenu_item_passwords",enabledNotification:f?{showNotification:!n&&!i,notificationClass:oa.comingSoonNotification,title:"web_onboarding_autologin_completed_title",description:"",cancelLabel:"web_onboarding_autologin_completed_cancel",onCancel:()=>{tt({leelooStep:null})}}:void 0},{to:l.userPasskeys,iconName:"PasskeyOutlined",text:"webapp_sidemenu_item_passkeys"},{to:l.userPayments,iconName:"ItemPaymentOutlined",text:"webapp_sidemenu_item_payments"},{to:l.userSecureNotes,iconName:"ItemSecureNoteOutlined",text:"webapp_sidemenu_item_secure_notes",showPaywallTag:v},{to:l.userSecrets,iconName:"ItemSecretOutlined",text:"webapp_sidemenu_item_secrets",hidden:!s},{to:l.userPersonalInfo,iconName:"ItemPersonalInfoOutlined",text:"webapp_sidemenu_item_personal_info"},{to:l.userIdsDocuments,iconName:"ItemIdOutlined",text:"webapp_sidemenu_item_ids"},{to:l.userSharingCenter,iconName:"SharedOutlined",text:"webapp_sharing_center_navigation"},{to:l.userSettings,iconName:"SettingsOutlined",text:"webapp_sidemenu_item_settings",hidden:!m}],E=t?.premiumStatus?.statusCode,D=[{to:l.userPasswordHealth,iconName:"FeaturePasswordHealthOutlined",text:"webapp_sidemenu_item_password_health",hidden:!1},{to:l.darkWebMonitoring,iconName:"FeatureDarkWebMonitoringOutlined",text:"webapp_sidemenu_item_darkweb",collapsedChip:n&&!Z&&E===Fn.lU.NO_PREMIUM?"LockFilled":void 0,rightIcon:Z||E!==Fn.lU.NO_PREMIUM?void 0:"LockFilled",showPaywallTag:Z,hidden:!1},{to:l.vpn,iconName:"FeatureVpnOutlined",text:"webapp_sidemenu_item_vpn",disabled:!k.showVpnPage,hidden:!k.showVpnMenuItem,disabledNotification:k.getVpnDisabledNotification(),showPaywallTag:k.vpnPaywallInfo.isVisible},{to:l.premiumPlus,iconName:"ProtectionOutlined",text:"webapp_sidemenu_item_premium_plus",hidden:!x}];return(0,F.tZ)(pr,{centerMenu:D,hasOnboardingPage:g||b,hasSpaceId:d,internallyCollapsedForSearch:i,lee:e,setInternallyCollapsedForSearch:r,topMenu:I})},wr=()=>{const e=(0,L.k)(M.Y,"isAllowed");return{status:e.status,data:e.status===R.rq.Success&&!e.data.isAllowed&&e.data.reasons.includes(B.Oq.Requires2FAEnforcement)}};var yr=n(20565),fr=n(42938);const xr={HEADER:{display:"flex",alignItems:"center",gap:3},TITLE:{paddingRight:"16px",flex:"1",overflowX:"hidden",display:"flex",justifyContent:"center",flexDirection:"column"},DOMAIN:{fontSize:"10px",textTransform:"uppercase",color:"#0e353d",letterSpacing:"0.2px",lineHeight:"100%",fontWeight:"500"}},Sr=({backLink:e,displayLogo:t,domain:n,title:a,onClose:i})=>{const{translate:r}=(0,v.Z)();return(0,F.BX)("header",{sx:xr.HEADER,children:[t?(0,F.tZ)(fr.T,{name:"DashlaneMicroLogomark",height:32,sx:{padding:3}}):null,e,(0,F.BX)("div",{sx:xr.TITLE,children:[n?(0,F.tZ)("div",{sx:xr.DOMAIN,children:n}):null,(0,F.tZ)(D.n,{textStyle:"ds.title.block.small",children:a})]}),i?(0,F.tZ)(w.z,{size:"small",mood:"neutral",intensity:"supershy",layout:"iconOnly",onClick:i,"aria-label":r("_common_toast_close_label"),icon:"ActionCloseOutlined"}):null]})},vr={CONTAINER:{flexDirection:"column",gap:3,padding:3,backgroundColor:"ds.background.alternate",margin:0,overflow:"hidden",width:"360px",borderRadius:2,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.16)"}},Cr=({children:e,displayHeaderLogo:t,domain:n,headerBackLink:a,onClose:i,title:r,withoutHeader:o})=>(0,F.BX)(ne.k,{sx:vr.CONTAINER,children:[o?null:(0,F.tZ)(Sr,{backLink:a,displayLogo:t,domain:n,title:r,onClose:i}),(0,F.tZ)("main",{children:e})]});let Zr=function(e){return e.Bad="bad",e.Okay="okay",e.Great="great",e}({}),kr=function(e){return e.RateForm="rateform",e.ThankYou="thankyou",e.WebStore="webstore",e}({});const Ir={flex:"1 33.33%",color:"ds.text.neutral.standard",fill:"ds.text.neutral.standard","& > span":{flexWrap:"wrap"}},Er=({formResponse:e,onClose:t})=>{const{translate:n}=(0,v.Z)();return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.Review)}),[]),(0,F.tZ)(Cr,{title:n("webapp_web_store_dialog_rate_form_title"),displayHeaderLogo:!0,onClose:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.ReviewBad,je.CallToAction.ReviewOk,je.CallToAction.ReviewGreat],hasChosenNoAction:!0})),t()},children:(0,F.BX)(yr.Z,{sx:{padding:3,gap:0,flexDirection:"row"},children:[(0,F.tZ)(w.z,{icon:"FaceDisappointedOutlined",layout:"iconLeading",intensity:"supershy",mood:"danger",sx:{...Ir,"&:hover":{color:"ds.text.danger.standard",fill:"ds.text.danger.standard"}},onClick:()=>{e(Zr.Bad)},children:(0,F.tZ)(D.n,{sx:{flex:"1 100%"},children:n("webapp_web_store_dialog_rate_form_bad")})}),(0,F.tZ)(w.z,{icon:"FaceNeutralOutlined",layout:"iconLeading",intensity:"supershy",mood:"neutral",sx:{...Ir},onClick:()=>{e(Zr.Okay)},children:(0,F.tZ)(D.n,{sx:{flex:"1 100%"},children:n("webapp_web_store_dialog_rate_form_okay")})}),(0,F.tZ)(w.z,{icon:"FaceSatisfiedOutlined",layout:"iconLeading",intensity:"supershy",mood:"positive",sx:{...Ir,"&:hover":{color:"ds.text.positive.standard",fill:"ds.text.positive.standard"}},onClick:()=>{e(Zr.Great)},children:(0,F.tZ)(D.n,{sx:{flex:"1 100%"},children:n("webapp_web_store_dialog_rate_form_great")})})]})})},Dr=({onClose:e})=>{const{translate:t}=(0,v.Z)();return(0,C.useEffect)((()=>{const t=setTimeout(e,2e3);return()=>{clearTimeout(t)}})),(0,F.tZ)(Cr,{title:t("webapp_web_store_dialog_thank_you_title"),displayHeaderLogo:!0,onClose:e,children:(0,F.tZ)(yr.Z,{children:(0,F.tZ)(D.n,{children:t("webapp_web_store_dialog_thank_you_text")})})})};var Tr=n(2337),Ar=n(14943);const Nr=n.p+"bfe0d95a40d2d9833f90.png",Or=n.p+"7b59d7a0aedb7f009eef.png";var Pr,Lr,Rr;const Mr="webapp_web_store_dialog_web_store_subtitle",Br="webapp_web_store_dialog_web_store_store_name",zr="webapp_web_store_dialog_web_store_text",Ur="webapp_web_store_dialog_web_store_cta",Fr="webapp_web_store_dialog_g2_subtitle",Xr="webapp_web_store_dialog_g2_cta",qr={MAIN:{display:"flex",flexDirection:"column",padding:"16px",gap:"24px"},BANNER:{backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"4px",display:"flex",padding:"16px",gap:"12px",alignItems:"center"},BANNER_HEADER:{display:"flex",flexDirection:"column"}},Hr=({onClose:e})=>{const{translate:t}=(0,v.Z)(),n=(0,Ar.Y)(),a=n.status===R.rq.Success&&n.data&&"full"===(0,Tr.R)(n.data),i=n.status===R.rq.Success;return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ReviewRateUsChromeWebStore)}),[]),i?(0,F.tZ)(Cr,{title:t("webapp_web_store_dialog_web_store_title"),displayHeaderLogo:!0,onClose:()=>{a?(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.OpenG2RatingWebsite],hasChosenNoAction:!0})):(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.OpenChromeWebStore],hasChosenNoAction:!0})),e()},children:(0,F.BX)(yr.Z,{sx:qr.MAIN,children:[a?Pr||(Pr=(0,F.tZ)("img",{src:Or,alt:"G2 review",width:"330px",height:"70px"})):(0,F.BX)("div",{sx:qr.BANNER,children:[Lr||(Lr=(0,F.tZ)("img",{src:Nr,alt:"chrome store",width:"40px",height:"35px"})),(0,F.BX)("div",{sx:qr.BANNER_HEADER,children:[(0,F.tZ)(D.n,{sx:{textTransform:"uppercase"},children:t(Mr)}),(0,F.tZ)(I.X,{as:"h4",children:t(Br)})]})]}),(0,F.tZ)(D.n,{color:"ds.text.neutral.catchy",children:t(a?Fr:zr)}),(0,F.BX)(w.z,{sx:{width:"100%"},type:"button",onClick:()=>{a?((0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.OpenG2RatingWebsite],hasChosenNoAction:!1,chosenAction:je.CallToAction.OpenG2RatingWebsite})),(0,Oe.Yo)("https://www.g2.com/products/dashlane-business/reviews/start?return_to=https%3A%2F%2Fwww.g2.com%2Fproducts%2Fdashlane-business%2Ftake_survey%3Futm_source%3Dreview-widget")):((0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.OpenChromeWebStore],hasChosenNoAction:!1,chosenAction:je.CallToAction.OpenChromeWebStore})),(0,Oe.Yo)("https://chrome.google.com/webstore/detail/dashlane-password-manager/fdjamakpfbbddfjaooikfcpapjohcfmg/reviews")),e()},role:"link",children:[t(a?Xr:Ur),(0,F.tZ)("div",{sx:{paddingLeft:"6px"},children:Rr||(Rr=(0,F.tZ)(st.JO,{name:"ActionOpenExternalLinkOutlined",color:"ds.text.inverse.catchy"}))})]})]})}):null};var Vr=n(41495),Wr=n(63756),jr=n(23514);const Gr=()=>{const[e,t]=C.useState(kr.RateForm),n=(0,Wr.D)(),a=(0,Qe.eJ)(window.location.href),i=()=>{(0,jr.W)()};return n.find((e=>e.type===Vr.U.WEB_STORE&&!e.dismissedAt))&&a?(0,F.BX)("div",{sx:{position:"absolute",bottom:"40px",right:"40px"},children:[e===kr.RateForm?(0,F.tZ)(Er,{onClose:i,formResponse:e=>{switch((e=>{switch(e){case Zr.Bad:(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.ReviewBad,je.CallToAction.ReviewOk,je.CallToAction.ReviewGreat],hasChosenNoAction:!1,chosenAction:je.CallToAction.ReviewBad}));break;case Zr.Great:(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.ReviewBad,je.CallToAction.ReviewOk,je.CallToAction.ReviewGreat],hasChosenNoAction:!1,chosenAction:je.CallToAction.ReviewGreat}));break;case Zr.Okay:(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.ReviewBad,je.CallToAction.ReviewOk,je.CallToAction.ReviewGreat],hasChosenNoAction:!1,chosenAction:je.CallToAction.ReviewOk}))}})(e),e){case Zr.Great:t(kr.WebStore);break;case Zr.Okay:case Zr.Bad:t(kr.ThankYou)}}}):null,e===kr.ThankYou?(0,F.tZ)(Dr,{onClose:i}):null,e===kr.WebStore?(0,F.tZ)(Hr,{onClose:i}):null]}):null};var Kr,Yr,$r,Qr,Jr,eo,to,no,ao,io,ro=n(73917);const oo={MAIN_WITH_TRIAL_BANNER:{display:"flex",flexDirection:"column",flex:"1 1",opacity:"1",height:"100vh",backgroundColor:"ds.background.default",overflow:"auto"},MAIN:{flex:"1 1",opacity:"1",fontFamily:l()["--dashlane-fontfamily-primary"],overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",backgroundColor:"ds.background.default",height:"100%","&:not(:first-child)":{height:"calc(100% - 34px)"}}},so=({adminAccess:e})=>{const{isLogoutDialogOpen:t}=(0,ro.q)();return e.hasBillingAccess||e.hasFullAccess&&!t?Kr||(Kr=(0,F.tZ)(m.XA,{})):null},lo=()=>{const{routes:e}=(0,_.Xo)(),{data:t}=wr();return t?(0,F.tZ)(a.l_,{to:e.twoFactorAuthenticationEnforce}):null},co=e=>(0,F.tZ)("div",{children:e.children}),po=({lee:e,children:t})=>{(0,p._)();const n=e.permission.adminAccess;return(0,F.BX)(g.qc,{lee:e,children:[Yr||(Yr=(0,F.tZ)("div",{id:"dashlane-dialog"})),(0,F.tZ)(We.r,{children:(0,F.tZ)(qe,{dispatchGlobal:e.dispatchGlobal,children:(0,F.BX)("div",{className:"container--lhpomDm_bG",children:[(0,F.tZ)(Dt.D,{children:(0,F.tZ)(ro.w,{dispatchGlobal:e.dispatchGlobal,children:(0,F.BX)(c.AH,{adminAccess:n,children:[(0,F.BX)(b.C,{lee:e,children:[(0,F.tZ)(Ve.Cn,{children:(0,F.tZ)(at.X,{children:(0,F.BX)(ia.E,{children:[$r||($r=(0,F.tZ)(Un,{})),(0,F.tZ)(br,{lee:e}),(0,F.BX)("div",{sx:oo.MAIN_WITH_TRIAL_BANNER,children:[(0,F.tZ)(o.Q6,{adminAccess:n}),(0,F.BX)("main",{tabIndex:-1,sx:oo.MAIN,children:[(0,F.tZ)(u.a9,{children:t}),(0,F.tZ)("div",{className:`alertPopup--kDSCLyEaij ${na.oo}`,id:"alert-popup-portal"}),Qr||(Qr=(0,F.tZ)("div",{className:na.Ht,id:na.ex}))]})]})]})})}),(0,F.tZ)(nt,{flowLoginCredentialOnWeb:e.carbon.webOnboardingMode.flowLoginCredentialOnWeb,leelooStep:e.carbon.webOnboardingMode.leelooStep,popoverStep:e.carbon.webOnboardingMode.popoverStep}),Jr||(Jr=(0,F.tZ)(He.j,{})),eo||(eo=(0,F.tZ)(d.e,{}))]}),(0,F.tZ)(so,{adminAccess:n})]})})}),to||(to=(0,F.tZ)(r.W,{})),no||(no=(0,F.tZ)(h.x,{})),ao||(ao=(0,F.tZ)(Gr,{})),io||(io=(0,F.tZ)(lo,{}))]})})})]})};var uo,_o=n(82454),mo=n(96997);const ho=()=>(0,F.tZ)(ne.k,{sx:{paddingLeft:"32px",paddingRight:"32px"},children:uo||(uo=(0,F.tZ)(_o.h,{startWidgets:(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:"Dashlane Labs"}),endWidget:(0,F.tZ)(mo.D,{})}))});var go=n(22522),bo=n(77837),wo=n.n(bo),yo=n(23297);const fo=()=>{const{data:e,status:t}=(0,L.k)(yo.cV,"userAvailableLabs"),{toggleLab:n,refreshAvailableLabs:a}=(0,K.u)(yo.cV);return t!==qn.rq.Success?{status:t,refreshAvailableLabs:a,toggleLab:n}:{status:t,refreshAvailableLabs:a,toggleLab:n,labs:e}};var xo,So=n(63123);const vo=({lab:e})=>{const[t,n]=(0,C.useState)(e.isActivated),{toggleLab:a}=fo(),{showToast:i}=(0,Z.p)(),r=e.displayDescription.split("\n");return(0,F.BX)(ne.k,{sx:{padding:"8px 0"},children:[(0,F.tZ)(So.Z,{label:(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:e.displayName}),description:(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",children:r.map(((e,t)=>(0,F.BX)(C.Fragment,{children:[e,t<r.length-1?xo||(xo=(0,F.tZ)("br",{})):null]},t)))}),checked:t,onClick:()=>{const r=t,o=!t;n(o),a({id:e.featureName,isActivated:o}).then((()=>{i({mood:o?"brand":"danger",description:`"${e.displayName}" has been turned ${o?"ON":"OFF"}`})})).catch((()=>{n(r),i({mood:"danger",description:`An error occurred while turning ${o?"ON":"OFF"} "${e.displayName}"`})}))},sx:{width:"100%"}}),(0,F.tZ)("div",{sx:{backgroundColor:"ds.border.neutral.quiet.idle",width:"100%",height:"1px",marginTop:"16px"}})]})},Co=({isSearching:e,searchValue:t,onSearch:n})=>{const a="Search in experiments";return(0,F.BX)("div",{sx:{position:"relative",width:"100%"},children:[(0,F.tZ)(E.n,{placeholder:a,label:a,value:t,onChange:n,autoFocus:!0,labelPersists:!1}),e?(0,F.tZ)(go.Z,{color:"ds.text.brand.standard",sx:{position:"absolute",top:"14px",right:"11px",zIndex:"2"}}):null]})};var Zo,ko,Io,Eo,Do,To,Ao,No,Oo;const Po=()=>(0,F.BX)(ne.k,{flexDirection:"column",alignItems:"center",gap:"24px",sx:{marginTop:"48px"},children:[Zo||(Zo=(0,F.tZ)(N.LIc,{size:48,color:"ds.text.neutral.quiet"})),ko||(ko=(0,F.tZ)(I.X,{as:"h4",textStyle:"ds.title.section.medium",color:"ds.text.neutral.quiet",children:"No feature found"}))]}),Lo=()=>(0,F.BX)(ne.k,{alignItems:"center",justifyContent:"center",gap:"24px",sx:{marginTop:"16px",margin:"48px auto"},children:[Io||(Io=(0,F.tZ)(go.Z,{size:"small",mood:"neutral"})),Eo||(Eo=(0,F.tZ)("span",{color:"ds.text.neutral.quiet",children:"Loading features"}))]}),Ro=()=>(0,F.BX)(ne.k,{flexDirection:"column",alignItems:"center",gap:"24px",sx:{marginTop:"48px"},children:[Do||(Do=(0,F.tZ)(N.enX,{size:48,color:"ds.text.neutral.quiet"})),To||(To=(0,F.tZ)(I.X,{as:"h4",textStyle:"ds.title.section.medium",color:"ds.text.neutral.quiet",children:"Error while loading features"}))]}),Mo=({features:e})=>{const t=Object.entries(e);return t.length?(0,F.tZ)(ne.k,{flexDirection:"column",sx:{paddingRight:"16px",width:"100%"},children:t.map((([e,t])=>(0,F.tZ)(vo,{lab:t},e)))}):Ao||(Ao=(0,F.tZ)(Po,{}))},Bo=({features:e,status:t})=>t===qn.rq.Success?(0,F.tZ)(Mo,{features:e}):t===qn.rq.Error?No||(No=(0,F.tZ)(Ro,{})):Oo||(Oo=(0,F.tZ)(Lo,{})),zo=()=>{const{features:e,isSearching:t,actions:n,searchValue:a}=(()=>{const[e,t]=(0,C.useState)({}),[n,a]=(0,C.useState)(""),[i,r]=(0,C.useState)(!1),o=fo(),s=(0,C.useMemo)((()=>o.status===qn.rq.Success?o.labs:void 0),[o]),l=(0,C.useRef)(wo()(((e,n)=>((e,n)=>{if(n){const a=e.trim().toLowerCase(),i=Object.entries(n).reduce(((e,[t,n])=>((n.featureName.toLowerCase().includes(a)||n.displayName.toLowerCase().includes(a)||n.displayDescription.toLowerCase().includes(a))&&(e[t]=n),e)),{});t(i)}r(!1)})(e,n)),200)).current;return(0,C.useEffect)((()=>{s&&t(s)}),[s]),{isSearching:i,searchValue:n,features:{status:o.status,filtered:e},actions:{onSearch:e=>{a(e.target.value),r(!0),l(e.target.value,s)}}}})(),i=(0,C.useMemo)((()=>(0,F.tZ)(Bo,{features:e.filtered,status:e.status})),[e.status,e.filtered]);return(0,F.BX)(ne.k,{flexDirection:"column",fullWidth:!0,gap:"8px",sx:{padding:"24px",borderRadius:"8px",border:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy"},children:[(0,F.BX)(N.T5p,{gap:"48px",alignItems:"center",gridTemplateColumns:"repeat(2, 1fr)",sx:{marginBottom:"16px"},children:[(0,F.BX)(I.X,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:[(0,F.tZ)("span",{role:"img","aria-label":"microscope emoji",sx:{marginRight:"8px"},children:"ð¬"}),"Experiments"]}),(0,F.tZ)(Co,{isSearching:t,searchValue:a,onSearch:n.onSearch})]}),(0,F.tZ)("div",{sx:{flex:"1 1 auto",height:"0px",overflow:"auto"},children:i})]})},Uo=({emoji:e,title:t,description:n,children:a})=>(0,F.BX)(ne.k,{sx:{padding:"32px",border:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy",marginBottom:"16px",borderRadius:"8px"},gap:"8px",flexDirection:"column",children:[(0,F.BX)(I.X,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:[(0,F.tZ)("span",{role:"img","aria-label":e.label+" emoji",sx:{marginRight:"8px"},children:e.symbol}),t]}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:n}),a]});var Fo,Xo,qo,Ho=n(7870);const Vo=()=>{const e=(0,ta.o)(Ho.r5),{refreshAvailableLabs:t}=fo();return(0,C.useEffect)((()=>{e&&t()}),[]),e?(0,F.BX)(ne.k,{sx:{backgroundColor:"ds.background.alternate",padding:"16px 0",width:"100%",height:"100%"},flexDirection:"column",children:[Fo||(Fo=(0,F.tZ)(ho,{})),(0,F.BX)(ne.k,{sx:{margin:"8px 32px",flex:"1 1 auto"},children:[(0,F.tZ)(ne.k,{sx:{width:"60%",paddingRight:"8px"},children:Xo||(Xo=(0,F.tZ)(zo,{}))}),(0,F.BX)("div",{sx:{width:"40%",paddingLeft:"8px"},children:[(0,F.tZ)(Uo,{emoji:{symbol:"ð¤",label:"thinking"},title:"What is Dashlane Labs?",description:"Dashlane Labs is a special section in the settings of our iOS Android and Web extensions which allow you to toggle alpha or beta features on and off."}),(0,F.tZ)(Uo,{emoji:{symbol:"ð£",label:"megaphone"},title:"Feedback",description:"We would love to hear about what you think of the features youâre trying out.",children:qo||(qo=(0,F.tZ)(N.rUS,{color:"ds.text.brand.quiet",target:"_blank",rel:"noopener noreferrer",href:Ho.qb,children:"Share your feedback"}))})]})]})]}):null};function Wo({path:e}){return(0,F.tZ)(a.Vy,{path:e,component:Vo,additionalProps:{}})}var jo,Go=n(73501),Ko=n(85902);const Yo={width:"100%"},$o=({children:e})=>{const{translate:t}=(0,v.Z)(),n=e=>t=>{(0,Oe.YT)(e)(t)},a=[{label:t("webapp_account_root_item_help_center"),href:"https://support.dashlane.com/hc",onClick:(i={type:"account",action:"helpCenter"},e=>{(0,$e.Kz)(new je.UserOpenHelpCenterEvent({helpCenterArticleCta:je.HelpCenterArticleCta.HelpCenter})),(0,$e.Kz)(new je.UserOpenHelpCenterEvent({})),(0,Oe.YT)(i)(e)})},{label:t("webapp_account_root_item_terms"),href:"https://www.dashlane.com/terms",onClick:n({type:"account",action:"termsOfService"})},{label:t("webapp_account_root_item_privacy_policy"),href:"https://www.dashlane.com/privacy",onClick:n({type:"account",action:"privacyPolicy"})}];var i;return(0,F.BX)(C.Fragment,{children:[e,(0,F.BX)(yr.Z,{sx:Yo,children:[(0,F.tZ)(I.X,{as:"h3",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:t("webapp_settings_quick_access")}),(0,F.tZ)(ne.k,{as:"ul",flexDirection:"column",gap:"8px",children:a.map((({label:e,href:t,onClick:n})=>(0,F.tZ)("li",{children:(0,F.tZ)(ge.Q,{isExternal:!0,href:t,target:"_blank",rel:"noreferrer",onClick:n,children:e})},e)))})]}),(0,F.BX)(yr.Z,{sx:Yo,children:[(0,F.tZ)(I.X,{as:"h3",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:t("webapp_settings_find_us_social_media")}),jo||(jo=(0,F.tZ)(Ko.I,{legacy:!1}))]})]})};var Qo=n(15340),Jo=n(78956);const es=({isOpen:e,closeDialog:t})=>{const{translate:n}=(0,v.Z)(),{resetJoinFamilyToken:a}=(0,K.u)(Qo.k),{showToast:i}=(0,Z.p)();return(0,F.tZ)(Jo.Vq,{isDestructive:!0,isOpen:e,actions:{primary:{children:n("webapp_family_dashboard_reset_link_dialog_button_confirm"),onClick:async()=>{const e=await a(void 0);(0,T.d6)(e)?(t(),i({description:n("webapp_family_dashboard_reset_link_confirmation_alert")})):i({mood:"danger",description:n("webapp_family_dashboard_generic_failure_message")})}},secondary:{children:n("webapp_family_dashboard_reset_link_dialog_button_cancel"),onClick:t}},closeActionLabel:n("_common_toast_close_label"),onClose:t,title:n("webapp_family_dashboard_reset_link_dialog_title"),children:(0,F.tZ)(D.n,{children:n("webapp_family_dashboard_reset_link_dialog_description")})})},ts="https://app.dashlane.com/#/family/join?accept=",ns=()=>{const[e,t]=(0,C.useState)(!1),{translate:n}=(0,v.Z)(),{showToast:a}=(0,Z.p)(),i=(0,L.k)(Qo.k,"getJoinFamilyToken");if(!i?.data)return null;const r=ts.concat(i.data.tokenId);return(0,F.BX)(C.Fragment,{children:[(0,F.BX)(yr.Z,{children:[(0,F.tZ)(D.n,{textStyle:"ds.title.section.medium",children:n("webapp_sharing_center_empty_state_next_step_invite_members_title")}),(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",children:n("webapp_new_family_dashboard_invite_link_description")}),(0,F.tZ)(he.C,{label:n("webapp_new_family_dashboard_invite_link_label"),value:ts.concat(i.data.tokenId),actions:[(0,F.tZ)(w.z,{icon:"ActionRefreshOutlined",intensity:"supershy",layout:"iconOnly",onClick:async()=>{t(!0)},"aria-label":n("webapp_family_dashboard_reset_link_confirm")},"invite-member-reset"),(0,F.tZ)(w.z,{icon:"ActionCopyOutlined",intensity:"supershy",layout:"iconOnly",onClick:async()=>{await navigator.clipboard.writeText(r),a({description:n("webapp_family_dashboard_link_copied")})},"aria-label":n("input_copy_button")},"invite-member-copy-link")],sx:{padding:"8px 8px 8px 12px",backgroundColor:"ds.container.agnostic.neutral.quiet",borderRadius:"8px"}})]}),(0,F.tZ)(es,{isOpen:e,closeDialog:()=>{t(!1)}})]})};var as=n(80610);const is=({member:e,isOpen:t,closeDialog:n})=>{const[a,i]=(0,C.useState)(!1),{translate:r}=(0,v.Z)(),{removeFamilyMember:o,resetJoinFamilyToken:s}=(0,K.u)(Qo.k),{showToast:l}=(0,Z.p)();return(0,F.tZ)(Jo.Vq,{isDestructive:!0,isOpen:t,closeActionLabel:r("_common_toast_close_label"),title:r("webapp_family_dashboard_remove_member_dialog_title"),actions:{primary:{children:r("webapp_family_dashboard_remove_member_dialog_button_confirm"),onClick:async()=>{const t=await o({userId:e.userId});let n;a&&(n=await s(void 0)),(0,T.d6)(t)&&n&&(0,T.d6)(n)?l({description:r("webapp_family_dashboard_member_removed_link_reset_success_message")}):(0,T.d6)(t)?l({description:r("webapp_family_dashboard_member_removed_success_message")}):l({mood:"danger",description:r("webapp_form_generic_error_deletion")})}},secondary:{children:r("webapp_family_dashboard_remove_member_dialog_button_cancel"),onClick:n}},footerSlot:(0,F.tZ)(as.X,{checked:a,label:r("webapp_family_dashboard_remove_member_dialog_body_reset_link"),description:r("webapp_new_family_dashboard_remove_member_dialog_body_reset_link_description"),onChange:()=>i((e=>!e))}),onClose:n,children:(0,F.tZ)(D.n,{children:r.markup("webapp_family_dashboard_remove_member_dialog_subtitle_markup",{login:`**${e.login}**`})})})};var rs;const os=({member:e,hasDeleteAction:t=!1})=>{const{translate:n}=(0,v.Z)(),[a,i]=(0,C.useState)(!1);return(0,F.BX)(C.Fragment,{children:[(0,F.BX)(ne.k,{children:[(0,F.tZ)(ft.s,{thumbnail:rs||(rs=(0,F.tZ)(k.v,{name:"UsersOutlined"})),title:e.login,description:n((r=e.role,{admin:"webapp_family_dashboard_role_admin",regular:"webapp_family_dashboard_role_regular",removed:""}[r])),sx:{flex:1}}),t?(0,F.tZ)(w.z,{layout:"iconOnly",intensity:"supershy",mood:"warning",icon:"ActionDeleteOutlined",onClick:()=>{i(!0)}}):null]}),t?(0,F.tZ)(is,{isOpen:a,closeDialog:()=>{i(!1)},member:e}):null]});var r},ss=()=>{const{translate:e}=(0,v.Z)(),t=(0,L.k)(Qo.k,"getFamilyMembers");return t?.data?(0,F.BX)(yr.Z,{children:[(0,F.BX)(ne.k,{sx:{alignItems:"center"},children:[(0,F.tZ)(D.n,{sx:{flex:1},textStyle:"ds.title.section.medium",children:e("webapp_sharing_center_group_row_members_title")}),(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",children:(0,F.tZ)("strong",{children:e.markup("webapp_darkweb_email_available_spots_count_markup",{count:t.data.spotsLeft||0})})})]}),(0,F.tZ)(os,{member:t.data.admin}),t.data.members.map((e=>(0,F.tZ)(os,{member:e,hasDeleteAction:!0},e.userId)))]}):null};var ls,cs,ds,ps,us;const _s=()=>{const{translate:e}=(0,v.Z)();return(0,F.tZ)(_o.h,{startWidgets:(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:e("webapp_account_root_item_family_dashboard")}),endWidget:ls||(ls=(0,F.tZ)(mo.D,{}))})},ms=()=>((0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.FamilyDashboard)}),[]),(0,F.tZ)(Go.I,{withCards:!1,header:cs||(cs=(0,F.tZ)(_s,{})),children:(0,F.BX)(ne.k,{sx:{gap:"16px",alignItems:"start"},children:[(0,F.BX)(ne.k,{sx:{flex:1,flexDirection:"column",gap:"16px"},children:[ds||(ds=(0,F.tZ)(ns,{})),ps||(ps=(0,F.tZ)(ss,{}))]}),(0,F.tZ)(ne.k,{sx:{flex:"0 296px",flexDirection:"column",gap:"16px"},as:"aside",children:us||(us=(0,F.tZ)($o,{}))})]})}));function hs({path:e}){return(0,F.tZ)(a.Vy,{path:e,component:ms})}var gs,bs=n(6210),ws=n(11659),ys=n(71311),fs=n(88381);const xs={position:"relative",height:"100%",flex:1,overflowY:"auto",width:"100%"},Ss=()=>{const{sync:e}=(0,K.u)(bs.r);(0,C.useEffect)((()=>{e({trigger:je.Trigger.Sharing})}),[e]);const t=(0,ta.o)("sharing_Web_GranularPermissions_dev");return null===t?null:(0,F.tZ)("div",{sx:{color:"ds.text.neutral.standard",backgroundColor:"ds.container.agnostic.neutral.standard",height:"100%"},children:(0,F.tZ)(ws.k,{header:gs||(gs=(0,F.tZ)(_o.h,{endWidget:(0,F.tZ)(mo.D,{}),"data-testid":"sharing-notifications-fullpage-header"})),children:(0,F.tZ)(ne.k,{sx:xs,flexDirection:"column",children:!0===t?(0,F.tZ)(fs.B,{sx:{flex:1,alignItems:"center"}}):(0,F.tZ)(ys.A,{sx:{flex:1,alignItems:"center"}})})})})},vs={fullPage:!0,triggerSync:!0};function Cs({path:e}){return(0,F.tZ)(a.Vy,{path:e,component:Ss,additionalProps:vs})}var Zs=n(10994),ks=n(16782),Is=n(80443),Es=n(23619);const Ds=()=>{const{translate:e}=(0,v.Z)(),{routes:t}=(0,a.Xo)(),n=(0,Gn.B)(),i=(0,Es.U)();if(!n)return null;const{premiumStatus:r}=n;if(!r||r.statusCode!==Fn.lU.PREMIUM&&r.statusCode!==Fn.lU.PREMIUM_CANCELLED||!r.endDate||!r.autoRenewalFailed||!(e=>{const t=(e=>{const t=new Date(0);return t.setUTCSeconds(e),t.getTime()})(e);return!!e&&t-Date.now()<6048e5})(r.endDate)||(0,Is.AF)(r))return null;const o=e.shortDate((0,Zs.Z)(r.endDate),ks._T.LL);return(0,F.tZ)("div",{className:"floatingNotificationsContainer--oDgjnF0aJ5",children:(0,F.tZ)(Ra.Z,{classNames:{appear:"appear--lWLLvEmJyK",appearActive:"appearActive--Us_yYDvpH8"},timeout:{appear:300,enter:0,exit:0},appear:!0,in:!0,children:(0,F.tZ)(N.vDh,{title:e("webapp_payment_failure_churning_title",{endDate:o}),size:"descriptive",severity:"alert",primary:()=>{const e=t.userGoPremium(null!=i?i:"");(0,Oe.Yk)(e,{type:"PaymentFailureToast",action:"checkout"})},primaryLabel:e("webapp_payment_failure_churning_cta")})})})},Ts=C.memo(Ds);var As,Ns=n(26849);const Os=({children:e})=>{const{routes:t}=(0,_.Xo)();return(()=>{const{store:e}=(0,a.Xo)();return(0,Gn.B)(),!1})()?(0,F.tZ)(a.l_,{to:t.userUpsell}):(0,F.BX)(C.Fragment,{children:[e,As||(As=(0,F.tZ)(Ts,{}))]})};var Ps=n(34202),Ls=n(15622);const Rs=({bankAccountName:e,bankOwner:t})=>{const{translate:n}=(0,v.Z)();return(0,F.tZ)(ft.s,{thumbnail:(0,F.tZ)(gt.A,{type:"bank-account","aria-label":n("webapp_payment_bankaccounts_list_header_bank_name")}),title:e,description:t})};var Ms=n(13631);const Bs=({bankCode:e,country:t})=>{const n=(0,Ms.h)(t,!0),a=n?.find((t=>t.code===e.split("-").pop()));return(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",sx:{overflow:"hidden",textOverflow:"ellipsis"},children:a?.localizedString||""})};var zs=n(89481);const Us=({bankAccount:e})=>{const{translate:t}=(0,v.Z)(),{routes:n}=(0,_.Xo)(),[i,r]=(0,C.useState)(!1),{pathname:o}=(0,a.TH)(),{bankCode:s,country:l,ownerName:c,accountName:d,id:p}=e;return(0,F.tZ)(zs.Z,{link:n.userVaultItem(p,ut.U.BankAccount,o),type:"link",onClick:()=>{(0,bt.Mx)(e.id)},actions:[(0,F.tZ)(Bt,{bankAccount:e,mode:Nt.LIST,dropdownIsOpen:i,setDropdownIsOpen:r},"actions")],data:[{key:"title",content:(0,F.tZ)(Rs,{bankAccountName:d,bankOwner:c})},{key:"bank",content:(0,F.tZ)(Bs,{bankCode:s,country:l})},{key:"lastUse",content:(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:e.lastUse&&e.lastUse>0?(0,F.tZ)(Ls.Z,{date:(0,Zs.Z)(e.lastUse)}):t("webapp_payment_bankaccount_list_item_never_used")})}]},p)},Fs=(0,C.memo)(Us),Xs=({bankAccountsResult:e})=>{const{translate:t}=(0,v.Z)();return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(Ps.h,{header:[{key:"title",sortable:!0,content:`${t("payments_grid_category_bank_account")} (${e.matchCount})`,logSubaction:"name"},{key:"bank",sortable:!0,content:t("webapp_payment_bankaccounts_list_header_bank_name"),logSubaction:"bank"},{key:"lastUse",sortable:!0,content:t("webapp_payment_bankaccounts_list_header_last_use"),logSubaction:"lastUsed"}]}),(0,F.tZ)(pt.a,{sx:{minWidth:"800px",paddingBottom:"32px"},children:e.items.map((e=>(0,F.tZ)(Fs,{bankAccount:e},e.id)))})]})},qs=(0,C.memo)(Xs),Hs=({item:e,linkTo:t,onClick:n})=>{const{translate:i}=(0,v.Z)(),{cardNumber:r,color:o,expireMonth:s,expireYear:l,id:c,itemName:d,ownerName:p}=e,u=i("payments_grid_payment_card_expires"),_=((e,t)=>e&&t?`${e}/${t.substring(2)}`:"")(s,l),m=(h=o,(0,bi.Z)(h));var h;const g=(e=>e===dn.X.White?N.colors.grey05:(0,bi.Z)(e))(o),b=(e=>e===dn.X.White?N.colors.grey00:N.colors.white)(o),w=cn(r);return(0,F.tZ)(a.rU,{className:"paymentCard--SUudUO6mnP",style:{backgroundColor:m,borderColor:g,color:b},to:t?t(c):"",onClick:n,children:(0,F.BX)("div",{className:"itemInner--PO8PKRAI7E",children:[(0,F.tZ)("div",{className:"paymentCardNumber--jgTo_0jUw5",children:w}),(0,F.BX)("div",{className:"paymentCardDateAndName--KKTYxPKuyU",children:[_?(0,F.BX)("span",{className:"paymentCardExpirationDate--z2DvsdOUPU",children:[(0,F.tZ)("span",{className:"paymentCardExpirationDateLabel--tEA5TGY00Y",children:u}),(0,F.tZ)("span",{className:"paymentCardExpirationDateValue--szWQC1UB8v",children:_})]}):null,d?(0,F.tZ)("span",{children:d}):null]}),p?(0,F.tZ)("div",{className:"paymentCardOwnerName--afLnLZt95N",children:p}):null]})})},Vs=({paymentCardsResult:e,cardRoute:t})=>{const{translate:n}=(0,v.Z)();return(0,F.BX)(C.Fragment,{children:[(0,F.BX)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",sx:{borderBottom:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",marginTop:"24px",paddingBottom:"16px",userSelect:"none"},children:[n("payments_grid_category_payment_card")," (",e.matchCount,")"]}),(0,F.tZ)("div",{sx:{display:"flex",justifyContent:"start",flexWrap:"wrap",padding:"32px 0",gap:"24px"},children:e.items.map((e=>(0,F.tZ)(Hs,{item:e,linkTo:t,onClick:()=>{(0,bt.GV)(e.id)}},e.id)))})]})},Ws=(0,C.memo)(Vs),js=({menuItems:e,buttonLabel:t})=>{const[n,a]=(0,C.useState)(!1);return(0,F.BX)(vt.h_,{align:"start",isOpen:n,onOpenChange:()=>a(!n),children:[(0,F.tZ)(vt.sB,{"aria-label":t,icon:"ActionAddOutlined",layout:"iconLeading",children:t}),(0,F.tZ)(vt.Nv,{children:e.map((e=>(0,F.tZ)(kt.h,{label:e.label,leadingIcon:e.icon,onSelect:()=>{a(!1),e.onClick()}},e.label)))})]})},Gs=({endWidget:e,dropdown:t,...n})=>(0,F.tZ)(_o.h,{startWidgets:(0,F.tZ)("div",{sx:{position:"relative"},children:t}),endWidget:e,...n}),Ks=({buttonLabel:e,buttonClick:t})=>{const{translate:n}=(0,v.Z)(),{routes:i}=(0,a.Xo)(),r=e=>()=>{t?.(),(0,a.uX)(e)},o=[{icon:"ItemPaymentOutlined",label:n("payments_header_add_payment_card"),onClick:r(i.userAddPaymentCard)},{icon:"ItemBankAccountOutlined",label:n("payments_header_add_bank_account"),onClick:r(i.userAddBankAccount)}];return(0,F.tZ)(js,{buttonLabel:null!=e?e:n("payments_header_add_payment"),menuItems:o})};var Ys;const $s=()=>Ys||(Ys=(0,F.tZ)(Gs,{dropdown:(0,F.tZ)(Ks,{}),endWidget:(0,F.tZ)(mo.D,{})}));var Qs=n(26215),Js=n(32170),el=n(99935),tl=n(2951),nl=n(29315);const al=()=>(0,$e.Kz)(new je.UserClickEvent({button:je.Button.AddPaymentInfo})),il={admin:{title:"webapp_payments_empty_state_title_admin",description:"webapp_payments_empty_state_description_admin",nextStep:{add:"webapp_payments_empty_state_next_step_add_title"}},employee:{title:"webapp_payments_empty_state_title_employee",description:"webapp_payments_empty_state_description_employee",nextStep:{add:"webapp_payments_empty_state_next_step_add_title"}},b2c:{title:"webapp_payments_empty_state_title",description:"webapp_payments_empty_state_description",nextStep:{add:"webapp_payments_empty_state_next_step_add_title"}}},rl=()=>{const{translate:e}=(0,v.Z)(),t=(0,tl.Q)();if(t.status!==qn.rq.Success)return null;const n=il[t.isB2B?t.b2bRoles.isAdmin?"admin":"employee":"b2c"];return(0,F.tZ)(nl.x,{title:e(n.title),description:e(n.description),illustrationLightSrc:Js,illustrationDarkSrc:el,children:(0,F.tZ)(Ks,{buttonLabel:e(n.nextStep.add),buttonClick:al})})};var ol,sl;const ll=()=>{const{routes:e}=(0,_.Xo)();(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ItemPaymentList)}),[]);const{currentSpaceId:t}=(0,g.fV)(),{status:n,data:a}=(0,L.k)(Ht.L,"query",{vaultItemTypes:[ut.U.BankAccount,ut.U.PaymentCard],propertyFilters:null!==t?[{property:"spaceId",value:t}]:void 0,propertySorting:{property:"creationDatetime"}});if(n!==R.rq.Success||!Object.values(a).some((e=>e.matchCount>0)))return(0,F.tZ)(Go.I,{header:(0,F.tZ)(Qs.t,{title:"webapp_payments_empty_state_page_title"}),children:ol||(ol=(0,F.tZ)(rl,{}))});const{bankAccountsResult:i,paymentCardsResult:r}=a;return(0,F.tZ)(Go.I,{header:sl||(sl=(0,F.tZ)($s,{})),children:(0,F.BX)("div",{children:[r.matchCount>0?(0,F.tZ)(Ws,{paymentCardsResult:r,cardRoute:e.userPaymentCard}):null,i.matchCount>0?(0,F.tZ)(qs,{bankAccountsResult:i}):null]})})};var cl;const dl=()=>cl||(cl=(0,F.tZ)(Os,{children:(0,F.tZ)(ll,{})})),pl=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:dl}),ul={exit:"exit--j01_122ECh",exitActive:"exitActive--WgksVPYl96",exitDone:"exitDone--Cba1DT0n2O",enter:"enter--PtkXHAwNeb",enterActive:"enterActive--MQ1H6Xh5br",enterDone:"enterDone--f7BbzLckOh"};var _l=n(32070),ml=n.n(_l);const hl=({data:e,onRenderItem:t,onToggleGrid:n,itemClassname:a,innerSectionClassname:i,sxProps:r={}})=>{const o=e=>{n&&n(e)};return(0,F.tZ)("div",{sx:{height:"calc(100vh - 48px)",overflowY:"auto",userSelect:"none","*":{userSelect:"none"}},children:e.map(((e,n)=>{var s;const l=null!=(s=e.render)?s:t;if(!l)throw new Error("No render function provided");const c=e.getKey,d=n,p=Number(ml()["--dashlane-credentials-grid-collapsing-duration"]);return[(0,F.tZ)("div",{children:(0,F.tZ)("div",{onClick:()=>o(e.key),tabIndex:0,"aria-expanded":e.open,role:"button",onKeyPress:t=>{" "!==t.key&&"Enter"!==t.key||o(e.key)},sx:{borderBottom:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",cursor:"pointer",height:"60px",position:"relative",userSelect:"none",display:"flex",alignItems:"center"},children:(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",sx:{bottom:"12px"},children:e.title})})},`header-${e.key}`),(0,F.tZ)(Ra.Z,{in:e.open,timeout:p,classNames:ul,children:(0,F.tZ)("section",{className:i,children:(0,F.tZ)("ul",{sx:{display:"flex",flexWrap:"wrap",alignContent:"flex-start",alignItems:"flex-start"},children:e.items.map(((e,t)=>((e,t,n)=>(0,F.tZ)("li",{className:a,sx:(0,rt.jM)([{position:"relative",boxSizing:"content-box"},r]),children:t(e)},n(e)))(e,l,c||(()=>((e,t)=>`${e}-${t}`)(d,t)))))})})},`innerSection-${e.key}`)]}))})},gl={TEXT:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},bl=({buttonLabel:e})=>{const{routes:t}=(0,a.Xo)(),{translate:n}=(0,v.Z)(),i=e=>()=>{(0,a.uX)(e)},r=[{icon:"ItemPersonalInfoOutlined",label:n("webapp_personal_info_header_add_name"),onClick:i(t.userAddPersonalInfoIdentity)},{icon:"ItemEmailOutlined",label:n("webapp_personal_info_header_add_email"),onClick:i(t.userAddPersonalInfoEmail)},{icon:"ItemPhoneHomeOutlined",label:n("webapp_personal_info_header_add_phone"),onClick:i(t.userAddPersonalInfoPhone)},{icon:"HomeOutlined",label:n("webapp_personal_info_header_add_address"),onClick:i(t.userAddPersonalInfoAddress)},{icon:"ItemCompanyOutlined",label:n("webapp_personal_info_header_add_company"),onClick:i(t.userAddPersonalInfoCompany)},{icon:"WebOutlined",label:n("webapp_personal_info_header_add_website"),onClick:i(t.userAddPersonalInfoWebsite)}];return(0,F.tZ)(js,{buttonLabel:null!=e?e:n("webapp_personal_info_header_add"),menuItems:r})};var wl;const yl=()=>wl||(wl=(0,F.tZ)(Gs,{dropdown:(0,F.tZ)(bl,{}),endWidget:(0,F.tZ)(mo.D,{})}));var fl=n(10737),xl=n(1504);const Sl={admin:{title:"webapp_personal_info_empty_state_title_admin",description:"webapp_personal_info_empty_state_description_admin",nextStep:{add:"webapp_personal_info_empty_state_next_step_add_title"}},employee:{title:"webapp_personal_info_empty_state_title_employee",description:"webapp_personal_info_empty_state_description_employee",nextStep:{add:"webapp_personal_info_empty_state_next_step_add_title"}},b2c:{title:"webapp_personal_info_empty_state_title",description:"webapp_personal_info_empty_state_description",nextStep:{add:"webapp_personal_info_empty_state_next_step_add_title"}}},vl=()=>{const{translate:e}=(0,v.Z)(),t=(0,tl.Q)();if(t.status!==qn.rq.Success)return null;const n=Sl[t.isB2B?t.b2bRoles.isAdmin?"admin":"employee":"b2c"];return(0,F.tZ)(nl.x,{title:e(n.title),description:e(n.description),illustrationLightSrc:fl,illustrationDarkSrc:xl,children:(0,F.tZ)(bl,{buttonLabel:e(n.nextStep.add)})})};var Cl,Zl;const kl=e=>(0,F.tZ)(Ci.ZP,{iconType:e,iconSize:Ci.Jh.largeIcon}),Il=({id:e,icon:t,title:n,text:i,onClick:r,to:o})=>(0,F.BX)(a.rU,{sx:{textDecoration:"none",outline:"none"},to:o,onClick:r,children:[t,(0,F.BX)("div",{sx:{overflow:"hidden"},children:[(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",sx:(0,rt.jM)([gl.TEXT,{marginTop:"10px",alignItems:"center"}]),children:n}),(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",sx:(0,rt.jM)([gl.TEXT,{marginTop:"10px"}]),children:i})]})]},e),El=({onToggleGrid:e,categoryStates:t,currentSpaceId:n})=>{const{routes:i}=(0,a.Xo)(),{translate:r}=(0,v.Z)(),{status:o,data:s}=(0,L.k)(Ht.L,"query",{vaultItemTypes:[ut.U.Address,ut.U.Company,ut.U.Email,ut.U.Identity,ut.U.Phone,ut.U.Website],propertyFilters:null!==n?[{property:"spaceId",value:n}]:void 0,propertySorting:{property:"creationDatetime"}});if(o!==R.rq.Success||!Object.values(s).some((e=>e.matchCount>0)))return(0,F.tZ)(Go.I,{header:(0,F.tZ)(Qs.t,{title:"webapp_personal_info_empty_state_page_title"}),children:Cl||(Cl=(0,F.tZ)(vl,{}))});const l=((e,t,n,a)=>{const{addresses:i,companies:r,emails:o,identities:s,websites:l,phones:c}=t;return[{key:"identities",open:e.identities.open,title:`${a("personal_info_grid_category_identities")} (${s.length})`,items:s,render:e=>((e,t,n)=>(0,F.tZ)(Il,{id:t.id,icon:kl(Ci.Tu.identity),text:(0,wt.Y8)(t.birthDate,t.birthPlace,n),title:(0,wt.kl)(t),onClick:()=>{(0,bt.bx)(t.id,je.ItemType.Identity)},to:e.userPersonalInfoIdentity(t.id)},t.id))(n,e,a),getKey:e=>e.id},{key:"emails",open:e.emails.open,title:`${a("personal_info_grid_category_emails")} (${o.length})`,items:o,render:e=>((e,t)=>(0,F.tZ)(Il,{id:t.id,icon:kl("PRO"===t.type?Ci.Tu.emailPro:Ci.Tu.email),text:t.emailAddress,title:t.itemName,onClick:()=>{(0,bt.bx)(t.id,je.ItemType.Email)},to:e.userPersonalInfoEmail(t.id)},t.id))(n,e),getKey:e=>e.id},{key:"phones",open:e.phones.open,title:`${a("personal_info_grid_category_phones")} (${c.length})`,items:c,render:e=>((e,t,n)=>(0,F.tZ)(Il,{id:t.id,icon:kl(Ci.Tu.phone),text:t.phoneNumber,title:(0,wt.o3)(t,n),onClick:()=>{(0,bt.bx)(t.id,je.ItemType.Phone)},to:e.userPersonalInfoPhone(t.id)},t.id))(n,e,a),getKey:e=>e.id},{key:"addresses",open:e.addresses.open,title:`${a("personal_info_grid_category_addresses")} (${i.length})`,items:i,render:e=>((e,t,n)=>(0,F.tZ)(Il,{id:t.id,icon:kl(Ci.Tu.address),text:(0,wt.qS)(t.city,t.country,t.streetName,t.zipCode,n),title:t.itemName,onClick:()=>{(0,bt.bx)(t.id,je.ItemType.Address)},to:e.userPersonalInfoAddress(t.id)},t.id))(n,e,a),getKey:e=>e.id},{key:"companies",open:e.companies.open,title:`${a("personal_info_grid_category_companies")} (${r.length})`,items:r,render:e=>((e,t)=>(0,F.tZ)(Il,{id:t.id,icon:kl(Ci.Tu.company),text:t.jobTitle,title:t.companyName,onClick:()=>{(0,bt.bx)(t.id,je.ItemType.Company)},to:e.userPersonalInfoCompany(t.id)},t.id))(n,e),getKey:e=>e.id},{key:"personalWebsites",open:e.personalWebsites.open,title:`${a("personal_info_grid_category_personalWebsites")} (${l.length})`,items:l,render:e=>((e,t)=>(0,F.tZ)(Il,{id:t.id,icon:kl(Ci.Tu.website),text:t.URL,title:t.itemName,onClick:()=>{(0,bt.bx)(t.id,je.ItemType.Website)},to:e.userPersonalInfoWebsite(t.id)},t.id))(n,e),getKey:e=>e.id}].filter((e=>e.items.length>0))})(t,{addresses:s.addressesResult.items,companies:s.companiesResult.items,emails:s.emailsResult.items,identities:s.identitiesResult.items,phones:s.phonesResult.items,websites:s.websitesResult.items},i,r);return(0,F.tZ)(Go.I,{header:Zl||(Zl=(0,F.tZ)(yl,{})),children:(0,F.tZ)(hl,{data:l,onToggleGrid:e,sxProps:{width:"160px",padding:"32px 64px 32px 0",position:"relative",boxSizing:"content-box"}})})},Dl=()=>{const[e,t]=(0,C.useState)({addresses:{open:!0},companies:{open:!0},emails:{open:!0},identities:{open:!0},personalWebsites:{open:!0},phones:{open:!0}});(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ItemPersonalInfoList)}),[]);const{currentSpaceId:n}=(0,g.fV)();return(0,F.tZ)(Os,{children:(0,F.tZ)(El,{categoryStates:e,currentSpaceId:n,onToggleGrid:n=>{t({...e,[n]:{open:!e[n].open}})}})})},Tl=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:Dl});var Al,Nl=n(85422),Ol=n(80343),Pl=n(80842);const Ll=()=>{const{fetchSecureFileQuota:e}=(0,K.u)(Nl.e);return(0,C.useEffect)((()=>{e(),(0,$e.Nc)(je.PageView.ItemSecureNoteList)}),[]),Al||(Al=(0,F.tZ)(Ol.c,{children:(0,F.tZ)(Os,{children:(0,F.tZ)(Pl.E,{})})}))},Rl=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:Ll});var Ml=n(7978),Bl=n(48637),zl=n(16037);function Ul({path:e,routingSchemeOptions:t}){return(0,F.tZ)(Bl.Z,{basePath:e,path:[e,`${e}/${zl.$.ACCOUNT}`,`${e}/${zl.$.ACTIVITY}`,`${e}/${zl.$.DASHBOARD}`,`${e}/${zl.$.GROUPS}`,`${e}/${zl.$.MEMBERS}`,`${e}/${zl.$.SETTINGS}`,`${e}/${zl.$.DARK_WEB_INSIGHTS}`]})}var Fl=n(24750),Xl=n(11538),ql=n(50188),Hl=n(68037),Vl=n(63520);const Wl="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMjRDMCAxMC43NDUyIDEwLjc0NTIgMCAyNCAwVjBDMzcuMjU0OCAwIDQ4IDEwLjc0NTIgNDggMjRWMjRDNDggMzcuMjU0OCAzNy4yNTQ4IDQ4IDI0IDQ4VjQ4QzEwLjc0NTIgNDggMCAzNy4yNTQ4IDAgMjRWMjRaIiBmaWxsPSIjQ0ZFMEU0Ii8+CjxwYXRoIGQ9Ik0zNS45OTk4IDMwLjk5NzNDMzUuOTk5MiAzMC45ODUyIDM1Ljk5NjUgMzAuOTMxMSAzNS45ODgyIDMwLjg0MjRDMzUuOTkwMyAzMC44NjUyIDM1Ljk5MjEgMzAuODg1OCAzNS45OTM2IDMwLjkwMzlDMzUuOTk3OCAzMC45NTYyIDM1Ljk5OTQgMzAuOTg4MyAzNS45OTk4IDMwLjk5NzNaIiBmaWxsPSIjMEUzNTNEIi8+CjxwYXRoIGQ9Ik0zMC43ODgxIDI5LjA1MzlDMzAuODA2NCAyOS4wNzc4IDMwLjgyNDUgMjkuMTAxOCAzMC44NDI0IDI5LjEyNTdDMzAuODM1IDI5LjExNTggMzAuODI3NiAyOS4xMDU5IDMwLjgyMDEgMjkuMDk1OUMzMC44MDk1IDI5LjA4MTkgMzAuNzk4OCAyOS4wNjc5IDMwLjc4ODEgMjkuMDUzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTI3LjgxNzIgMjMuODg0NkMyNy44NjkzIDIzLjgwMTQgMjcuOTE4NyAyMy43MTY0IDI3Ljk2NTQgMjMuNjI5N0MyNy45MzIzIDIzLjY5MTIgMjcuODk3OCAyMy43NTE4IDI3Ljg2MiAyMy44MTE2QzI3Ljg0NzMgMjMuODM2MSAyNy44MzIzIDIzLjg2MDQgMjcuODE3MiAyMy44ODQ2WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMjkuNDk5NyAyNi45MDM5QzI5LjE0NjggMjYuOTAzOSAyOC44MjMzIDI2LjkyNzQgMjguNTI2NSAyNi45NzA3QzI4LjM4ODcgMjYuODk0NSAyOC4yNDEgMjYuODE4NCAyOC4wODIzIDI2Ljc0M0MyOC42ODUxIDI2LjI4ODYgMjkuMjAzNiAyNS43MTczIDI5LjYwNzcgMjUuMDk2NkMzMS40NjExIDI1LjExNzQgMzIuNzY0NSAyNS42NzMyIDMzLjY4MzIgMjYuNDMxQzM0LjYxMiAyNy4xOTcyIDM1LjE1NDEgMjguMTc1NCAzNS40Njk4IDI5LjAzMzFDMzUuNjcwMSAyOS41NzcgMzUuNzc4NyAzMC4wNzA4IDM1LjgzNzMgMzAuNDI4NUMzNS44NjY1IDMwLjYwNzMgMzUuODgzMiAzMC43NTE5IDM1Ljg5MjYgMzAuODUxNEwzNS44OTczIDMwLjkwMzlIMzEuOTU5MUMzMS43MTkgMzAuMzI4NSAzMS4zOTAzIDI5LjcwNDEgMzAuOTM5OSAyOS4wOTU5SDMzLjUzMjJMMzMuNDQwNSAyOC45MzEzQzMzLjE3MDQgMjguNDQ5NyAzMi43Nzg1IDI3Ljk0MTEgMzIuMTU0IDI3LjU1MzZDMzEuNTI5NCAyNy4xNjYgMzAuNjc5MyAyNi45MDM5IDI5LjQ5OTcgMjYuOTAzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTIwLjE0MzQgMzEuOTc4M0MyMC4yMDk2IDMxLjg2MDMgMjAuMjgzMSAzMS43NDA5IDIwLjM2NTYgMzEuNjIyM0MyMC4zMDA0IDMxLjcxNjEgMjAuMjQwOCAzMS44MTAzIDIwLjE4NiAzMS45MDM5QzIwLjE3MTUgMzEuOTI4OCAyMC4xNTczIDMxLjk1MzYgMjAuMTQzNCAzMS45NzgzWiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMwLjM5MyAzMy44NTE0TDMwLjM5NzcgMzMuOTAzOUgxNy42MDI5TDE3LjYwNzYgMzMuODUxNEMxNy42MTcgMzMuNzUxOSAxNy42MzM3IDMzLjYwNzMgMTcuNjYyOSAzMy40Mjg1QzE3LjcyMTUgMzMuMDcwOCAxNy44MzAxIDMyLjU3NyAxOC4wMzAzIDMyLjAzMzFDMTguMzQ3NyAzMS4xNzEyIDE4Ljg5MzUgMzAuMTg3NiAxOS44MzA3IDI5LjQxOThDMjAuNzY2NCAyOC42NTMyIDIyLjA5ODggMjguMDk1OSAyNC4wMDA1IDI4LjA5NTlDMjUuOTAyMiAyOC4wOTU5IDI3LjIzNDYgMjguNjUzMiAyOC4xNzAzIDI5LjQxOThDMjkuMTA3NCAzMC4xODc2IDI5LjY1MzEgMzEuMTcxMiAyOS45NzA0IDMyLjAzMzFDMzAuMTcwNiAzMi41NzY5IDMwLjI3OTIgMzMuMDcwOCAzMC4zMzc3IDMzLjQyODVDMzAuMzY2OSAzMy42MDczIDMwLjM4MzYgMzMuNzUxOSAzMC4zOTMgMzMuODUxNFpNMjAuMDQ3NCAzMS45NTM0TDE5Ljk2ODUgMzIuMDk1OUgyOC4wMzIzTDI3Ljk1MzUgMzEuOTUzNUwyNy45NDExIDMxLjkzMTJDMjcuNjcxIDMxLjQ0OTcgMjcuMjc5MiAzMC45NDExIDI2LjY1NDggMzAuNTUzNkMyNi4wMzAzIDMwLjE2NiAyNS4xODAxIDI5LjkwMzkgMjQuMDAwNSAyOS45MDM5QzIyLjgyMDkgMjkuOTAzOSAyMS45NzA3IDMwLjE2NiAyMS4zNDYxIDMwLjU1MzZDMjAuNzIxNyAzMC45NDExIDIwLjMyOTggMzEuNDQ5NyAyMC4wNTk3IDMxLjkzMTNMMjAuMDQ3NCAzMS45NTM0WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMjQuMDAwMyAxOC45MDM5QzIyLjU2NjYgMTguOTAzOSAyMS40MDQzIDIwLjA2NjIgMjEuNDA0MyAyMS40OTk5QzIxLjQwNDMgMjIuOTMzNyAyMi41NjY2IDI0LjA5NTkgMjQuMDAwMyAyNC4wOTU5QzI0LjMxMjYgMjQuMDk1OSAyNC42MTIzIDI0LjA0MDcgMjQuODg5OSAyMy45Mzk1TDI2LjI0MiAyNS4yOTE2QzI1LjU4NTQgMjUuNjgwNiAyNC44MTkgMjUuOTAzOSAyNC4wMDAzIDI1LjkwMzlDMjEuNTY4IDI1LjkwMzkgMTkuNTk2MyAyMy45MzIyIDE5LjU5NjMgMjEuNDk5OUMxOS41OTYzIDE5LjA2NzcgMjEuNTY4IDE3LjA5NTkgMjQuMDAwMyAxNy4wOTU5QzI2LjQzMjYgMTcuMDk1OSAyOC40MDQzIDE5LjA2NzcgMjguNDA0MyAyMS40OTk5QzI4LjQwNDMgMjIuMzE4NyAyOC4xODEgMjMuMDg1IDI3Ljc5MTkgMjMuNzQxNkwyNi40Mzk5IDIyLjM4OTVDMjYuNTQxMSAyMi4xMTE5IDI2LjU5NjMgMjEuODEyMyAyNi41OTYzIDIxLjQ5OTlDMjYuNTk2MyAyMC4wNjYyIDI1LjQzNCAxOC45MDM5IDI0LjAwMDMgMTguOTAzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTMyLjA5NTkgMTguNDk5OUMzMi4wOTU5IDE3LjA2NjIgMzAuOTMzNiAxNS45MDM5IDI5LjQ5OTkgMTUuOTAzOUMyOC45OTcxIDE1LjkwMzkgMjguNTI3NCAxNi4wNDcgMjguMTI5NiAxNi4yOTQ3QzI3LjYxOTQgMTUuODk3IDI3LjA0OTIgMTUuNTcyNyAyNi40MzQ5IDE1LjMzNzVDMjcuMjI3NyAxNC41Njg5IDI4LjMwODUgMTQuMDk1OSAyOS40OTk5IDE0LjA5NTlDMzEuOTMyMiAxNC4wOTU5IDMzLjkwMzkgMTYuMDY3NyAzMy45MDM5IDE4LjQ5OTlDMzMuOTAzOSAyMC41NzAzIDMyLjQ3NTIgMjIuMzA3MiAzMC41NDk4IDIyLjc3ODFDMzAuNjMxMiAyMi4zNjQgMzAuNjczOSAyMS45MzY2IDMwLjY3MzkgMjEuNDk5OUMzMC42NzM5IDIxLjI3NDcgMzAuNjYyNiAyMS4wNTIgMzAuNjQwNiAyMC44MzI1QzMxLjUwMjMgMjAuNDEwNCAzMi4wOTU5IDE5LjUyNDYgMzIuMDk1OSAxOC40OTk5WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMTguNDMyMyAyNi45MDM5QzE4Ljc4NTEgMjYuOTAzOSAxOS4xMDg2IDI2LjkyNzQgMTkuNDA1NCAyNi45NzA3QzE5LjU0MzIgMjYuODk0NSAxOS42OTA5IDI2LjgxODQgMTkuODQ5NiAyNi43NDNDMTkuMjQ2OCAyNi4yODg2IDE4LjcyODQgMjUuNzE3MyAxOC4zMjQyIDI1LjA5NjZDMTYuNDcwOSAyNS4xMTc0IDE1LjE2NzQgMjUuNjczMiAxNC4yNDg3IDI2LjQzMUMxMy4zMTk5IDI3LjE5NzIgMTIuNzc3OSAyOC4xNzU0IDEyLjQ2MjEgMjkuMDMzMUMxMi4yNjE5IDI5LjU3NyAxMi4xNTMyIDMwLjA3MDggMTIuMDk0NyAzMC40Mjg1QzEyLjA2NTQgMzAuNjA3MyAxMi4wNDg3IDMwLjc1MTkgMTIuMDM5MyAzMC44NTE0TDEyLjAzNDcgMzAuOTAzOUgxNS45NzI4QzE2LjIxMjkgMzAuMzI4NSAxNi41NDE3IDI5LjcwNDEgMTYuOTkyIDI5LjA5NTlIMTQuMzk5N0wxNC40OTE0IDI4LjkzMTNDMTQuNzYxNSAyOC40NDk3IDE1LjE1MzUgMjcuOTQxMSAxNS43Nzc5IDI3LjU1MzZDMTYuNDAyNSAyNy4xNjYgMTcuMjUyNyAyNi45MDM5IDE4LjQzMjMgMjYuOTAzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTE1LjgzNiAxOC40OTk5QzE1LjgzNiAxNy4wNjYyIDE2Ljk5ODMgMTUuOTAzOSAxOC40MzIgMTUuOTAzOUMxOC45MzQ5IDE1LjkwMzkgMTkuNDA0NiAxNi4wNDcgMTkuODAyMyAxNi4yOTQ3QzIwLjMxMjUgMTUuODk3IDIwLjg4MjcgMTUuNTcyNyAyMS40OTcxIDE1LjMzNzVDMjAuNzA0MiAxNC41Njg5IDE5LjYyMzQgMTQuMDk1OSAxOC40MzIgMTQuMDk1OUMxNS45OTk4IDE0LjA5NTkgMTQuMDI4IDE2LjA2NzcgMTQuMDI4IDE4LjQ5OTlDMTQuMDI4IDIwLjU3MDMgMTUuNDU2OCAyMi4zMDcyIDE3LjM4MjEgMjIuNzc4MUMxNy4zMDA3IDIyLjM2NCAxNy4yNTggMjEuOTM2NiAxNy4yNTggMjEuNDk5OUMxNy4yNTggMjEuMjc0NyAxNy4yNjkzIDIxLjA1MiAxNy4yOTE0IDIwLjgzMjVDMTYuNDI5NyAyMC40MTA0IDE1LjgzNiAxOS41MjQ2IDE1LjgzNiAxOC40OTk5WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMjQgNDdDMTEuMjk3NSA0NyAxIDM2LjcwMjUgMSAyNEgtMUMtMSAzNy44MDcxIDEwLjE5MjkgNDkgMjQgNDlWNDdaTTQ3IDI0QzQ3IDM2LjcwMjUgMzYuNzAyNSA0NyAyNCA0N1Y0OUMzNy44MDcxIDQ5IDQ5IDM3LjgwNzEgNDkgMjRINDdaTTI0IDFDMzYuNzAyNSAxIDQ3IDExLjI5NzUgNDcgMjRINDlDNDkgMTAuMTkyOSAzNy44MDcxIC0xIDI0IC0xVjFaTTI0IC0xQzEwLjE5MjkgLTEgLTEgMTAuMTkyOSAtMSAyNEgxQzEgMTEuMjk3NSAxMS4yOTc1IDEgMjQgMVYtMVoiIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjAuMSIvPgo8L3N2Zz4K";var jl=n(38686);const Gl=({member:e})=>(0,F.tZ)(yt.H,{sx:{minHeight:"60px",maxHeight:"60px"},children:(0,F.tZ)(ft.s,{thumbnail:(0,F.tZ)(jl.H,{email:e}),title:e})},e);var Kl;const Yl=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)(ne.k,{flexDirection:"column",alignItems:"center",gap:"8px",children:[Kl||(Kl=(0,F.tZ)(k.v,{name:"FeedbackFailOutlined",mood:"brand",size:"xlarge"})),(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"16px",marginTop:"20px"},color:"ds.text.neutral.catchy",children:e("webapp_sharing_center_panel_empty_search_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",children:e("webapp_sharing_center_panel_empty_search_description")})]})};var $l;const Ql=({members:e})=>{const{translate:t}=(0,v.Z)();return(0,F.tZ)("div",{sx:{height:"100%",overflowY:"auto",overflow:0===e.length?"hidden":"auto"},children:0===e.length?$l||($l=(0,F.tZ)(Yl,{})):e.length?(0,F.tZ)(Hl.u,{title:t("webapp_sharing_center_panel_members_others"),children:(0,F.tZ)(pt.a,{children:e.map((e=>(0,F.tZ)(Gl,{member:e},e)))})}):null})};var Jl=n(61654),ec=n(75488),tc=n(13252),nc=n(16019),ac=n(1639);const ic=({selectedGroups:e=[],selectedUsers:t=[],onClose:n})=>{const{translate:a}=(0,v.Z)();return(0,F.BX)("div",{sx:{bg:"ds.background.alternate",borderTop:"1px solid ds.border.neutral.quiet.idle",bottom:"0",display:"flex",justifyContent:"space-between",padding:"24px",position:"fixed",width:"640px"},children:[(0,F.tZ)(ac.Z,{sharing:{permission:tc.y3.Limited,selectedCredentials:[],selectedGroups:e,selectedNotes:[],selectedUsers:t,selectedPrivateCollections:[],selectedSharedCollections:[],selectedSecrets:[],step:nc.N.Elements,tab:nc.f.Passwords},tooltipPlacement:"top-start",text:a("webapp_sharing_center_share_item_panel"),origin:je.Origin.ItemListView}),(0,F.tZ)(w.z,{intensity:"quiet",mood:"neutral",size:"medium",onClick:n,children:a("webapp_sharing_center_share_item_panel_close")})]})};var rc=n(66424),oc=n(19189),sc=n(62059),lc=n(43194),cc=n(14341),dc=n(61832);const pc=({isOpen:e,onDismiss:t,vaultItemId:n,recipient:a})=>{const i="full"===a.sharingPermissionLevel?tc.y3.Admin:tc.y3.Limited,[r,o]=(0,C.useState)(i),[s,l]=(0,C.useState)(dc.PermissionDialogStep.Permission),[c,d]=(0,C.useState)(!1),{revokeSharedItem:p,updateSharedItemPermission:u}=(0,K.u)(Xt.X);(0,C.useEffect)((()=>{o(i)}),[a]);const _=async()=>{if(d(!0),"revoke"===r?await(async e=>{try{const t=await p({vaultItemId:n,recipient:(0,cc.d)(e)});return(0,T.d6)(t)}catch(e){return!1}})(a):await(async(e,t)=>{try{const a=await u({vaultItemId:n,recipient:(0,cc.d)(e),permission:t});return(0,T.d6)(a)}catch(e){return!1}})(a,r)){const e="revoke"===r?dc.PermissionDialogStep.RevokeSuccess:dc.PermissionDialogStep.Success;l(e)}else l(dc.PermissionDialogStep.Failure);d(!1)};return(0,F.tZ)(lc.E,{isOpen:e,loading:c,onCancelRevoke:()=>{l(dc.PermissionDialogStep.Permission)},onConfirmRevoke:_,onDismiss:()=>{l(dc.PermissionDialogStep.Permission),t()},onSelectPermission:e=>{o(e)},onValidatePermission:()=>{"revoke"===r?l(dc.PermissionDialogStep.ConfirmRevoke):_()},permission:r,recipient:a,step:s})};var uc=n(70484),_c=n(51196);const mc=({level:e,tooltipText:t="top",tooltipPlacement:n="right"})=>{const{translate:a}=(0,v.Z)();let i,r;return"full"===e?(i=a("webapp_sharing_center_panel_items_full_access"),r="brand"):(i=a("webapp_sharing_center_panel_items_limited_access"),r="danger"),(0,F.tZ)(N.ua7,{placement:n,content:t,sx:{maxWidth:"200px"},children:(0,F.tZ)("div",{className:"badgeContainer--_dDrFlCCj6",children:(0,F.tZ)(ca.C,{mood:r,label:i})})})};var hc=n(73670);const gc=({isDisabled:e,onClick:t,tooltipTitle:n="",tooltipPlacement:a="top"})=>{const{translate:i}=(0,v.Z)();return(0,F.tZ)(hc.M,{disabled:e,size:"medium",mood:"brand",intensity:"supershy",onClick:t,content:n,placement:a,tooltipSx:{maxWidth:"170px"},children:i("webapp_sharing_center_panel_permission_button")})};var bc=n(73630);const wc={contentWrapper:"contentWrapper--wXNfojdIzc",logo:"logo--oDgnkMCFDV",icon:"icon--btXGHb1snA",noteIconWrapper:"noteIconWrapper--IpcZhznVD1",titleOuterWrapper:"titleOuterWrapper--hNOoxJVSF0",title:"title--P3achHBKYP",category:"category--metegexdsG",created:"created--aIoWwEUVU5",updated:"updated--apwZqQd2OI",tagPlacement:"tagPlacement--HYmISxmQyS",titleIcon:"titleIcon--sJGYvXXmE1",container:"container--m57WeAqC8k"};var yc,fc,xc,Sc;const vc=({secret:e,isShared:t,showTitleIcons:n=!0,tag:a})=>(0,F.BX)("div",{className:wc.titleOuterWrapper,children:[(0,F.tZ)("div",{sx:{marginRight:"16px"},children:yc||(yc=(0,F.tZ)(gt.A,{type:"secret"}))}),(0,F.tZ)("div",{sx:{display:"flex",flexDirection:"column"},children:(0,F.BX)("div",{className:wc.title,children:[(0,F.tZ)(bc.Z,{tooltipText:e.title,className:wc.container,children:(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",children:e.title})}),a?(0,F.tZ)("div",{className:wc.tagPlacement,children:a}):null,t&&n?(0,F.tZ)("span",{role:"img","aria-hidden":!0,sx:{marginLeft:"5px"},children:fc||(fc=(0,F.tZ)(st.JO,{name:"SharedOutlined",size:"xsmall",color:"ds.text.neutral.quiet"}))}):null,e.attachments&&e.attachments.length>0&&n?(0,F.tZ)("span",{role:"img","aria-hidden":!0,sx:{marginLeft:"5px"},children:xc||(xc=(0,F.tZ)(st.JO,{name:"AttachmentOutlined",size:"xsmall",color:"ds.text.neutral.quiet"}))}):null,e.isSecured&&n?(0,F.tZ)("span",{role:"img","aria-hidden":!0,sx:{marginLeft:"5px"},children:Sc||(Sc=(0,F.tZ)(st.JO,{name:"LockOutlined",size:"xsmall",color:"ds.text.neutral.quiet"}))}):null]})})]});var Cc=n(27637);const Zc=({disabled:e=!1})=>(0,F.tZ)(ne.k,{justifyContent:"space-around",alignItems:"center",sx:{minWidth:"48px",width:"48px",height:"32px",borderRadius:2,backgroundColor:"ds.container.agnostic.neutral.standard",flexShrink:0,borderColor:"ds.border.neutral.quiet.idle",borderStyle:"solid",borderWidth:"1px"},children:(0,F.tZ)(N.ROc,{disabled:e,color:"ds.oddity.focus"})});var kc,Ic=n(55357);const Ec=({item:e,isInGroupList:t})=>{const{translate:n}=(0,v.Z)(),a=(0,Ic.n)(e.id,e.login).role,i=(0,Ic.d)(e.id,e.login),r=t?i:a,o=n(r===Cc.Yt.Manager?"webapp_sharing_invite_item_select_dropdown_manager_label":"webapp_sharing_invite_item_select_dropdown_editor_label"),s=r===Cc.Yt.Manager?"brand":"danger";return(0,F.BX)("div",{sx:{display:"flex",alignItems:"center"},children:[kc||(kc=(0,F.tZ)(Zc,{})),(0,F.tZ)("div",{sx:{display:"flex",flexDirection:"column"},children:(0,F.BX)("div",{sx:{alignItems:"center",display:"flex",width:"300px"},children:[(0,F.tZ)(bc.Z,{tooltipText:e.title,sx:{whiteSpace:"nowrap",margin:"0 0 0 16px"},children:(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",children:e.title})}),(0,F.tZ)("div",{sx:{marginLeft:"8px",whiteSpace:"nowrap"},children:(0,F.tZ)(ca.C,{mood:s,label:o})})]})})]})},Dc="webapp_sharing_center_panel_items_limited_access_info_user_item";function Tc(e){switch(e.type){case ut.U.Credential:return e.item.itemName;case ut.U.SecureNote:case ut.U.Secret:case"collection":return e.item.title;default:return""}}const Ac=({rowIndex:e,sortedItem:t,entity:n,isCredentialCompromised:i=!1,isItemInSharedCollection:r=!1,isCollectionList:o=!1})=>{var s,l;const{translate:c}=(0,v.Z)(),{pathname:d}=(0,a.TH)(),[p,u]=(0,C.useState)(!1),{areProtectedItemsUnlocked:m,openProtectedItemsUnlocker:h}=(0,li.t)(),{routes:g}=(0,_.Xo)(),b=(0,a.k6)(),{data:w}=(0,L.k)(qa.I,"getPreferencesForCredentials",{credentialIds:[t.item.id]}),{data:y}=(0,L.k)(Xt.X,"getSharingStatusForItem",{itemId:t.item.id}),{data:f}=(0,L.k)(Xt.X,"getPermissionForItem",{itemId:t.item.id}),{data:x,status:S}=(0,L.k)(Xt.X,"sharedAccessForItem",{itemId:t.item.id});if(S!==qn.rq.Success)return null;const Z="user"===n.type?null!=(s=x?.users?.filter((e=>e.recipientId===n.alias)))?s:[]:null!=(l=x?.groups?.filter((e=>e.recipientId===n.groupId)))?l:[],k=Z[0]?.sharingPermissionLevel,I=f?.capabilities.canManageAccess,E=t.type===ut.U.SecureNote&&t.item.isSecured&&!m,D=()=>{const a={isCredential:!0,isUserGroup:!0,isAdmin:!1},i={isCredential:!0,isUserGroup:!0,isAdmin:!0},r={isCredential:!0,isUserGroup:!1,isAdmin:!1},o={isCredential:!0,isUserGroup:!1,isAdmin:!0},s={isCredential:!1,isUserGroup:!0,isAdmin:!1},l={isCredential:!1,isUserGroup:!0,isAdmin:!0},d={isCredential:!0,isUserGroup:!0,isAdmin:!1},p={isCredential:!1,isUserGroup:!1,isAdmin:!0},u={isCredential:t.type===ut.U.Credential,isUserGroup:(0,uc.y)(n),isAdmin:"full"===k};let _=c(Dc);switch(!0){case(0,Ns.equals)(i,u):_=c("webapp_sharing_center_panel_items_full_access_info_group_password");break;case(0,Ns.equals)(a,u):_=c("webapp_sharing_center_panel_items_limited_access_info_group_password");break;case(0,Ns.equals)(o,u):_=c("webapp_sharing_center_panel_items_full_access_info_user_password");break;case(0,Ns.equals)(r,u):_=c("webapp_sharing_center_panel_items_limited_access_info_user_password");break;case(0,Ns.equals)(l,u):_=c("webapp_sharing_center_panel_items_full_access_info_group_item");break;case(0,Ns.equals)(s,u):_=c("webapp_sharing_center_panel_items_limited_access_info_group_item");break;case(0,Ns.equals)(p,u):_=c("webapp_sharing_center_panel_items_full_access_info_user_item");break;case(0,Ns.equals)(d,u):_=c(Dc)}return(0,F.tZ)(mc,{level:k,tooltipText:_,tooltipPlacement:0===e?"bottom":"right"})};return(0,F.BX)(yt.H,{"aria-label":Tc(t),onClick:()=>{const e=t.type===ut.U.Credential,a=t.type===ut.U.SecureNote,i=(t.type,ut.U.Secret,o?g.userCollection(t.item.id):g.userVaultItem(t.item.id,e?ut.U.Credential:a?ut.U.SecureNote:ut.U.Secret,d));e?(0,bt.kb)(t.item.id):a&&(0,bt.X0)(t.item.id),E?h({action:Et.P.Show,itemType:Et.R.SecureNote,successCallback:()=>{b.push({pathname:i,state:{previousPage:n}})}}):b.push({pathname:i,state:{previousPage:n}})},actions:(()=>{let a="";return r||o?a=c("webapp_sharing_collection_access_description_tooltip"):I||(a=t.type===ut.U.Credential?c("webapp_sharing_center_panel_items_limited_access_info_you_password"):c("webapp_sharing_center_panel_items_limited_access_info_you_item")),(0,F.BX)("div",{sx:{display:"flex",alignItems:"center",minHeight:"60px"},children:[(0,F.tZ)(gc,{onClick:()=>{u(!0)},isDisabled:!I||r||o,tooltipTitle:a,tooltipPlacement:0===e?"bottom":"top"}),(0,F.tZ)(pc,{isOpen:p,onDismiss:()=>u(!1),vaultItemId:t.item.id,recipient:(i=n,{sharingPermissionLevel:k,recipientType:"userGroup"===i.type?tc.IP.Group:tc.IP.User,recipientId:"user"===i.type?i.alias:i.groupId,recipientName:"user"===i.type?i.alias:null!=(s=i.name)?s:i.groupId})})]});var i,s})(),sx:{minHeight:"60px",maxHeight:"60px"},children:[t.type===ut.U.Credential?(0,F.tZ)(sc.$,{credential:t.item,requiresMP:Boolean(w?.[0]?.requireMasterPassword),showTitleIcons:!1,tag:(0,F.tZ)(D,{}),isCompromised:i,isShared:!0}):null,t.type===ut.U.SecureNote?(0,F.tZ)(_c.w,{note:t.item,showTitleIcons:!1,tag:(0,F.tZ)(D,{})}):null,t.type===ut.U.Secret?(0,F.tZ)(vc,{secret:t.item,isShared:!!y?.isShared,showTitleIcons:!1,tag:(0,F.tZ)(D,{})}):null,o&&"collection"===t.type?(0,F.tZ)(Ec,{item:t.item,isInGroupList:"user"!==n.type}):null]},t.item.id)},Nc=e=>{const t=1===(0,oc.q)([e.sortedItem.item.id]).length;return(0,F.tZ)(Ac,{...e,isCredentialCompromised:t})},Oc=e=>e.sortedItem.type===ut.U.Credential?(0,F.tZ)(Nc,{...e}):(0,F.tZ)(Ac,{...e});var Pc;const Lc=e=>e.sort(((e,t)=>{const n=e=>{var t,n;return null!=(t=null!=(n=e.title)?n:e.itemName)?t:""};return n(e.item).localeCompare(n(t.item))})),Rc=({collections:e=[],credentials:t,notes:n,secrets:a,entity:i})=>{const r=e?.map((e=>({id:e.id,title:e.name,url:"",login:"user"===i.type?i.alias:i.groupId,isCollection:!0}))),o=[...r.map((e=>({item:e,type:"collection"}))),...t.map((e=>({item:e,type:ut.U.Credential}))),...n.map((e=>({item:e,type:ut.U.SecureNote}))),...a.map((e=>({item:e,type:ut.U.Secret})))],s=!!r.length&&!t.length&&!n.length,l=t?.map((e=>e.id)),c=(0,rc.B)(l);return(0,F.tZ)(pt.a,{children:0===o.length?Pc||(Pc=(0,F.tZ)(Yl,{})):(0,F.tZ)(C.Fragment,{children:Lc(o).map(((e,t)=>(0,F.tZ)(Oc,{rowIndex:t,sortedItem:e,entity:i,isItemInSharedCollection:c.includes(e.item.id),isCollectionList:s},e.item.id)))})})};var Mc=n(35068),Bc=n(31423),zc=n(97958),Uc=n(50185),Fc=n(52826),Xc=n(88605);function qc(e){switch(e.type){case tc.y2.Credential:return e.item.itemName;case tc.y2.SecureNote:case tc.y2.Secret:case"collection":return e.item.title;default:return""}}const Hc=(e,t)=>{var n;return"userGroup"===t.type?{sharingPermissionLevel:e,recipientType:tc.IP.Group,recipientId:t.groupId,recipientName:null!=(n=t.name)?n:t.groupId}:{sharingPermissionLevel:e,recipientType:tc.IP.User,recipientId:t.alias,recipientName:t.alias}};var Vc=n(41657);const Wc=({item:e})=>{const{data:t}=(0,L.k)(qa.I,"getPreferencesForCredentials",{credentialIds:[e.id]}),n=1===(0,oc.q)([e.id]).length;return(0,F.tZ)(sc.$,{credential:e,requiresMP:Boolean(t?.[0]?.requireMasterPassword),showTitleIcons:!1,isCompromised:n,isShared:!0})},jc=({item:e})=>{const{data:t}=(0,L.k)(Xt.X,"getSharingStatusForItem",{itemId:e.id});return(0,F.tZ)(vc,{secret:e,isShared:!!t?.isShared,showTitleIcons:!1})};var Gc;const Kc=({details:e})=>{switch(e.type){case tc.y2.Credential:return(0,F.tZ)(Wc,{item:e.item});case tc.y2.SecureNote:return(0,F.tZ)(_c.w,{note:e.item,showTitleIcons:!1});case tc.y2.Secret:return(0,F.tZ)(jc,{item:e.item});case"collection":return(0,F.tZ)(ft.s,{thumbnail:Gc||(Gc=(0,F.tZ)(xn.R,{type:"collection"})),title:e.item.title})}return null};var Yc=n(79721);const $c=({collection:e,isInGroupList:t})=>{const n=(0,Ic.n)(e.id,e.login).role,a=(0,Ic.d)(e.id,e.login),i=t?a:n;return(0,F.tZ)(Yc.O,{role:i})},Qc=({details:e,recipient:t,isItemInSharedCollection:n=!1,isCollectionList:i=!1})=>{const{pathname:r}=(0,a.TH)(),[o,s]=(0,C.useState)(!1),{areProtectedItemsUnlocked:l,openProtectedItemsUnlocker:c}=(0,li.t)(),{routes:d}=(0,_.Xo)(),p=(0,a.k6)(),{data:u}=(0,L.k)(Xt.X,"getPermissionForItem",{itemId:e.item.id}),{status:m,sharingPermissionLevel:h}=function(e,t){var n,a;const{data:i,status:r}=(0,L.k)(Xt.X,"sharedAccessForItem",{itemId:e}),[o,s]="user"===t.type?[t.alias,i?.users]:[t.groupId,i?.groups],[l]=null!=(n=s?.filter((e=>e.recipientId===o)))?n:[];return{sharingPermissionLevel:null!=(a=l?.sharingPermissionLevel)?a:"restricted",status:r}}(e.item.id,t);if(m!==R.rq.Success)return null;const g=u?.capabilities.canManageAccess,b=e.type===tc.y2.SecureNote&&e.item.isSecured&&!l,w=!g||n||i,y="user"!==t.type,f="collection"===e.type?(0,F.tZ)($c,{collection:e.item,isInGroupList:y}):(0,F.tZ)(Xc.J,{type:e.type,permission:h}),x=w?null:(0,F.tZ)(Fc.M,{onRevokeAccess:console.log,onUpdatePermissions:()=>{s(!0)}});return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(Vc.A,{"aria-label":qc(e),onClick:()=>{const n=e.type===tc.y2.Credential,a=e.type===tc.y2.SecureNote,o=e.type===tc.y2.Secret,s=i?d.userCollection(e.item.id):d.userVaultItem(e.item.id,n?ut.U.Credential:a?ut.U.SecureNote:ut.U.Secret,r);n?(0,bt.kb)(e.item.id):a?(0,bt.X0)(e.item.id):o&&(0,bt.pP)(e.item.id),b?c({action:Et.P.Show,itemType:Et.R.SecureNote,successCallback:()=>{p.push({pathname:s,state:{previousPage:t}})}}):p.push({pathname:s,state:{previousPage:t}})},title:(0,F.tZ)(Kc,{details:e}),permission:f,actions:x}),(0,F.tZ)(pc,{isOpen:o,onDismiss:()=>s(!1),vaultItemId:e.item.id,recipient:Hc(h,t)})]})};var Jc,ed;const td=({collections:e=[],credentials:t,notes:n,secrets:a,entity:i})=>{const{translate:r}=(0,v.Z)(),o=e?.map((e=>({id:e.id,title:e.name,login:"user"===i.type?i.alias:i.groupId}))),s=[...o.map((e=>({item:e,type:"collection"}))),...t.map((e=>({item:e,type:tc.y2.Credential}))),...n.map((e=>({item:e,type:tc.y2.SecureNote}))),...a.map((e=>({item:e,type:tc.y2.Secret})))],l=!!o.length&&!t.length&&!n.length,c=t?.map((e=>e.id)),d=(0,rc.B)(c),p=s.sort(((e,t)=>{const n=e=>{var t,n;return null!=(t=null!=(n=e.title)?n:e.itemName)?t:""};return n(e.item).localeCompare(n(t.item))}));return 0===s.length?Jc||(Jc=(0,F.tZ)(Yl,{})):(0,F.BX)(Mc.i,{"aria-label":r("webapp_sharing_center_shared_items_title"),children:[(0,F.BX)(Bc.s,{children:[(0,F.tZ)(zc.b,{isRowHeader:!0,width:"3fr",children:r("webapp_sharing_center_shared_items_item_name")}),(0,F.tZ)(zc.b,{width:"1.5fr",children:r("webapp_sharing_center_shared_items_permission")}),ed||(ed=(0,F.tZ)(zc.b,{}))]}),(0,F.tZ)(Uc.i,{children:p.map((e=>(0,F.tZ)(Qc,{details:e,recipient:i,isItemInSharedCollection:d.includes(e.item.id),isCollectionList:l},e.item.id)))})]})},nd=({input:e,children:t})=>(0,F.BX)(ne.k,{flexDirection:"column",flexWrap:"nowrap",sx:{overflow:"auto",flexGrow:1,bg:"ds.background.alternate",padding:"24px 24px 100px 24px"},children:[(0,F.BX)("div",{sx:{padding:"0 0 24px 0"},children:[" ",e]}),t]});let ad=function(e){return e[e.ITEMS=0]="ITEMS",e[e.MEMBERS=1]="MEMBERS",e}({});const id=({onClose:e,match:t})=>{var n,a,i;const{currentSpaceId:r}=(0,g.fV)(),o=(s=t.params?.uuid,`{${null!=s?s:""}}`);var s;const[l,c]=(0,C.useState)(""),[d,p]=(0,C.useState)(""),[u,_]=(0,C.useState)(ad.ITEMS),[m,h]=(0,C.useState)(!1),{translate:b}=(0,v.Z)(),w=function(e){return(0,L.k)(Jl.A,"getSharingGroupById",{id:e})}(o),y=(0,L.k)(Xt.X,"getUserSharedVaultItems",{userId:"",groupId:o,query:l,spaceId:r}),f=(0,ta.o)("sharing_Web_GranularPermissions_dev"),x=(0,ql.D)(o)||[],S=l?x?.filter((e=>e.name.toLowerCase().includes(l.toLowerCase())))||[]:x,Z=function(e,t){const n=(0,L.k)(Jl.A,"getSharingGroupById",{id:e});if(n.status!==R.rq.Success)return[];const a=n.data.users,i=(0,ec.U)(t);return a.filter((e=>e.toLowerCase().includes(i)))}(o,d);(0,C.useEffect)((()=>{w.status===qn.rq.Loading||y.status===qn.rq.Loading?h(!0):h(!1)}),[w,y]);const k=[{id:"tab-items-shared",contentId:"content-items-shared",title:b("webapp_sharing_center_panel_items_shared"),onSelect:()=>{_(ad.ITEMS)}},{id:"tab-members",contentId:"content-members",title:b("webapp_sharing_center_panel_members"),onSelect:()=>{_(ad.MEMBERS)}}],I=u===ad.ITEMS?b("webapp_sharing_center_panel_items_search"):b("webapp_sharing_center_panel_members_search");if(null===f)return null;const E=f?td:Rc;return(0,F.BX)(Vl.s_,{onNavigateOut:e,ignoreClickOutsideClassName:na.Ht,children:[(0,F.tZ)(Vl.V9,{icon:(0,F.tZ)("img",{src:Wl,width:98,height:98,className:"groupImgIcon--wwwXS0nFWg"}),title:w.status===qn.rq.Success&&w.data?w.data.name:"",tabs:k}),(0,F.tZ)(nd,{input:(0,F.tZ)(Fl.U,{label:I,onChange:e=>{u===ad.ITEMS?c(e.currentTarget.value):p(e.currentTarget.value)}}),children:m?(0,F.tZ)(Xl.Z,{size:30,containerStyle:{height:"100%"}}):u===ad.ITEMS?(0,F.BX)("div",{"aria-labelledby":"tab-items-shared",id:"content-items-shared",children:[S.length?(0,F.tZ)(Hl.u,{title:b("webapp_sharing_center_panel_collections_header"),additionalSx:{mb:"12px"},children:(0,F.tZ)(E,{collections:S,credentials:[],notes:[],secrets:[],entity:{type:"userGroup",name:w.status===qn.rq.Success?w.data?.name:"",groupId:o}})}):null,(0,F.tZ)(Hl.u,{title:b("webapp_sharing_center_panel_items_header"),children:(0,F.tZ)(E,{credentials:null!=(n=y.data?.sharedCredentials)?n:[],notes:null!=(a=y.data?.sharedSecureNotes)?a:[],secrets:null!=(i=y.data?.sharedSecrets)?i:[],entity:{type:"userGroup",name:w.status===qn.rq.Success?w.data?.name:"",groupId:o}})})]}):(0,F.tZ)("div",{"aria-labelledby":"tab-members",id:"content-members",children:(0,F.tZ)(Ql,{members:Z})})}),(0,F.tZ)(ic,{onClose:e,selectedGroups:[o]})]})};var rd,od=n(81433),sd=n(20733);const ld="webapp_sharing_center_panel_items_search",cd=({onClose:e,match:t})=>{var n,a,i,r;const{currentSpaceId:o}=(0,g.fV)(),s=null!=(n=t.params?.id)?n:"",[l,c]=(0,C.useState)(!1),[d,p]=(0,C.useState)(""),u=(0,ql.D)(s)||[],_=d?u?.filter((e=>e.name.toLowerCase().includes(d.toLowerCase())))||[]:u,{translate:m}=(0,v.Z)(),h=(0,L.k)(Xt.X,"getUserSharedVaultItems",{userId:s,groupId:"",query:d,spaceId:o}),b=(0,ta.o)("sharing_Web_GranularPermissions_dev");if((0,C.useEffect)((()=>{h.status===qn.rq.Loading?c(!0):c(!1)}),[h]),(0,C.useEffect)((()=>{h.status!==qn.rq.Success||h.data?.sharedCredentials.length||h.data?.sharedSecureNotes.length||h.data?.sharedSecrets.length||""!==d||e()}),[h,d,e]),null===b)return null;const w=b?td:Rc;return(0,F.BX)(Vl.s_,{onNavigateOut:e,ignoreClickOutsideClassName:na.Ht,children:[(0,F.tZ)(Vl.V9,{icon:(0,F.tZ)(sd.S,{email:s,avatarSize:98,placeholderFontSize:40,placeholderTextType:"firstTwoCharacters",avatarStyleOptions:{border:"1px solid rgba(0, 0, 0, 0.1)"}}),title:s}),(0,F.BX)(nd,{input:(0,F.tZ)(od.o,{"aria-label":m(ld),placeholder:m(ld),onChange:e=>p(e.target.value),prefixIcon:rd||(rd=(0,F.tZ)(N.W1M,{}))}),children:[_.length?(0,F.tZ)(Hl.u,{title:m("webapp_sharing_center_panel_collections_header"),additionalSx:{mb:"12px"},children:(0,F.tZ)(w,{collections:_,credentials:[],notes:[],secrets:[],entity:{type:"user",alias:s}})}):null,l?(0,F.tZ)(Xl.Z,{size:30,containerStyle:{height:"100%"}}):(0,F.tZ)(Hl.u,{title:m("webapp_sharing_center_panel_items_header"),children:(0,F.tZ)(w,{credentials:null!=(a=h.data?.sharedCredentials)?a:[],notes:null!=(i=h.data?.sharedSecureNotes)?i:[],secrets:null!=(r=h.data?.sharedSecrets)?r:[],entity:{type:"user",alias:s}})})]}),(0,F.tZ)(ic,{onClose:e,selectedUsers:[s]})]})};var dd=n(75100),pd=n(95870),ud=n(93314),_d=n(79846),md=n(48122);const hd="groupListCellMembers--re9DIUfVxm",gd="groupListRowCellItems--CHGTHJXJQ8",bd=({group:e,itemCount:t})=>{const{translate:n}=(0,v.Z)(),{routes:a}=(0,_.Xo)(),i={link:a.userSharingGroupInfo(e.id),type:"link",data:[{key:"name",content:(0,F.BX)(ne.k,{alignItems:"center",gap:"18px",children:[(0,F.tZ)("img",{src:Wl,width:48,height:48,className:"nameCellGroupImage--bLwtFIfXOq"}),(0,F.tZ)(N.nvN,{size:"medium",color:"ds.text.neutral.standard",children:(0,F.tZ)("strong",{children:e.name})})]})},{key:"itemsShared",content:n("webapp_sharing_center_item_shared",{count:t}),className:gd},{key:"members",content:(e=>{const t=e.users.length;return(0,F.BX)(ne.k,{alignItems:"center",children:[(0,F.tZ)(ne.k,{flexDirection:"row-reverse",children:e.users.slice(0,5).map((e=>(0,F.tZ)("div",{className:"memberIconPlacement--eNktqSBtA1",children:(0,F.tZ)(sd.S,{email:e,avatarSize:36,placeholderTextType:"firstTwoCharacters"})},e)))}),t>5?(0,F.tZ)("p",{className:"additionalMemberText--AeGepx5H5l",children:`${n("webapp_sharing_center_members_content",{count:t-5})}\n            `}):null]})})(e),className:hd}]};return(0,F.az)(zs.Z,{...i,key:e.id})};var wd=n(91198);const yd=({updateGroupSortDirection:e,currentSortDirection:t})=>{const{translate:n}=(0,v.Z)(),a=[{key:"name",sortable:!0,content:n("webapp_sharing_center_group_row_group_title")},{key:"itemsShared",sortable:!1,content:n("webapp_sharing_center_row_items_title"),className:gd},{key:"members",sortable:!1,content:n("webapp_sharing_center_group_row_members_title"),className:hd}],i=C.useCallback((t=>{let n="ascend";t.direction===wd._.descending&&(n="descend"),e(n)}),[e]);return(0,F.tZ)("div",{sx:{zIndex:1,position:"sticky",top:"0",backgroundColor:"ds.container.agnostic.neutral.supershy"},children:(0,F.tZ)(Ps.h,{header:a,onSort:i,options:(()=>{let e=wd._.ascending;return"descend"===t&&(e=wd._.descending),{field:"name",direction:e}})()})})},fd=({userGroups:e,updateGroupSortDirection:t,currentSortDirection:n,isGroupsWithItemCountLoading:a})=>{const{translate:i}=(0,v.Z)(),[r,o]=C.useState(e.length>5),[s,l]=C.useState(5),[c,d]=C.useState([]),p=C.useRef(!1);C.useEffect((()=>{a||(d(e),p.current?p.current=!1:(o(e.length>5),l(5)))}),[e,a]);const u=C.useCallback((()=>{s+10<e.length?(o(!0),l((e=>e+10))):(o(!1),l(e.length))}),[e,s]),_=C.useCallback((e=>{p.current=!0,t(e)}),[t]);return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(yd,{updateGroupSortDirection:_,currentSortDirection:n}),(0,F.tZ)("ul",{className:"groupList--Kcgos3LtjH",children:c.slice(0,s).map((e=>{var t;return(0,F.tZ)(bd,{group:e,itemCount:null!=(t=e.itemCount)?t:0},e.id)}))}),r?(0,F.tZ)("div",{className:"showMoreButton--_1B1D4GXhw",children:(0,F.tZ)(w.z,{intensity:"quiet",mood:"neutral",size:"medium",onClick:u,children:i("webapp_sharing_center_group_pagination")})}):null]})},xd=e=>(0,F.tZ)("div",{sx:{whiteSpace:"normal",height:"100%"},children:(0,F.BX)("div",{sx:{margin:"0 auto",textAlign:"center",maxWidth:"480px",paddingTop:"5%"},children:[(0,F.tZ)("div",{sx:{display:"flex",alignItems:"flex-end",height:"180px",justifyContent:"space-around",marginBottom:"20px"},children:e.icon}),e.title?(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.medium",sx:{marginBottom:"16px",marginTop:"20px"},color:"ds.text.neutral.catchy",style:e.titleStyle,children:e.title}):null,(0,F.tZ)("div",{sx:{color:"ds.text.neutral.standard",textStyle:"ds.text.body.standard",lineHeight:"20px"},style:e.childrenStyle,children:e.children})]})});var Sd=n(26658);const vd=({updateUserSortDirection:e,currentSortDirection:t})=>{const{translate:n}=(0,v.Z)(),a=[{key:"userId",sortable:!0,content:n("webapp_sharing_center_member_row_member_title")},{key:"itemsShared",sortable:!1,content:n("webapp_sharing_center_row_items_title"),className:"itemsShared--QSWkYv0Bky"}];return(0,F.tZ)("div",{sx:{zIndex:2,position:"sticky",top:"0",backgroundColor:"ds.container.agnostic.neutral.supershy"},children:(0,F.tZ)(Ps.h,{header:a,onSort:t=>{let n="ascend";t.direction===wd._.descending&&(n="descend"),e(n)},options:(()=>{let e=wd._.ascending;return"descend"===t&&(e=wd._.descending),{field:"userId",direction:e}})()})})},Cd=({userLogin:e,itemCount:t})=>{var n;const{translate:a}=(0,v.Z)(),{routes:i}=(0,_.Xo)(),r={link:i.userSharingUserInfo(e),type:"link",data:[{key:"name",content:n||(n=(0,F.BX)(ne.k,{alignItems:"center",gap:"18px",children:[(0,F.tZ)(jl.H,{email:e}),(0,F.tZ)(D.n,{children:(0,F.tZ)("strong",{children:e})})]}))},{key:"itemsShared",content:a("webapp_sharing_center_item_shared",{count:t}),className:"userRowCellItems--Q8jZaDtKHp"}]};return(0,F.az)(zs.Z,{...r,key:e})},Zd=({sharingUsersWithItemCount:e,isSharingUsersWithItemCountLoading:t,updateUserSortDirection:n,currentSortDirection:a,spaceId:i})=>{const[r,o]=C.useState(1),[s,l]=C.useState(!0),[c,d]=C.useState([]);C.useEffect((()=>{t||d(e)}),[e,t]),C.useEffect((()=>{o(1),l(!0)}),[i]);const p=c.slice(0,30*r);return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(vd,{updateUserSortDirection:n,currentSortDirection:a}),(0,F.tZ)(Sd.C,{onNextPage:()=>{30*r+30>=e.length?l(!1):l(!0),o((e=>e+1))},hasMore:s,children:p.map((({id:e,itemCount:t})=>(0,F.tZ)(Cd,{userLogin:e,itemCount:t},e)))})]})};var kd;const Id=()=>(0,F.tZ)(_o.h,{startWidgets:(0,F.tZ)(ac.Z,{sharing:{permission:tc.y3.Limited,selectedCredentials:[],selectedGroups:[],selectedNotes:[],selectedUsers:[],selectedPrivateCollections:[],selectedSharedCollections:[],selectedSecrets:[],step:nc.N.Elements,tab:nc.f.Passwords},mood:"brand",intensity:"catchy",origin:je.Origin.ItemListView}),endWidget:kd||(kd=(0,F.tZ)(mo.D,{}))});var Ed,Dd=n(77334);const Td=({header:e,onClose:t,children:n,headerIconName:a})=>(0,F.BX)(ne.k,{flexDirection:"column",sx:{height:"fit-content",width:"342px",borderWidth:"1px",borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy",borderRadius:"8px",padding:"16px"},children:[(0,F.BX)(ne.k,{flexWrap:"nowrap",gap:"16px",children:[(0,F.tZ)("div",{sx:{padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px",height:"40px",width:"40px"},children:(0,F.tZ)(st.JO,{name:a,size:"large",color:"ds.text.brand.standard"})}),(0,F.tZ)(N.X6q,{size:"x-small",color:"ds.text.neutral.catchy",children:e}),(0,F.tZ)(w.z,{layout:"iconOnly",mood:"neutral",intensity:"supershy",icon:Ed||(Ed=(0,F.tZ)(st.JO,{name:"ActionCloseOutlined",color:"ds.text.neutral.quiet",size:"small"})),onClick:t})]}),n]});var Ad=n(58689);const Nd=({onClose:e})=>{const{translate:t}=(0,v.Z)(),n=(0,L.k)(Ad.c,"getB2CPlanPricing"),a=n?.data?.plans?.family?.offers?.find((e=>"monthly"===e.billingPeriod.periodicity)),i=n?.data?.currency,r=a?.price;return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.PaywallFamily)}),[]),(0,F.BX)(Td,{header:t("webapp_sharing_center_family_dialog_header"),headerIconName:"GroupOutlined",onClose:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.AllOffers],hasChosenNoAction:!0})),e()},children:[(0,F.tZ)(N.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{marginTop:"16px"},children:t("webapp_sharing_center_family_dialog_copy")}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",fullsize:!0,sx:{marginTop:"24px"},onClick:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.AllOffers],chosenAction:je.CallToAction.AllOffers,hasChosenNoAction:!1})),window.open("https://www.dashlane.com/pricing-personal","_blank")},children:t("webapp_sharing_center_family_dialog_upgrade_cta")}),(0,F.tZ)("div",{sx:{flexDirection:"column",display:"flex",marginTop:"8px",p:{textAlign:"center"}},children:i&&r?(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(N.nvN,{size:"small",color:"ds.text.neutral.standard",children:t("webapp_sharing_center_family_dialog_price",{pricePerMonth:t.price(i,r/100)})}),(0,F.tZ)(N.nvN,{size:"small",color:"ds.text.neutral.standard",children:t("webapp_sharing_center_family_dialog_billed_anually")})]}):null})]})},Od=({onClose:e})=>{const{translate:t}=(0,v.Z)();return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.PaywallB2b)}),[]),(0,F.BX)(Td,{header:t("webapp_sharing_center_work_dialog_header"),headerIconName:"ItemCompanyOutlined",onClose:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.AllOffers],hasChosenNoAction:!0})),e()},children:[(0,F.tZ)(N.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{marginTop:"16px"},children:t("webapp_sharing_center_work_dialog_copy")}),(0,F.tZ)(w.z,{mood:"brand",intensity:"quiet",fullsize:!0,onClick:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.AllOffers],chosenAction:je.CallToAction.AllOffers,hasChosenNoAction:!1})),window.open("https://www.dashlane.com/pricing","_blank")},sx:{marginTop:"24px"},children:t("webapp_sharing_center_work_cta_learn_more")})]})};var Pd=n(2493);const Ld=({hasSharedUsers:e})=>{const t=(0,Ar.Y)(),{hasDismissedMessage:n,dismissMessage:a}=(0,Pd.L)(Vr.U.SHARING_CENTER_FAMILY),{hasDismissedMessage:i,dismissMessage:r}=(0,Pd.L)(Vr.U.SHARING_CENTER_WORK),o=t.status===qn.rq.Success,s=o&&t.data&&!n&&!(0,Is.AF)(t.data)&&!(0,Is.ry)(t.data)&&e,l=o&&t.data&&!i&&!(0,Is.AF)(t.data)&&e;return s||l?(0,F.tZ)("div",{children:(0,F.BX)(ne.k,{flexDirection:"column",gap:"16px",sx:{position:"sticky",top:"60px"},children:[s?(0,F.tZ)(Nd,{onClose:a}):null,l?(0,F.tZ)(Od,{onClose:r}):null]})}):null};var Rd=n(15394),Md=n(46876),Bd=n(64959),zd=n(57459),Ud=n(135),Fd=n(10051),Xd=n(3090);let qd=function(e){return e.SUCCESS="success",e.ERROR="error",e.IDLE="idle",e}({});const Hd=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:e("onb_vault_get_started_invite_members_dialog_step_failure_subtitle")}),(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:e("onb_vault_get_started_invite_members_dialog_step_failure_footer")})]})};var Vd=n(39874);const Wd=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,F.tZ)("div",{sx:{display:"flex",alignItems:"center",backgroundColor:"ds.container.expressive.positive.quiet.disabled",borderRadius:"12px",height:"200px"},children:(0,F.tZ)("img",{sx:{userSelect:"none",pointerEvents:"none",width:"300px",height:"200px",maxWidth:"100%",margin:"0 auto"},alt:"","aria-hidden":!0,src:Vd})}),(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:e("onb_vault_get_started_invite_members_dialog_step_success_message")}),(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:e("onb_vault_get_started_invite_members_dialog_step_success_footer")})]})};var jd=n(32690);const Gd=({isLoading:e,dialogData:{emailFields:t,handleEmailChange:n}})=>{const{translate:a}=(0,v.Z)();return(0,F.tZ)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:t.map(((t,i)=>(0,F.tZ)(jd.s,{label:a("onb_vault_get_started_invite_members_dialog_step_idle_email"),type:"email",value:t.value,onChange:e=>n(i,e.currentTarget.value),disabled:e,error:!1===t.valid,feedback:!1===t.valid?a("onb_vault_get_started_invite_members_dialog_step_idle_email_error"):void 0},t.id)))})},Kd=({isLoading:e,dialogData:t})=>{const{translate:n}=(0,v.Z)();return(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:n("onb_vault_get_started_invite_members_dialog_step_idle_subtitle")}),(0,F.tZ)(Gd,{isLoading:e,dialogData:t}),(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:n.markup("onb_vault_get_started_invite_members_dialog_step_idle_footer_markup",{link:"https://console.dashlane.com/#/members"})})]})};var Yd,$d;const Qd="onb_vault_get_started_invite_members_dialog_step_idle_action_cancel",Jd=({status:e,dialogData:t,isLoading:n})=>{switch(e){case qd.ERROR:return Yd||(Yd=(0,F.tZ)(Hd,{}));case qd.SUCCESS:return $d||($d=(0,F.tZ)(Wd,{}));default:return(0,F.tZ)(Kd,{dialogData:t,isLoading:n})}},ep=({isShown:e,setIsShown:t})=>{const{translate:n}=(0,v.Z)(),[a,i]=(0,C.useState)(!1),[r,o]=(0,C.useState)(qd.IDLE),s=(()=>{const e=Array.from({length:3},(()=>({value:"",valid:null,id:(0,zd.Z)()}))),{proposeMembers:t}=(0,K.u)(Ud.L),[n,a]=(0,C.useState)(e);return{emailFields:n,handleEmailChange:(e,t)=>{const i=n.map(((n,a)=>a===e?{...n,value:t,valid:t?n.valid:null}:n));a(i)},handleEmailsReset:()=>{a(e)},handleProposeMembers:()=>{const{areEmailsValid:e,emails:i}=(()=>{const e=n.map((e=>({...e,valid:e.value?(0,Fd.vV)(e.value):null})));a(e);const t=e.filter((({value:e})=>!!e));return{areEmailsValid:!!t.length&&t.every((({valid:e})=>!0===e)),emails:t.length?t.map((({value:e})=>e.trim().toLowerCase())):[]}})();return e?t({proposedMemberLogins:i}).then((e=>{if("failure"===e.tag)throw new Error("Something went wrong while inviting members");const t=e.data?Object.keys(e.data.proposedMembers).length:0;if(e.data&&(0,Xd.e)(e.data)){const n=e.data?Object.keys(e.data.refusedMembers).length:0;throw((e,t,n)=>{(0,$e.Kz)(new je.UserSendManualInviteEvent({flowStep:je.FlowStep.Error,isImport:!1,isResend:!1,inviteCount:e,inviteFailedCount:n,inviteResentCount:0,inviteSuccessfulCount:t}))})(i.length,t,n),new Error("Some members were refused")}return((e,t)=>{(0,$e.Kz)(new je.UserSendManualInviteEvent({flowStep:je.FlowStep.Complete,isImport:!1,isResend:!1,inviteCount:e,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:t}))})(i.length,t),qd.SUCCESS})).catch((()=>qd.ERROR)):Promise.resolve(qd.IDLE)}}})();(0,C.useEffect)((()=>{}),[e,r]);const l=()=>{i(!1),o(qd.IDLE),s.handleEmailsReset()},c=()=>{r===qd.IDLE&&(0,$e.Kz)(new je.UserSendManualInviteEvent({flowStep:je.FlowStep.Cancel,isImport:!1,isResend:!1,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0})),t(!1),l()},d=()=>{i(!0),s.handleProposeMembers().then((e=>{o(e)})).finally((()=>{i(!1)}))};return(0,F.tZ)(Jo.Vq,{isOpen:e,title:(e=>{switch(e){case qd.ERROR:return n("onb_vault_get_started_invite_members_dialog_step_failure_title");case qd.SUCCESS:return n("onb_vault_get_started_invite_members_dialog_step_success_title");default:return n("onb_vault_get_started_invite_members_dialog_step_idle_title")}})(r),actions:(e=>{switch(e){case qd.ERROR:return{primary:{children:n("onb_vault_get_started_invite_members_dialog_step_failure_action_retry"),onClick:l,layout:"iconTrailing"},secondary:{children:n("onb_vault_get_started_invite_members_dialog_step_failure_cancel"),onClick:c}};case qd.SUCCESS:return{primary:{children:n("onb_vault_get_started_invite_members_dialog_step_success_button"),onClick:c,layout:"iconTrailing"}};default:return{primary:{children:n("onb_vault_get_started_invite_members_dialog_step_idle_action_invite"),onClick:d,layout:"iconTrailing",isLoading:a,disabled:s.emailFields.every((({value:e})=>""===e))},secondary:{children:n(Qd),onClick:c,disabled:a}}}})(r),closeActionLabel:n(Qd),onClose:c,children:(0,F.tZ)(Jd,{status:r,dialogData:s,isLoading:a})})};var tp=n(7576);const np=()=>(0,$e.Kz)(new je.UserClickEvent({button:je.Button.StartSharing})),ap=()=>{const{translate:e}=(0,v.Z)();return(0,F.tZ)(ac.Z,{tooltipPlacement:"bottom",text:e("webapp_sharing_center_empty_state_next_step_share"),mood:"brand",intensity:"catchy",layout:"iconTrailing",icon:"ArrowRightOutlined",buttonClick:np,sharing:{permission:tc.y3.Limited,selectedCredentials:[],selectedGroups:[],selectedNotes:[],selectedUsers:[],selectedPrivateCollections:[],selectedSharedCollections:[],selectedSecrets:[],step:nc.N.Elements,tab:nc.f.Passwords},origin:je.Origin.ItemListView})},ip=()=>{const{data:e,status:t}=(0,L.k)(Ht.L,"query",{vaultItemTypes:[ut.U.Secret,ut.U.SecureNote,ut.U.Credential]});if(t!==qn.rq.Success)return{status:t};const{credentialsResult:n,secretsResult:a,secureNotesResult:i}=e;return{status:qn.rq.Success,hasSharableItems:[n,a,i].reduce(((e,t)=>e+t.matchCount),0)>0}},rp=()=>{const{translate:e}=(0,v.Z)(),{routes:t}=(0,a.Xo)();return(0,F.tZ)(tp.G,{title:e("webapp_sharing_center_empty_state_next_step_go_to_logins_title"),description:e("webapp_sharing_center_empty_state_next_step_go_to_logins_description"),button:{children:e("webapp_sharing_center_empty_state_next_step_go_to_logins_button"),layout:"iconTrailing",icon:"ArrowRightOutlined",mood:"brand",intensity:"catchy",onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.GoToLogins})),(0,a.uX)(t.userCredentials)}}})};var op,sp;const lp={title:{addLogins:"webapp_sharing_center_empty_state_title_admins_with_team_limited_sharing_add_logins",inviteMembers:"webapp_sharing_center_empty_state_title_admins_with_team_limited_sharing_invite_members",addLoginsWhileHavingTeamMembers:"webapp_sharing_center_empty_state_title_admins_with_team_limited_sharing_add_logins_while_having_members",startSharing:"webapp_sharing_center_empty_state_title_admins_with_team_limited_sharing_start_sharing"},description:{addLogins:"webapp_sharing_center_empty_state_admins_with_team_limited_sharing_description_add_logins",inviteMembers:"webapp_sharing_center_empty_state_admins_with_team_limited_sharing_description_invite_members",addLoginsWhileHavingTeamMembers:"webapp_sharing_center_empty_state_admins_with_team_limited_sharing_description_add_logins_while_having_members",startSharing:"webapp_sharing_center_empty_state_admins_with_team_limited_sharing_description_start_sharing"},nextStep:{inviteMembers:{title:"webapp_sharing_center_empty_state_next_step_invite_members_title",description:"webapp_sharing_center_empty_state_next_step_invite_members_description_markup",button:"webapp_sharing_center_empty_state_next_step_invite_members_button",infobox:{title:"webapp_sharing_center_empty_state_next_step_invite_members_infobox_title",description:"webapp_sharing_center_empty_state_next_step_invite_members_infobox_description"}}}},cp=({hasTeamMembers:e})=>{var t;const[n,a]=(0,C.useState)(!1),{translate:i}=(0,v.Z)(),r=ip();if(r.status!==R.rq.Success)return null;const o=()=>{a(!0)},s=e.hasTeamMembers?"startSharing":"inviteMembers",l=e.hasTeamMembers?"addLoginsWhileHavingTeamMembers":"addLogins",c=r.hasSharableItems?s:l;return(0,F.tZ)(nl.x,{title:i(lp.title[c]),description:i(lp.description[c]),illustrationLightSrc:Md,illustrationDarkSrc:Bd,children:r.hasSharableItems?e.hasTeamMembers?op||(op=(0,F.tZ)(ap,{})):(0,F.tZ)((()=>(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"32px",width:"100%"},children:[e.hasInvitations?(0,F.tZ)(V.k,{title:i(lp.nextStep.inviteMembers.infobox.title),description:i(lp.nextStep.inviteMembers.infobox.description),mood:"warning",sx:{margin:"0 24px"}}):null,(0,F.tZ)(tp.G,{title:i(lp.nextStep.inviteMembers.title),description:i.markup(lp.nextStep.inviteMembers.description),button:{children:i(lp.nextStep.inviteMembers.button),layout:"iconTrailing",icon:"ArrowRightOutlined",mood:"brand",intensity:"catchy",onClick:o}}),t||(t=(0,F.tZ)(ep,{isShown:n,setIsShown:a}))]})),{}):sp||(sp=(0,F.tZ)(rp,{}))})};var dp,pp;const up={b2c:{title:{ready:"webapp_sharing_center_empty_state_title_ready",notReady:"webapp_sharing_center_empty_state_title_not_ready"},description:{ready:"webapp_sharing_center_empty_state_description_ready",notReady:"webapp_sharing_center_empty_state_description_not_ready"}},employee:{title:{ready:"webapp_sharing_center_empty_state_title_ready_employee",notReady:"webapp_sharing_center_empty_state_title_not_ready_employee"},description:{ready:"webapp_sharing_center_empty_state_description_ready_employee",notReady:"webapp_sharing_center_empty_state_description_not_ready_employee"}},admin:{title:{ready:"webapp_sharing_center_empty_state_title_ready_admin",notReady:"webapp_sharing_center_empty_state_title_not_ready_admin"},description:{ready:"webapp_sharing_center_empty_state_description_ready_admin",notReady:"webapp_sharing_center_empty_state_description_not_ready_admin"}}},_p=()=>{const{translate:e}=(0,v.Z)(),t=(0,tl.Q)(),n=ip();if(n.status!==qn.rq.Success||t.status!==qn.rq.Success)return null;const a=n.hasSharableItems,i=up[t.isB2B?t.b2bRoles.isAdmin?"admin":"employee":"b2c"];return(0,F.tZ)(nl.x,{title:e(i.title[a?"ready":"notReady"]),description:e(i.description[a?"ready":"notReady"]),illustrationLightSrc:Md,illustrationDarkSrc:Bd,children:a?dp||(dp=(0,F.tZ)(ap,{})):pp||(pp=(0,F.tZ)(rp,{}))})};var mp,hp=n(5822);const gp=()=>{const e=(0,hp.V)(),t=(0,tl.Q)(),n=(()=>{const e=(0,Rd.gW)(["internalSharingOnly"]);return e.status!==qn.rq.Success?{status:e.status}:{status:qn.rq.Success,hasSharingRestrictedToTeam:e.data}})(),a=(({teamId:e})=>{var t,n,a;const i=(0,L.k)(Ud.L,"getMembersList",{teamId:null!=(t=e?.toString())?t:""},{initialSkip:!e});if(i.status!==R.rq.Success)return{status:i.status};const r=(null!=(n=i.data?.members)?n:[]).filter((e=>"accepted"===e.status)),o=(null!=(a=i.data?.members)?a:[]).filter((e=>["pending","proposed"].includes(e.status)));return{status:R.rq.Success,hasTeamMembers:r.length>1,hasInvitations:o.length>0}})({teamId:e.status===qn.rq.Success?e.teamId:null});return t.status!==qn.rq.Success||n.status!==qn.rq.Success?null:t.isB2B&&t.b2bRoles.isAdmin&&n.hasSharingRestrictedToTeam&&a.status===qn.rq.Success?(0,F.tZ)(cp,{hasTeamMembers:a}):mp||(mp=(0,F.tZ)(_p,{}))};var bp,wp,yp;const fp=(e,t)=>{localStorage.setItem(e,t)},xp=e=>{const t=localStorage.getItem(e);return(n=t)===ud.S.Ascend||n===ud.S.Descend?t:ud.S.Ascend;var n},Sp=({children:e})=>{var t,n;const{currentSpaceId:a}=(0,g.fV)(),i=(0,C.useRef)(null),{translate:r}=(0,v.Z)(),o=(0,Dd.a)(),s=o.status===qn.rq.Success,l=o.data,{unseen:c,setAsSeen:d}=(0,_d.m)(pd.O.SharingCenterDisabledBanner),[p,u]=(0,C.useState)(xp(md.x5)),_=(0,L.k)(dd.m,"getSharingGroupsWithItemCount",{sortDirection:p}),m=null!=(t=_.data)?t:[],h=0!==m?.length,b=(0,C.useCallback)((e=>{fp(md.x5,e),u(e)}),[]),[w,y]=(0,C.useState)(xp(md.J2)),f=(0,L.k)(dd.m,"getSharingUsers",{sortDirection:w,spaceId:a}),x=null!=(n=f.data)?n:[],S=0!==x?.length,Z=(0,C.useCallback)((e=>{fp(md.J2,e),y(e)}),[]);(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.SharingList)}),[]);const k=(0,F.tZ)(Qs.t,{title:"webapp_sharing_center_empty_state_page_title"});if(f.status===qn.rq.Loading&&_.status===qn.rq.Loading)return(0,F.tZ)(Go.I,{header:k,children:bp||(bp=(0,F.tZ)(xd,{icon:(0,F.tZ)(Xl.Z,{size:50}),title:""}))});const I=h||S;return(0,F.BX)(Go.I,{header:I?wp||(wp=(0,F.tZ)(Id,{})):k,children:[e,(0,F.BX)("div",{sx:{display:"flex",gap:"16px",justifyContent:I?"start":"center",minHeight:"100%"},children:[I?(0,F.tZ)("div",{sx:{width:"100%"},ref:i,children:(0,F.BX)("div",{sx:{display:"grid",gridTemplateColumns:"auto"},children:[!l&&c&&s?(0,F.tZ)(N.vDh,{severity:"warning",size:"descriptive",layout:"inline",title:(0,F.tZ)("strong",{children:r("team_sharing_disabled_banner_title")}),actions:[(0,F.tZ)(N.zxk,{type:"button",nature:"secondary",onClick:d,children:r("team_sharing_disabled_banner_dismiss_cta")},"dismiss")],sx:{margin:"0 32px"},children:r("team_sharing_disabled_banner_description")}):null,h?(0,F.tZ)(fd,{userGroups:m,isGroupsWithItemCountLoading:_.status===qn.rq.Loading,updateGroupSortDirection:b,currentSortDirection:p}):null,S?(0,F.tZ)(Zd,{sharingUsersWithItemCount:x,isSharingUsersWithItemCountLoading:f.status===qn.rq.Loading,updateUserSortDirection:Z,currentSortDirection:w,spaceId:a}):null]})}):yp||(yp=(0,F.tZ)(gp,{})),(0,F.tZ)(Ld,{hasSharedUsers:f.status===qn.rq.Success&&!!x.length})]})]})},vp=({path:e})=>{const t=()=>{(0,a.uX)(e)};return(0,F.BX)(a.GB,{path:[e,`${e}/group/:uuid`,`${e}/user/:id`],component:Sp,children:[(0,F.tZ)(a.ZB,{exact:!0,path:`${e}/group/:uuid([-a-zA-Z\\d]{36})`,component:id,additionalProps:{onClose:t}}),(0,F.tZ)(a.ZB,{exact:!0,path:`${e}/user/:id`,component:cd,additionalProps:{onClose:t}})]})};var Cp=n(99203);const Zp={panel:"panel--N1ouXgaC8W",panelContent:"panelContent--jS21l5dIX6",container:"container--yiXjg9JYcE",panelText:"panelText--xkj8_k3Y_c",goPremiumCta:"goPremiumCta--3TYkklwo6a"};var kp,Ip;const Ep=e=>(0,F.tZ)(Cp.Z,{classNames:[Zp.goPremiumCta],onClick:()=>{(0,Oe.Yk)(e.target,{type:"upsellScreen",action:"goPremium"})},label:e.label}),Dp=({target:e})=>{const{translate:t}=(0,v.Z)();return(0,F.BX)("div",{className:Zp.panelText,children:[(0,F.tZ)("h1",{children:t("webapp_upsell_header")}),(0,F.tZ)("p",{children:t("webapp_upsell_instructions_introduction")}),(0,F.BX)("ul",{children:[(0,F.tZ)("li",{children:t.markup("webapp_upsell_instructions_bulletpoint_synchronisation_markup")}),(0,F.tZ)("li",{children:t.markup("webapp_upsell_instructions_bulletpoint_backup_markup")}),(0,F.tZ)("li",{children:t.markup("webapp_upsell_instructions_bulletpoint_sharing_markup")}),(0,F.tZ)("li",{children:t.markup("webapp_upsell_instructions_bulletpoint_support_markup")})]}),(0,F.tZ)(Ep,{label:t("webapp_upsell_cta"),target:e})]})},Tp=()=>(0,F.tZ)("div",{className:Zp.panelIllustration,children:kp||(kp=(0,F.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMy40NDkxIDk4LjIxMjNINDYuNDAzNVY5MS4yNDQzSDMzLjQ0OTFWOTguMjEyM1oiIGZpbGw9IiNFMEREREEiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00My40MTQgODAuMjk0NVY0Mi40NjhIMTU0LjAyNVYxMDYuMTc2TDE2MSA5OS4yMDc4VjM1LjVIMzYuNDUwMlYzNy4yNzQ4QzM2LjQ0MjUgMzcuMzQ1OCAzNi40Mzg2IDM3LjQxNzkgMzYuNDM4NiAzNy40OTA5VjgwLjI5NDVIMjQuNDgwN0MyMS40NTM4IDgwLjI5NDUgMTkgODIuNzQ1NyAxOSA4NS43Njk0VjEzOC41MjdDMTkgMTQxLjU1MSAyMS40NTM4IDE0NC4wMDIgMjQuNDgwNyAxNDQuMDAySDU1LjM3MTlDNTguMzk4OCAxNDQuMDAyIDYwLjg1MjYgMTQxLjU1MSA2MC44NTI2IDEzOC41MjdWMTIwLjExMkg4Mi41NDcxTDc3LjM4NDQgMTM3LjUzMkg2Ni4zMzMzVjE0NC41SDEzNy4wODRWMTM3LjUzMkgxMjcuOTg3TDEyMi4zNTUgMTIwLjExMkgxNTkuMDA3QzE1OS4wODEgMTIwLjExMiAxNTkuMTU0IDEyMC4xMDggMTU5LjIyNiAxMjAuMUgxNjFWMTEzLjE0NEw2MC44NTI2IDExMy4xNDRWODUuNzY5NEM2MC44NTI2IDgyLjc0NTcgNTguMzk4OCA4MC4yOTQ1IDU1LjM3MTkgODAuMjk0NUg0My40MTRaTTg0LjY1OTEgMTM3LjUzMkw4OS44MjE4IDEyMC4xMTJIMTE1LjAyNUwxMjAuNjU3IDEzNy41MzJIODQuNjU5MVpNMjUuOTc1NCAxMzcuMDM0Vjg3LjI2MjZINTMuODc3MlYxMzcuMDM0SDI1Ljk3NTRaIiBmaWxsPSIjRTBERERBIi8+Cjwvc3ZnPgo=",alt:""}))}),Ap=()=>{const{routes:e}=(0,_.Xo)(),t=(0,Es.U)(),n=e.userGoPremium(null!=t?t:"");return(0,F.tZ)("div",{className:Zp.panel,children:(0,F.tZ)("div",{className:Zp.panelContent,children:(0,F.BX)("div",{className:Zp.container,children:[(0,F.tZ)(Dp,{target:n}),Ip||(Ip=(0,F.tZ)(Tp,{}))]})})})};function Np({path:e}){return(0,F.tZ)(a.Vy,{path:e,component:Ap})}n(61238);var Op=n(64120);const Pp=()=>{(0,$e.Kz)(new je.UserOpenHelpCenterEvent({helpCenterArticleCta:je.HelpCenterArticleCta.GetAntiphishingTips}))},Lp=e=>{(0,$e.Kz)(new je.UserAntiphishingRedirectEvent({})),Promise.all([(0,je.hashDomain)(new qt.Y(e).getRootDomain()),(0,je.hashDomain)("dashlane.com")]).then((e=>{(0,$e.Kz)(new je.AnonymousAntiphishingRedirectEvent({phishingDomain:{type:je.DomainType.Web,id:e[0]},redirectDomain:{type:je.DomainType.Web,id:e[1]}}))}))};var Rp;const Mp=/^[_a-zA-Z0-9-\.]*$/im,Bp=`${we.tb}/dont-take-the-bait-password-managers-can-help-shield-you-from-phishing-attacks/`,zp="app.dashlane.com",Up=()=>{const{routes:{clientRoutesBasePath:e}}=(0,_.Xo)(),{translate:t}=(0,v.Z)(),[n,i]=(0,C.useState)(!1),[r,o]=(0,C.useState)(!1),s=(0,F.tZ)(La.l_,{to:e}),l=(0,C.useMemo)((()=>{if(!window.location.search)return null;const e=(0,a.zN)(window.location.search).get("token");return e?(e=>{try{return e?decodeURIComponent(atob(e)):null}catch(e){return null}})(e):null}),[window.location.search]),{isAutoRedirected:c,addToAutoRedirectedDomain:d}=(e=>{const{addAutoRedirectedDomain:t}=(0,K.u)(Op.J);return{isAutoRedirected:(0,L.k)(Op.J,"isAutoRedirectedDomain",{domain:e}),addToAutoRedirectedDomain:async()=>{await t({domain:e})}}})(l),p=(0,C.useMemo)((()=>!Mp.test(null!=l?l:"")),[l]);return(0,C.useEffect)((()=>(0,$e.Nc)(je.Page.AntiphishingRedirect,je.BrowseComponent.MainApp)),[]),c.status!==R.rq.Success?null:!l||c.data?(l&&Lp(l),s):n?s:(0,F.tZ)("div",{sx:{padding:"80px 32px 16px 32px"},children:(0,F.BX)("div",{sx:{width:"100%",height:"100%",maxWidth:"560px",margin:"0 auto"},children:[Rp||(Rp=(0,F.tZ)(fr.T,{height:48,name:"DashlaneLockup"})),(0,F.tZ)(N.X6q,{size:"medium",sx:{marginTop:"56px",marginBottom:"16px"},children:t("anti_phishing_title")}),(0,F.tZ)(N.nvN,{size:"large",sx:{marginBottom:"40px"},children:t.markup("anti_phishing_description_markup",{targetedDomain:zp})}),(0,F.BX)(ne.k,{flexDirection:"row",flexWrap:"nowrap",gap:24,sx:{marginBottom:"24px"},children:[(0,F.tZ)(od.o,{value:l,label:t("anti_phishing_phishing_domain"),sx:{"> div":{borderColor:"ds.border.danger.standard.idle"},"> label":{color:"ds.text.danger.quiet"},input:{fontWeight:600}}}),(0,F.tZ)(od.o,{value:zp,label:t("anti_phishing_targeted_domain"),sx:{"> div":{borderColor:"ds.border.positive.standard.idle"},"> label":{color:"ds.text.positive.quiet"},input:{fontWeight:600}}})]}),p?(0,F.tZ)(V.k,{size:"small",title:t("anti_phishing_punycode_info")}):null,(0,F.BX)(N.rUS,{sx:{color:"ds.text.brand.standard",margin:"40px 0",display:"block"},target:"_blank",onClick:Pp,href:Bp,children:[t("anti_phishing_blog_link"),(0,F.tZ)(N.RTC,{color:"ds.text.brand.standard",size:16,sx:{marginLeft:"4px",verticalAlign:"bottom",display:"inline"}})]}),(0,F.tZ)(as.X,{sx:{marginBottom:"40px"},checked:r,onClick:()=>{o(!r)},label:t("anti_phishing_redirect_checkbox")}),(0,F.tZ)(ne.k,{flexDirection:"row-reverse",children:(0,F.tZ)(w.z,{type:"button",mood:"brand",onClick:async()=>{r&&await d(),Lp(l),i(!0)},children:t("anti_phishing_go_to_dashlane_link")})})]})})},Fp=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:Up}),Xp=(0,C.lazy)((()=>n.e(1711).then(n.bind(n,11711)).then((e=>({default:e.CollectionView}))))),qp=(0,C.lazy)((()=>n.e(1038).then(n.bind(n,11038)).then((e=>({default:e.CollectionsOverview}))))),Hp=({path:e})=>(0,F.BX)(C.Suspense,{fallback:null,children:[(0,F.tZ)(a.Vy,{exact:!0,path:e,component:qp}),(0,F.tZ)(a.Vy,{path:`${e}/:collectionId`,component:Xp})]});var Vp=n(40846),Wp=n(75632);const jp=({lee:e})=>{const{translate:t}=(0,v.Z)(),[n,a]=(0,C.useState)(e.carbon.webOnboardingMode);(0,C.useEffect)((()=>{{const t=e.carbon.webOnboardingMode;if(!n||!t)return void a(t);a(t)}}),[e.carbon.webOnboardingMode]);const{leelooStep:i,completedSteps:r}=e.carbon.webOnboardingMode;return(0,F.tZ)(Ke.T,{style:{left:"32px",top:"190px"},arrowPosition:"topLeft",title:t("webapp_onboarding_notification_password_save_success_title"),description:t("webapp_onboarding_notification_password_save_success_description"),show:r?.saveCredentialOnWeb&&i===Ge.s.SHOW_PASSWORD_SAVE_SUCCESS,confirmLabel:t("webapp_onboarding_notification_password_save_success_confirmation"),onConfirm:()=>{tt({activeOnboardingType:"loginWeb",leelooStep:Ge.s.SHOW_LOGIN_USING_EXTENSION_NOTIFICATION})}})};var Gp,Kp,Yp=n(62735),$p=n(88795);const Qp="dashlane-credentials-dialog",Jp=({lee:e})=>(0,F.tZ)(Yp.Z,{children:(0,F.BX)($p.x,{children:[Gp||(Gp=(0,F.tZ)("div",{id:Qp})),(0,F.tZ)(We.r,{dialogId:Qp,children:(0,F.tZ)(Vp.B,{children:(0,F.BX)(Os,{children:[(0,F.tZ)(jp,{lee:e}),Kp||(Kp=(0,F.tZ)(Wp.k,{}))]})})})]})}),eu=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:Jp});var tu=n(88455);const nu=()=>(0,F.tZ)(tu.t,{tooltipPassThrough:!1,tooltipContent:"",handleAddNew:e=>{},addNewDisabled:!0,shareButtonElement:null,shouldDisplayNewAccountImportButton:!1,shouldDisplayAddButton:!1}),au={admin:{title:"webapp_passkeys_empty_state_title_admin",description:"webapp_passkeys_empty_state_description_admin",nextStep:{directory:"webapp_passkeys_empty_state_next_step_directory_title"}},employee:{title:"webapp_passkeys_empty_state_title_employee",description:"webapp_passkeys_empty_state_description_employee",nextStep:{directory:"webapp_passkeys_empty_state_next_step_directory_title"}},b2c:{title:"webapp_passkeys_empty_state_title",description:"webapp_passkeys_empty_state_description",nextStep:{directory:"webapp_passkeys_empty_state_next_step_directory_title"}}},iu=()=>{const{translate:e}=(0,v.Z)(),t=(0,tl.Q)();if(t.status!==qn.rq.Success)return null;const n=au[t.isB2B?t.b2bRoles.isAdmin?"admin":"employee":"b2c"];return(0,F.tZ)(nl.x,{title:e(n.title),description:e(n.description),illustrationLightSrc:ie,illustrationDarkSrc:ae,children:(0,F.tZ)(w.z,{mood:"brand",intensity:"quiet",layout:"iconTrailing",icon:"ActionOpenExternalLinkOutlined",onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.CheckSupportedDevices})),(0,Oe.Yo)(we._K)},children:e(n.nextStep.directory)})})};var ru,ou,su=n(47733);const lu=({lee:e})=>{const{translate:t}=(0,v.Z)(),{routes:n}=(0,a.Xo)(),{pathname:i}=(0,a.TH)(),r=(0,Kn.B)(e.globalState),{status:o,data:s}=(0,L.k)(Ht.L,"query",{vaultItemTypes:[ut.U.Passkey],propertyFilters:null!==r?[{property:"spaceId",value:r}]:void 0,propertySorting:{property:"creationDatetime",direction:ud.S.Descend}});return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ItemPasskeyList)}),[]),o!==R.rq.Success||s.passkeysResult.matchCount?(0,F.tZ)(Go.I,{header:ou||(ou=(0,F.tZ)(nu,{})),children:o===R.rq.Success?(0,F.BX)("div",{style:{position:"relative",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,F.tZ)(Ps.h,{header:[{key:"title",sortable:!0,content:t("webapp_credentials_header_row_name"),logSubaction:"name"},{key:"lastUse",sortable:!0,content:t("webapp_credentials_header_row_last_used"),sxProps:su.L.LAST_USE_CELL,logSubaction:"lastUsed"}]}),(0,F.tZ)("div",{sx:{height:"100%",overflow:"auto"},children:(0,F.tZ)("ul",{children:s.passkeysResult.items.map((e=>{var a;return(0,F.tZ)(zs.Z,{link:n.userVaultItem(e.id,ut.U.Passkey,i),type:"link",onClick:()=>(e=>{(0,$e.Kz)(new je.UserSelectVaultItemEvent({itemId:e.id,itemType:je.ItemType.Passkey,highlight:je.Highlight.None}))})(e),data:[{key:"title",content:(0,F.tZ)(Ha.Q,{title:null!=(a=e.itemName)?a:e.rpName,domain:new qt.Y(e.rpId).getRootDomain(),login:e.userDisplayName})},{key:"lastUse",content:(0,F.tZ)(bc.Z,{children:e.lastUse&&e.lastUse>0?(0,F.tZ)(Ls.Z,{date:(0,Zs.Z)(e.lastUse)}):t("webapp_credentials_row_last_used_never")}),sxProps:su.L.LAST_USE_CELL}]},e.id)}))})})]}):null}):(0,F.tZ)(Go.I,{header:(0,F.tZ)(Qs.t,{title:"webapp_passkeys_empty_state_page_title"}),children:ru||(ru=(0,F.tZ)(iu,{}))})},cu=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:lu});var du=n(63082),pu=n(93267),uu=n(99975),_u=n(64004);const mu="dateColumn--xOHe67QYup",hu="passwordColumn--ibAEmvyDWZ",gu="itemNameColumn--eqIcwW5vZ3",bu="primaryInfo--D1zuLwgNZb",wu="webapp_password_history_item_some_url_subtitle",yu=e=>{const{item:t,onCreateNewCredential:n,isShared:i}=e,{translate:r}=(0,v.Z)(),{routes:o}=(0,a.Xo)(),s=(0,a.k6)(),{pathname:l}=(0,a.TH)();if(t.type===_u.me.Credential){const e=()=>{s.push(o.userVaultItem(t.credentialId,ut.U.Credential,l)),(0,bt.kb)(t.credentialId)},n=t.login||r(wu);return(0,F.tZ)("div",{className:bu,onClick:e,children:(0,F.tZ)(Ha.Q,{title:t.name,login:n,shared:i,sxProps:{maxWidth:"350px",minWidth:0,marginRight:"8px"},domain:new qt.Y(t.domain).getRootDomain()})})}if(new qt.Y(t.name).isUrlValid()){const e=()=>n(t.password,t.name),a=r("webapp_password_history_item_some_url_main",{domain:t.name}),i=r(wu);return(0,F.tZ)("div",{className:bu,onClick:e,children:(0,F.tZ)(Ha.Q,{title:a,login:i,sxProps:{maxWidth:"350px",minWidth:0,marginRight:"8px"}})})}const c=r("webapp_password_history_item_no_url_main"),d=r("webapp_password_history_item_no_url_subtitle");return(0,F.tZ)("div",{className:bu,onClick:()=>n(t.password),children:(0,F.tZ)(Ha.Q,{title:c,login:d,sxProps:{maxWidth:"350px",minWidth:0,marginRight:"8px"}})})};var fu=n(72047);const xu="*".repeat(20),Su=({item:e,isProtected:t})=>{const[n,a]=C.useState(!1),{translate:i}=(0,v.Z)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:o}=(0,Dt.tY)(),s=C.useCallback((n=>n&&t&&!r?(e.type,_u.me.Credential,new Promise(((e,t)=>{o({action:Et.P.Show,itemType:Et.R.GeneratedPassword,successCallback:e,cancelCallback:t})}))):Promise.resolve()),[r,t,e,o]);return(0,F.tZ)("div",{sx:{flex:1,marginRight:"32px"},children:(0,F.tZ)(fu.b,{label:i("webapp_password_history_item_password_label"),toggleVisibilityLabel:{hide:i("webapp_password_history_item_password_input_hide"),show:i("webapp_password_history_item_password_input_show")},onValueVisibilityChange:n=>{a(n),n&&(0,$e.Kz)(new je.UserRevealVaultItemFieldEvent({field:je.Field.Password,isProtected:t,itemId:e.id,itemType:je.ItemType.Credential}))},onValueVisibilityChangeRequest:s,value:n?e.password:xu,labelPersists:!1})})};var vu=n(97446),Cu=n(11528);const Zu=({item:e,onPasswordCopied:t,onOpenRestorePasswordDialog:n,isProtected:a,sharingStatus:i})=>{const{translate:r}=(0,v.Z)(),{areProtectedItemsUnlocked:o,openProtectedItemsUnlocker:s}=(0,Dt.tY)(),[l,c]=(0,C.useState)(!1);(0,C.useEffect)((()=>{e.type===_u.me.Credential?(()=>{const e=i.isShared&&!i.capabilities?.canEdit;c(!e)})():c(!1)}),[e]);const d=async()=>{const n=await navigator.clipboard.writeText(e.password).then((()=>!0)).catch((e=>((0,vu.Z)("[quick-actions-menu]: unable to copy to clipboard",e),!1)));t({success:n,isProtected:a,itemId:e.id})};return(0,F.BX)(ne.k,{alignItems:"center",justifyContent:"center",sx:(0,rt.jM)([Cu.L.CELLS_WRAPPER,{gap:"8px"}]),children:[l?(0,F.tZ)(w.z,{"data-testid":"ph-row-restore-btn",onClick:()=>{n(e)},layout:"iconOnly",icon:"ActionUndoOutlined",mood:"brand",intensity:"supershy",tooltip:r("webapp_password_history_quick_action_restore_password_button_tooltip")}):null,(0,F.tZ)(w.z,{"data-testid":"ph-row-copy-btn",layout:"iconOnly",icon:"ActionCopyOutlined",onClick:()=>{if(a&&!o)return s({action:Et.P.Copy,itemType:Et.R.GeneratedPassword,successCallback:d});d()},mood:"brand",intensity:"supershy",tooltip:r("webapp_password_history_quick_action_copy_password_button_tooltip")})]})},ku=(0,C.memo)(Zu);let Iu=function(e){return e.All="all",e.Saved="saved",e.Unsaved="unsaved",e}({});const Eu=e=>[{key:"primaryInfo",sortable:!0,content:e("webapp_password_history_column_label_name"),className:gu},{key:"password",sortable:!1,content:e("webapp_password_history_column_label_password"),className:hu},{key:"timestamp",sortable:!0,content:e("webapp_password_history_column_label_date"),className:mu}],Du=(e,t)=>{if(t.status!==qn.rq.Success)return e.type!==_u.me.Credential||e.isProtected;const n=t.data;return e.type===_u.me.Credential&&e.isProtected||n};var Tu=n(32197);const Au=({item:e,sharingStatus:t,onPasswordCopied:n,onCreateNewCredential:a,onOpenRestorePasswordDialog:i})=>{const r=(0,Tu.q)(),o=((e,t,n,a,i,r)=>{var o;return{renderers:{primaryInfo:()=>(0,F.tZ)(yu,{item:e,onCreateNewCredential:a,isShared:r.isShared}),password:()=>o||(o=(0,F.tZ)(Su,{item:e,isProtected:n})),timestamp:()=>(0,F.tZ)(bc.Z,{children:(0,F.tZ)(Ls.Z,{date:(0,Zs.Z)(e.timestamp)})})},data:[{key:"primaryInfo",className:gu},{key:"password",className:hu},{key:"timestamp",className:mu}],actions:(0,F.tZ)(ku,{item:e,onPasswordCopied:t,onOpenRestorePasswordDialog:i,isProtected:n,sharingStatus:r})}})(e,n,Du(e,r),a,i,t);return(0,F.az)(zs.Z,{...o,key:e.id})},Nu=({hasNext:e,loadNext:t,passwordHistoryItems:n,onPasswordCopied:a,onCreateNewCredential:i,onOpenRestorePasswordDialog:r})=>{const o=(e=>{const t=(0,L.k)(Xt.X,"getPermissionForItems",{itemIds:e.map((e=>e.type===_u.me.Credential?e.credentialId:e.id))});return(0,C.useMemo)((()=>t.status!==R.rq.Success?null:e.reduce(((e,n)=>(n.type===_u.me.Credential&&t.data[n.credentialId]?e[n.id]={isShared:!0,capabilities:t.data[n.credentialId]?.capabilities}:e[n.id]={isShared:!1},e)),{})),[t.status,t.data,e])})(n);return o?(0,F.tZ)(ne.k,{flexDirection:"column",sx:{overflow:"auto"},children:(0,F.tZ)(Sd.C,{onNextPage:t,hasMore:e,children:n.map((e=>(0,F.tZ)(Au,{item:e,sharingStatus:o[e.id],onPasswordCopied:a,onCreateNewCredential:i,onOpenRestorePasswordDialog:r},[e.id,e.timestamp].join(""))))})}):null};var Ou=n(26385);const Pu={marginLeft:"auto",marginRight:"16px",paddingBottom:0},Lu=({onFilterChanged:e})=>{const{translate:t}=(0,v.Z)(),n=[{id:"tab-ph-all",contentId:"content-ph-list",title:t("webapp_password_history_filter_all"),onSelect:()=>e(Iu.All)},{id:"tab-ph-saved",contentId:"content-ph-list",title:t("webapp_password_history_filter_saved"),onSelect:()=>e(Iu.Saved)},{id:"tab-ph-unsaved",contentId:"content-ph-list",title:t("webapp_password_history_filter_unsaved"),onSelect:()=>e(Iu.Unsaved)}];return(0,F.tZ)(Ou.m,{tabs:n,sx:Pu})},Ru="webapp_password_history_search_placeholder",Mu=({onSort:e,sortingOptions:t,onFilterChanged:n,activeFilter:a,onPasswordCopied:i,onSearchChange:r,onCreateNewCredential:o,onOpenRestorePasswordDialog:s,searchWasCleared:l,searchValue:c,loadNextPage:d,hasNext:p,passwordHistoryItems:u})=>{const _=(0,C.useRef)(null),{translate:m}=(0,v.Z)(),h=0===u.length&&""!==c;if(0===u.length&&a===Iu.All&&""===c&&!l)return(0,F.tZ)(xd,{icon:(0,F.tZ)(N.NSO,{size:75,color:N.colors.dashGreen04}),children:(0,F.tZ)("p",{children:m("webapp_password_history_empty_state_message")})});const g="kw_search_string";return(0,F.BX)(ne.k,{flexDirection:"column",flexWrap:"nowrap",sx:{overflow:"hidden"},children:[(0,F.BX)(ne.k,{alignItems:"center",children:[(0,F.tZ)(ne.k,{as:"h2",sx:{color:"ds.text.neutral.quiet",textTransform:"uppercase",fontSize:"12px"},children:m("webapp_password_history_title")}),(0,F.tZ)(Lu,{onFilterChanged:n}),(0,F.tZ)(Fl.U,{label:m(Ru),ref:_,value:c,onChange:()=>{r(_.current?.value||"")},placeholder:m(Ru),onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.SearchBar}))}})]}),h?null:(0,F.tZ)(Ps.h,{header:Eu(m),onSort:e,options:t}),h?(0,F.tZ)(xd,{icon:(0,F.tZ)(N.Cmj,{size:75,color:N.colors.dashGreen04}),children:(0,F.tZ)("span",{children:(e=>{const t=m("webapp_password_history_search_result_empty",{query:g}),[n,a]=t.split(g);return(0,F.BX)("span",{children:[n,(0,F.tZ)("span",{className:"noSearchResult--qcwmR3UTzm",children:e}),a]})})(c)})}):(0,F.tZ)(Nu,{passwordHistoryItems:u,hasNext:p,loadNext:d,onPasswordCopied:i,onCreateNewCredential:o,onOpenRestorePasswordDialog:s})]})};var Bu;const zu=()=>{const{translate:e}=(0,v.Z)(),{routes:t}=(0,a.Xo)();return(0,F.tZ)(ne.k,{children:(0,F.tZ)(_o.h,{startWidgets:(0,F.BX)(I.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"20px"},children:[(0,F.tZ)(w.z,{layout:"iconOnly",intensity:"supershy",mood:"neutral",icon:"CaretLeftOutlined",as:a.rU,to:t.userCredentials,"aria-label":e("_common_action_back")}),e("webapp_password_history_title")]}),endWidget:Bu||(Bu=(0,F.tZ)(mo.D,{}))})})},Uu=({setAsInteracted:e})=>{const{translate:t}=(0,v.Z)();return(0,F.tZ)(V.k,{title:t("webapp_password_history_dismissable_infobox_title"),mood:"brand",size:"large",description:t("webapp_password_history_dismissable_infobox_content"),actions:[(0,F.tZ)(w.z,{type:"button",mood:"brand",onClick:e,children:t("webapp_password_history_dismissable_infobox_button")},"primary")],sx:{marginBottom:"16px"}})},Fu="webapp_password_history_quick_action_restore_password_dialog_button_cancel",Xu=({item:e,isOpen:t,onCloseRestorePasswordDialog:n,onPasswordRestored:a})=>{const{translate:i}=(0,v.Z)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:o}=(0,li.t)(),s=(0,Tu.q)(),l=Du(e,s),c=()=>{et.C.updateCredential({id:e.credentialId,update:{password:e.password}}).then((t=>a(e,t.success)))};return(0,F.tZ)(Jo.Vq,{title:i("webapp_password_history_quick_action_restore_password_dialog_title"),closeActionLabel:i(Fu),isOpen:t,onClose:n,actions:{primary:{onClick:()=>{if(n(),l&&!r)return o({action:Et.P.Copy,itemType:Et.R.GeneratedPassword,successCallback:c});c()},children:i("webapp_password_history_quick_action_restore_password_dialog_button_ok")},secondary:{children:i(Fu)}},children:(0,F.tZ)(D.n,{children:i("webapp_password_history_quick_action_restore_password_dialog_content",{domain:e.name})})})};var qu;const Hu=()=>{const{translate:e}=(0,v.Z)(),{showToast:t}=(0,Z.p)(),n=(0,u.v0)(),i=!n.isLoading&&n.shouldShowAtOrOverLimitContent,{routes:r}=(0,_.Xo)(),o=(0,a.k6)(),s=(0,pu.P)(),[l,c]=(0,C.useState)({field:"timestamp",direction:wd._.descending}),{interacted:d,setAsInteracted:p}=(0,_d.d)(pd.O.PasswordHistoryBanner),[m,h]=(0,C.useState)(Iu.All),[g,b]=(0,C.useState)(""),[w,y]=(0,C.useState)(""),[f,x]=(0,C.useState)(!1),[S,k]=(0,C.useState)(!1),[I,E]=(0,C.useState)(),[D,T]=(0,C.useState)(!1),[A,N]=(0,C.useState)(1),{credentialId:O}=(0,a.UO)();(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.PasswordHistory),(()=>{const e=localStorage.getItem(md.R2);try{if(e){const t=JSON.parse(e);c(t)}}catch(e){}})()}),[]);const P=(0,C.useMemo)((()=>(0,ot.debounce)((e=>{y(e)}),100)),[]);(0,C.useEffect)((()=>{P(g)}),[P,g]);const M=(0,L.k)(du.T,"getPasswordHistory",{pageNumber:1,pageSize:30*A,sorting:{direction:l.direction===wd._.ascending?ud.S.Ascend:ud.S.Descend,property:"primaryInfo"===l.field?"name":"timestamp"},searchFilter:w,typeFilter:m,credentialId:O});if(M.status!==R.rq.Success)return null;const B=M.data.items,z=M.data.totalItems>B.length;return s?(0,F.tZ)(a.l_,{to:r.userCredentials}):(0,F.tZ)(Os,{children:(0,F.BX)(ws.k,{withLayout:!0,header:(0,F.BX)(C.Fragment,{children:[qu||(qu=(0,F.tZ)(zu,{})),d?null:(0,F.tZ)(Uu,{setAsInteracted:p})]}),children:[(0,F.tZ)(ne.k,{flexDirection:"column",flexWrap:"nowrap",sx:{position:"relative",overflow:"hidden",minWidth:"fit-content",maxWidth:"100%",minHeight:"85%",maxHeight:"100%"},children:B?(0,F.tZ)(Mu,{onSort:e=>{c(e),(e=>{localStorage.setItem(md.R2,JSON.stringify(e))})(e)},sortingOptions:l,activeFilter:m,onFilterChanged:e=>{switch(h(e),e){case Iu.All:(0,$e.Nc)(je.PageView.PasswordHistoryAll);break;case Iu.Saved:(0,$e.Nc)(je.PageView.PasswordHistorySaved);break;case Iu.Unsaved:(0,$e.Nc)(je.PageView.PasswordHistoryUnsaved)}},onPasswordCopied:({success:n,isProtected:a,itemId:i})=>{t(n?{description:e("webapp_password_history_quick_action_copy_password_success_message")}:{description:e("webapp_credentials_quick_actions_copy_password_feedback_not_ok"),mood:"danger"}),(0,$e.Kz)(new je.UserCopyVaultItemFieldEvent({field:je.Field.Password,isProtected:a,itemType:je.ItemType.Credential,itemId:i}))},onSearchChange:e=>{b(e)},onClearSearchChange:()=>{b(""),y(""),x(!0)},onCreateNewCredential:(e,t)=>{i?k(!0):o.push(r.userAddWebsiteCredentialWithPrefilledParameters({website:null!=t?t:"",previouslyGeneratedPassword:e}))},onOpenRestorePasswordDialog:e=>{E(e),T(!0)},searchWasCleared:f,searchValue:g,passwordHistoryItems:M.data.items,loadNextPage:e=>N(e),hasNext:z}):null}),I&&D?(0,F.tZ)(Xu,{isOpen:D,item:I,onCloseRestorePasswordDialog:()=>{T(!1)},onPasswordRestored:(n,a)=>{a?(t({description:e("webapp_password_history_quick_action_restore_password_success_message")}),(0,$e.Kz)(new je.UserUpdateVaultItemEvent({action:je.Action.Edit,itemId:n.credentialId,itemType:je.ItemType.Credential,space:n.spaceId?je.Space.Professional:je.Space.Personal}))):t({description:e("_common_generic_error"),mood:"danger"}),E(void 0)}}):null,(0,F.tZ)(uu.e,{isVisible:S,handleDismiss:()=>{k(!1)}})]})})},Vu=({path:e})=>(0,F.tZ)(a.Vy,{path:[`${e}/filter/:credentialId`,e],component:Hu});var Wu=n(29987),ju=n(32814);const Gu=({email:e})=>{const{translate:t}=(0,v.Z)(),{setAsSeen:n}=(0,_d.m)(pd.O.DWMb2bAutoEnrollTooltip);return(0,F.tZ)(N.ua7,{placement:"left",trigger:"persist",sx:{display:"flex",flexDirection:"column",padding:"16px",zIndex:1},content:(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(N.nvN,{size:"large",color:N.colors.white,sx:{textAlign:"left",fontWeight:"bold"},children:t("webapp_darkweb_bussiness_email_monitoring_title")}),(0,F.tZ)(N.nvN,{size:"x-small",color:N.colors.white,sx:{textAlign:"left",padding:"8px 0px 16px 0px"},children:t.markup("webapp_darkweb_bussiness_email_monitoring_description_markup",{email:e})}),(0,F.tZ)(N.zxk,{size:"small",sx:{alignSelf:"flex-end"},type:"button",onClick:n,children:t("webapp_darkweb_bussiness_email_notification_ok")})]}),children:(0,F.tZ)("div",{children:(0,F.tZ)(ju.q,{email:e,size:36})})})};var Ku=n(31062),Yu=n(27655);const $u=({email:e,handleOnDismiss:t})=>{const{translate:n}=(0,v.Z)();return(0,F.BX)(ne.k,{flexDirection:"column",alignItems:"flex-start",sx:{textAlign:"left",padding:"16px",width:"100%"},children:[(0,F.BX)(ne.k,{flexWrap:"nowrap",alignItems:"center",children:[(0,F.tZ)(N.tWY,{size:24,color:N.colors.dashGreen00}),(0,F.tZ)(N.X6q,{size:"x-small",sx:{ml:"10px",fontWeight:"600",color:N.colors.black},children:n("webapp_darkweb_email_verify_email_title")})]}),(0,F.tZ)(N.nvN,{sx:{mt:"8px",color:N.colors.dashGreen01},children:n("webapp_darkweb_email_sent_email")}),(0,F.tZ)(N.nvN,{sx:{fontWeight:"900",mt:"8px",mr:"24px",color:N.colors.midGreen00,textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"327px",overflow:"hidden"},title:e,children:e}),(0,F.tZ)(N.nvN,{sx:{mt:"8px",color:N.colors.dashGreen01},children:n("webapp_darkweb_email_verify_email_content")}),(0,F.tZ)(N.zxk,{sx:{mt:"32px",mr:"16px",alignSelf:"flex-end"},type:"submit",onClick:t,children:n("webapp_darkweb_email_verify_email_confirmation")})]})},Qu=({children:e,email:t,handleOnClosePendingNotification:n})=>(0,F.tZ)(N.ua7,{"data-testid":"Pending notification tooltip",placement:"bottom-start",trigger:"persist",content:(0,F.tZ)($u,{email:t,handleOnDismiss:n}),sx:{minWidth:"376px",bg:"white","> div":{borderColor:"white"}},children:(0,F.tZ)("div",{sx:{width:"min-content"},children:e})}),Ju=({children:e})=>{const{translate:t}=(0,v.Z)();return(0,F.tZ)(N.ua7,{"data-testid":"Pending verification tooltip",placement:"bottom",content:t("webapp_darkweb_email_pending_tooltip"),sx:{fontSize:3,maxWidth:"296px"},children:(0,F.tZ)("div",{sx:{width:"min-content"},children:e})})},e_=e=>{const{children:t,showPendingNotification:n,showPendingTooltip:a}=e;return a?(0,F.tZ)(Ju,{...e,children:t}):n?(0,F.tZ)(Qu,{...e,children:t}):(0,F.tZ)(C.Fragment,{children:t})};var t_,n_;const a_=e=>{switch(e){case Yu.wp.ACTIVE:case Yu.wp.DISABLED:return"ds.text.brand.standard";case Yu.wp.PENDING:return"ds.text.warning.quiet";default:return""}},i_=()=>{const{translate:e}=(0,v.Z)();return(0,F.tZ)(Ku.u,{content:e("webapp_darkweb_bussiness_email_tooltip"),location:"bottom",children:t_||(t_=(0,F.tZ)("div",{"data-testid":"autoEnroll-tooltip",children:(0,F.tZ)(N.uMt,{size:16,"data-testid":"b2b-auto-enroll-email"})}))})},r_=({statusText:e,textColor:t,enabledRemoval:n})=>{const{translate:a}=(0,v.Z)();return n?(0,F.tZ)(D.n,{sx:{color:t,display:"flex",position:"relative",fontSize:"12px",width:"max-content"},children:e}):(0,F.tZ)("div",{children:(0,F.BX)(D.n,{sx:{display:"flex",position:"relative",width:"max-content",fontSize:"12px",color:t},children:[e," â¢ ",a("webapp_darkweb_bussiness_email_monitoring_info")]})})},o_=({children:e,enabledRemoval:t})=>t?(0,F.tZ)(C.Fragment,{children:e}):(0,F.BX)(ne.k,{sx:{gap:"5px"},children:[e,n_||(n_=(0,F.tZ)(i_,{}))]}),s_=e=>{const{translate:t}=(0,v.Z)(),{state:n,canEmailBeRemoved:a}=e,i=(e=>{switch(e){case Yu.wp.ACTIVE:return"webapp_darkweb_email_active_monitoring";case Yu.wp.DISABLED:return"webapp_darkweb_email_disabled_monitoring";case Yu.wp.PENDING:return"webapp_darkweb_email_pending_verification";default:return null}})(n),r={textColor:a_(n),statusText:i?t(i):"",enabledRemoval:a};return(0,F.tZ)(o_,{enabledRemoval:a,children:n===Yu.wp.PENDING?(0,F.tZ)(e_,{...e,children:(0,F.tZ)(r_,{...r})}):(0,F.tZ)(r_,{...r})})},l_="webapp_darkweb_email_remove_tooltip",c_={MONITORED_EMAIL:{display:"flex",alignItems:"center",boxShadow:"inset 0px -1px 0px ds.border.neutral.quiet.idle",padding:" 10px 0"},EMAIL_DATA:{display:"flex",flexDirection:"column",marginLeft:"16px",minWidth:0,flex:"1 0 0",width:"100%",textOverflow:"ellipsis",overflow:"hidden"}},d_=({email:e,state:t,handleOnRemoveClick:n,handleOnClosePendingNotification:a,showPendingTooltip:i,showPendingNotification:r,canEmailBeRemoved:o})=>{const{translate:s}=(0,v.Z)(),{unseen:l}=(0,_d.m)(pd.O.DWMb2bAutoEnrollTooltip),c=(0,C.useCallback)((()=>n(e)),[n,e]);return(0,F.BX)("li",{sx:c_.MONITORED_EMAIL,children:[!o&&l?(0,F.tZ)(Gu,{email:e}):(0,F.tZ)(ju.q,{email:e,size:36}),(0,F.BX)("div",{sx:c_.EMAIL_DATA,children:[o?(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",children:e}):(0,F.BX)(ne.k,{children:[(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",children:e}),(0,F.tZ)(N.UnL,{size:16,sx:{paddingTop:"3px"}})]}),(0,F.tZ)(s_,{email:e,state:t,showPendingTooltip:i,showPendingNotification:r,canEmailBeRemoved:o,handleOnClosePendingNotification:a})]}),o?(0,F.tZ)(w.z,{size:"small",mood:"neutral",intensity:"supershy",layout:"iconOnly",icon:"ActionCloseOutlined",tooltip:s(l_),"aria-label":s(l_),onClick:c,disabled:!o,"data-testid":"tooltip-delete"}):null]})};var p_=n(18402),u_=n.n(p_);const __=({active:e=!1})=>(0,F.tZ)("div",{className:e?"iconActive--dWzG4K62Od":"iconInactive--roWQJlNbft",children:(0,F.tZ)(N.d3S,{color:e?u_()["--white"]:u_()["--dash-green-00"],size:20})});var m_;const h_={placeholder:{display:"flex",flexDirection:"row",alignItems:"center",boxShadow:"inset 0px -1px 0px ds.border.neutral.quiet.idle",padding:"10px 0"},icon:{display:"flex",flexDirection:"row",alignItems:"center",padding:"10px 5px",color:"ds.text.neutral.quiet",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},g_=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)("li",{sx:h_.placeholder,children:[m_||(m_=(0,F.tZ)(__,{})),(0,F.tZ)("span",{sx:h_.icon,children:e("webapp_darkweb_email_placeholder")})]})};var b_=n(28455);const w_=({email:e,handleOnRemoveEmail:t,handleOnCloseDialog:n})=>{const{translate:a}=(0,v.Z)(),i=C.useCallback((()=>{t(e)}),[e,t]);return(0,F.tZ)(b_.o,{isOpen:!0,onRequestClose:n,footer:(0,F.tZ)(N.cNS,{primaryButtonTitle:a("webapp_darkweb_email_stop_monitoring_action"),primaryButtonOnClick:i,secondaryButtonTitle:a("webapp_darkweb_email_removal_cancel_action"),secondaryButtonOnClick:n,intent:"danger"}),title:a("webapp_darkweb_email_stop_monitoring_dialog_title"),children:(0,F.tZ)(N.nvN,{className:"subtitle--HrSBLmvZhD",children:a.markup("webapp_darkweb_email_stop_monitoring_dialog_content_markup",{email:e})})})};var y_=n(46117),f_=n(18108);const x_=()=>{const e=(0,L.k)(y_.M,"emailList"),t=(0,f_.E)(),{optinEmail:n,optoutEmail:a}=(0,K.u)(y_.M),i=e=>n({email:e}),r=e=>a({email:e});if(t.status===qn.rq.Loading||e.status===qn.rq.Loading)return{isLoading:!0,limit:5,b2bAssociatedEmail:null,optinEmail:i,optoutEmail:r};const o=t.status===qn.rq.Success&&t.data.length>0?t?.data[0].associatedEmail:null;return{isLoading:!1,emails:e.data,limit:5,b2bAssociatedEmail:o,optinEmail:i,optoutEmail:r}},S_="webapp_darkweb_email_monitored_emails_title",v_={emailsCard:{borderRadius:"4px",display:" flex",flexDirection:"column",marginBottom:"16px",padding:"32px",minWidth:"480px",maxWidth:"640px",backgroundColor:"ds.container.agnostic.neutral.supershy",border:"1px solid ds.border.neutral.quiet.idle"},subtitle:{alignSelf:"flexStart",display:"flex",marginBottom:"24px"},emailFooter:{marginTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"}},C_=(e,t)=>!t||e<=0,Z_=({emails:e,b2bAssociatedEmail:t,availableEmailSpots:n,onOpenAddDialog:a,removalOutcomeAlert:i,setNewlyAddedEmail:r,newlyAddedEmail:o,hasDataLeakCapability:s})=>{const{translate:l}=(0,v.Z)(),{optoutEmail:c}=x_(),[d,p]=(0,C.useState)(null),u=e=>{p(e)},_=(0,C.useCallback)((()=>{r(null)}),[r]),m=(0,C.useCallback)((()=>{p(null)}),[p]),h=(0,C.useCallback)((e=>{i.setMessage(l("webapp_darkweb_email_stop_monitoring_dialog_email_success_alert",{email:e})),i.setSeverity(N.BLW.SUCCESS),i.show()}),[l,i]),g=(0,C.useCallback)((()=>{i.setMessage(l("webapp_darkweb_email_stop_monitoring_dialog_error")),i.setSeverity(N.BLW.ERROR),i.show()}),[l,i]);return(0,F.BX)(C.Fragment,{children:[(0,F.BX)(yr.Z,{sx:v_.emailsCard,children:[(0,F.BX)(ne.k,{sx:v_.subtitle,children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:l(S_)}),(0,F.tZ)(st.JO,{role:"button","aria-label":l(S_),name:"FeedbackInfoOutlined",size:"xsmall",color:"ds.text.neutral.quiet",tooltip:l((()=>{switch(e?.length){case 0:return"webapp_darkweb_email_monitored_emails_tooltip_zero";case 1:return"webapp_darkweb_email_monitored_emails_tooltip_one";default:return"webapp_darkweb_email_monitored_emails_tooltip"}})()),sx:{marginLeft:"6px"}})]}),(0,F.BX)("ul",{sx:{justifyContent:"center"},children:[e?e.map((({email:e,state:n})=>(0,F.tZ)(d_,{email:e,state:n,canEmailBeRemoved:e!==t,handleOnRemoveClick:u,handleOnClosePendingNotification:_,showPendingNotification:e===o,showPendingTooltip:e!==o},e))):null,[...Array(n)].map(((e,t)=>(0,F.tZ)(g_,{},t)))]}),(0,F.BX)(ne.k,{sx:v_.emailFooter,children:[(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:n>0?l.markup("webapp_darkweb_email_available_spots_count_markup",{count:n}):l("webapp_darkweb_email_no_available_spots")}),(0,F.tZ)(w.z,{size:"small",mood:"neutral",intensity:"quiet",layout:"iconTrailing",color:"ds.container.expressive.neutral.quiet.idle",icon:"ActionAddOutlined",disabled:C_(n,s),onClick:a,children:l("webapp_darkweb_email_add_action")})]})]}),d?(0,F.tZ)(w_,{email:d,handleOnCloseDialog:()=>{m()},handleOnRemoveEmail:async e=>{const t=await c(e);m(),(0,T.d6)(t)?h(e):g()}}):null]})};var k_=n(30506),I_=n(37205),E_=n(24731);let D_=function(e){return e[e.DAY=0]="DAY",e[e.MONTH=1]="MONTH",e[e.YEAR=2]="YEAR",e[e.INVALID=3]="INVALID",e}({});const T_=(e,t,n)=>{const a=(e=>{switch(e.length){case 4:return D_.YEAR;case 7:return D_.MONTH;case 10:return D_.DAY;default:return D_.INVALID}})(e);if(a===D_.INVALID)return{date:"",precision:D_.INVALID};const i=n.shortDate(new Date(e),((e,t)=>{switch(e){case D_.DAY:return"short"===t?ks._T.ll:ks._T.LL;case D_.MONTH:return"short"===t?ks._T.MMM_YYYY:ks._T.MMMM_YYYY;case D_.YEAR:return ks._T.YYYY;case D_.INVALID:return;default:return(0,E_.U)(e)}})(a,t));return{date:i,precision:a}};var A_=n(92171);const N_=()=>{const{dismissBreach:e,markBreachAsSeen:t}=(0,K.u)(A_.H);return{dismissBreach:t=>{var n;return n=t,(0,$e.Kz)(new je.UserDismissSecurityAlertEvent({itemTypesAffected:[je.ItemType.SecurityBreach],securityAlertItemId:n,securityAlertType:je.SecurityAlertType.DarkWeb})),e({id:t})},markBreachAsSeen:e=>{var n;return n=e,(0,$e.Kz)(new je.UserReceiveSecurityAlertEvent({itemTypesAffected:[je.ItemType.SecurityBreach],securityAlertItemId:n,securityAlertType:je.SecurityAlertType.DarkWeb})),t({id:e})}}},O_={privateBreachActions:{display:"flex",alignItems:"center",flexShrink:0,marginRight:"12px",gap:"4px"},privateBreachRow:{width:"100%",listStyle:"none","&:hover > div > div:last-child":{"& > div:first-of-type":{display:"block"},"& > div:last-of-type":{display:"none"}}},privateBreachContent:{display:"flex",justifyContent:"space-between",width:"100%",padding:"10px 0",borderBottom:"1px solid ds.border.neutral.quiet.idle"},privateBreachInfo:{alignItems:"center",display:"flex",overflow:"hidden"},privateBreachTextInfo:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},privateBreachTitle:{overflow:"hidden",textOverflow:"ellipsis",gap:"4px"},privateBreachEmail:{overflow:"hidden",textOverflow:"ellipsis"},privateBreachStatus:{display:"flex",alignItems:"center",width:"200px",margin:"0 28px 0 5px",height:"40px",flexShrink:0},privateBreachDynamicHoverContent:{display:"flex",justifyContent:"flex-end",width:"250px"}},P_="webapp_darkweb_leaks_view_delete_alert",L_=({eventDate:e,status:t})=>{const{translate:n}=(0,v.Z)(),a=(0,C.useMemo)((()=>{const{date:t,precision:a}=T_(e,"short",n);switch(a){case D_.INVALID:return null;case D_.DAY:return n.markup("webapp_darkweb_leaks_breached_markup",{date:t});case D_.MONTH:return n("webapp_darkweb_leaks_breached_markup_month_year",{date:t});case D_.YEAR:return n("webapp_darkweb_leaks_breached_markup_year",{date:t});default:return(0,E_.U)(a)}}),[e,n]),i=(0,C.useMemo)((()=>{switch(t){case k_.J.ACKNOWLEDGED:return"ds.text.positive.quiet";case k_.J.PENDING:return"ds.text.danger.standard";default:return"ds.text.neutral.quiet"}}),[t]);return(0,F.BX)("div",{sx:{display:"flex",flexDirection:"row",gap:"8px"},children:[(0,F.tZ)(st.JO,{name:t===k_.J.ACKNOWLEDGED?"FeedbackSuccessOutlined":"FeedbackWarningOutlined",size:"small",color:i}),(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:t===k_.J.ACKNOWLEDGED?n("webapp_darkweb_leaks_acknowledged_status"):a})]})},R_=({onDelete:e,onView:t})=>{const{translate:n}=(0,v.Z)();return(0,F.BX)("div",{sx:O_.privateBreachActions,children:[(0,F.tZ)(w.z,{mood:"neutral",intensity:"quiet",layout:"labelOnly",color:"ds.container.expressive.neutral.quiet.idle",onClick:t,"data-testid":"breaches-detail-button",children:n("webapp_darkweb_leaks_view_details_button")}),(0,F.tZ)(w.z,{mood:"danger",intensity:"supershy",layout:"iconOnly",color:"ds.container.expressive.danger.quiet.hover",icon:"ActionCloseOutlined",tooltip:n(P_),"aria-label":n(P_),onClick:e,"data-testid":"breaches-delete-button"})]})},M_=({breachItemView:e,handleOnViewDetails:t})=>{var n;const{translate:a}=(0,v.Z)(),{dismissBreach:i}=N_(),{domains:r,eventDate:o,impactedEmails:s,status:l}=e,c=(0,C.useMemo)((()=>{var t,n;return null!=(t=(n=e).name?n.name:function({domains:e}){return e?e.find((e=>e)):void 0}(n))?t:a("webapp_darkweb_leaks_unknown_website_title")}),[e,a]),d=(0,C.useCallback)((()=>{(0,$e.Nc)(je.Page.ToolsDarkWebMonitoringAlert),t(e)}),[t,e]);return(0,F.tZ)("li",{sx:O_.privateBreachRow,children:(0,F.BX)("div",{sx:O_.privateBreachContent,"data-testid":"private-breach",children:[(0,F.BX)("div",{sx:O_.privateBreachInfo,children:[(0,F.tZ)("div",{style:{marginRight:"16px"},children:(0,F.tZ)(Gt.h,{domainURL:null!=(n=r[0])?n:""})}),(0,F.BX)("div",{sx:O_.privateBreachTextInfo,children:[(0,F.BX)(ne.k,{as:"strong",sx:{overflow:"hidden",textOverflow:"ellipsis"},gap:"4px",children:[(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",children:c}),e.status===k_.J.PENDING?(0,F.tZ)(ca.C,{mood:"danger",intensity:"quiet",layout:"labelOnly",label:a("webapp_darkweb_leaks_new_badge")}):null]}),s.length>0?(0,F.tZ)("span",{sx:O_.privateBreachEmail,children:s.length>1?a("webapp_darkweb_leaks_view_multiple_emails",{count:s.length}):s[0]}):null]})]}),(0,F.BX)("div",{sx:O_.privateBreachDynamicHoverContent,children:[(0,F.tZ)("div",{sx:{display:"none"},children:(0,F.tZ)(R_,{onDelete:()=>i(e.id),onView:d})}),(0,F.tZ)("div",{sx:O_.privateBreachStatus,children:(0,F.tZ)(L_,{eventDate:o,status:l})})]})]})})};var B_=n(44561);const z_={[B_.K.Address]:"webapp_darkweb_alert_data_address",[B_.K.CreditCard]:"webapp_darkweb_alert_data_credit_card",[B_.K.Email]:"webapp_darkweb_alert_data_email",[B_.K.IP]:"webapp_darkweb_alert_data_ip_address",[B_.K.Location]:"webapp_darkweb_alert_data_location",[B_.K.Password]:"webapp_darkweb_alert_data_password",[B_.K.PersonalInfo]:"webapp_darkweb_alert_data_personal_info",[B_.K.Phone]:"webapp_darkweb_alert_data_phone",[B_.K.SocialNetwork]:"webapp_darkweb_alert_data_social_network_info",[B_.K.SSN]:"webapp_darkweb_alert_data_social_security_number",[B_.K.Username]:"webapp_darkweb_alert_data_username"},U_=(e,t,n)=>e.filter((e=>!n||e!==B_.K.Password)).map((e=>t(z_[e]))).join(", "),F_="webapp_darkweb_alert_label_password2",X_=({passwords:e,leakedData:t,domain:n})=>{const{translate:a}=(0,v.Z)();return(0,F.BX)(C.Fragment,{children:[(0,F.BX)(ne.k,{as:"section",flexDirection:"column",gap:"4px",children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.brand.quiet",children:a(F_,{count:e.length})}),e.map((e=>(0,F.tZ)(fu.b,{label:F_,labelPersists:!1,toggleVisibilityLabel:{hide:a("webapp_darkweb_alert_password_hide"),show:a("webapp_darkweb_alert_password_show")},value:e},e))),(0,F.tZ)(V.k,{title:a(void 0===n?"webapp_darkweb_alert_advice_avoid_password":"webapp_darkweb_alert_advice_change_password",{count:e.length})})]}),t.length>1?(0,F.BX)(ne.k,{as:"section",flexDirection:"column",gap:"4px",children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.brand.quiet",children:a("webapp_darkweb_alert_label_other_data")}),(0,F.tZ)("div",{children:U_(t,a,!0)})]}):null]})},q_=({isPasswordLeaked:e,isCreditCardLeaked:t,leakedData:n,domain:a})=>{const{translate:i}=(0,v.Z)();return(0,F.BX)(ne.k,{as:"section",flexDirection:"column",gap:"4px",children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.brand.quiet",children:i("webapp_darkweb_alert_label_data")}),(0,F.tZ)("div",{children:U_(n,i)}),e||t?(0,F.tZ)(V.k,{sx:{marginTop:"4px"},title:e?i(void 0===a?"webapp_darkweb_alert_advice_avoid_password":"webapp_darkweb_alert_advice_change_password",{count:1}):i("webapp_darkweb_alert_advice_reach_out_credit_card",{domain:a})}):null]})};var H_=n(99990),V_=n(25337);const W_=({breachId:e,onDismissClick:t})=>{const{translate:n}=(0,v.Z)(),{breach:a,compromisedCredentialsIds:i}=(e=>{const{data:t}=(0,L.k)(A_.H,"breach",{id:e}),{data:n}=(0,L.k)(H_.d,"compromisedCredentialsIdsForBreach",{breachId:e});return{breach:null!=t?t:null,compromisedCredentialsIds:null!=n?n:[]}})(e),[r,o]=(0,C.useState)(null),s=(0,C.useCallback)((e=>o(e)),[]),l=(0,C.useCallback)((()=>{o(null),t()}),[t]);if(!a)return null;const{eventDate:c,leakedData:d,domains:p,impactedEmails:u,leakedPasswords:_}=a,[m]=p,h=d.includes(B_.K.Password),g=d.includes(B_.K.CreditCard),{date:b}=T_(c,"long",n);return(0,F.BX)(C.Fragment,{children:[r?(0,F.tZ)(V_.R,{credentialId:r,dismissCallback:l}):null,(0,F.BX)(Jo.Vq,{closeActionLabel:n("_common_dialog_dismiss_button"),isOpen:!0,onClose:t,isMandatory:!!r,children:[(0,F.BX)(ne.k,{alignItems:"center",gap:"8px",children:[(0,F.tZ)(Gt.h,{domainURL:m,size:"large"}),(0,F.tZ)(I.X,{as:"h1",children:null!=m?m:n("webapp_darkweb_alert_header_unknown_website")})]}),(0,F.tZ)("section",{sx:{marginTop:"4px",marginBottom:"8px"},children:n("webapp_darkweb_alert_description")}),(0,F.BX)(ne.k,{as:"section",flexDirection:"column",gap:"4px",children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.brand.quiet",children:n("webapp_darkweb_alert_label_date")}),(0,F.tZ)("div",{children:b})]}),(0,F.BX)(ne.k,{as:"section",flexDirection:"column",gap:"4px",children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.brand.quiet",children:n("webapp_darkweb_alert_label_email2",{count:u.length})}),(0,F.tZ)("div",{children:(0,F.tZ)("ul",{children:u.map((e=>(0,F.tZ)("li",{children:e},e)))})})]}),0===_.length?(0,F.tZ)(q_,{isPasswordLeaked:h,isCreditCardLeaked:g,leakedData:d,domain:m}):(0,F.tZ)(X_,{passwords:_,leakedData:d,domain:m}),1===i.length?(0,F.tZ)(Jo.cN,{actions:{primary:{children:n("webapp_darkweb_alert_action_change_password"),onClick:()=>{s(i[0])}},secondary:{children:n("webapp_darkweb_alert_action_dismiss"),onClick:t}}}):(0,F.tZ)(Jo.cN,{actions:{primary:{children:n("webapp_darkweb_alert_action_close"),onClick:t}}})]})]})},j_=C.createContext({openBreachDetailsDialog:()=>{}}),G_=({children:e})=>{const[t,n]=C.useState(null),a=C.useCallback((()=>{n(null)}),[]);return(0,F.BX)(j_.Provider,{value:{openBreachDetailsDialog:({breach:e})=>{n(e)}},children:[e,t&&(0,F.tZ)(W_,{breachId:t,onDismissClick:a})]})},K_=({emails:e,availableEmailSpots:t,hasDataLeakCapability:n,onOpenAddDialog:a,premiumUrl:i})=>{const{translate:r}=(0,v.Z)(),o=C.useCallback((()=>n?0===e?.length?"webapp_darkweb_leaks_empty_leaks_no_email":"webapp_darkweb_leaks_empty_leaks_no_leak":"webapp_darkweb_leaks_empty_leaks_go_premium_text"),[e,n]);if(!e)return null;const s=n&&0===e?.length,l=!n,c=n&&t>0;return(0,F.BX)("div",{"data-testid":"empty-breaches",sx:{maxWidth:"340px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:"64px 40px",boxSizing:"content-box",margin:"0 auto",gap:"16px"},children:[(0,F.tZ)(st.JO,{name:"FeatureDarkWebMonitoringOutlined",color:"ds.text.brand.quiet",sx:{width:"64px",minWidth:"64px",height:"64px"}}),(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",sx:{textAlign:"center"},children:r(o())}),(0,F.BX)(ne.k,{gap:4,justifyContent:"center",children:[s?(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",layout:"labelOnly",disabled:!c,onClick:a,children:r("webapp_darkweb_leaks_empty_leaks_add_email")}):null,l?(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",layout:"labelOnly",onClick:e=>{e.preventDefault(),(0,Oe.Yk)(i,{type:"darkWebMonitoring",action:"goPremium"})},children:r("webapp_darkweb_leaks_empty_leaks_go_premium_button")}):null]})]})};var Y_=n(59152),$_=n(90435);const Q_=()=>{const{translate:e}=(0,v.Z)();return(0,$_.o)()?(0,F.tZ)(V.k,{title:e("webapp_darkweb_leaked_master_password_title"),description:e("webapp_darkweb_leaked_master_password_description"),mood:"danger",size:"large",sx:{marginBottom:"8px"},actions:[(0,F.tZ)(w.z,{mood:"danger",intensity:"quiet",onClick:()=>(0,Oe.Yo)(we.dx),size:"small",children:e("webapp_darkweb_leaked_master_password_blog_link")},"hc-link"),(0,F.tZ)(w.z,{mood:"danger",onClick:()=>(0,Oe.nL)("https://app.dashlane.com/#security-settings"),size:"small",children:e("webapp_darkweb_leaked_master_password_action_open_settings")},"settings")]}):null};var J_;const em={listContainer:{height:"100%",backgroundColor:"ds.container.agnostic.neutral.supershy"},monitoredLeaks:{backgroundColor:"ds.container.agnostic.neutral.supershy",border:"1px solid ds.border.neutral.quiet.idle",borderRadius:"4px",padding:"32px",display:"flex",flex:"1 1 auto",flexDirection:"column"}},tm={tokenEndpoint:et.C.getBreachesPaginationToken,pageEndpoint:et.C.getBreachesPage,batchLiveEndpoint:et.C.liveBreachesBatch},nm=(0,I_.G)(tm,(({hasDataLeakCapability:e,hasNext:t,hasPrevious:n,isLoading:a,loadNext:i,loadPrevious:r,paginatedData:o,emails:s,availableEmailSpots:l,onOpenAddDialog:c,premiumUrl:d})=>{var p;const{translate:u}=(0,v.Z)(),{markBreachAsSeen:_}=N_(),{openBreachDetailsDialog:m}=C.useContext(j_),h=(0,C.useMemo)((()=>[...o.values()]),[o]),g=(0,C.useCallback)((e=>{e.status===k_.J.PENDING&&_(e.id),m({breach:e.id})}),[_,m]);(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ToolsDarkWebMonitoringList)}),[]);const b=(0,C.useCallback)((e=>e.map((e=>(0,F.tZ)(M_,{breachItemView:e,handleOnViewDetails:g},e.id)))),[g]);return(0,F.BX)("section",{sx:em.monitoredLeaks,children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"},children:u("webapp_darkweb_leaks_monitored_leaks_title")}),J_||(J_=(0,F.tZ)(Q_,{})),(()=>{const o=h.some((e=>e.length>0));return(0,F.tZ)(Y_.v,{hasNext:t,hasPrevious:n,isLoading:a,loadNext:i,loadPrevious:r,children:(0,F.tZ)("div",{sx:em.listContainer,children:o?h.map(b):p||(p=(0,F.tZ)(K_,{hasDataLeakCapability:e,availableEmailSpots:l,emails:s,onOpenAddDialog:c,premiumUrl:d}))})})})()]})})),am={sortCriteria:[{field:"eventDate",direction:"descend"}],filterCriteria:[{field:"breachType",type:"equals",value:"private"},{field:"status",type:"differs",value:k_.J.ACKNOWLEDGED}],initialBatchSize:20},im=e=>(0,F.tZ)(nm,{tokenParams:am,...e}),rm=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)(yr.Z,{sx:{padding:"32px"},children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",sx:{marginBottom:"24px"},children:e("webapp_darkweb_tips_monitored_tips_title")}),(0,F.BX)("div",{children:[(0,F.tZ)(D.n,{as:"h3",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",sx:{lineHeight:"24px",marginBottom:"8px"},children:e("webapp_darkweb_tips_monitored_tips_base_card_title")}),(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:e("webapp_darkweb_tips_monitored_tips_base_card_description")})]})]})};var om=n(11959);const sm="webapp_darkweb_add_email_dialog_error_already_monitoring",lm="webapp_darkweb_add_email_dialog_error_already_pending",cm="webapp_darkweb_add_email_dialog_error_invalid_email",dm="webapp_darkweb_add_email_dialog_error_generic",pm="webapp_darkweb_add_email_dialog_input_placeholder_text",um="webapp_darkweb_add_email_dialog_first_description_info",_m={TITLE:"webapp_darkweb_add_email_dialog_title",DESCRIPTION:"webapp_darkweb_add_email_dialog_description_count_markup",CANCEL_BUTTON:"webapp_darkweb_add_email_dialog_cancel",CONFIRM_BUTTON:"webapp_darkweb_add_email_dialog_confirm"},mm={TITLE:"webapp_darkweb_add_email_dialog_first_title",DESCRIPTION:"webapp_darkweb_add_email_dialog_first_description_markup",CANCEL_BUTTON:"webapp_darkweb_add_email_dialog_first_close",CONFIRM_BUTTON:"webapp_darkweb_add_email_dialog_first_confirm"};var hm=function(e){return e[e.EMAIL_ALREADY_MONITORED=0]="EMAIL_ALREADY_MONITORED",e[e.EMAIL_ALREADY_PENDING=1]="EMAIL_ALREADY_PENDING",e[e.NONE=2]="NONE",e}(hm||{});const gm=({availableSpots:e,userLogin:t,existingEmails:n,error:a,resetError:i,handleOnAddEmail:r,handleOnCloseDialog:o})=>{const{translate:s}=(0,v.Z)(),l=n&&n.length>0,[c,d]=C.useState(l?null:t),[p,u]=C.useState(hm.NONE),_=C.useCallback((e=>{const t=e.target.value;let a=hm.NONE;if(n&&t&&(0,Fd.vV)(t)){const e=n.find((e=>e.email===t));if(e)switch(e.state){case Yu.wp.ACTIVE:a=hm.EMAIL_ALREADY_MONITORED;break;case Yu.wp.PENDING:a=hm.EMAIL_ALREADY_PENDING}}u(a),d(t)}),[n,d]),m=C.useCallback((()=>{null!==a&&i()}),[a,i]),h=C.useCallback((()=>{null!==c&&(0,Fd.vV)(c)&&r(c)}),[c,r]),g=C.useCallback((e=>{e.preventDefault(),h()}),[h]),b=null===c||!(0,Fd.vV)(c)||p!==hm.NONE,w=l?_m:mm;return(0,F.tZ)(Jo.Vq,{isOpen:!0,onClose:o,title:s(w.TITLE),closeActionLabel:s("_common_dialog_dismiss_button"),actions:{primary:{children:s(w.CONFIRM_BUTTON),onClick:h,disabled:b},secondary:{children:s(w.CANCEL_BUTTON),onClick:o}},children:(()=>{const t=function(e){if(!e)return null;switch(e){case om.XX.INVALID_EMAIL:return cm;case om.XX.ALREADY_SUBSCRIBED:return sm;default:return dm}}(a)||(()=>{switch(p){case hm.EMAIL_ALREADY_MONITORED:return sm;case hm.EMAIL_ALREADY_PENDING:return lm;case hm.NONE:default:return null}})();return(0,F.BX)("div",{className:"dialog--jL7pxdADK2",children:[(0,F.tZ)("p",{className:"description--YBrfIzqkak",children:s.markup(w.DESCRIPTION,{count:e})}),!l&&(0,F.tZ)("div",{className:"firstEmailInfo--gty7qXFic5",children:(0,F.tZ)(V.k,{title:s(um)})}),(0,F.tZ)("form",{onSubmit:g,children:(0,F.tZ)(jd.s,{label:s(pm),onChange:_,onInput:m,value:null!=c?c:void 0,error:!!t,feedback:t?{text:s(t)}:void 0})})]})})()})},bm={position:"absolute",zIndex:n(10135).K.MODAL,top:"0px",overflow:"auto",width:"100%",height:"100%",backgroundColor:"ds.container.agnostic.neutral.standard"},wm={display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:"4px",background:"ds.container.agnostic.neutral.supershy",padding:"88px",width:"784px"},ym=({contentTitle:e,contentSubtitle:t,children:n,actions:a})=>(0,F.tZ)(ne.k,{sx:bm,justifyContent:"center",alignItems:"center",children:(0,F.tZ)("div",{sx:{display:"flex",justifyContent:"center",margin:"32px"},children:(0,F.tZ)("div",{sx:{display:"flex",justifyContent:"center",margin:" 0 10% 0 10%"},children:(0,F.BX)("div",{sx:wm,children:[(0,F.tZ)(I.X,{as:"h2",children:e}),(0,F.tZ)("div",{sx:{color:"ds.text.neutral.quiet",marginTop:"8px"},children:t}),n,a]})})})});var fm,xm,Sm;const vm=({onActionClick:e})=>{const{translate:t}=(0,v.Z)(),n=(0,F.tZ)("div",{sx:{display:"flex",justifyContent:"flex-end",marginTop:" 36px"},children:(0,F.tZ)(w.z,{type:"button",mood:"brand",onClick:e,children:t("webapp_darkweb_onboarding_premium_cta")})});return(0,F.tZ)(ym,{contentTitle:t("webapp_darkweb_onboarding_premium_title"),contentSubtitle:t("webapp_darkweb_onboarding_description"),actions:n,children:(0,F.BX)("ul",{sx:{marginTop:"8px"},children:[(0,F.tZ)("li",{sx:{marginTop:"16px"},children:(0,F.BX)(ne.k,{alignItems:"center",justifyContent:"space-around",flexWrap:"nowrap",gap:6,children:[fm||(fm=(0,F.tZ)("div",{children:(0,F.tZ)(N.blU,{"aria-hidden":!0,size:35,color:"ds.text.neutral.quiet"})})),(0,F.BX)("div",{children:[(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.block.medium",sx:{fontWeight:"bold"},children:t("webapp_darkweb_onboarding_surveillance_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:t("webapp_darkweb_onboarding_surveillance_description")})]})]})}),(0,F.tZ)("li",{sx:{marginTop:"16px"},children:(0,F.BX)(ne.k,{alignItems:"center",justifyContent:"space-around",flexWrap:"nowrap",gap:6,children:[xm||(xm=(0,F.tZ)("div",{children:(0,F.tZ)(N._uz,{"aria-hidden":!0,size:35,color:"ds.text.neutral.quiet"})})),(0,F.BX)("div",{children:[(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.block.medium",sx:{fontWeight:"bold"},children:t("webapp_darkweb_onboarding_alerts_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:t("webapp_darkweb_onboarding_alerts_description")})]})]})}),(0,F.tZ)("li",{sx:{marginTop:"16px"},children:(0,F.BX)(ne.k,{alignItems:"center",justifyContent:"space-around",flexWrap:"nowrap",gap:6,children:[Sm||(Sm=(0,F.tZ)("div",{children:(0,F.tZ)(N.tWY,{"aria-hidden":!0,size:35,color:"ds.text.neutral.quiet"})})),(0,F.BX)("div",{children:[(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.block.medium",sx:{fontWeight:"bold"},children:t("webapp_darkweb_onboarding_advice_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:t("webapp_darkweb_onboarding_advice_description")})]})]})})]})})},Cm={onboardingContainer:{height:"100%",width:"100%",position:"relative"},rootContainer:{backgroundColor:"ds.background.alternate",display:"flex",flexDirection:"column",padding:"16px 0px",height:"100%",width:"100%"},header:{color:"ds.background.alternate",display:"flex",flexDirection:"row",justifyContent:"spaceBetween",lineHeight:"1.25"},freeTrialWarning:{lineHeight:"20px",marginTop:"4px",color:"ds.border.warning.standard.active"},content:{display:"flex",flexFlow:"row wrap",flexGrow:1,overflowY:"auto",padding:"8px 24px"},breachesContent:{display:"flex",flexDirection:"column",margin:"8px",width:"min-content",flexGrow:2},emailContent:{display:"flex",flexDirection:"column",margin:"8px",width:"min-content",flexGrow:1,minHeight:"min-content"}};var Zm,km;const Im=({lee:e})=>{var t;const{translate:n}=(0,v.Z)(),a=(0,Ar.Y)(),r=(0,Es.U)(),{openDialog:o,shouldShowFrozenStateDialog:s}=(0,c.Ub)(),{isLoading:l,emails:d,limit:p,b2bAssociatedEmail:u,optinEmail:_}=x_(),{close:m,setOptInError:h,isOpen:g,optInError:b,open:w}=(()=>{const[e,t]=C.useState(!1),[n,a]=C.useState(null);return{isOpen:e,open:C.useCallback((()=>{a(null),t(!0)}),[a]),optInError:n,close:C.useCallback((()=>{a(null),t(!1)}),[a]),setOptInError:a}})(),{onboardingState:y,updateOnboardingState:f}=(()=>{const{dismissOnboardingNotification:e}=(0,K.u)(y_.M);return{updateOnboardingState:e,onboardingState:(0,L.k)(y_.M,"onboardingNotificationState")}})(),x=(0,N.VYq)({message:"",dismissDelay:5e3,closeIconName:n("_common_alert_dismiss_button")}),S=(0,Rd.gW)(["dataLeak"]);(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ToolsDarkWebMonitoring)}),[]);const[Z,k]=(0,C.useState)(null),E=()=>{s?o():w()},D=(0,C.useCallback)((()=>{null!==b&&h(null)}),[b,h]);if(a.status===qn.rq.Loading||S.status===qn.rq.Loading||y.status===qn.rq.Loading||null===r||l||null===s)return(0,F.tZ)(Xl.Z,{size:50,containerStyle:{height:"100%"}});const A=S.status===qn.rq.Success&&S.data,O=y.status===qn.rq.Success&&y.data===Wu.M.NOT_SEEN,P=(null!=d?d:[]).filter((e=>e.email!==u)).length>0,R=A&&O&&!P,M=null!=d?d:[],B=Math.max(p-(null!=(t=d?.length)?t:0),0),{login:z}=e.globalState.carbon.loginStatus,U=(0,Ml.aH)(i.G9,r),X=a.status===qn.rq.Success&&a.data?(0,Is.B$)(a.data):void 0;return(0,F.tZ)(Os,{children:(0,F.tZ)(G_,{children:(0,F.BX)(_r.QR,{mode:"fullscreen",paywall:_r.qd.DarkWebMonitoring,children:[(0,F.tZ)("div",{sx:Cm.onboardingContainer,children:R?(0,F.tZ)(vm,{onActionClick:()=>{s?o():(f(),w())}}):(0,F.BX)("div",{sx:Cm.rootContainer,children:[(0,F.tZ)(ne.k,{sx:{paddingLeft:"32px",paddingRight:"32px"},children:(0,F.tZ)(_o.h,{startWidgets:(0,F.BX)(ne.k,{flexDirection:"column",children:[(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:n("webapp_darkweb_dashboard_title")}),void 0!==X?(0,F.tZ)("div",{sx:Cm.freeTrialWarning,children:n("webapp_darkweb_dashboard_title_free_trial_warning",{days:X})}):null]}),endWidget:Zm||(Zm=(0,F.tZ)(mo.D,{}))})}),(0,F.BX)("div",{sx:Cm.content,children:[(0,F.tZ)("div",{sx:Cm.breachesContent,children:(0,F.tZ)(im,{hasDataLeakCapability:A,availableEmailSpots:B,emails:M,onOpenAddDialog:E,premiumUrl:U})}),(0,F.BX)("div",{sx:Cm.emailContent,children:[(0,F.tZ)(Z_,{emails:M,b2bAssociatedEmail:u,availableEmailSpots:B,onOpenAddDialog:E,removalOutcomeAlert:x,newlyAddedEmail:Z,setNewlyAddedEmail:k,hasDataLeakCapability:A}),km||(km=(0,F.tZ)(rm,{})),g?(0,F.tZ)(gm,{existingEmails:M,userLogin:z,availableSpots:B,error:b,resetError:D,handleOnCloseDialog:()=>{m()},handleOnAddEmail:async e=>{const t=await _(e);(0,T.d6)(t)?(m(),setTimeout((()=>{k(e)}),800)):h(t?.error?.tag)}}):null]})]})]})}),(0,F.tZ)(N.YcA,{children:x.alert})]})})})},Em=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:Im}),Dm={alignItems:"center",borderBottom:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",bottom:"12px",display:"flex",height:"60px",userSelect:"none"},Tm={padding:"0 0 16px"},Am=({headerTitle:e,items:t,render:n})=>(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",sx:Dm,children:e}),(0,F.tZ)(ne.k,{flexWrap:"wrap",justifyContent:"start",sx:Tm,children:t.map(n)})]}),Nm=(0,C.memo)(Am);var Om=n(77377),Pm=n(7973),Lm=n(28290),Rm=n(65995);let Mm=function(e){return e.EXPIRED="expired",e.DAYSLEFT="daysleft",e.MONTHSLEFT="monthsleft",e}({});const Bm=(e,t,n,a)=>{if(!e)return[void 0,void 0];const i=new Date(e),r=(0,Lm.Z)(i,new Date),o=(0,Rm.Z)(i,new Date),s=n?((e,t)=>e<0?Mm.EXPIRED:0===t?Mm.DAYSLEFT:t<6?Mm.MONTHSLEFT:void 0)(r,o):void 0,l=s?((e,t,n,a)=>e===Mm.EXPIRED?a(n.EXPIRED):e===Mm.DAYSLEFT?a(n.EXPIRES_DAYS):e===Mm.MONTHSLEFT?a(n.EXPIRES_MONTHS,{months:(t+1).toString()}):void 0)(s,o,t,a):a(t.EXPIRES,{date:(0,Pm.Z)(i,"MM/yy")});return[l,s]},zm={borderRadius:"8px",margin:"12px 12px 12px 0",cursor:"pointer",width:"376px",height:"124px",gap:"16px",padding:"8px",".card-quick-actions":{display:"none"},":focus":{outline:"none",boxShadow:e=>`\n    0 0 0 2px ${e.colors.ds.container.expressive.neutral.quiet.hover},\n    0 0 0 3px ${e.colors.ds.container.expressive.neutral.quiet.active}\n  `},":focus:not(:focus-visible)":{outline:"none",boxShadow:"none"},":hover, :focus, :focus-within":{backgroundColor:"ds.container.expressive.neutral.quiet.hover",".card-quick-actions":{display:"inherit"}}},Um=({text:e})=>e?(0,F.tZ)(D.n,{as:"span",textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",sx:{marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e}):null,Fm=({text:e,criticality:t})=>{const n=t&&t!==Mm.MONTHSLEFT;return e?(0,F.tZ)(D.n,{as:"span",textStyle:"ds.body.reduced.regular",color:(a=t,a?["expired","daysleft"].includes(a)?"ds.text.danger.quiet":a===Mm.MONTHSLEFT?"ds.text.warning.quiet":"ds.text.neutral.quiet":"ds.text.neutral.quiet"),sx:n?{fontWeight:"600"}:{},children:e}):null;var a},Xm=({itemId:e,title:t,description:n,country:i,additionalDescription:r,criticalityStatus:o,editRoute:s,type:l,copiableValue:c})=>{const{translate:d}=(0,v.Z)();return(0,F.BX)(ne.k,{flexWrap:"nowrap",alignItems:"center",tabIndex:0,sx:zm,onClick:()=>{(0,bt.Q_)(e,bt.Ab[l]),(0,a.uX)(s)},as:"article",children:[(0,F.tZ)(ai,{size:ii.Large,country:i,type:l}),(0,F.BX)(ne.k,{flexDirection:"column",flexWrap:"nowrap",sx:{height:"100%",minWidth:0,width:"100%"},children:[(0,F.tZ)(a.rU,{sx:{marginTop:"4px",marginBottom:"4px",outline:"none",textDecoration:"none"},to:s,title:t,children:(0,F.tZ)(D.n,{as:"strong",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t||(0,nn.bx)(l,i,d)})}),(0,F.BX)(ne.k,{className:"card-contents",flexDirection:"column",flexWrap:"nowrap",sx:{minWidth:0},children:[(0,F.tZ)(Um,{text:n}),(0,F.tZ)(Fm,{text:r,criticality:o})]}),(0,F.tZ)("span",{sx:{marginTop:"4px"},className:"card-quick-actions",children:(0,F.tZ)(en,{itemId:e,copyValue:c,editRoute:s,variant:"list",type:l})})]})]})},qm=(0,C.memo)(Xm),Hm={EXPIRES:"webapp_ids_id_cards_id_card_expires",EXPIRED:"webapp_ids_driver_licences_driver_licence_expired",EXPIRES_DAYS:"webapp_ids_driver_licences_driver_licence_expires_days",EXPIRES_MONTHS:"webapp_ids_driver_licences_driver_licence_expires_months"},Vm=({item:e,route:t})=>{const{translate:n}=(0,v.Z)(),a=(0,Om.w)(Vn.w.TechweekWebExpiredLabelforIDDev),[i,r]=Bm(e.expirationDate,Hm,a,n);return(0,F.tZ)(qm,{itemId:e.id,title:e.idName,description:e.idNumber,additionalDescription:i,criticalityStatus:r,country:e.country,type:ut.U.DriversLicense,editRoute:t,copiableValue:e.idNumber})},Wm=({item:e,route:t})=>{const n=e.country===tn.c.FR?e.teledeclarantNumber:void 0;return(0,F.tZ)(qm,{itemId:e.id,title:e.fiscalNumber,description:n,country:e.country,type:ut.U.FiscalId,editRoute:t,copiableValue:e.fiscalNumber})},jm={EXPIRES:"webapp_ids_id_cards_id_card_expires",EXPIRED:"webapp_ids_id_cards_id_card_expired",EXPIRES_DAYS:"webapp_ids_id_cards_id_card_expires_days",EXPIRES_MONTHS:"webapp_ids_id_cards_id_card_expires_months"},Gm=({item:e,route:t})=>{const{translate:n}=(0,v.Z)(),a=(0,Om.w)(Vn.w.TechweekWebExpiredLabelforIDDev),[i,r]=Bm(e.expirationDate,jm,a,n);return(0,F.tZ)(qm,{itemId:e.id,title:e.idName,description:e.idNumber,additionalDescription:i,criticalityStatus:r,country:e.country,type:ut.U.IdCard,editRoute:t,copiableValue:e.idNumber})},Km=({item:e,route:t})=>{const{translate:n}=(0,v.Z)(),a=e.country!==tn.c.UNIVERSAL&&e.country!==tn.c.NO_TYPE?e.country:void 0;return(0,F.tZ)(qm,{itemId:e.id,title:e.idName,description:e.idNumber,additionalDescription:a?n(`country_name_${a}`):void 0,country:e.country,type:ut.U.Passport,editRoute:t,copiableValue:e.idNumber})},Ym=({item:e,route:t})=>(0,F.tZ)(qm,{itemId:e.id,title:e.idName,description:e.idNumber,country:e.country,type:ut.U.SocialSecurityId,editRoute:t,copiableValue:e.idNumber}),$m={[Ot.cH.BR]:"webapp_id_creation_socialsecurity_new_btn_br",[Ot.cH.CA]:"webapp_id_creation_socialsecurity_new_btn_ca",[Ot.cH.GB]:"webapp_id_creation_socialsecurity_new_btn_gb",[Ot.cH.IE]:"webapp_id_creation_socialsecurity_new_btn_ie",[Ot.cH.IT]:"webapp_id_creation_socialsecurity_new_btn_it",[Ot.cH.JP]:"webapp_id_creation_socialsecurity_new_btn_jp",[Ot.cH.NL]:"webapp_id_creation_socialsecurity_new_btn_nl",[Ot.cH.NO]:"webapp_id_creation_socialsecurity_new_btn_no",[Ot.cH.PT]:"webapp_id_creation_socialsecurity_new_btn_pt",[Ot.cH.SE]:"webapp_id_creation_socialsecurity_new_btn_se"},Qm=({buttonLabel:e,buttonClick:t,currentLocation:n})=>{var i;const{translate:r}=(0,v.Z)(),{routes:o}=(0,a.Xo)(),s=(0,nn.lt)(n),l=e=>()=>{t?.(),(0,a.uX)(o.userAddIdDocument(e))},c=[{icon:"ItemIdOutlined",label:r("webapp_id_creation_idcard_new_btn_default"),onClick:l(ut.U.IdCard)},{icon:"ItemSocialSecurityOutlined",label:r(null!=(i=$m[s])?i:"webapp_id_creation_socialsecurity_new_btn_default"),onClick:l(ut.U.SocialSecurityId)},{icon:"ItemDriversLicenseOutlined",label:r("webapp_id_creation_driverlicense_new_btn_default"),onClick:l(ut.U.DriversLicense)},{icon:"ItemPassportOutlined",label:r("webapp_id_creation_passport_new_btn_default"),onClick:l(ut.U.Passport)},{icon:"ItemTaxNumberOutlined",label:r("webapp_id_creation_fiscalid_new_btn_default"),onClick:l(ut.U.FiscalId)}];return(0,F.tZ)(js,{buttonLabel:null!=e?e:r("webapp_id_creation_header_btn"),menuItems:c})};var Jm;const eh=({currentLocation:e})=>(0,F.tZ)(Gs,{dropdown:(0,F.tZ)(Qm,{currentLocation:e}),endWidget:Jm||(Jm=(0,F.tZ)(mo.D,{}))});var th=n(55529),nh=n(51536);const ah=()=>(0,$e.Kz)(new je.UserClickEvent({button:je.Button.AddId})),ih={admin:{title:"webapp_ids_empty_state_title_admin",description:"webapp_ids_empty_state_description_admin",nextStep:{add:"webapp_ids_empty_state_next_step_add_title"}},employee:{title:"webapp_ids_empty_state_title_employee",description:"webapp_ids_empty_state_description_employee",nextStep:{add:"webapp_ids_empty_state_next_step_add_title"}},b2c:{title:"webapp_ids_empty_state_title",description:"webapp_ids_empty_state_description",nextStep:{add:"webapp_ids_empty_state_next_step_add_title"}}},rh=({currentLocation:e})=>{const{translate:t}=(0,v.Z)(),n=(0,tl.Q)();if(n.status!==qn.rq.Success)return null;const a=ih[n.isB2B?n.b2bRoles.isAdmin?"admin":"employee":"b2c"];return(0,F.tZ)(nl.x,{title:t(a.title),description:t(a.description),illustrationLightSrc:th,illustrationDarkSrc:nh,children:(0,F.tZ)(Qm,{currentLocation:e,buttonLabel:t(a.nextStep.add),buttonClick:ah})})},oh=e=>(0,F.tZ)("div",{sx:{whiteSpace:"nowrap"},"data-testid":"ids-documents-grid-items",children:C.Children.toArray(e.children)}),sh=({currentLocation:e})=>(0,F.tZ)(Go.I,{header:(0,F.tZ)(Qs.t,{title:"webapp_ids_empty_state_page_title"}),children:(0,F.tZ)(rh,{currentLocation:e})}),lh=({currentSpaceId:e,userEditDocumentRoute:t,currentCountry:n,currentLocation:a})=>{const{translate:i}=(0,v.Z)();(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ItemIdList)}),[]);const{status:r,data:o}=(0,L.k)(Ht.L,"query",{vaultItemTypes:[ut.U.DriversLicense,ut.U.FiscalId,ut.U.IdCard,ut.U.Passport,ut.U.SocialSecurityId],propertyFilters:null!==e?[{property:"spaceId",value:e}]:void 0,propertySorting:{property:"creationDatetime",direction:ud.S.Descend}});if(r!==R.rq.Success||!Object.values(o).some((e=>e.matchCount>0)))return(0,F.tZ)(sh,{currentLocation:a});const{driversLicensesResult:s,fiscalIdsResult:l,idCardsResult:c,passportsResult:d,socialSecurityIdsResult:p}=o,u=[{result:c,key:"webapp_ids_id_cards_grid_header_title",render:e=>(0,F.tZ)(Gm,{item:e,route:t(ut.U.IdCard,e.id)},e.id)},{result:p,key:"webapp_ids_social_security_ids_grid_header_title",render:e=>(0,F.tZ)(Ym,{item:e,route:t(ut.U.SocialSecurityId,e.id)},e.id)},{result:s,key:"webapp_ids_driver_licences_grid_header_title",label:(_=i.getLocale(),m=n,h=s.matchCount,nn.Rd.has(m)&&"en"===_?1===h?"Driver's licence":`Driver's licences (${h})`:null),render:e=>(0,F.tZ)(Vm,{item:e,route:t(ut.U.DriversLicense,e.id)},e.id)},{result:d,key:"webapp_ids_passports_grid_header_title",render:e=>(0,F.tZ)(Km,{item:e,route:t(ut.U.Passport,e.id)},e.id)},{result:l,key:"webapp_ids_fiscal_ids_grid_header_title",render:e=>(0,F.tZ)(Wm,{item:e,route:t(ut.U.FiscalId,e.id)},e.id)}];var _,m,h;return(0,F.tZ)(Go.I,{header:(0,F.tZ)(eh,{currentLocation:a}),children:(0,F.tZ)(oh,{children:u.map((({label:e,key:t,render:n,result:{matchCount:a,items:r}})=>a?(0,F.tZ)(Nm,{headerTitle:null!=e?e:i(t,{count:a}),items:r,render:n},t):null))})})},ch=({lee:e})=>{const{routes:t}=(0,_.Xo)();return(0,F.tZ)(Os,{children:(0,F.tZ)(lh,{userEditDocumentRoute:t.userEditIdDocument,currentSpaceId:(0,Kn.B)(e.globalState),currentCountry:(0,nn.lt)(e.carbon.currentLocation),currentLocation:e.carbon.currentLocation})})},dh=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:ch});var ph=n(697),uh=n.n(ph);const _h=({children:e,location:t})=>{const{translate:n}=(0,v.Z)(),a=(0,Qn.j)(),i=t.href.endsWith("onboarding")&&(a.status===R.rq.Loading||a.status===R.rq.Success&&a.shouldDisplayAdminVaultGetStartedGuide);return(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",backgroundColor:i?"ds.container.agnostic.neutral.standard":u_()["--dash-green-00"],color:"white",height:"100%",width:"100%",zIndex:uh()["--z-index-webapp-onboarding-top-level-wrapper"],overflowY:"auto",padding:"0 24px"},children:[(0,F.tZ)(_o.h,{endWidget:(0,F.tZ)(mo.D,{invertColors:!i})}),(0,F.BX)("div",{sx:{padding:i?"none":"0 16px 16px",height:"100%",width:"100%",maxWidth:i?"1120px":"none"},children:[i?null:(0,F.BX)(C.Fragment,{children:[(0,F.tZ)("h1",{className:"heading--v0RjO82Q9X",children:n("web_onboarding_body_title")}),(0,F.tZ)("p",{className:"headingCaption--iLkaeMgL9m",children:n("web_onboarding_body_text")})]}),e]})]})};var mh=n(30442);const hh=({iconUrl:e,domain:t,loginUrl:n,onSiteIconClick:a})=>(0,F.tZ)("div",{className:ea()({"dummy--HV_cN6qm9p":!n}),children:(0,F.BX)("a",{className:"imageContainer--pbhZi6zXUJ",onClick:()=>a(t,n),children:[(0,F.tZ)("img",{className:"imageSubContainer--lVaEIY0nha",src:e,width:"97",height:"64"}),(0,F.tZ)("p",{className:"domain--L6dV54OOFa",children:t})]})}),gh=[{label:"netflix.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/netflix_com.png",domain:"netflix.com",loginUrl:"https://www.netflix.com/"},{label:"facebook.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/facebook_com.png",domain:"facebook.com",loginUrl:"https://www.facebook.com"},{label:"twitter.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/twitter_com.png",domain:"twitter.com",loginUrl:"https://www.twitter.com/"},{label:"live.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/live_com.png",domain:"live.com",loginUrl:"https://live.com"},{label:"spotify.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/spotify_com.png",domain:"spotify.com",loginUrl:"https://www.spotify.com"},{label:"google.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/google_com.png",domain:"google.com",loginUrl:"https://www.google.com"},{label:"linkedin.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/linkedin_com.png",domain:"linkedin.com",loginUrl:"https://www.linkedin.com/"},{label:"paypal.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/paypal_com.png",domain:"paypal.com",loginUrl:"https://www.paypal.com"},{label:"instagram.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/instagram_com.png",domain:"instagram.com",loginUrl:"https://www.instagram.com"},{label:"amazon.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/amazon_com.png",domain:"amazon.com",loginUrl:"https://www.amazon.com"}],bh=[{label:"live.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/live_com.png",domain:"live.com",loginUrl:"https://live.com"},{label:"google.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/google_com.png",domain:"google.com",loginUrl:"https://www.google.com"},{label:"linkedin.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/linkedin_com.png",domain:"linkedin.com",loginUrl:"https://www.linkedin.com/"},{label:"paypal.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/paypal_com.png",domain:"paypal.com",loginUrl:"https://www.paypal.com"},{label:"amazon.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/amazon_com.png",domain:"amazon.com",loginUrl:"https://www.amazon.com"}],wh=({onSiteIconClick:e})=>{const t=(0,f_.E)(),n=t.status===R.rq.Success&&t.data.length>0?bh:gh;return(0,F.tZ)(ne.k,{flexWrap:"wrap",sx:{padding:"40px 0"},children:n.map((t=>(0,F.tZ)(hh,{onSiteIconClick:e,...t},t.label)))})};var yh=n(50839);const fh={step:{display:"flex",alignItems:"center",marginBottom:"16px","&:last-of-type":{marginBottom:0}},stepMarkerContainer:{borderRadius:"50%",backgroundColor:"ds.container.expressive.neutral.quiet.idle",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",marginRight:"12px"}};var xh,Sh,vh,Ch;const Zh=({domainText:e,loginUrlText:t,setSelectedSite:n})=>{const{translate:i}=(0,v.Z)(),{routes:r}=(0,_.Xo)(),o=(0,ta.o)(Hn.G.OnboardingWebConfirmSite),s=()=>{tt({activeOnboardingType:"saveWeb",leelooStep:Ge.s.SHOW_SAVE_SITES_DIALOG}),n(!1)};return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.HomeOnboardingChecklistAddFirstLogin)}),[]),(0,F.BX)(C.Fragment,{children:[(0,F.BX)("div",{sx:{display:"flex",alignItems:"center"},children:[(0,F.tZ)(w.z,{as:a.rU,icon:"ArrowLeftOutlined",intensity:"supershy",layout:"iconOnly",mood:"brand",size:"medium",to:r.userPasswordSites,onClick:s}),(0,F.BX)("div",{sx:{marginLeft:"16px",display:"flex",alignItems:"center"},children:[xh||(xh=(0,F.tZ)(st.JO,{name:"ItemLoginOutlined",size:"small",color:"ds.text.neutral.quiet"})),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small",sx:{marginLeft:"8px",marginTop:"2px"},children:i("web_onboarding_card_add_password")})]})]}),(0,F.BX)("div",{sx:{padding:"2rem 3.5rem"},children:[(0,F.BX)("header",{children:[(0,F.tZ)(D.n,{as:"h2",color:"ds.text.neutral.catchy",textStyle:"ds.title.section.large",children:i("web_onboarding_card_go_to_site_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",sx:{marginTop:"8px"},children:i("web_onboarding_card_go_to_site_description")})]}),(0,F.BX)("ol",{sx:{padding:"2.5rem 0 2rem"},children:[(0,F.BX)("li",{sx:{...fh.step,alignItems:"flex-start"},children:[(0,F.tZ)("div",{sx:fh.stepMarkerContainer,children:Sh||(Sh=(0,F.tZ)(D.n,{as:"span",color:"ds.text.neutral.catchy",textStyle:"ds.body.standard.strong",children:"1"}))}),(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column"},children:[(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:i("web_onboarding_card_go_to_site_step_1_pt_1")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.strong",children:i.markup("web_onboarding_card_go_to_site_step_1_pt_2_markup")})]})]}),(0,F.BX)("li",{sx:fh.step,children:[(0,F.tZ)("div",{sx:fh.stepMarkerContainer,children:vh||(vh=(0,F.tZ)(D.n,{as:"span",color:"ds.text.neutral.catchy",textStyle:"ds.body.standard.strong",children:"2"}))}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:i("web_onboarding_card_go_to_site_step_2")})]}),(0,F.BX)("li",{sx:fh.step,children:[(0,F.tZ)("div",{sx:fh.stepMarkerContainer,children:Ch||(Ch=(0,F.tZ)(D.n,{as:"span",color:"ds.text.neutral.catchy",textStyle:"ds.body.standard.strong",children:"3"}))}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:i.markup("web_onboarding_card_go_to_site_step_3_markup")})]})]}),(0,F.BX)("footer",{sx:{display:"flex",justifyContent:"flex-end",flex:"1",gap:"16px"},children:[(0,F.tZ)(a.rU,{to:r.userPasswordSites,children:(0,F.tZ)(w.z,{intensity:"quiet",mood:"neutral",size:"medium",onClick:s,sx:{minHeight:"40px"},children:i("web_onboarding_card_go_back")})}),(0,F.tZ)(w.z,{icon:"ActionOpenExternalLinkOutlined",layout:"iconTrailing",mood:"brand",size:"medium",onClick:async()=>{if(o)try{await(0,yh.$)(e),await(0,Je.U)({url:t})}catch(e){console.error("Error",e)}tt({activeOnboardingType:"saveWeb",...!o&&{flowLoginCredentialOnWebSite:{domain:e,url:t}}})},children:i("web_onboarding_card_go_to_site_link")})]})]})]})},kh={container:"container--PAiv0iriUo",routeContainer:"routeContainer--IwizkStb3B",arrowBtnContainer:"arrowBtnContainer--UNukeqHbPW",passwordsIcon:"passwordsIcon--Onz9Nv6su0",actionText:"actionText--RFi57I1yVb",subContainer:"subContainer--C0Wg37uJgN",title:"title--PALNlWlsuw",description:"description--ZlLve5OGv7"};var Ih,Eh,Dh;const Th=(0,F.tZ)(N.xCe,{color:N.colors.dashGreen00,size:20,viewBox:"0 2 20 20"}),Ah=(0,F.tZ)(N.NSO,{color:N.colors.dashGreen02,size:20,viewBox:"0 0 40 40"}),Nh=()=>{const{translate:e}=(0,v.Z)(),{routes:t}=(0,_.Xo)(),n=(0,a.k6)(),[i,r]=(0,C.useState)(!1),[o,s]=(0,C.useState)(""),[l,c]=(0,C.useState)(""),d=(0,ta.o)(mh.c.ImportOrchestratorGrapheneMigration);(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.HomeOnboardingChecklistAddFirstLoginWebsiteList)}),[]);const p=d?t.importDataV2:t.importData;return i?(0,F.tZ)("div",{className:kh.container,children:(0,F.tZ)(Zh,{setSelectedSite:e=>{r(e)},domainText:o,loginUrlText:l})}):(0,F.BX)("div",{className:kh.container,children:[(0,F.tZ)("div",{className:kh.routeContainer,children:(0,F.BX)(ne.k,{children:[(0,F.tZ)(a.rU,{to:t.userOnboarding,onClick:()=>{tt()},children:Th}),(0,F.tZ)("div",{className:kh.passwordsIcon,children:Ah}),(0,F.tZ)(N.nvN,{size:"small",color:"ds.text.oddity.disabled",children:e("web_onboarding_card_add_password")})]})}),(0,F.BX)("div",{className:kh.subContainer,children:[(0,F.BX)(ne.k,{flexDirection:"column",gap:4,children:[(0,F.tZ)(N.X6q,{size:"large",children:e("web_onboarding_card_title")}),(0,F.tZ)(N.nvN,{size:"small",color:"ds.text.oddity.disabled",children:e("web_onboarding_card_body_text")})]}),(0,F.tZ)(wh,{onSiteIconClick:(e,t)=>{s(e),c(t),r(!0)}}),Ih||(Ih=(0,F.tZ)("br",{})),(0,F.BX)(ne.k,{flexDirection:"column",gap:4,children:[(0,F.BX)(N.X6q,{size:"large",children:[" ",e("web_onboarding_import_title")]}),(0,F.tZ)(N.nvN,{size:"small",color:"ds.text.oddity.disabled",children:e("web_onboarding_import_description")})]}),Eh||(Eh=(0,F.tZ)("br",{})),(0,F.tZ)(w.z,{layout:"iconLeading",icon:Dh||(Dh=(0,F.tZ)(N._8t,{})),mood:"neutral",intensity:"quiet",onClick:()=>n.push(p),children:e("webapp_account_root_import_data")})]})]})};var Oh=n(1056),Ph=n.n(Oh);const Lh="iconTextContainer--G4CxEzKXld",Rh=(0,F.tZ)(N.uMt,{color:N.colors.dashGreen00,size:16,viewBox:"0 2 20 20"}),Mh=(0,F.tZ)(N.pY8,{color:N.colors.dashGreen02,size:24,viewBox:"0 2 40 40"}),Bh=(0,F.tZ)(N.xCe,{color:N.colors.dashGreen00,size:20,viewBox:"0 2 20 20"}),zh={value:`${we.JW}?utm_source=saexqrcode`,size:120},Uh=()=>{const{translate:e}=(0,v.Z)(),{routes:t}=(0,_.Xo)(),n=`${e("web_onboarding_card_add_mobile_warning_hover_pt_1")}\n  ${e("web_onboarding_card_add_mobile_warning_hover_pt_2")}`,i=(0,F.tZ)(N.ua7,{placement:"top",content:n,sx:{maxWidth:"270px"},children:(0,F.tZ)("div",{className:"hoverMessage--dn4quxfdWq",children:e("web_onboarding_card_add_mobile_warning_hover")})});return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.HomeOnboardingChecklistAddDevice)}),[]),(0,F.BX)("div",{className:kh.container,children:[(0,F.BX)("div",{className:kh.routeContainer,children:[(0,F.tZ)(a.rU,{to:t.userOnboarding,className:kh.arrowBtnContainer,children:Bh}),(0,F.tZ)("div",{className:"mobileIcon--kqacy9kAAI",children:Mh}),(0,F.tZ)("h2",{className:kh.actionText,children:e("web_onboarding_card_add_mobile")})]}),(0,F.BX)("div",{className:kh.subContainer,children:[(0,F.tZ)("h1",{className:kh.title,children:e("web_onboarding_card_add_mobile_title")}),(0,F.BX)("div",{className:"qrCodeContainer--pdpXBkUfaF",children:[(0,F.tZ)("img",{className:"phone--WfqeY3SdxX",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA0OCA4OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wIDQuOTk5OTlDMCAyLjIzODU3IDIuMjM4NTggMCA1IDBINDIuOTk4MkM0NS43NTk2IDAgNDcuOTk4MiAyLjIzODU4IDQ3Ljk5ODIgNVY4Mi43Mzg3QzQ3Ljk5ODIgODUuNTAwMSA0NS43NTk2IDg3LjczODYgNDIuOTk4MiA4Ny43Mzg2SDVDMi4yMzg1OCA4Ny43Mzg2IDAgODUuNTAwMSAwIDgyLjczODZWNC45OTk5OVpNNCA5SDQ0Vjc2SDRWOVpNMTEgMjlWMzUuOTk2NUgxMy42VjMxLjc5ODZIMTcuNVYyOUgxMVpNMzcgMjlWMzUuOTk2NUgzNC40VjMxLjc5ODZIMzAuNVYyOUgzN1pNMzQuNCA0OS45ODk2SDM3VjU2Ljk4NjFIMzAuNVY1NC4xODc1SDM0LjRWNDkuOTg5NlpNMTcuNSA1NC4xODc1VjU2Ljk4NjFIMTFWNDkuOTg5NkgxMy42VjU0LjE4NzVIMTcuNVoiIGZpbGw9IiNENkQyQ0UiLz4KPC9zdmc+Cg=="}),(0,F.tZ)("img",{className:"scanner--xtmiWDGOH_",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMTE0IiB2aWV3Qm94PSIwIDAgMjEgMTE0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBvcGFjaXR5PSIwLjQiIGQ9Ik0yMSAwTDMuMDUxNzZlLTA1IDI2LjVMMCA5NEwyMSAxMTRWMFoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcikiLz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhciIgeDE9Ii00LjUiIHkxPSI3MC41IiB4Mj0iMjUuNDkyMyIgeTI9IjY5LjMwNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0NGRDdEOCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNDNEM0QzQiIHN0b3Atb3BhY2l0eT0iMCIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo="}),(0,F.tZ)("div",{className:"qrCode--XJn47Ldax_",children:(0,F.tZ)("div",{className:"qrCodeSpan--VEJdh3x7UH",children:(0,F.tZ)(Ph(),{"data-testid":"qr-code",renderAs:"svg",...zh})})}),(0,F.BX)("div",{className:"qrCodeCaption--jzdPFbLgxW",children:[(0,F.tZ)("p",{className:"caption--bZvc9JdGN2",children:e("web_onboarding_card_add_mobile_description")}),(0,F.BX)("button",{className:ea()(Lh,"warningContainer--G___wrnBhj"),children:[(0,F.tZ)("div",{className:"infoCircleIcon--rj6fRorz8i",children:Rh}),i,";"]})]})]}),(0,F.tZ)("h2",{className:"findDashlane--bdXJYgyFSb",children:e("web_onboarding_card_add_mobile_find_dashlane")}),(0,F.BX)("div",{className:Lh,children:[(0,F.tZ)("img",{className:kh.dashlaneIcon,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxOCAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE4IiBoZWlnaHQ9IjE5IiByeD0iNSIgZmlsbD0iIzBFNjQ3NiIvPgo8cGF0aCBkPSJNMTQgNy4xODEwN0MxNCA3LjEwMDQ3IDEzLjkxNjMgNy4wMTk4NyAxMy43OTg5IDYuOTg3NjNMMTIuMzkxOCA2LjQ4ODE1QzEyLjE1NzQgNi4zOTE0MyAxMS44ODk0IDYuNTA0MjcgMTEuODg5NCA2LjY2NTY5VjEyLjM0MzdDMTEuODg5NCAxMi40MjQzIDExLjk3MzEgMTIuNTIxIDEyLjA1NjggMTIuNTUzM0wxMy40OTc0IDEzLjA1MjhDMTMuNzE1MiAxMy4xMzM0IDE0IDEzLjAyMDUgMTQgMTIuODQzVjcuMTgxMDdaTTExLjM3IDUuMTk2OTdDMTEuMzcgNS4xMTYxNSAxMS4yODY0IDUuMDM1NTUgMTEuMTY5IDUuMDAzMzFMOS43NjIwNCA0LjUwMzgyQzkuNTI3NDggNC40MDcxIDkuMjU5NDQgNC41MTk5NCA5LjI1OTQ0IDQuNjgxMzZWOC4xMzMwNUM5LjI1OTQ0IDguMjEzNjUgOS4zNDMxMiA4LjMxMDM3IDkuNDI2ODEgOC4zNDI4M0wxMC44Njc0IDguODQyMzJDMTEuMDg1MyA4LjkyMzE1IDExLjM3IDguODEwMDggMTEuMzcgOC42MzI3NlY1LjE5Njk3Wk0xMS4zNyAxMS40MDc5QzExLjM3IDExLjMyNzMgMTEuMjg2NCAxMS4yNDY3IDExLjE2OSAxMS4yMTQ0TDkuNzYyMDQgMTAuNzE0OUM5LjUyNzQ4IDEwLjYxODIgOS4yNTk0NCAxMC43MzExIDkuMjU5NDQgMTAuODkyNVYxNC4zNDQyQzkuMjU5NDQgMTQuNDI0OCA5LjM0MzEyIDE0LjUyMTUgOS40MjY4MSAxNC41NTM3TDEwLjg2NzQgMTUuMDUzMkMxMS4wODUzIDE1LjEzNCAxMS4zNyAxNS4wMjEgMTEuMzcgMTQuODQzNFYxMS40MDc5Wk04Ljc0MDA5IDEyLjEwMTdDOC43NDAwOSAxMi4wMjExIDguNjU2NCAxMS45NDAzIDguNTM5IDExLjkwOEw3LjEzMjA5IDExLjQwODZDNi44OTYzNCAxMS4zMTE4IDYuNjI5NDggMTEuNDI0NyA2LjYyOTQ4IDExLjU4NjFWMTUuMjY0MUM2LjYyOTQ4IDE1LjM0NDcgNi43MTMxNyAxNS40NDE3IDYuNzk2ODYgMTUuNDczOUw4LjIzNzQ5IDE1Ljk3MzRDOC40NTUzMSAxNi4wNTQyIDguNzQwMDkgMTUuOTQxMiA4Ljc0MDA5IDE1Ljc2MzlWMTIuMTAxN1pNOC43NDAwOSAzLjcyODcxQzguNzQwMDkgMy42NDgxMSA4LjY1NjQgMy41Njc1MSA4LjUzOSAzLjUzNTI3TDcuMTMyMDkgMy4wMzU3OEM2Ljg5NjM0IDIuOTM5MDYgNi42Mjk0OCAzLjA1MTkgNi42Mjk0OCAzLjIxMzMyVjYuODkxMzdDNi42Mjk0OCA2Ljk3MjE5IDYuNzEzMTcgNy4wNjg5MSA2Ljc5Njg2IDcuMTAxMTVMOC4yMzc0OSA3LjYwMDY0QzguNDU1MzEgNy42ODEyNCA4Ljc0MDA5IDcuNTY4NCA4Ljc0MDA5IDcuMzkwODZWMy43Mjg3MVpNNi4xMTA2MSAzLjg3NDAxQzYuMTEwNjEgMy43OTM0MSA2LjAyNjkyIDMuNzEyNTkgNS45MDk1MiAzLjY4MDM1TDQuNTAyNjEgMy4xODA4NkM0LjI2ODA0IDMuMDg0MTQgNCAzLjE5Njk4IDQgMy4zNTg0VjE1LjEzNDdDNCAxNS4yMTUzIDQuMDgzNjkgMTUuMzEyIDQuMTY3NjEgMTUuMzQ0M0w1LjYwODAxIDE1Ljg0MzhDNS44MjU4MyAxNS45MjQ0IDYuMTEwNjEgMTUuODExNSA2LjExMDYxIDE1LjYzNFYzLjg3NDAxWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="}),(0,F.tZ)("p",{className:"availableOn--FcKpzTR7cz",children:e("web_onboarding_card_add_mobile_available_on")})]})]})]})},Fh=(0,F.tZ)(N.xCe,{color:N.colors.dashGreen00,size:20,viewBox:"0 2 20 20"}),Xh=(0,F.tZ)(N.$2U,{color:N.colors.dashGreen02,size:20,viewBox:"0 0 40 40"}),qh=(0,F.tZ)(N.RTC,{color:N.colors.orange00,size:20,viewBox:"0 2 20 20"}),Hh=()=>{const{translate:e}=(0,v.Z)(),{routes:t}=(0,_.Xo)();return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.HomeOnboardingChecklistTryAutofillStorePersonalInfo)}),[]),(0,F.BX)("div",{className:ea()(kh.container,"container--dCJ76crwMZ"),children:[(0,F.BX)("div",{className:kh.routeContainer,children:[(0,F.tZ)(a.rU,{to:t.userOnboarding,className:kh.arrowBtnContainer,onClick:()=>{tt()},children:Fh}),(0,F.tZ)("div",{className:"tryAutofillIcon--ZvdpiPpviT",children:Xh}),(0,F.tZ)("h2",{className:kh.actionText,children:e("web_onboarding_card_try_autofill")})]}),(0,F.BX)("div",{className:kh.subContainer,children:[(0,F.tZ)("h2",{className:kh.title,children:e("web_onboarding_card_try_autofill_title")}),(0,F.tZ)("p",{className:ea()(kh.description,"description--nf4o9IFnXA"),children:e("web_onboarding_card_try_autofill_description")}),(0,F.BX)("button",{className:"storeInfoButton--LASy9sIFMK",onClick:()=>{(async e=>{await(0,Je.U)({url:"https://www.dashlane.com/try-autofill-data"})})()},children:[(0,F.tZ)("h2",{className:"title--W3zrOlrLr0",children:e("web_onboarding_card_try_autofill_body_text")}),(0,F.tZ)("div",{className:"openWebsiteIcon--GBbsXnr9gM",children:qh})]})]})]})};var Vh=n(37466),Wh=n(91185),jh=n(39967),Gh=n(72133),Kh=n(85462),Yh=n.n(Kh);const $h="baseComponent--rz4bn1Wt5Z",Qh="leftIcon--b7oK5CKG5s",Jh="rightIcon--JRwdcdYCPB",eg=({message:e,leftIcon:t,rightIcon:n})=>(0,F.BX)("span",{className:ea()($h,"completedOnboardingStep--aVGKxAWGPD baseComponent--rz4bn1Wt5Z"),children:[(0,F.BX)("div",{className:Qh,children:[t," "]}),(0,F.tZ)("div",{children:(0,F.tZ)("p",{className:"completedOnboardingStepHeader--pC_Xip4O7D",sx:{color:"ds.text.inverse.standard"},children:e})}),(0,F.BX)("div",{className:Jh,children:[n," "]})]}),tg={enter:"enter--J3DVsLauyF",enterActive:"enterActive--nk5henrU9o",exit:"exit--UTJVqVWV6K",exitActive:"exitActive--gcSdeBw0CQ"},ng={enter:parseInt(Yh()["--transition-duration-arriving"],10),exit:parseInt(Yh()["--transition-duration-leaving"],10)},ag="for-CSSTransition-",ig=({message:e,onOnboardingStepClick:t,messageOnHover:n,path:i,leftIcon:r,rightIcon:o,messageOnError:s})=>(0,F.BX)(a.rU,{to:i||"",onClick:t,className:ea()($h,"stepWrapper--tQfiRcKa3l","onboardingStep--GZrHDcDlRr baseComponent--rz4bn1Wt5Z"),children:[(0,F.tZ)("div",{className:Qh,children:r}),(0,F.tZ)("div",{className:"messageWrapper--ad6Hho5i93",children:(0,F.BX)("div",{className:"messageContent--TxDQZ7tero",children:[(0,F.tZ)("p",{className:"onboardingStepHeader--l7WxRrhxaO",children:e}),n?(0,F.tZ)("p",{className:"messageOnHover--r39XJznUKD",children:n}):null]})}),(0,F.tZ)(Wh.Z,{children:(0,F.tZ)(Ra.Z,{timeout:ng,classNames:tg,children:s?(0,F.tZ)("div",{className:"messageOnError--o0loUR0BQE",children:s},`${ag}error`):(0,F.tZ)("div",{className:Jh,children:o},`${ag}icon`)},s?`${ag}error`:`${ag}icon`)})]});var rg,og=n(99751);const sg="web_onboarding_add_first_password_message",lg="web_onboarding_try_autofill_step_message",cg="web_onboarding_card_add_mobile",dg={enter:parseInt(Yh()["--transition-duration-arriving"],10),exit:parseInt(Yh()["--transition-duration-leaving"],10)},pg="for-CSSTransition-",ug=(0,F.tZ)(Gh.Z,{height:24,width:24,animationParams:{renderer:"svg",loop:!0,autoplay:!0,animationData:jh}},`${pg}spinner`),_g=({lee:e})=>{const{addMobileOnWeb:t,onboardingHubShown:n,tryAutofillOnWeb:a,saveCredentialOnWeb:i}=e.carbon.webOnboardingMode.completedSteps||{},{flowAddMobileOnWeb:r}=e.carbon.webOnboardingMode||{},{translate:o}=(0,v.Z)(),{routes:s}=(0,_.Xo)(),[l,c]=(0,C.useState)(i),[d,p]=(0,C.useState)(!1),[u,m]=(0,C.useState)(!1),h=(()=>{var e;const{status:t,data:n}=(0,L.k)(Ht.L,"query",{vaultItemTypes:[ut.U.Identity]});return{status:t,count:null!=(e=n?.identitiesResult.matchCount)?e:0}})(),g=h.status===R.rq.Success&&h.count>0,b=a||g,w=rg||(rg=(0,F.tZ)(N.Kie,{size:40,viewBox:"-4 0 30 30"})),y=(0,F.tZ)(N.nQG,{title:o("web_onboarding_step_check_icon"),color:N.colors.white,viewBox:"-8 -8 26 26"}),f=(0,F.tZ)(N.jcJ,{title:o("web_onboarding_step_right_facing_arrow"),color:N.colors.orange00,size:24},`${pg}arrow`),x=(()=>{const{status:e,data:t}=(0,L.k)(og.c,"listAuthorisedDevice");return e!==R.rq.Success?{status:e}:{status:e,userHasMobileDevice:!!t.filter((e=>{if(null!==e.devicePlatform)return["iphone","server_android","server_ipad","server_iphone"].includes(e.devicePlatform)})).length}})();(0,C.useEffect)((()=>{c(i)}),[i]),(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.HomeOnboardingChecklist)}),[]);const S=()=>{tt({completedSteps:{addMobileOnWeb:!0}}),(0,$e.Kz)(new je.UserCompleteOnboardingTaskEvent({onboardingTask:je.OnboardingTask.GetMobileApp}))};(0,C.useEffect)((()=>{var e;if(!(t||d||u)&&x.status===R.rq.Success)return r||x.userHasMobileDevice?r?(e=x.userHasMobileDevice,2500,m(!0),void window.setTimeout((()=>{if(!e)return p(!0),void window.setTimeout((()=>{p(!1),m(!1)}),2500);S(),m(!1)}),2500)):void S():void 0}),[r,x]),(0,C.useEffect)((()=>{i&&(0,$e.Kz)(new je.UserCompleteOnboardingTaskEvent({onboardingTask:je.OnboardingTask.AddFirstLogin}))}),[i]),(0,C.useEffect)((()=>{b&&(0,$e.Kz)(new je.UserCompleteOnboardingTaskEvent({onboardingTask:je.OnboardingTask.TryAutofill}))}),[b]),!1===n&&tt({completedSteps:{onboardingHubShown:!0}});const Z=(0,F.tZ)(N.NSO,{title:o(l?"web_onboarding_step_password_completed_icon":"web_onboarding_step_password_icon"),color:l?N.colors.dashGreen00:N.colors.dashGreen04,size:40,viewBox:"0 0 40 40"}),k=l?(0,F.tZ)(eg,{message:o(sg),leftIcon:Z,rightIcon:y},`${pg}complete`):(0,F.tZ)(ig,{message:o(sg),onOnboardingStepClick:()=>{tt({activeOnboardingType:"saveWeb",leelooStep:Ge.s.SHOW_SAVE_SITES_DIALOG})},messageOnHover:o("web_onboarding_hover_message"),path:s.userPasswordSites,leftIcon:Z,rightIcon:f},`${pg}not-complete`),I=(0,F.tZ)(N.$2U,{title:o(a?"web_onboarding_step_autofill_completed_icon":"web_onboarding_step_autofill_icon"),color:a?N.colors.dashGreen00:N.colors.dashGreen04,size:40,viewBox:"0 0 40 40"}),E=b?(0,F.tZ)(eg,{message:o(lg),leftIcon:I,rightIcon:y},`${pg}complete`):(0,F.tZ)(ig,{message:o(lg),onOnboardingStepClick:()=>{tt({activeOnboardingType:"tryAutofill"})},messageOnHover:o("web_onboarding_try_autofill_step_hover_message"),path:s.userTryAutofill,leftIcon:I,rightIcon:f},`${pg}not-complete`),D=(0,F.tZ)(N.pY8,{title:o(t?"web_onboarding_step_mobile_completed_icon":"web_onboarding_step_mobile_icon"),color:t?N.colors.dashGreen00:N.colors.dashGreen04,size:38,viewBox:"0 0 40 40"}),T=u?ug:f,A=t?(0,F.tZ)(eg,{message:o(cg),leftIcon:D,rightIcon:y},`${pg}complete`):(0,F.tZ)(ig,{message:o(cg),onOnboardingStepClick:()=>{tt({activeOnboardingType:"addMobile"})},messageOnHover:o("web_onboarding_add_mobile_hover_message"),path:s.userAddMobile,leftIcon:D,rightIcon:(0,F.tZ)(Wh.Z,{children:(0,F.tZ)(Ra.Z,{timeout:dg,classNames:tg,children:T},u?`${pg}spinner`:`${pg}arrow`)}),messageOnError:d?o("web_onboarding_add_mobile_error_message"):null},`${pg}not-complete`);return(0,F.BX)("div",{className:"onboardingStepsWrapper--cIOk5IEj86",children:[(0,F.tZ)(eg,{message:o("web_onboarding_get_dashlane_message"),leftIcon:w,rightIcon:y}),(0,F.tZ)(Wh.Z,{children:(0,F.tZ)(Ra.Z,{timeout:dg,classNames:tg,children:k},l?`${pg}complete`:`${pg}not complete`)}),(0,F.tZ)(Wh.Z,{children:(0,F.tZ)(Ra.Z,{timeout:dg,classNames:tg,children:E},a?`${pg}complete`:`${pg}not complete`)}),(0,F.tZ)(Wh.Z,{children:(0,F.tZ)(Ra.Z,{timeout:dg,classNames:tg,children:A},t?`${pg}complete`:`${pg}not complete`)})]})};var mg=n(91),hg=n(32734),gg=n(32701);let bg=function(e){return e.LINK="link",e.TASK="task",e}({}),wg=function(e){return e.SHARE_ITEM="share-item",e}({}),yg=function(e){return e.INSTALL_EXTENSION="install-extension",e.ADD_PASSWORD="add-password",e.TRY_AUTOFILL="try-autofill",e.OPEN_ADMIN_CONSOLE="open-admin-console",e.INVITE_MEMBERS="invite-members",e.CREATE_ACCOUNT="create-account",e.GET_MOBILE_APP="get-mobile-app",e}({}),fg=function(e){return e.COMPLETED="completed",e.DISABLED="disabled",e.IDLE="idle",e}({});const xg=()=>{const{getTeamSeats:e}=(0,Ft.Y)(hg.o,{getTeamSeats:{}},[]),{hasAddedMobileOnWeb:t,hasOpenedAdminConsole:n,hasCompletedAutofillTutorial:a,hasCompletedCredentialTutorial:i}=(0,Ft.Y)(gg.U,{hasAddedMobileOnWeb:{},hasOpenedAdminConsole:{},hasCompletedAutofillTutorial:{},hasCompletedCredentialTutorial:{}},[]),{markAdminConsoleOpened:r}=(0,K.u)(gg.U),o={markAdminConsoleOpened:()=>r(void 0)},s=[e.status,n.status,a.status,i.status,t.status],l=(e,t)=>t.some((t=>t===e));if(l(R.rq.Error,s))return{...o,status:R.rq.Error};if(l(R.rq.Loading,s))return{...o,status:R.rq.Loading};const c=e.status===R.rq.Success&&e.data.paid+e.data.extraFree-e.data.remaining>1,d={[yg.INSTALL_EXTENSION]:{completion:true,disabled:void 0},[yg.ADD_PASSWORD]:{completion:i.data,disabled:!1},[yg.TRY_AUTOFILL]:{completion:a.data,disabled:!1},[yg.INVITE_MEMBERS]:{completion:c,disabled:!1},[yg.OPEN_ADMIN_CONSOLE]:{completion:n.data,disabled:void 0},[yg.CREATE_ACCOUNT]:{completion:!0,disabled:void 0},[yg.GET_MOBILE_APP]:{completion:t.data,disabled:void 0}},p=Object.entries(d).reduce(((e,[t,n])=>{const a=n.disabled?fg.DISABLED:void 0,i=n.completion?fg.COMPLETED:fg.IDLE;return{...e,[t]:null!=a?a:i}}),{});return{...o,isInExtensionOrDesktop:true,status:R.rq.Success,tasks:p}},Sg=({setShowModal:e,intensity:t})=>{const{translate:n}=(0,v.Z)();return(0,F.tZ)(w.z,{mood:"neutral",intensity:t,layout:"labelOnly",onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.Close,clickOrigin:je.ClickOrigin.AdminOnboardingChecklist})),e(!0)},children:n("onb_vault_get_started_dismiss_page")})},vg=({isOpen:e,setShowDismissGuideModal:t})=>{const{dismissGetStarted:n}=(0,mg.F)(),{translate:i}=(0,v.Z)(),{routes:r}=(0,a.Xo)();return(0,F.tZ)(Jo.Vq,{isOpen:e,actions:{primary:{children:i("onb_vault_get_started_dismiss_modal_action_primary"),onClick:()=>{n(),(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.Cancel,je.CallToAction.Close],chosenAction:je.CallToAction.Close,hasChosenNoAction:!1})),t(!1),(0,a.uX)(r.userCredentials)}},secondary:{children:i("onb_vault_get_started_dismiss_modal_action_secondary"),onClick:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.Cancel,je.CallToAction.Close],chosenAction:je.CallToAction.Cancel,hasChosenNoAction:!1})),t(!1)}}},closeActionLabel:i("onb_vault_get_started_dismiss_modal_action_close"),isDestructive:!0,onClose:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.Cancel,je.CallToAction.Close],hasChosenNoAction:!0})),t(!1)},title:i("onb_vault_get_started_dismiss_modal_title"),children:(0,F.tZ)(D.n,{children:i("onb_vault_get_started_dismiss_modal_content")})})};var Cg=n(54138),Zg=n(97182),kg=n(54206);const Ig={JUMBOTRON_CONTAINER:{padding:"24px",borderRadius:"8px",border:"1px solid ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy",boxShadow:"0 4px 4px 0 rgba(0, 0, 0, 0.25)",display:"flex",gap:"15px",flexDirection:"row",flexWrap:"nowrap","@media screen and (max-width: 1380px)":{flexDirection:"column-reverse"}}},Eg=({icon:e,name:t})=>{const{translate:n}=(0,v.Z)(),a="ds.text.neutral.standard";return(0,F.BX)("li",{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"4px 0"},children:[(0,F.tZ)(st.JO,{color:a,name:e}),(0,F.tZ)(D.n,{color:a,textStyle:"ds.body.reduced.regular",sx:{marginLeft:"8px"},children:n(t)})]})},Dg=({isInExtensionOrDesktop:e})=>{const{translate:t}=(0,v.Z)(),{setCookie:n}=(0,Zg.O)();return e?null:(0,F.BX)("div",{sx:Ig.JUMBOTRON_CONTAINER,children:[(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"8px",minWidth:"265px"},children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:t("onb_vault_get_started_task_install_extension_title")}),(0,F.tZ)("div",{children:(0,F.BX)("ul",{children:[(0,F.tZ)(Eg,{icon:"FeatureAutofillOutlined",name:"onb_vault_get_started_task_install_extension_feature_autofill"}),(0,F.tZ)(Eg,{icon:"ItemLoginOutlined",name:"onb_vault_get_started_task_install_extension_feature_save"}),(0,F.tZ)(Eg,{icon:"VaultOutlined",name:"onb_vault_get_started_task_install_extension_feature_seamless_navigation"})]})}),(0,F.tZ)(w.z,{mood:"brand",icon:"ActionOpenExternalLinkOutlined",layout:"iconTrailing",sx:{marginTop:"8px"},onClick:()=>{n(kg.CT.ADMIN),(0,$e.Kz)(new je.UserClickEvent({button:je.Button.DownloadExtension,clickOrigin:je.ClickOrigin.AdminOnboardingChecklist})),(0,Oe.Yo)(Le.yi)},children:t("onb_vault_get_started_task_install_extension_button")})]}),(0,F.tZ)("img",{sx:{userSelect:"none",pointerEvents:"none",width:"300px",maxWidth:"100%",margin:"0 auto"},alt:"","aria-hidden":!0,src:Cg})]})};var Tg=n(78763);const Ag=()=>{(0,$e.Kz)(new je.UserOpenHelpCenterEvent({helpCenterArticleCta:je.HelpCenterArticleCta.HelpCenter}))},Ng=()=>{(0,$e.Kz)(new je.UserOpenHelpCenterEvent({helpCenterArticleCta:je.HelpCenterArticleCta.ResourceCenter}))};let Og=function(e){return e.TEAM_CREATOR="team-creator",e.EMPLOYEE="employee",e.B2C="b2c",e}({});const Pg=({userType:e})=>{const{translate:t}=(0,v.Z)(),[n,a]=(0,C.useState)(!1),i=[{text:t(e===Og.TEAM_CREATOR?"onb_vault_get_started_assistance_link_hc_get_started_as_an_admin":"onb_vault_get_started_assistance_link_hc_get_started_as_b2c"),href:e===Og.TEAM_CREATOR?we.Xs:we.g9,tracking:()=>{}},{text:t("onb_vault_get_started_assistance_link_help_center"),href:e===Og.TEAM_CREATOR?we.Tx:we.Vr,tracking:Ag},{text:t("onb_vault_get_started_assistance_link_resource_center"),href:e===Og.TEAM_CREATOR?we.lV:we.ZF,tracking:Ng}];return(0,F.BX)("div",{sx:{padding:"24px",borderRadius:"8px",border:"1px solid ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy"},children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:t("onb_vault_get_started_assistance_title")}),(0,F.BX)("ul",{sx:{marginTop:"8px",display:"flex",gap:"8px",flexDirection:"column"},children:[i.map((({text:e,href:t,tracking:n})=>(0,F.tZ)("li",{children:(0,F.tZ)(ge.Q,{isExternal:!0,href:t,onClick:n,color:"ds.text.brand.standard",size:"small",children:e})},`link_${e.replaceAll(" ","_").toLowerCase()}`))),e===Og.TEAM_CREATOR?(0,F.tZ)("li",{children:(0,F.tZ)(ge.Q,{as:"button",sx:{cursor:"pointer"},onClick:()=>{(0,$e.Kz)(new je.UserOpenHelpCenterEvent({helpCenterArticleCta:je.HelpCenterArticleCta.ContactUs})),a(!0)},size:"small",children:t("onb_vault_get_started_assistance_link_contact_us")})}):null]}),n?(0,F.tZ)(Tg.cZ,{onDismiss:()=>a(!1)}):null]})},Lg=({completionStatus:e,tasks:t})=>(0,F.tZ)("ul",{sx:{display:"flex",padding:"24px",flexDirection:"column",borderRadius:"8px",border:"1px solid ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy"},children:t.map((([t,{component:n}])=>{var a;return(0,F.tZ)(n,{status:null!=(a=e[t])?a:null},t)}))});let Rg=function(e){return e.VAULT="vault",e.TEAM_SECURITY="team-security",e.ADDITIONAL_TASKS="additional-tasks",e}({});const Mg=({icon:e,status:t})=>(0,F.tZ)("div",{sx:{borderRadius:"8px",backgroundColor:t===fg.COMPLETED?"ds.container.expressive.positive.catchy.disabled":"ds.container.expressive.brand.quiet.disabled",display:"flex",justifyContent:"center",alignItems:"center",height:"40px",width:"40px"},children:(0,F.tZ)(st.JO,{size:"medium",name:e,color:t===fg.COMPLETED?"ds.border.positive.standard.idle":"ds.text.brand.standard"})}),Bg=({status:e,action:t})=>{const{translate:n}=(0,v.Z)(),{routes:i}=(0,a.Xo)();return t.type===bg.LINK?(0,F.tZ)(ge.Q,{as:a.rU,to:i[t.href],size:"small",onClick:t.handler,children:n(t.label)}):e===fg.IDLE?(0,F.tZ)(w.z,{mood:"brand",size:"small",intensity:"quiet",icon:t.icon,layout:t.layout,onClick:t.handler,children:n(t.label)}):(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:n("onb_vault_get_started_task_disabled")})},zg=({title:e})=>{const{translate:t}=(0,v.Z)();return(0,F.tZ)(D.n,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:t(e)})};var Ug;const Fg=({icon:e,title:t,action:n,status:a})=>{const{translate:i}=(0,v.Z)();return(0,F.tZ)("li",{sx:{padding:"16px 0",borderBottom:"1px solid ds.border.neutral.quiet.idle","&:first-of-type":{paddingTop:"0"},"&:last-of-type":{paddingBottom:"0",borderBottom:"none"}},children:(0,F.BX)("div",{sx:{display:"grid",gridTemplateColumns:"40px 1fr auto",gap:"16px",alignItems:"center"},children:[(0,F.tZ)(Mg,{icon:e,status:a}),(0,F.tZ)(zg,{title:t}),a!==fg.COMPLETED?n?(0,F.tZ)(Bg,{action:n,status:a}):null:(0,F.BX)(D.n,{textStyle:"ds.title.block.small",color:"ds.text.positive.quiet",sx:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,F.tZ)("span",{children:i("onb_vault_get_started_task_completed")}),Ug||(Ug=(0,F.tZ)(st.JO,{name:"FeedbackSuccessOutlined",color:"ds.text.positive.quiet"}))]})]})})},Xg=({status:e})=>{const t={icon:"LockOutlined",label:"onb_vault_get_started_btn_add_now",type:bg.TASK,handler:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.AddNow,clickOrigin:je.ClickOrigin.AdminOnboardingChecklist})),tt({activeOnboardingType:"saveWeb",leelooStep:Ge.s.SHOW_SAVE_SITES_DIALOG}),(0,a.uX)("onboarding/add-password")}};return(0,F.tZ)(Fg,{icon:"LockOutlined",title:"onb_vault_get_started_task_add_passwd",action:t,status:e})},qg=({status:e})=>(0,F.tZ)(Fg,{icon:"UsersOutlined",title:"web_onboarding_get_dashlane_message",status:e}),Hg=({status:e})=>{const t={icon:"ItemPhoneMobileOutlined",label:"onb_vault_get_started_btn_download_app",type:bg.TASK,handler:()=>{tt({activeOnboardingType:"addMobile"}),(0,a.uX)("onboarding/add-mobile")}};return(0,F.tZ)(Fg,{icon:"ItemPhoneMobileOutlined",title:"web_onboarding_card_add_mobile",action:t,status:e})},Vg=({status:e})=>{const t={type:bg.TASK,icon:"DownloadOutlined",label:"",handler:()=>{}};return(0,F.tZ)(Fg,{icon:"DownloadOutlined",title:"onb_vault_get_started_task_install_extension",action:t,status:e})},Wg=({status:e})=>{const[t,n]=(0,C.useState)(!1),a={label:"onb_vault_get_started_btn_invite_members",type:bg.TASK,handler:()=>{n(!0),(0,$e.Kz)(new je.UserClickEvent({button:je.Button.InviteNow,clickOrigin:je.ClickOrigin.AdminOnboardingChecklist})),(0,$e.Kz)(new je.UserSendManualInviteEvent({flowStep:je.FlowStep.Start,isImport:!1,isResend:!1,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0}))}};return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(Fg,{icon:"ItemEmailOutlined",title:"onb_vault_get_started_task_invite_members",action:a,status:e}),(0,F.tZ)(ep,{isShown:t,setIsShown:n})]})},jg=({status:e})=>{const[t,n]=(0,C.useState)(!1),{markAdminConsoleOpened:r}=xg(),o={icon:"ActionOpenExternalLinkOutlined",label:"onb_vault_get_started_btn_open_tac",type:bg.TASK,layout:"iconTrailing",handler:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.Open,clickOrigin:je.ClickOrigin.AdminOnboardingChecklist})),r(),(0,a.uX)(i.wi)}};return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(Fg,{icon:"ActionOpenExternalLinkOutlined",title:"onb_vault_get_started_task_open_tac",action:o,status:e}),(0,F.tZ)(aa.F,{isShown:t,setIsShown:n,isFromVault:!0})]})},Gg=({status:e})=>{const t={label:"onb_vault_get_started_link_btn_share_item",handler:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.OpenSharingCenter,clickOrigin:je.ClickOrigin.AdminOnboardingChecklist}))},href:"userSharingCenter",type:bg.LINK};return(0,F.tZ)(Fg,{icon:"ActionOpenExternalLinkOutlined",title:"onb_vault_get_started_link_share_item",action:t,status:e})},Kg=({status:e})=>{const t={icon:"FeatureAutofillOutlined",label:"onb_vault_get_started_btn_try_now",type:bg.TASK,handler:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.TryNow,clickOrigin:je.ClickOrigin.AdminOnboardingChecklist})),tt({activeOnboardingType:"tryAutofill"}),(0,a.uX)("onboarding/try-autofill")}};return(0,F.tZ)(Fg,{icon:"FeatureAutofillOutlined",title:"onb_vault_get_started_task_try_autofill",action:t,status:e})},Yg=({userType:e})=>{const t=(0,Xn._)(),{translate:n}=(0,v.Z)(),a=(e=>{const t={[yg.INSTALL_EXTENSION]:{hidden:e!==Og.TEAM_CREATOR,component:Vg},[yg.CREATE_ACCOUNT]:{component:qg,hidden:e===Og.TEAM_CREATOR},[yg.ADD_PASSWORD]:{component:Xg},[yg.TRY_AUTOFILL]:{component:Kg},[yg.GET_MOBILE_APP]:{component:Hg,hidden:e===Og.TEAM_CREATOR}},n={[yg.INVITE_MEMBERS]:{component:Wg},[yg.OPEN_ADMIN_CONSOLE]:{component:jg}},a={[wg.SHARE_ITEM]:{component:Gg}},i={[Rg.VAULT]:{name:"onb_vault_get_started_section_title_vault",items:t}},r={[Rg.TEAM_SECURITY]:{name:"onb_vault_get_started_section_title_team_security",items:n},[Rg.ADDITIONAL_TASKS]:{name:"onb_vault_get_started_section_title_additional_tasks",items:a}};return e===Og.TEAM_CREATOR?{...i,...r}:i})(e),i=xg();return i.status!==R.rq.Success?null:(0,F.tZ)("ul",{sx:{display:"flex",gap:"32px",flexDirection:"column"},children:(r=a,t.status!==R.rq.Success?[]:Object.entries(r).filter((([,{featureFlips:e}])=>void 0===e||Array.isArray(e)&&t.status===R.rq.Success&&e.every((e=>!!t.data[e]))))).map((([a,{name:r,items:o}])=>{return(0,F.BX)("li",{children:[e===Og.TEAM_CREATOR?(0,F.tZ)(I.X,{textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",as:"h2",sx:{marginBottom:"16px"},children:n(r)}):null,(0,F.tZ)(Lg,{completionStatus:i.tasks,tasks:(s=o,Object.entries(s).filter((([,{featureFlip:e,hidden:n}])=>!n&&(void 0===e||!!e&&t.status===R.rq.Success&&t.data[e]))))})]},`section-${a}`);var s}))});var r};var $g=n(46583),Qg=n(54062),Jg=n(15607),eb=n(28207);const tb=()=>{const e=(0,ta.o)(Hn.G.OnboardingWebProfileNewUsers),t=(0,eb.u)(),n=(0,Jg.JS)(),a=(0,$n.m)(),{status:i}=t,{status:r}=n,{status:o}=a;if(i===R.rq.Error||r===R.rq.Error||o===R.rq.Error||void 0===e)return{status:R.rq.Error};if(i===R.rq.Loading||r===R.rq.Loading||o===R.rq.Loading||null===e)return{status:R.rq.Loading};const s=Math.floor(Date.now()/1e3)-t.teamCreationDate<2592e3,l=!1===n.data.b2bStatus?.currentTeam?.hasBeenInTrial,c=a.isTeamCreator&&e&&s&&l;return{status:R.rq.Success,isProfileAdminEnabled:c}},nb=()=>{const{data:e,status:t}=(0,L.k)(Qg.d,"answers"),n=tb(),{status:a}=n;if(a===R.rq.Loading||t===R.rq.Loading)return{status:R.rq.Loading};if(a===R.rq.Error||t===R.rq.Error)return{status:R.rq.Error};const i=4-e.answers.filter((e=>e.completed)).length,r=0===i,o=n.isProfileAdminEnabled&&!r;return{status:R.rq.Success,isProfilingAdminTodo:o,profilingRemainingQuestions:i}};var ab;const ib=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)("div",{sx:{display:"flex",flexDirection:"row",gap:"4px"},children:[ab||(ab=(0,F.tZ)(st.JO,{name:"TimeOutlined",size:"xsmall",color:"ds.text.neutral.quiet"})),(0,F.tZ)(D.n,{textStyle:"ds.body.helper.regular",color:"ds.text.neutral.quiet",children:e("onb_vault_get_started_task_profile_new_admin_duration",{count:3})})]})},rb=({remainingQuestion:e})=>{const{translate:t}=(0,v.Z)();return(0,F.tZ)(D.n,{textStyle:"ds.body.helper.regular",color:"ds.text.warning.quiet",children:t("onb_vault_get_started_task_profile_new_admin_remaining_question",{count:e})})};var ob;const sb=()=>{const e=nb(),{translate:t}=(0,v.Z)(),n=(0,La.k6)(),{routes:{userProfileAdmin:i}}=(0,a.Xo)();if(e.status!==R.rq.Success||!e.isProfilingAdminTodo)return null;const r=4===e.profilingRemainingQuestions;return(0,F.BX)("div",{sx:{...Ig.JUMBOTRON_CONTAINER,alignItems:"center"},children:[(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[r?ob||(ob=(0,F.tZ)(ib,{})):(0,F.tZ)(rb,{remainingQuestion:e.profilingRemainingQuestions}),(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",sx:{fontSize:"22px"},children:t(r?"onb_vault_get_started_task_profile_new_admin_title":"onb_vault_get_started_task_profile_new_admin_title_resume")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",children:t(r?"onb_vault_get_started_task_profile_new_admin_description":"onb_vault_get_started_task_profile_new_admin_description_resume")}),(0,F.tZ)(w.z,{mood:"brand",icon:"ArrowRightOutlined",layout:"iconTrailing",onClick:()=>{r?(0,$e.Kz)(new je.UserClickEvent({button:je.Button.Start,clickOrigin:je.ClickOrigin.AdminProfiling})):(0,$e.Kz)(new je.UserClickEvent({button:je.Button.Resume,clickOrigin:je.ClickOrigin.AdminProfiling})),n.push(i)},children:t(r?"onb_vault_get_started_task_profile_new_admin_button_start":"onb_vault_get_started_task_profile_new_admin_button_resume")})]}),(0,F.tZ)("div",{sx:{padding:"24px 40px",width:"320px",display:"flex",alignContent:"center",minWidth:"320px",borderRadius:"8px",backgroundColor:"ds.container.agnostic.neutral.quiet"},children:(0,F.tZ)("img",{sx:{userSelect:"none",pointerEvents:"none",width:"240px",maxWidth:"100%",margin:"0 auto"},alt:"","aria-hidden":!0,src:$g})})]})};var lb;const cb=({userType:e})=>{const{translate:t}=(0,v.Z)(),{routes:{clientRoutesBasePath:n}}=(0,a.Xo)(),{isGetStartedDismissed:i}=(0,mg.F)(),[r,o]=(0,C.useState)(!1),s=xg(),l=s.status===R.rq.Success&&s.isInExtensionOrDesktop,c=s.status===R.rq.Success&&Object.values(s.tasks).every((e=>e===fg.COMPLETED));return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.HomeAdminOnboardingChecklist)}),[]),i?(0,F.tZ)(a.l_,{to:n}):(0,F.BX)("div",{sx:{padding:"0 8px 48px"},children:[(0,F.tZ)(I.X,{textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",as:"h1",children:t("onb_vault_get_started_title_welcome")}),(0,F.BX)("div",{sx:{display:"flex",gap:"32px",alignItems:"center",marginBottom:"42px",marginTop:"8px"},children:[(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:t(c?t("onb_vault_get_started_dissmiss_suggestion"):e===Og.TEAM_CREATOR?"onb_vault_get_started_title_tips":"onb_vault_get_started_title_tips_b2c")}),c?(0,F.tZ)(Sg,{setShowModal:o,intensity:"quiet"}):null]}),(0,F.BX)("div",{sx:{display:"grid",gap:"24px",gridTemplateColumns:"1fr 246px","@media screen and (max-width: 1380px)":{gridTemplateColumns:"unset"}},children:[(0,F.BX)("div",{sx:{display:"flex",gap:"32px",flexDirection:"column"},children:[(0,F.tZ)(Dg,{isInExtensionOrDesktop:l}),l?lb||(lb=(0,F.tZ)(sb,{})):null,(0,F.tZ)(Yg,{userType:e}),c?null:(0,F.tZ)("div",{sx:{display:"flex",justifyContent:"end"},children:(0,F.tZ)(Sg,{setShowModal:o,intensity:"supershy"})}),(0,F.tZ)(vg,{isOpen:r,setShowDismissGuideModal:o})]}),(0,F.tZ)("div",{children:(0,F.tZ)(Pg,{userType:e})})]})]})};var db;const pb=({lee:e})=>{const t=(0,$n.m)(),n=(0,hp.V)(),i=(()=>{const{data:e,status:t}=(0,L.k)(Qg.d,"hasSeenProfilingForm"),{markProfilingFormSeen:n}=(0,K.u)(Qg.d),a=tb(),{status:i}=a;if(t===R.rq.Loading||i===R.rq.Loading)return{status:R.rq.Loading,markProfilingFormSeen:n};if(t===R.rq.Error||i===R.rq.Error)return{status:R.rq.Error,markProfilingFormSeen:n};const r=a.isProfileAdminEnabled&&!e.hasSeenProfilingForm;return{status:R.rq.Success,markProfilingFormSeen:n,shouldRedirectToProfiling:r}})(),r=(0,Qn.j)(),o=(0,ta.o)(Hn.G.SaexOnboardingHubAddPasswords),{routes:{clientRoutesBasePath:s,userProfileAdmin:l}}=(0,a.Xo)();if(r.status!==R.rq.Success||null===o||t.status===R.rq.Loading||n.status===R.rq.Loading||i.status===R.rq.Loading)return db||(db=(0,F.tZ)(Vh.a,{}));if(i.status===R.rq.Success&&i.shouldRedirectToProfiling)return i.markProfilingFormSeen(),(0,F.tZ)(a.l_,{to:l});const c=t.status===R.rq.Success&&!t.isTeamCreator,d=((e,t)=>e?t?Og.TEAM_CREATOR:Og.EMPLOYEE:Og.B2C)(n.status===R.rq.Success&&null!==n.teamId,!c),p=c&&o&&!0;return r.shouldDisplayAdminVaultGetStartedGuide||p?r.shouldDisplayAdminVaultGetStartedGuide?(0,F.tZ)(cb,{userType:d}):(0,F.tZ)(_g,{lee:e}):(0,F.tZ)(a.l_,{to:s})},ub=({path:e})=>(0,F.BX)(a.GB,{exact:!0,path:[e,`${e}/add-password`,`${e}/add-mobile`,`${e}/try-autofill`],additionalProps:{location},component:_h,children:[(0,F.tZ)(a.Vy,{exact:!0,path:`${e}`,component:pb}),(0,F.tZ)(a.Vy,{exact:!0,path:`${e}/add-password`,component:Nh}),(0,F.tZ)(a.Vy,{exact:!0,path:`${e}/add-mobile`,component:Uh}),(0,F.tZ)(a.Vy,{exact:!0,path:`${e}/try-autofill`,component:Hh})]}),_b=({label:e,value:t,color:n})=>(0,F.BX)("div",{children:[(0,F.tZ)(D.n,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.quiet",children:e}),(0,F.tZ)(D.n,{textStyle:"ds.specialty.spotlight.small",sx:{color:n,marginTop:"8px"},children:t})]});let mb=function(e){return e[e.RED_SCORE=60]="RED_SCORE",e[e.ORANGE_SCORE=80]="ORANGE_SCORE",e}({});var hb;const gb=e=>e<mb.RED_SCORE?"ds.border.danger.standard.idle":e<mb.ORANGE_SCORE?"ds.border.warning.standard.idle":"ds.border.positive.standard.idle",bb=({score:e,showQueerColors:t=!1})=>{const[n,a]=(0,C.useState)(0),i=3.94*(100-n);return(0,C.useEffect)((()=>{a(e)}),[e]),(0,F.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"153",fill:"none",viewBox:"0 0 200 153",children:[(0,F.tZ)("mask",{id:"animatedMask",children:(0,F.tZ)("path",{sx:{transition:"stroke-dashoffset 1s ease-in-out"},strokeDasharray:394,strokeDashoffset:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12",stroke:"white",d:"M18.594 147a94 94 0 11162.827-.025"})}),(0,F.tZ)("path",{sx:{stroke:"ds.border.neutral.quiet.idle"},strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12",d:"M18.594 147a94 94 0 11162.827-.025"}),t?hb||(hb=(0,F.BX)("g",{id:"queerGroup",mask:"url(#animatedMask)",children:[(0,F.tZ)("path",{stroke:"#760888",strokeLinecap:"round",strokeWidth:"12",d:"M18.594 147a94 94 0 11162.827-.025"}),(0,F.tZ)("path",{stroke:"#014EFF",strokeWidth:"12",d:"M18.594 147a94 94 0 11175.405-46.614"}),(0,F.tZ)("path",{stroke:"#018027",strokeWidth:"12",d:"M18.594 147a94 94 0 01162.812-94"}),(0,F.tZ)("path",{stroke:"#FFEE01",strokeWidth:"12",d:"M18.594 147A94 94 0 01147.133 18.67"}),(0,F.tZ)("path",{stroke:"#FF8D01",strokeWidth:"12",d:"M18.594 147A93.998 93.998 0 0199.749 6"}),(0,F.tZ)("path",{stroke:"#E40404",strokeWidth:"12",d:"M18.594 147A93.998 93.998 0 0153 18.594"}),(0,F.tZ)("path",{stroke:"#795018",strokeWidth:"12",d:"M18.594 147a93.998 93.998 0 01-.213-93.63"}),(0,F.tZ)("path",{fill:"#010101",d:"M13.398 150a6 6 0 1010.392-6l-10.392 6zm10.392-6A88 88 0 0112 99.55l-12-.061A99.998 99.998 0 0013.398 150l10.392-6z"})]})):(0,F.tZ)("path",{sx:{stroke:gb(e),transition:"stroke-dashoffset 1s ease-in-out"},opacity:"1",strokeDasharray:394,strokeDashoffset:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12",d:"M18.594 147a94 94 0 11162.827-.025"})]})},wb=Math.floor(1e3/60),yb=({score:e})=>{const t=C.useRef(null),[n,a]=C.useState(0),[i,r]=C.useState(0),o=C.useCallback((()=>{a(0),r(e/60)}),[e]),s=C.useCallback((()=>{t.current&&clearTimeout(t.current),t.current=null}),[]);return C.useEffect((()=>{o()}),[o]),C.useEffect((()=>(n===e||(t.current=window.setTimeout((()=>{n<e?a((e=>e+i)):s()}),wb)),()=>{s()})),[n,i,s,e]),(0,F.tZ)(C.Fragment,{children:Math.min(e,Math.ceil(n))})},fb=e=>null===e?"ds.text.neutral.quiet":e<mb.RED_SCORE?"ds.text.danger.quiet":e<mb.ORANGE_SCORE?"ds.text.warning.quiet":"ds.text.positive.quiet",xb=({score:e,shouldAnimateText:t})=>null===e?(0,F.tZ)(C.Fragment,{children:"--"}):t?(0,F.tZ)(yb,{score:e}):(0,F.tZ)(C.Fragment,{children:e}),Sb=({score:e,shouldAnimateText:t=!1})=>{const{translate:n}=(0,v.Z)(),a=(0,Om.w)(Vn.w.WebplatformWebPrideColors),i=null!=e?e:0;return(0,F.BX)("div",{sx:{display:"grid",gridTemplateAreas:"gauge",justifyItems:"center"},children:[(0,F.tZ)("div",{sx:{gridArea:"gauge"},children:(0,F.tZ)(bb,{score:i,showQueerColors:a})}),(0,F.tZ)(D.n,{textStyle:"ds.specialty.spotlight.large",as:"span",sx:{color:fb(e),gridArea:"gauge",marginTop:"60px"},children:(0,F.tZ)(xb,{score:e,shouldAnimateText:t})}),(0,F.tZ)(N.dDn,{as:D.n,gridArea:"gauge",size:"medium",color:"ds.text.neutral.quiet",sx:{marginTop:"136px",textTransform:"lowercase",variant:"ds.body.standard.regular"},children:n("webapp_password_health_score_out_of_100")})]})},vb=({compromisedPasswordCount:e,passwordHealthScore:t,reusedPasswordCount:n,totalPasswordCount:a,weakPasswordCount:i})=>{const{translate:r}=(0,v.Z)(),o=r("webapp_password_health_scores_title");return(0,F.tZ)(yr.Z,{sx:{width:"100%"},children:(0,F.BX)(N.T5p,{gap:"8px 24px",justifyContent:"start",gridTemplateColumns:"3fr 2fr 2fr",gridTemplateRows:"32px 20px 64px 64px",gridTemplateAreas:"'header header header' 'score . .' 'score scoreInfo scoreInfo' 'score scoreInfo scoreInfo'",sx:{maxWidth:"712px",minWidth:"512px",width:"100%",marginTop:"-4px",marginRight:"auto"},children:[(0,F.BX)(N.dDn,{gridArea:"header",alignItems:"center",as:ne.k,sx:{marginTop:"-16px"},children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:o}),(0,F.tZ)("div",{sx:{marginLeft:"6px"},children:(0,F.tZ)(st.JO,{name:"FeedbackInfoOutlined",size:"small",color:"ds.text.neutral.quiet",tooltip:r("webapp_password_health_scores_explanation"),"data-testid":"phs-explanation-icon"})})]}),(0,F.tZ)(N.dDn,{gridArea:"score",justifySelf:"start",children:(0,F.tZ)(Sb,{score:t})}),(0,F.BX)(N.dDn,{as:N.T5p,gridTemplateColumns:"1fr 1fr",gap:"8px 24px",gridArea:"scoreInfo","data-testid":"health-scores",children:[(0,F.tZ)(_b,{label:r("webapp_password_health_scores_total_label"),value:a,color:"ds.text.brand.standard"}),(0,F.tZ)(_b,{label:r("webapp_password_health_scores_compromised_label"),value:e,color:"ds.text.danger.quiet"}),(0,F.tZ)(_b,{label:r("webapp_password_health_scores_reused_label"),value:n,color:"ds.text.warning.quiet"}),(0,F.tZ)(_b,{label:r("webapp_password_health_scores_weak_label"),value:i,color:"ds.text.warning.quiet"})]})]})})},Cb=({title:e,message:t,action:n})=>(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(I.X,{as:"h5",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:e}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:t}),n?(0,F.tZ)(ne.k,{justifyContent:"flex-start",sx:{marginTop:"28px"},children:n}):null]});var Zb=function(e){return e.DEFAULT="default",e.MINIMUM_CREDENTIALS="minimumCredentials",e}(Zb||{});const kb=({nonExcludedCredentialsCount:e,isWindowWidthAboveSize:t=!1})=>{const{translate:n}=(0,v.Z)(),{routes:i}=(0,a.Xo)(),r={[Zb.DEFAULT]:{title:"webapp_password_health_tip_at_risk_password_title",message:"webapp_password_health_tip_at_risk_password_message"},[Zb.MINIMUM_CREDENTIALS]:{title:"webapp_password_health_tip_at_risk_password_title_min_score",message:"webapp_password_health_tip_at_risk_password_message_min_score",action:(0,F.tZ)(w.z,{onClick:()=>(0,a.uX)(i.userCredentials),size:"medium",mood:"brand",intensity:"catchy",children:n("webapp_password_health_tip_at_risk_password_message_add_logins_button")})}},o=e<5?Zb.MINIMUM_CREDENTIALS:Zb.DEFAULT;return(0,F.BX)(yr.Z,{sx:{paddingBottom:t?void 0:"0px"},children:[(0,F.tZ)(I.X,{as:"h2",color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small",children:n("webapp_password_health_tips_title")}),r[o]?(0,F.tZ)(Cb,{title:n(r[o].title),message:n(r[o].message),action:r[o].action}):null]})},Ib="32px",Eb=parseFloat(Ib)+parseFloat("32px")*parseFloat("1.25"),Db={rootContainer:{height:"100%",backgroundColor:"ds.background.alternate"},headerContainer:{top:0,width:"100%",backgroundColor:"ds.background.alternate",position:"absolute",paddingLeft:"24px",paddingRight:"24px",zIndex:2},listHeaderContainer:{},listHeader:{backgroundColor:"ds.container.agnostic.neutral.supershy",top:0,zIndex:1,borderColor:"ds.border.neutral.quiet.idle",borderStyle:"solid",padding:`${Ib} ${Ib} 20px`,borderWidth:"1px 1px 0",borderRadius:" 4px 4px 0 0"},listContainer:{backgroundColor:"ds.container.agnostic.neutral.supershy",borderColor:"ds.border.neutral.quiet.idle",borderStyle:"solid",borderWidth:"0 1px 0",padding:`0 ${Ib} ${Ib}`},listStyle:{width:"100%",isolation:"isolate"},passwordHealthGrid:{gridTemplateRows:"276px 1fr",overflow:"auto",height:"100%",padding:"0 24px",marginTop:Eb,maxHeight:`calc(100% - ${Eb}px)`,flexDirection:"column"},passwordHealthZoomed:{display:"flex"},passwordHealthScore:{alignItems:"center",justifyContent:"center",marginBottom:"16px"},passwordHealthTips:{width:"448px",marginLeft:"16px",marginBottom:"16px"},passwordHealthTipsZoomed:{flexDirection:"column",marginBottom:"16px"}};var Tb=n(20987);const Ab=({severity:e,children:t})=>{const{translate:n}=(0,v.Z)();return(0,F.BX)(ne.k,{justifyContent:"start",alignItems:"center",flexWrap:"nowrap",sx:{maxHeight:"100%"},gap:"10px",children:[(0,F.tZ)(st.JO,{name:"FeedbackWarningOutlined","aria-label":n("webapp_password_health_item_at_risk"),size:"small",color:e===Tb.bp.STRONG?"ds.text.danger.standard":"ds.text.warning.standard"}),t]})},Nb={itemButtons:"itemButtons--lK4NMfJDlN",passwordHealthListItem:"passwordHealthListItem--RWLzEt6Dgm",riskFeedbackLabel:"riskFeedbackLabel--uJWHmL1KDh"};var Ob,Pb;const Lb="webapp_security_dashboard_tooltip_exclude",Rb="webapp_security_dashboard_tooltip_include",Mb=(e,t)=>{switch(e.riskType){case Tb.gI.Compromised:return((e,t,n)=>{const{date:a,precision:i}=T_(e,"short",n);return t?n.markup("webapp_security_dashboard_compromised_credential_markup",{domain:t,date:a}):((e,t,n)=>{switch(n){case D_.DAY:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_markup",{date:t});case D_.MONTH:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_month_markup",{date:t});case D_.YEAR:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_year_markup",{date:t});case D_.INVALID:return"";default:return(0,E_.U)(n)}})(n,a,i)})(e.date,e.domain,t);case Tb.gI.Weak:return e.strength===Tb.ub.WEAK?t("webapp_security_dashboard_weak_credential"):t("webapp_security_dashboard_extremely_weak_credential");case Tb.gI.Reused:return 1===e.reuseCount?t("webapp_security_dashboard_reused_once_credential"):t("webapp_security_dashboard_reused_credential",{count:e.reuseCount});default:return null}},Bb=({credential:e,onRowClick:t,onChangeNowClick:n,onIncludeButtonClick:i,onExcludeButtonClick:r})=>{const{id:o,title:s,login:l,email:c,autoProtected:d,corruptionData:p,shared:u,excluded:m,domain:h}=e,{translate:g}=(0,v.Z)(),{pathname:b}=(0,a.TH)(),y=(0,C.useCallback)((t=>{t.stopPropagation(),n(h,e.id)}),[n,e.id,h]),f=(0,C.useCallback)((e=>{e.stopPropagation(),r(o,h)}),[o,r,h]),x=(0,C.useCallback)((e=>{e.stopPropagation(),i(o,h)}),[o,i,h]),{routes:S}=(0,_.Xo)(),Z=(0,a.k6)(),k=(0,C.useCallback)((()=>{t(o,h),Z.push(S.userVaultItem(o,ut.U.Credential,b))}),[t,o,h,Z,S,b]),I=(0,C.useMemo)((()=>(0,F.tZ)(Ku.u,{location:"left",content:g(m?Rb:Lb),children:(0,F.tZ)(w.z,{mood:"brand",intensity:"supershy",layout:"iconOnly",size:"small",icon:m?Ob||(Ob=(0,F.tZ)(st.JO,{name:"ActionUndoOutlined"})):Pb||(Pb=(0,F.tZ)(st.JO,{name:"ActionRevokeOutlined"})),onClick:m?x:f,"aria-label":g(m?Rb:Lb)})},"include-exclude")),[m,f,x,g]);return(0,F.tZ)(yt.H,{"aria-label":s,onClick:k,actions:m?[I]:[(0,F.tZ)(Ku.u,{passThrough:!0,location:"left",content:g("webapp_security_dashboard_tooltip_limited_rights"),children:(0,F.tZ)(w.z,{mood:"brand",intensity:"supershy",layout:"labelOnly",className:Nb.passwordChangerButton,size:"small",onClick:y,disabled:!1,children:(0,F.tZ)("span",{children:g("webapp_security_dashboard_change_password")})})},"change-password"),I],children:(0,F.BX)(ne.k,{sx:{"> *":{flex:1}},children:[(0,F.tZ)(Ha.Q,{title:s,login:l,email:c,domain:h,shared:u,autoProtected:d}),!m&&p?(0,F.tZ)(Ab,{severity:p.severity,children:(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",sx:{textOverflow:"ellipsis",wordBreak:"break-all",overflow:"hidden"},children:Mb(p,g)})}):null]})})};var zb,Ub,Fb;const Xb=({totalCount:e,healthFilter:t})=>{const{translate:n}=(0,v.Z)(),a=e>0?(e=>{switch(e){case Tb._x.All:return"webapp_password_health_list_empty";case Tb._x.Compromised:return"webapp_password_health_list_empty_compromised";case Tb._x.Excluded:return"webapp_password_health_list_empty_excluded";case Tb._x.Reused:return"webapp_password_health_list_empty_reused";case Tb._x.Weak:return"webapp_password_health_list_empty_weak";default:(0,E_.U)(e)}})(t):"webapp_password_health_list_empty_vault",i=e?(e=>{switch(e){case Tb._x.All:case Tb._x.Compromised:case Tb._x.Weak:case Tb._x.Reused:return zb||(zb=(0,F.tZ)(N.H0w,{size:96,color:"ds.text.inverse.standard"}));case Tb._x.Excluded:return Ub||(Ub=(0,F.tZ)(N.Cmj,{size:96,color:"ds.text.inverse.standard"}));default:(0,E_.U)(e)}})(t):Fb||(Fb=(0,F.tZ)(N.Cmj,{size:96,color:"ds.text.inverse.standard"}));return(0,F.BX)("div",{"data-testid":"empty-list",sx:{margin:"auto",textAlign:"center"},children:[(0,F.tZ)("div",{sx:{display:"inline-block",marginBottom:"27px"},children:i}),(0,F.tZ)(D.n,{sx:{width:"384px",color:"ds.text.neutral.standard",variant:"ds.body.standard.regular"},children:n(a)})]})};var qb=n(24058);const Hb={[Tb._x.All]:je.PageView.ToolsPasswordHealthOverview,[Tb._x.Compromised]:je.PageView.ToolsPasswordHealthListCompromised,[Tb._x.Excluded]:je.PageView.ToolsPasswordHealthListExcluded,[Tb._x.Reused]:je.PageView.ToolsPasswordHealthListReused,[Tb._x.Weak]:je.PageView.ToolsPasswordHealthListWeak},Vb={marginLeft:"auto"},Wb=[Tb._x.All,Tb._x.Compromised,Tb._x.Weak,Tb._x.Reused,Tb._x.Excluded],jb=(0,C.memo)(Bb),Gb=({spaceId:e,totalCount:t})=>{const{translate:n}=(0,v.Z)(),{updateIsCredentialExcluded:i}=(0,qb.$)(),{updateHealthState:r}=(0,K.u)(H_.d),{routes:o}=(0,a.Xo)(),s=(0,La.k6)(),{filter:l}=(0,La.UO)(),c=l&&Object.values(Tb._x).includes(l)?l:Tb._x.All,[d,p]=(0,C.useState)(c),{filteredCredentials:u,hasMore:_,onNextPage:m,onReset:h}=((e,t)=>{var n,a;const[i,r]=(0,C.useState)(1),{data:o}=(0,L.k)(H_.d,"filterCredentials",{healthFilter:e,spaceId:t,pageNumber:i,pageSize:20}),s=null!=(n=o?.items)?n:[],l=s.length<(null!=(a=o?.matchCount)?a:0),c=(0,C.useCallback)((()=>{r(1)}),[r]);return{filteredCredentials:s,hasMore:l,onNextPage:r,onReset:c}})(d,e);(0,C.useEffect)((()=>{r()}),[s.location]);const g=e=>()=>{h(),p(e),s.push(`${o.userPasswordHealth}/${e}`),(0,$e.Nc)(Hb[e])},[b,w]=(0,C.useState)(null),y=(0,C.useCallback)((e=>w(e)),[]),f=(0,C.useCallback)((()=>{w(null)}),[]),x=(0,C.useCallback)((e=>{(0,bt.kb)(e)}),[]),S=(0,C.useCallback)(((e,t)=>{y(t)}),[y]),Z=(0,C.useCallback)((e=>{i(e,!1)}),[i]),k=(0,C.useCallback)((t=>{(0,$e.Kz)(new je.UserUpdateVaultItemEvent({action:je.Action.ExcludeItemFromPasswordHealth,itemId:t,itemType:je.ItemType.Credential,space:e?je.Space.Professional:je.Space.Personal})),i(t,!0)}),[e,i]),E=[{id:"tab-ph-all",contentId:"content-ph-list",title:n("webapp_password_health_list_filter_all"),onSelect:g(Tb._x.All)},{id:"tab-ph-compromised",contentId:"content-ph-list",title:n("webapp_password_health_list_filter_compromised"),onSelect:g(Tb._x.Compromised)},{id:"tab-ph-weak",contentId:"content-ph-list",title:n("webapp_password_health_list_filter_weak"),onSelect:g(Tb._x.Weak)},{id:"tab-ph-reused",contentId:"content-ph-list",title:n("webapp_password_health_list_filter_reused"),onSelect:g(Tb._x.Reused)},{id:"tab-ph-excluded",contentId:"content-ph-list",title:n("webapp_password_health_list_filter_excluded"),onSelect:g(Tb._x.Excluded)}];return(0,F.BX)(C.Fragment,{children:[(0,F.BX)("div",{sx:{...Db.listHeader,display:"flex",position:"sticky",alignItems:"center"},children:[(0,F.tZ)(I.X,{as:"h2",color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small",children:n("webapp_password_health_at_risk_title")}),b&&(0,F.tZ)(V_.R,{credentialId:b,dismissCallback:f}),(0,F.tZ)(Ou.m,{tabs:E,sx:Vb,defaultTab:Wb.indexOf(c)})]}),(0,F.tZ)("div",{sx:{...Db.listContainer,display:"flex",flexDirection:"column"},children:u.length>0?(0,F.tZ)("ul",{sx:Db.listStyle,"aria-labelledby":"content-ph-list",children:(0,F.tZ)(Sd.C,{onNextPage:m,hasMore:_,children:u.map((e=>(0,F.tZ)(jb,{onRowClick:x,onChangeNowClick:S,onIncludeButtonClick:Z,onExcludeButtonClick:k,credential:e},e.id)))})}):(0,F.tZ)(Xb,{totalCount:t,healthFilter:d})})]})};var Kb,Yb,$b=n(25304),Qb=n(91483);const Jb=({lee:e})=>{var t,n,a,i,r;const{translate:o}=(0,v.Z)(),s=(0,Kn.B)(e.globalState),{counters:l,isInitialized:c}=(e=>{const{data:t}=(0,L.k)(H_.d,"score",{spaceId:e});return{counters:t?.counters,isInitialized:t?.isInitialized}})(s),d=(0,C.useMemo)((()=>c&&l?l.total-l.excluded:5),[c,l]),p=l?.score&&c?l.score:null;(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ToolsPasswordHealthOverview)}),[]);const u=(0,$b.E)(Qb.W);return(0,F.BX)(Os,{children:[c?null:(0,F.tZ)(N.YcA,{children:(0,F.tZ)("div",{sx:{'&> div[role="alert"]':{backgroundColor:"ds.container.expressive.brand.quiet.idle"}},children:(0,F.tZ)(N.bZj,{severity:N.BLW.SUBTLE,showIcon:!1,children:(0,F.BX)(N.T5p,{as:"span",gap:20,gridTemplateColumns:"20px 1fr",alignItems:"center",sx:{paddingRight:"4px"},children:[Kb||(Kb=(0,F.tZ)(go.Z,{})),(0,F.tZ)(D.n,{color:"ds.text.brand.standard",children:o("webapp_password_health_page_loading_alert")})]})})})}),(0,F.BX)("div",{sx:Db.rootContainer,children:[(0,F.tZ)(ne.k,{sx:Db.headerContainer,children:(0,F.tZ)(_o.h,{startWidgets:(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:o("webapp_password_health_page_title")}),endWidget:Yb||(Yb=(0,F.tZ)(mo.D,{}))})}),(0,F.BX)(N.T5p,{gridTemplateAreas:"'score tips' 'list list'",gridTemplateColumns:"1fr auto",sx:(0,rt.jM)([Db.passwordHealthGrid,u?{}:Db.passwordHealthZoomed]),children:[(0,F.tZ)(N.dDn,{as:ne.k,gridArea:"score",sx:Db.passwordHealthScore,children:(0,F.tZ)(vb,{compromisedPasswordCount:null!=(t=l?.compromised)?t:0,passwordHealthScore:p,reusedPasswordCount:null!=(n=l?.reused)?n:0,totalPasswordCount:null!=(a=l?.total)?a:0,weakPasswordCount:null!=(i=l?.weak)?i:0})}),(0,F.tZ)(N.dDn,{as:ne.k,gridArea:"tips",justifyContent:"center",sx:u?Db.passwordHealthTips:Db.passwordHealthTipsZoomed,children:(0,F.tZ)(kb,{isWindowWidthAboveSize:!0,nonExcludedCredentialsCount:d})}),(0,F.tZ)(N.dDn,{as:N.T5p,gridArea:"list",gridTemplateRows:"auto 1fr",children:(0,F.tZ)(Gb,{spaceId:s,totalCount:null!=(r=l?.total)?r:0})})]})]})]})},ew=({path:e})=>(0,F.tZ)(a.Vy,{path:[`${e}/:filter`,e],component:Jb}),tw=(0,F.BX)("svg",{width:"108",height:"29",viewBox:"0 0 108 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,F.tZ)("path",{d:"M16.3936 19.6628C16.124 19.4498 15.8005 19.2902 15.423 19.1837C15.0455 19.0773 14.668 19.024 14.3445 19.024C14.0748 19.024 13.8051 19.0773 13.5355 19.1304C13.2658 19.1837 12.9962 19.2902 12.7805 19.3966C12.5648 19.503 12.3491 19.6627 12.1334 19.8756C11.9177 20.0885 11.8098 20.3014 11.7019 20.5143C11.7019 20.1417 11.5941 19.8756 11.3784 19.6627C11.2165 19.4498 10.947 19.2901 10.6774 19.1837C10.4077 19.0772 10.0842 19.0239 9.76065 19.0239C9.43709 19.0239 9.11343 19.0773 8.73596 19.1304V20.5142C8.95166 20.5142 9.16738 20.5142 9.27524 20.5675C9.43707 20.6209 9.49101 20.674 9.54494 20.7804C9.59895 20.8869 9.65267 20.9934 9.65267 21.153C9.65267 21.3128 9.65267 21.4723 9.65267 21.6852V28.1255H11.7019V22.9627C11.7019 22.5901 11.7559 22.2707 11.9176 22.0046C12.0255 21.7385 12.1874 21.5256 12.4031 21.3659C12.6188 21.2061 12.8884 21.0466 13.158 20.9934C13.4277 20.94 13.7511 20.8336 14.0208 20.8336C14.56 20.8336 15.0455 20.94 15.4769 21.153L16.3936 19.6628Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M25.3995 26.7418C25.2376 26.6884 25.1837 26.582 25.1298 26.4756C25.0758 26.3691 25.022 26.2095 25.022 26.0498C25.022 25.8901 25.022 25.7305 25.022 25.5176V19.8757C24.4289 19.6095 23.8356 19.3966 23.1885 19.2902C22.5953 19.1304 21.9482 19.0773 21.3011 19.0773C20.5461 19.0773 19.899 19.1837 19.2518 19.3966C18.6586 19.6095 18.1194 19.9289 17.634 20.3547C17.1487 20.7805 16.8251 21.2595 16.5554 21.8982C16.2858 22.4837 16.124 23.1756 16.124 23.9208C16.124 24.5595 16.1781 25.145 16.3937 25.6772C16.5556 26.2095 16.8252 26.6885 17.1487 27.1143C17.4723 27.5401 17.9037 27.8594 18.443 28.0723C18.9822 28.2853 19.5754 28.3917 20.2225 28.3917C20.8697 28.3917 21.5168 28.232 22.1099 27.8594C22.7031 27.5401 23.1345 27.0611 23.3502 26.4224C23.3502 26.9014 23.4042 27.274 23.5659 27.5401C23.7278 27.8062 23.8896 28.0191 24.1592 28.1256C24.4288 28.2853 24.6985 28.3385 25.022 28.3385C25.3456 28.3385 25.6692 28.3385 25.9927 28.2321V26.7418C25.7231 26.7951 25.5073 26.7951 25.3995 26.7418ZM23.0267 23.6546C23.0267 24.5063 22.8109 25.145 22.3795 25.6772C22.0021 26.2095 21.4088 26.4756 20.6538 26.4756C19.791 26.4756 19.1978 26.2095 18.7664 25.7305C18.335 25.2514 18.1733 24.6127 18.1733 23.7611C18.1733 23.2821 18.281 22.8563 18.4429 22.4305C18.6047 22.0579 18.7665 21.6853 19.0361 21.4192C19.3058 21.1531 19.5753 20.9402 19.9528 20.7805C20.2764 20.6208 20.7078 20.5676 21.1392 20.5676C21.4089 20.5676 21.7324 20.5676 22.056 20.6209C22.3795 20.6742 22.7031 20.7806 23.0267 20.887V23.6546Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M35.1602 20.1418C34.8906 19.8224 34.5131 19.5563 34.0278 19.3434C33.5964 19.1305 33.0571 19.0241 32.41 19.0241C32.0864 19.0241 31.8168 19.0241 31.4932 19.0774C31.1697 19.1307 30.9 19.2371 30.6304 19.3435C30.3608 19.4499 30.0911 19.6096 29.8754 19.8225C29.6597 20.0354 29.444 20.2483 29.3361 20.5677C29.3361 20.1419 29.2282 19.8226 29.0664 19.6097C28.9046 19.3968 28.6889 19.2371 28.4193 19.1306C28.1497 19.0773 27.8262 19.0242 27.5026 19.0242C27.179 19.0242 26.8016 19.0775 26.478 19.1306V20.5144C26.6937 20.5144 26.9094 20.5145 27.0173 20.5678C27.1791 20.6211 27.233 20.6742 27.2869 20.7807C27.3409 20.8871 27.3947 20.9935 27.3947 21.1532C27.3947 21.3129 27.3947 21.5258 27.3947 21.7919V28.1258H29.444V23.0693C29.444 22.6968 29.4977 22.3774 29.6057 22.1113C29.7135 21.7919 29.8754 21.579 30.0911 21.3661C30.3068 21.1532 30.5225 20.9936 30.7921 20.8871C31.0618 20.7807 31.3854 20.7274 31.709 20.7274C32.3022 20.7274 32.8414 20.9403 33.2189 21.3129C33.6504 21.6854 33.8121 22.2709 33.8121 22.9628V28.1789H35.8613V22.9628C35.8613 22.4306 35.8073 21.8984 35.6456 21.4193C35.6996 20.8871 35.4837 20.5145 35.1602 20.1419V20.1418Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M44.3277 23.495C44.0042 23.2821 43.5728 23.1757 43.1413 23.0692C42.7099 22.9628 42.2245 22.9096 41.7392 22.8564C41.0382 22.75 40.499 22.6435 40.1215 22.537C39.744 22.3773 39.5822 22.1644 39.5822 21.7919C39.5822 21.579 39.6361 21.4193 39.7439 21.2596C39.8518 21.0999 39.9597 20.9935 40.1754 20.887C40.3372 20.7806 40.5529 20.6741 40.7686 20.6209C40.9843 20.5676 41.2539 20.5145 41.4696 20.5145C41.6854 20.5145 41.9551 20.5145 42.1708 20.5678C42.4404 20.6211 42.656 20.6742 42.8178 20.7807C43.0335 20.8871 43.1414 20.9936 43.3032 21.1533C43.411 21.313 43.5189 21.4726 43.5189 21.6855H45.2984C45.2984 21.2597 45.2445 20.8339 45.0289 20.5146C44.8132 20.1952 44.5435 19.9291 44.2199 19.6629C43.8424 19.45 43.4649 19.2371 42.9796 19.1307C42.4943 19.0243 42.0089 18.9709 41.4696 18.9709C40.9843 18.9709 40.499 19.0243 40.0136 19.1307C39.5283 19.2371 39.1509 19.3968 38.7734 19.6629C38.3959 19.8758 38.1262 20.1952 37.9105 20.5146C37.6948 20.8339 37.587 21.2597 37.587 21.7388C37.587 22.271 37.7487 22.6435 37.9644 22.9629C38.234 23.2822 38.5036 23.4952 38.8811 23.6548C39.2586 23.8146 39.69 23.921 40.1754 24.0274C40.6607 24.0807 41.0922 24.1872 41.5775 24.2403C42.1707 24.2936 42.6561 24.4532 43.0336 24.6129C43.4111 24.7726 43.5728 25.0387 43.5728 25.4645C43.5728 25.7306 43.5187 25.9435 43.357 26.1564C43.1952 26.3161 43.0336 26.4757 42.8718 26.5822C42.6561 26.6886 42.4404 26.7419 42.1708 26.7951C41.9011 26.8484 41.6854 26.8485 41.4158 26.8485C41.1461 26.8485 40.9304 26.7951 40.6608 26.7951C40.4451 26.7418 40.2294 26.6354 40.0136 26.529C39.7979 26.4226 39.69 26.2629 39.5282 26.1032C39.4204 25.9435 39.3125 25.7307 39.3125 25.5177H37.3173C37.3713 26.05 37.4791 26.529 37.7487 26.9016C38.0183 27.2741 38.288 27.5403 38.7194 27.7532C39.0969 27.9661 39.5283 28.1258 40.0136 28.2322C40.499 28.3386 40.9843 28.392 41.4696 28.392C41.955 28.392 42.4403 28.3386 42.9256 28.2322C43.411 28.1258 43.8425 27.9661 44.166 27.7C44.4896 27.4338 44.8132 27.1677 45.0289 26.8483C45.2446 26.4758 45.3524 26.05 45.3524 25.571C45.3524 25.0387 45.2446 24.6129 45.0289 24.2935C44.9211 23.921 44.6513 23.7081 44.3277 23.4952V23.495Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M67.1928 20.1418C66.9231 19.8224 66.5457 19.5563 66.0603 19.3434C65.6289 19.1305 65.0896 19.0241 64.4425 19.0241C64.119 19.0241 63.8494 19.0241 63.5258 19.0774C63.2022 19.1307 62.9326 19.2371 62.663 19.3435C62.3933 19.4499 62.1237 19.6096 61.908 19.8225C61.6923 20.0354 61.4766 20.2483 61.3687 20.5677C61.3687 20.1419 61.2608 19.8226 61.099 19.6097C60.9372 19.3968 60.7216 19.2371 60.452 19.1306C60.1824 19.0773 59.8587 19.0242 59.5352 19.0242C59.2116 19.0242 58.8341 19.0775 58.5645 19.1306V20.5144C58.7802 20.5144 58.9959 20.5145 59.1037 20.5678C59.2656 20.6211 59.3195 20.6742 59.3734 20.7807C59.4274 20.8871 59.4812 20.9935 59.4812 21.1532C59.4812 21.3129 59.4812 21.5258 59.4812 21.7919V28.1258H61.5304V23.0693C61.5304 22.6968 61.5844 22.3774 61.6923 22.1113C61.8001 21.7919 61.9618 21.579 62.1776 21.3661C62.3933 21.1532 62.609 20.9936 62.8787 20.8871C63.1483 20.7807 63.4718 20.7274 63.7954 20.7274C64.3886 20.7274 64.9279 20.9403 65.3054 21.3129C65.7368 21.6854 65.8985 22.2709 65.8985 22.9628V28.1789H67.9478V22.9628C67.9478 22.4306 67.8938 21.8984 67.732 21.4193C67.732 20.8871 67.5163 20.5145 67.1928 20.1419V20.1418Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M70.806 15.2983C70.4824 15.2983 70.2128 15.4047 69.9431 15.6176C69.6735 15.8305 69.5657 16.0967 69.5657 16.5225C69.5657 16.9483 69.7275 17.2144 69.9431 17.4273C70.2128 17.6402 70.4824 17.7467 70.806 17.6934C71.1295 17.6934 71.3992 17.587 71.6149 17.3741C71.8846 17.1612 71.9924 16.895 71.9924 16.4693C71.9924 16.0434 71.8846 15.7773 71.6149 15.5644C71.3992 15.3515 71.1295 15.2983 70.806 15.2983Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M71.8307 19.237H69.7815V28.1788H71.8307V19.237Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M81.3756 20.195C80.9442 19.8224 80.4049 19.5563 79.8117 19.3434C79.2185 19.1305 78.6253 19.0773 77.9782 19.0773C77.385 19.0773 76.7918 19.1837 76.2525 19.3434C75.7132 19.5563 75.1739 19.8224 74.7425 20.195C74.3111 20.5676 73.9336 21.0466 73.664 21.6321C73.3943 22.2176 73.2325 22.8563 73.2325 23.6546C73.2325 24.453 73.3944 25.145 73.664 25.6772C73.9336 26.2627 74.3111 26.7417 74.7425 27.1675C75.1739 27.5401 75.7132 27.8594 76.2525 28.0191C76.8457 28.232 77.3849 28.2852 78.0321 28.2852C78.6253 28.2852 79.2185 28.1788 79.8117 28.0191C80.4049 27.8594 80.8902 27.5401 81.3216 27.1675C81.753 26.7949 82.1305 26.3159 82.4001 25.6772C82.6698 25.0918 82.8316 24.3998 82.8316 23.6546C82.8316 22.8563 82.6697 22.2176 82.4001 21.6321C82.1844 21.0466 81.807 20.5676 81.3756 20.195ZM80.5667 24.9321C80.4049 25.3047 80.1892 25.5708 79.9735 25.8369C79.7578 26.1031 79.4342 26.2627 79.1106 26.3692C78.7871 26.4756 78.4635 26.5821 78.1399 26.5821C77.8164 26.5821 77.4389 26.5288 77.1153 26.4223C76.7918 26.3159 76.4682 26.103 76.2525 25.8901C75.9829 25.624 75.7671 25.3578 75.6054 24.9852C75.4435 24.6127 75.3897 24.1868 75.3897 23.7078C75.3897 23.2288 75.4435 22.8563 75.6054 22.4837C75.7672 22.1111 75.929 21.845 76.1986 21.6321C76.4683 21.4191 76.7378 21.2063 77.0614 21.0998C77.3849 20.9934 77.7085 20.9401 78.0321 20.8869C78.3556 20.8869 78.7332 20.9402 79.0567 21.0466C79.3803 21.153 79.7038 21.3128 79.9735 21.5789C80.2431 21.7918 80.4588 22.1112 80.6206 22.4837C80.7824 22.8563 80.8903 23.2821 80.8903 23.7611C80.8363 24.1337 80.7285 24.5595 80.5667 24.9321Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M0 17.108V15.1918H9.76075V17.108H5.93193V28.1788H3.77482V17.108H0Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M47.0243 23.8143V15.1918H49.1813V23.7611C49.1813 25.4643 50.4755 26.4224 52.1472 26.4224C53.819 26.4224 55.0593 25.4643 55.0593 23.7611V15.1918H57.2165V23.8143C57.2165 26.6885 54.8975 28.3385 52.1472 28.3385C49.3431 28.3385 47.0243 26.6885 47.0243 23.8143Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M93.0239 26.0499V24.6128V22.8564C93.0239 22.3241 92.97 21.7918 92.8083 21.3128C92.6465 20.8338 92.4308 20.4612 92.1612 20.0886C91.8915 19.7693 91.514 19.5031 91.0286 19.2902C90.5972 19.0773 90.0579 18.9709 89.4108 18.9709C89.0872 18.9709 88.8176 18.9709 88.4941 19.0242C88.1705 19.0775 87.9009 19.184 87.6312 19.2904C87.3616 19.3968 87.0919 19.5564 86.8762 19.7693C86.6605 19.9823 86.4448 20.1952 86.337 20.5145C86.337 20.0887 86.2292 19.7694 86.0674 19.5565C85.9055 19.3436 85.6899 19.1839 85.4202 19.0775C85.1506 19.0242 84.827 18.971 84.5034 18.971C84.1799 18.971 83.8025 19.0244 83.5328 19.0775V20.4613C83.7486 20.4613 83.9643 20.4613 84.0721 20.5146C84.2339 20.5679 84.2878 20.621 84.3417 20.7275C84.3957 20.8339 84.4495 20.9404 84.4495 21.1001C84.4495 21.2598 84.4495 21.4726 84.4495 21.7388V28.0726H86.4987V23.0162C86.4987 22.6436 86.5527 22.3242 86.6605 22.0581C86.7683 21.7388 86.9302 21.5259 87.1459 21.313C87.3617 21.1001 87.5773 20.9404 87.8469 20.834C88.1166 20.7276 88.4401 20.6742 88.7636 20.6742C89.3568 20.6742 89.8961 20.8871 90.2736 21.2597C90.705 21.6323 90.8669 22.2177 90.8669 22.9097V25.9435V26.1564C90.8669 28.3387 92.215 28.5516 93.9946 28.2322V26.9548C93.1857 27.0081 93.0239 26.7419 93.0239 26.0499V26.0499Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M98.3627 0.608155C94.8574 0.608155 91.7836 2.47105 90.1658 5.29199C89.5726 6.4097 89.4647 7.36774 89.9501 8.16613C90.4893 9.12418 91.7298 9.23065 92.3769 9.23065H93.5632L93.1317 10.5612C92.8621 11.3596 92.97 12.2645 93.4015 12.85C93.8329 13.4354 94.48 13.7548 95.2889 13.7548C95.8281 13.7548 96.4213 13.6484 96.9606 13.4354C96.7987 13.2226 96.691 13.0097 96.5831 12.7435C96.5291 12.5306 96.4213 12.3177 96.4213 12.0516C96.0977 12.2113 95.7202 12.2645 95.3427 12.2645C95.127 12.2645 94.8035 12.2112 94.6417 11.9451C94.4799 11.7322 94.426 11.4129 94.5339 11.0403L95.1271 9.23065H97.0146L97.4998 7.6871H95.6663L96.4753 5.18553H94.8574L94.0486 7.6871H92.3229C91.7836 7.6871 91.46 7.52741 91.2982 7.26135C91.1364 6.942 91.2982 6.30328 91.7296 5.55812V5.50477C93.1857 3.42899 95.5585 2.04514 98.3088 2.04514C102.677 2.04514 106.236 5.55801 106.236 9.86924C106.236 14.1805 102.677 17.6933 98.3088 17.6933C94.4261 17.6933 91.1904 14.9257 90.4893 11.3063L88.9794 11.6257C89.8422 15.9369 93.6711 19.2369 98.3088 19.2369C103.54 19.2369 107.8 15.0321 107.8 9.86924C107.854 4.81285 103.594 0.608093 98.3627 0.608093V0.608155Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M104.402 12.5306C104.025 12.5306 103.54 12.4773 103.216 12.2645C103.108 12.1581 102.946 12.0516 102.892 11.7855C102.892 11.6791 102.892 11.5193 102.946 11.3597L104.133 7.79358H102.515L101.49 10.8806C101.221 11.679 100.358 12.3177 99.6031 12.3177C99.3873 12.3177 99.1176 12.2644 99.0098 12.0516C98.902 11.8919 98.7941 11.679 98.9558 11.3064L100.142 7.74036H98.5244L97.4998 10.8274C97.2302 11.5726 97.3379 12.371 97.7694 12.9564C98.2008 13.4887 98.794 13.8081 99.6029 13.8081C100.358 13.8081 101.167 13.4887 101.814 12.9564C102.03 13.2758 102.299 13.4887 102.677 13.6484C103.216 13.8081 103.54 13.8081 103.917 13.8081C104.079 13.8081 104.295 13.7548 104.348 13.7548C104.402 13.7015 104.403 13.6484 104.456 13.5951C104.51 13.4887 104.564 13.3822 104.618 13.2757C104.672 13.1693 104.726 13.0628 104.78 12.9564C104.834 12.85 104.888 12.7435 104.942 12.637C104.996 12.5837 104.996 12.4773 105.05 12.4241C104.888 12.5305 104.672 12.5305 104.402 12.5305V12.5306Z",fill:"#00A6CA"}),(0,F.tZ)("path",{d:"M95.1271 27.1143C95.1271 25.5175 97.5538 25.5175 97.5538 27.1143C97.5538 28.711 95.1271 28.711 95.1271 27.1143ZM97.3381 27.1143C97.3381 25.7304 95.3428 25.7304 95.3428 27.1143C95.3428 28.4981 97.3381 28.4981 97.3381 27.1143ZM96.8526 27.6465L96.6371 27.6999L96.3135 27.2741H96.0438V27.6999H95.8819V26.5289H96.3674C96.5831 26.5289 96.7988 26.6886 96.7988 26.9015C96.7988 27.0612 96.6909 27.2208 96.5291 27.2208L96.8526 27.6465ZM96.0978 27.1143H96.3674C96.5292 27.1143 96.6371 27.0078 96.6371 26.9014C96.6371 26.7416 96.5292 26.6885 96.3674 26.6885H96.0978V27.1143Z",fill:"#00A6CA"})]}),nw=(0,F.BX)("svg",{width:"43",height:"23",viewBox:"0 0 43 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,F.tZ)("path",{d:"M0 11.5V23H21.5H43V11.5V-1.90735e-06H21.5H0V11.5ZM41.3865 11.5V21.3789H21.4872H1.58785V11.5V1.62114H21.4872H41.3865V11.5Z",fill:"#00A4E4"}),(0,F.tZ)("path",{d:"M31.2192 4.82798C30.6686 4.8761 30.0411 5.00022 29.5596 5.15474C28.5429 5.47897 27.7643 5.95011 27.0063 6.69989C26.1304 7.56619 25.5644 8.55661 25.2494 9.7674C25.0752 10.4488 25.0368 10.7756 25.0368 11.6013C25.0343 12.3511 25.0548 12.5563 25.1751 13.1389C25.3877 14.1521 25.8871 15.1729 26.553 15.9582C26.8142 16.2646 27.3776 16.8067 27.667 17.0296C28.612 17.7566 29.7235 18.1872 30.9938 18.3139C31.4522 18.362 32.4536 18.3341 32.8583 18.2658C33.8315 18.0986 34.692 17.7439 35.4091 17.2095C36.4258 16.4521 37.2018 15.3452 37.5706 14.1242C37.7755 13.4428 37.8523 12.9084 37.8702 11.9863L37.8856 11.3227H35.1658H32.4485V12.2472V13.1718H34.0876C35.3809 13.1718 35.7266 13.1794 35.7266 13.2022C35.7266 13.2807 35.5704 13.8355 35.4987 14.0153C35.2119 14.7271 34.715 15.3654 34.126 15.7783C33.8776 15.9506 33.3833 16.1988 33.1144 16.2849C32.0592 16.6218 30.8145 16.523 29.7722 16.0189C28.4584 15.3857 27.5338 14.1622 27.2393 12.6703C27.0524 11.7229 27.1266 10.6489 27.4391 9.76487C28.0435 8.05254 29.4444 6.9304 31.2525 6.71002C31.6315 6.66443 32.4664 6.69229 32.8173 6.76322C33.98 6.99373 34.9865 7.63205 35.7394 8.61994L35.888 8.81751L36.0698 8.64273C36.1697 8.54901 36.4873 8.24758 36.7767 7.97655C37.0661 7.70551 37.3042 7.47754 37.3094 7.46994C37.3247 7.43447 36.897 6.938 36.6204 6.67203C35.9392 6.01597 35.0275 5.46884 34.1132 5.1674C33.3705 4.9217 32.8327 4.83558 31.9619 4.82544C31.6162 4.82291 31.2832 4.82291 31.2192 4.82798Z",fill:"#00A4E4"}),(0,F.tZ)("path",{d:"M11.4146 5.24846C11.3813 5.32192 9.98552 8.25264 8.31316 11.7584C6.64336 15.2666 5.27576 18.1416 5.27576 18.1492C5.27576 18.1568 5.76748 18.1594 6.36932 18.1568L7.46033 18.1492L8.17999 16.5737L8.89964 14.9981L11.6912 14.9956H14.4853L15.1793 16.5711L15.8734 18.1492L16.9644 18.1568C17.5637 18.1594 18.0554 18.1543 18.0554 18.1467C18.0554 18.1264 18.1373 18.3063 13.8937 8.95429C13.3072 7.65738 12.6797 6.2794 12.5056 5.88932C12.3289 5.49923 12.1727 5.16487 12.1599 5.14714C12.1394 5.12687 12.0369 5.11674 11.8064 5.11674H11.4761L11.4146 5.24846ZM12.69 10.8794C13.2048 12.0319 13.6222 12.9818 13.6171 12.9869C13.612 12.992 12.7463 12.992 11.6963 12.9894L9.78576 12.9818L10.7615 10.8718C11.2968 9.71167 11.7398 8.76685 11.745 8.77192C11.7501 8.77698 12.1752 9.72434 12.69 10.8794Z",fill:"#00A4E4"}),(0,F.tZ)("path",{d:"M20.3091 11.7153V18.1366H21.3079H22.3067V11.7153V5.29405H21.3079H20.3091V11.7153Z",fill:"#00A4E4"})]});var aw,iw,rw,ow;const sw={type:"",action:""},lw=({button:e,shouldDisplay:t,description:n,title:a,icon:i,companyIcon:r})=>t?(0,F.BX)("section",{className:"premiumPlusSection--GPB6pya_0j",children:[(0,F.tZ)("div",{children:(0,F.tZ)("div",{className:"premiumPlusIconWrapper--v8Pyq5bOLv",children:i})}),(0,F.BX)("div",{children:[(0,F.BX)("h2",{className:"premiumPlusTitle--F3qUtT4jdw",children:[a,(0,F.tZ)("span",{className:"premiumPlusTitleIcon--LuidgTXjtd",children:r})]}),(0,F.tZ)("div",{className:"premiumPlusDescription--W68S_tWUDM",children:n}),e]})]}):null,cw=()=>{const{translate:e}=(0,v.Z)(),t=(0,Ar.Y)();function n(e){return t.status===qn.rq.Success&&!!t.data.capabilities?.[e]?.enabled}return(0,F.BX)(Os,{children:[(0,F.tZ)(_o.h,{sx:{marginTop:"16px"},startWidgets:(0,F.tZ)(N.X6q,{sx:{fontWeight:"700"},children:e("webapp_premium_plus_title")}),endWidget:aw||(aw=(0,F.tZ)(mo.D,{}))}),(0,F.tZ)("div",{className:"rootContainer--VE0PAAxxgG",children:(0,F.BX)("div",{className:"premiumPlusContainer--v7bgUfMVzi",children:[(0,F.tZ)(lw,{icon:iw||(iw=(0,F.tZ)(N.op_,{size:52})),companyIcon:tw,description:e.markup("webapp_premium_plus_credit_monitoring_description_markup"),title:e("webapp_premium_plus_credit_monitoring_title"),shouldDisplay:n("creditMonitoring"),button:(0,F.tZ)(N.zxk,{type:"button",nature:"secondary",onClick:()=>(0,Oe.Yk)("https://www.creditviewdashboard.com/CreditView/welcome.page?enterprise=Dashlane",sw),children:e("webapp_premium_plus_credit_monitoring_button")})}),(0,F.tZ)(lw,{icon:rw||(rw=(0,F.tZ)(N.Wz1,{size:47})),companyIcon:nw,description:e.markup("webapp_premium_plus_identity_theft_description_markup"),title:e("webapp_premium_plus_identity_theft_title"),shouldDisplay:n("identityTheftProtection"),button:(0,F.tZ)(N.zxk,{type:"button",nature:"secondary",onClick:()=>(0,Oe.Yk)("https://support.dashlane.com/hc/en-us/articles/360000040299",sw),children:e("webapp_premium_plus_identity_theft_button")})}),(0,F.tZ)(lw,{icon:ow||(ow=(0,F.tZ)(N.bmX,{size:52})),companyIcon:tw,description:e.markup("webapp_premium_plus_identity_restauration_description_markup"),title:e("webapp_premium_plus_identity_restauration_title"),shouldDisplay:n("identityRestoration"),button:(0,F.tZ)(N.zxk,{type:"button",nature:"secondary",onClick:()=>(0,Oe.Yk)("https://support.dashlane.com/hc/en-us/articles/360000040279",sw),children:e("webapp_premium_plus_identity_restauration_button")})})]})})]})},dw=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:cw}),pw=({handleBack:e,handleForward:t,backIcon:n,forwardIcon:a,backButtonText:i,forwardButtonText:r})=>{const o=(0,C.useRef)(null);return(0,F.BX)("div",{sx:{paddingTop:"40px",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,F.tZ)(w.z,{icon:n,intensity:"supershy",layout:"iconLeading",mood:n?"brand":"neutral",ref:o,size:"medium",type:"button",onClick:()=>{o.current&&o.current.blur(),e()},children:i}),(0,F.tZ)(w.z,{icon:a,intensity:"catchy",layout:"iconTrailing",mood:"brand",size:"medium",type:"button",onClick:t,children:r})]})};var uw,_w=n(23466),mw=n(87196);const hw=({questionNumber:e,headerTitle:t,headerDescription:n})=>(0,F.BX)(C.Fragment,{children:[(0,F.BX)("div",{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"},children:[uw||(uw=(0,F.tZ)(k.v,{name:"FeedbackHelpOutlined",size:"medium",mood:"brand"})),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small",children:e})]}),(0,F.BX)("div",{sx:{paddingBottom:"16px"},children:[(0,F.tZ)(D.n,{textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",sx:{paddingBottom:"8px"},children:t}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.reduced.regular",children:n})]})]});let gw=function(e){return e.USECASE="USECASE",e.FAMILIARITY="FAMILIARITY",e.TEAMSIZE="TEAMSIZE",e.FEATURES="FEATURES",e}({}),bw=function(e){return e.SuperFamiliar="super_familiar",e.VeryFamiliar="very_familiar",e.SomewhatVeryFamiliar="somewhat_familiar",e.NotVeryFamiliar="not_very_familiar",e.NotFamiliarAtAll="not_familiar_at_all",e}({}),ww=function(e){return e.SecurePasswords="members_use_strong_passwords",e.SharePasswords="securely_share_passwords",e.StoreDataOnePlace="store_passwords_in_one_place",e.ControlDataAccess="control_revoked_members_password_access",e.None="none",e}({}),yw=function(e){return e.Scim="scim",e.Sso="sso",e.Jit="just_in_time_provisioning",e.MassDeployment="mass_deployment",e.Siem="siem",e.NotSure="not_sure",e}({}),fw=function(e){return e.OneToFifty="one_to_fifty",e.FiftyOneToTwoHundred="fifty_one_to_two_hundred",e.TwoHundredOneToFiveHundred="two_hundred_one_to_five_hundred",e.FiveHundredOneToOneThousand="five_hundred_one_to_one_thousand",e.OneThousandOneToFiveThousand="one_thousand_one_to_five_thousand",e.FiveThousandOnePlus="five_thousand_one_plus",e}({});const xw={[ww.None]:je.ProfilingUseCasePossibleAnswers.None,[ww.ControlDataAccess]:je.ProfilingUseCasePossibleAnswers.ControlRevokedMembersPasswordAccess,[ww.SecurePasswords]:je.ProfilingUseCasePossibleAnswers.MembersUseStrongPasswords,[ww.SharePasswords]:je.ProfilingUseCasePossibleAnswers.SecurelySharePasswords,[ww.StoreDataOnePlace]:je.ProfilingUseCasePossibleAnswers.StorePasswordsInOnePlace},Sw={[bw.NotFamiliarAtAll]:je.ProfilingFamiliarityPossibleAnswers.NotFamiliarAtAll,[bw.NotVeryFamiliar]:je.ProfilingFamiliarityPossibleAnswers.NotVeryFamiliar,[bw.SomewhatVeryFamiliar]:je.ProfilingFamiliarityPossibleAnswers.SomewhatFamiliar,[bw.SuperFamiliar]:je.ProfilingFamiliarityPossibleAnswers.SuperFamiliar,[bw.VeryFamiliar]:je.ProfilingFamiliarityPossibleAnswers.VeryFamiliar},vw={[fw.FiveThousandOnePlus]:je.ProfilingTeamSizePossibleAnswers.FiveThousandOnePlus,[fw.FiftyOneToTwoHundred]:je.ProfilingTeamSizePossibleAnswers.FiftyOneToTwoHundred,[fw.FiveHundredOneToOneThousand]:je.ProfilingTeamSizePossibleAnswers.FiveHundredOneToOneThousand,[fw.OneThousandOneToFiveThousand]:je.ProfilingTeamSizePossibleAnswers.OneThousandOneToFiveThousand,[fw.OneToFifty]:je.ProfilingTeamSizePossibleAnswers.OneToFifty,[fw.TwoHundredOneToFiveHundred]:je.ProfilingTeamSizePossibleAnswers.TwoHundredOneToFiveHundred},Cw={[yw.Jit]:je.ProfilingFeaturesPossibleAnswers.JustInTimeProvisioning,[yw.MassDeployment]:je.ProfilingFeaturesPossibleAnswers.MassDeployment,[yw.NotSure]:je.ProfilingFeaturesPossibleAnswers.NotSure,[yw.Siem]:je.ProfilingFeaturesPossibleAnswers.Siem,[yw.Scim]:je.ProfilingFeaturesPossibleAnswers.Scim,[yw.Sso]:je.ProfilingFeaturesPossibleAnswers.Sso},Zw={[gw.USECASE]:xw,[gw.FAMILIARITY]:Sw,[gw.TEAMSIZE]:vw,[gw.FEATURES]:Cw},kw=(e,t)=>t.map((t=>Zw[e][t])),Iw=e=>{(0,$e.Nc)({[gw.USECASE]:je.PageView.TacTeamCreatorProfilingUseCase,[gw.TEAMSIZE]:je.PageView.TacTeamCreatorProfilingTeamSize,[gw.FEATURES]:je.PageView.TacTeamCreatorProfilingFeatures,[gw.FAMILIARITY]:je.PageView.TacTeamCreatorProfilingFamiliarityWithPasswordManagers}[e])},Ew=e=>{(0,$e.Kz)(new je.UserSubmitAdminProfilingQuestionsEvent({profilingStep:je.ProfilingStep.UseCase,isProfilingComplete:!1,useCaseChoiceList:Object.values(je.ProfilingUseCasePossibleAnswers),useCaseAnswerList:e}))},Dw=e=>{(0,$e.Kz)(new je.UserSubmitAdminProfilingQuestionsEvent({profilingStep:je.ProfilingStep.FamiliarityWithPasswordManagers,isProfilingComplete:!1,adminFamiliarityChoiceList:Object.values(je.ProfilingFamiliarityPossibleAnswers),adminFamiliarityAnswerList:e}))},Tw=e=>{(0,$e.Kz)(new je.UserSubmitAdminProfilingQuestionsEvent({profilingStep:je.ProfilingStep.TeamSize,isProfilingComplete:!1,teamSizeChoiceList:Object.values(je.ProfilingTeamSizePossibleAnswers),teamSizeAnswerList:e}))},Aw={OUTER_CARD:{maxWidth:"850px",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"80px",paddingBottom:"36px",marginTop:"18px"},INNER_CARD:{maxWidth:"480px",minHeight:"648px",display:"flex",flexDirection:"column",gap:"16px"}};var Nw,Ow;const Pw="onb_profile_admin_questions_main_title",Lw={questionKey:"",completed:!1,selectedAnswers:[]},Rw=[({answers:e,questionNumber:t,setAnswers:n})=>{const{translate:a}=(0,v.Z)();(0,C.useEffect)((()=>{Iw(gw.USECASE)}),[]);const i=t=>{e.includes(t)?n(e.filter((e=>e!==t))):n([...e,t])},r=e.includes(ww.None),o=!e.includes(ww.None)&&0!==e.length,s=[{label:"onb_profile_admin_goal_question_secure_passwords",onChange:()=>i(ww.SecurePasswords),optionKey:ww.SecurePasswords,disabled:r},{label:"onb_profile_admin_goal_question_share_passwords",onChange:()=>i(ww.SharePasswords),optionKey:ww.SharePasswords,disabled:r},{label:"onb_profile_admin_goal_question_store_data_one_place",onChange:()=>i(ww.StoreDataOnePlace),optionKey:ww.StoreDataOnePlace,disabled:r},{label:"onb_profile_admin_goal_question_control_data_access",onChange:()=>i(ww.ControlDataAccess),optionKey:ww.ControlDataAccess,disabled:r},{label:"onb_profile_admin_goal_question_none_above",onChange:()=>i(ww.None),optionKey:ww.None,disabled:o}];return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(hw,{questionNumber:a("onb_profile_admin_questions_number",{questionIndex:t,totalQuestions:4}),headerTitle:a("onb_profile_admin_goal_question_subtitle"),headerDescription:a("onb_profile_admin_goal_question_description")}),s.map((({label:t,disabled:n,onChange:i,optionKey:r})=>(0,F.tZ)(as.X,{label:a(t),disabled:n,checked:e.includes(r),onChange:i,value:r},t)))]})},({answers:e,questionNumber:t,setAnswers:n})=>{const{translate:a}=(0,v.Z)();(0,C.useEffect)((()=>{Iw(gw.FAMILIARITY)}),[]);const i=[{label:"onb_profile_admin_familiarity_question_super",description:"onb_profile_admin_familiarity_question_super_description",optionKey:bw.SuperFamiliar},{label:"onb_profile_admin_familiarity_question_very",description:"onb_profile_admin_familiarity_question_very_description",optionKey:bw.VeryFamiliar},{label:"onb_profile_admin_familiarity_question_somewhat",description:"onb_profile_admin_familiarity_question_somewhat_description",optionKey:bw.SomewhatVeryFamiliar},{label:"onb_profile_admin_familiarity_question_not_very",description:"onb_profile_admin_familiarity_question_not_very_description",optionKey:bw.NotVeryFamiliar},{label:"onb_profile_admin_familiarity_question_not_at_all",description:"onb_profile_admin_familiarity_question_not_at_all_description",optionKey:bw.NotFamiliarAtAll}],r=e[0];return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(hw,{questionNumber:a("onb_profile_admin_questions_number",{questionIndex:t,totalQuestions:4}),headerTitle:a("onb_profile_admin_familiarity_question_subtitle"),headerDescription:a("onb_profile_admin_familiarity_question_description")}),(0,F.tZ)(_w.E,{groupName:"Familiarity Question Answers",value:r,onChange:e=>{n([e.target.value])},children:i.map((({label:e,description:t,optionKey:n})=>(0,F.tZ)(mw.Y,{label:a(e),value:n,description:a(t)},e)))})]})},({answers:e,questionNumber:t,setAnswers:n})=>{const{translate:a}=(0,v.Z)();(0,C.useEffect)((()=>{Iw(gw.TEAMSIZE)}),[]);const i=[{label:"onb_profile_admin_employees_number_question_50_size",optionKey:fw.OneToFifty},{label:"onb_profile_admin_employees_number_question_200_size",optionKey:fw.FiftyOneToTwoHundred},{label:"onb_profile_admin_employees_number_question_500_size",optionKey:fw.TwoHundredOneToFiveHundred},{label:"onb_profile_admin_employees_number_question_1000_size",optionKey:fw.FiveHundredOneToOneThousand},{label:"onb_profile_admin_employees_number_question_5000_size",optionKey:fw.OneThousandOneToFiveThousand},{label:"onb_profile_admin_employees_number_question_5001_plus_size",optionKey:fw.FiveThousandOnePlus}],r=e[0];return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(hw,{questionNumber:a("onb_profile_admin_questions_number",{questionIndex:t,totalQuestions:4}),headerTitle:a("onb_profile_admin_employees_number_question_subtitle"),headerDescription:a("onb_profile_admin_employees_number_question_description")}),(0,F.tZ)(_w.E,{groupName:"Employee Number Question Answers",value:r,onChange:e=>{n([e.target.value])},children:i.map((({label:e,optionKey:t})=>(0,F.tZ)(mw.Y,{label:a(e),value:t},e)))})]})},({answers:e,questionNumber:t,setAnswers:n})=>{const{translate:a}=(0,v.Z)();(0,C.useEffect)((()=>{Iw(gw.FEATURES)}),[]);const i=t=>{e.includes(t)?n(e.filter((e=>e!==t))):n([...e,t])},r=[{label:"onb_profile_admin_setup_preference_question_scim",description:"onb_profile_admin_setup_preference_question_scim_description",onChange:()=>i(yw.Scim),optionKey:yw.Scim},{label:"onb_profile_admin_setup_preference_question_sso",description:"onb_profile_admin_setup_preference_question_sso_description",onChange:()=>i(yw.Sso),optionKey:yw.Sso},{label:"onb_profile_admin_setup_preference_question_jit",description:"onb_profile_admin_setup_preference_question_jit_description",onChange:()=>i(yw.Jit),optionKey:yw.Jit},{label:"onb_profile_admin_setup_preference_question_mass",description:"onb_profile_admin_setup_preference_question_mass_description",onChange:()=>i(yw.MassDeployment),optionKey:yw.MassDeployment},{label:"onb_profile_admin_setup_preference_question_siem",description:"onb_profile_admin_setup_preference_question_siem_description",onChange:()=>i(yw.Siem),optionKey:yw.Siem},{label:"onb_profile_admin_setup_preference_question_generic",onChange:()=>i(yw.NotSure),optionKey:yw.NotSure}];return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(hw,{questionNumber:a("onb_profile_admin_questions_number",{questionIndex:t,totalQuestions:4}),headerTitle:a("onb_profile_admin_setup_preference_question_subtitle"),headerDescription:a("onb_profile_admin_setup_preference_question_description")}),r.map((({label:t,description:n,onChange:i,optionKey:r})=>(0,F.tZ)(as.X,{label:a(t),checked:e.includes(r),description:n?a(n):void 0,onChange:i,value:r},t)))]})}],Mw=()=>{var e;const t=(0,a.k6)(),{showToast:n}=(0,Z.p)(),{translate:i}=(0,v.Z)(),r=nb(),o=(()=>{const{data:e,status:t}=(0,L.k)(Qg.d,"answers"),{saveAnswer:n}=(0,K.u)(Qg.d);return t===R.rq.Loading?{status:R.rq.Loading,saveAnswer:n}:t===R.rq.Error?{status:R.rq.Error,saveAnswer:n}:{status:R.rq.Success,saveAnswer:n,answers:e.answers}})(),{routes:{userOnboarding:s}}=(0,a.Xo)(),[l,c]=(0,C.useState)(!1),[d,p]=(0,C.useState)(0),u=(0,C.useRef)(!1),_=(0,C.useRef)(!1),m=(e,t)=>o.saveAnswer({questionKey:`questionKey-{${d}}`,completed:t,selectedAnswers:e});if((0,C.useEffect)((()=>{if(r.status===R.rq.Success&&!l){const e=4-r.profilingRemainingQuestions;p(null!=e?e:0),c(!0)}}),[l,r]),(0,C.useEffect)((()=>{o.status===R.rq.Success&&0!==o.answers.length&&(_.current=o.answers[0].completed||0!==o.answers[0].selectedAnswers.length)}),[o]),(0,C.useEffect)((()=>()=>{_.current&&!u.current?n({description:i("onb_profile_admin_questions_toast_finish_later")}):u.current&&n({description:i("onb_profile_admin_questions_toast_congrats")})}),[n,i]),o.status!==R.rq.Success||r.status!==R.rq.Success)return Nw||(Nw=(0,F.tZ)(Vh.a,{}));if(r.status===R.rq.Success&&!r.isProfilingAdminTodo)return(0,F.tZ)(a.l_,{to:s});const h=null!=(e=o.answers[d])?e:Lw,g=Rw[d];return(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",backgroundColor:"ds.container.agnostic.neutral.standard",height:"100%",width:"100%",overflowY:"auto",padding:"16px 32px 32px"},children:[(0,F.tZ)(_o.h,{startWidgets:(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:i(Pw)}),endWidget:Ow||(Ow=(0,F.tZ)(mo.D,{})),children:i(Pw)}),(0,F.tZ)(yr.Z,{sx:Aw.OUTER_CARD,children:(0,F.BX)("div",{sx:Aw.INNER_CARD,children:[(0,F.tZ)(g,{answers:h.selectedAnswers,setAnswers:e=>m(e,h.completed),questionNumber:d+1}),(0,F.tZ)(pw,{handleBack:()=>{0===d?((0,$e.Kz)(new je.UserClickEvent({button:je.Button.AskLater,clickOrigin:je.ClickOrigin.AdminProfiling})),t.push(s)):p(d-1)},handleForward:()=>(e=>{const t=d===Rw.length-1;t&&(o.status===R.rq.Success&&(e=>{const t={useCaseAnswerList:kw(gw.USECASE,e[0].selectedAnswers),useCaseChoiceList:Object.values(je.ProfilingUseCasePossibleAnswers)},n={adminFamiliarityAnswerList:kw(gw.FAMILIARITY,e[1].selectedAnswers),adminFamiliarityChoiceList:Object.values(je.ProfilingFamiliarityPossibleAnswers)},a={teamSizeAnswerList:kw(gw.TEAMSIZE,e[2].selectedAnswers),teamSizeChoiceList:Object.values(je.ProfilingTeamSizePossibleAnswers)},i={featuresAnswerList:kw(gw.FEATURES,e[3].selectedAnswers),featuresChoiceList:Object.values(je.ProfilingFeaturesPossibleAnswers)};(0,$e.Kz)(new je.UserSubmitAdminProfilingQuestionsEvent({isProfilingComplete:!0,profilingStep:je.ProfilingStep.Features,...t,...n,...a,...i}))})([...o.answers,e]),u.current=!0),m(e.selectedAnswers,!0).then((()=>{t||((e=>{const t=[{key:gw.USECASE,logger:Ew},{key:gw.FAMILIARITY,logger:Dw},{key:gw.TEAMSIZE,logger:Tw},{key:gw.FEATURES,logger:void 0}],{logger:n,key:a}=t[d];n?n(kw(a,e)):console.error("Invalid question index:",d)})(e.selectedAnswers),p(d+1))}))})(h),backButtonText:i(0===d?"onb_profile_admin_questions_button_do_later":"onb_profile_admin_questions_button_back"),forwardButtonText:i(3===d?"onb_profile_admin_questions_button_complete":"onb_profile_admin_questions_button_continue"),backIcon:0===d?void 0:"ArrowLeftOutlined",forwardIcon:"ArrowRightOutlined"})]})})]})},Bw=({path:e})=>(0,F.tZ)(a.Vy,{exact:!0,path:`${e}`,component:Mw});var zw=n(63204);const Uw=({invoice:e,onDownloadInvoiceRequested:t,onCustomizeInvoiceRequested:n})=>{const{translate:a}=(0,v.Z)(),{amountPaid:i,currency:r,duration:o,invoiceId:s,startDate:l}=e,c=a.price(r,i/100),d=(e=>"premiumplus"===e.planFeature?"manage_subscription_plan_name_premium_plus":"advanced"===e.planFeature?"manage_subscription_plan_name_advanced":"essentials"===e.planFeature?"manage_subscription_plan_name_essentials":["family_created","family_renewed"].includes(e.eventType)?"manage_subscription_plan_name_family":"sync"===e.planFeature?"manage_subscription_plan_name_premium":"default_category_name_other")(e),p=o.includes("M-")?"manage_subscription_billing_section_table_duration_monthly":"manage_subscription_billing_section_table_duration_annual",u=`${a(d)} (${a(p)})`,_=[{key:"planDuration",content:(0,F.BX)(ne.k,{flexDirection:"column",sx:{padding:"12px 0"},children:[(0,F.tZ)(D.n,{color:"ds.text.neutral.catchy",children:u}),(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:a("manage_subscription_billing_section_table_order",{order:s})})]})},{key:"startDate",content:(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:(m=l,a.shortDate((0,Zs.Z)(m),ks._T.LL))})},{key:"price",content:(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:c})}];var m;return(0,F.tZ)(zs.Z,{data:_,actions:[(0,F.tZ)(w.z,{intensity:"quiet",mood:"neutral",size:"small",onClick:()=>n(e),children:a("manage_subscription_billing_section_table_add_details_button")},"add-details"),(0,F.tZ)(w.z,{layout:"iconOnly",onClick:()=>t(e),"aria-label":a("team_account_billing_date_cta_invoice"),icon:"DownloadOutlined",size:"small"},"download")]})},Fw={ALL_YEARS_FILTER:"manage_subscription_billing_section_filter_years",ALL_PLANS_FILTER:"manage_subscription_billing_section_filter_all_plans",PLAN_NAME_ADVANCED:"manage_subscription_plan_name_advanced",PLAN_NAME_ESSENTIALS:"manage_subscription_plan_name_essentials",PLAN_NAME_FAMILY:"manage_subscription_plan_name_family",PLAN_NAME_PREMIUM:"manage_subscription_plan_name_premium",PLAN_NAME_OTHER:"manage_subscription_billing_section_filter_plans_others"},Xw=({changePlanFilter:e,changeYearFilter:t,currentPlanFilter:n,currentYearFilter:a})=>{const{translate:i}=(0,v.Z)(),r=(0,zw.uv)(),o=((new Date).getFullYear()-1).toString();r.includes(o)||r.push(o);const s=n?Fw[`PLAN_NAME_${n}`]:Fw.ALL_PLANS_FILTER;return(0,F.BX)("div",{sx:{display:"flex",gap:"10px"},children:[(0,F.BX)(vt.h_,{children:[(0,F.tZ)(vt.sB,{showCaret:!0,children:a||i(Fw.ALL_YEARS_FILTER)}),(0,F.BX)(vt.Nv,{children:[(0,F.tZ)(kt.h,{label:i(Fw.ALL_YEARS_FILTER),onSelect:()=>t("")},"yearFilter-all"),r.map((e=>(0,F.tZ)(kt.h,{onSelect:()=>t(e),label:e},`yearFilter-${e}`)))]})]}),(0,F.BX)(vt.h_,{children:[(0,F.tZ)(vt.sB,{showCaret:!0,children:i(s)}),(0,F.BX)(vt.Nv,{children:[(0,F.tZ)(kt.h,{label:i(Fw.ALL_PLANS_FILTER),onSelect:()=>e("")},"planFilter-all"),["ADVANCED","ESSENTIALS","PREMIUM","FAMILY","OTHER"].map((t=>(0,F.tZ)(kt.h,{label:i(Fw[`PLAN_NAME_${t}`]),onSelect:()=>e(t)},`planFilter-${t}`)))]})]})]})},qw="manage_subscription_billing_details_dialog_address_label",Hw="manage_subscription_billing_details_dialog_company_label",Vw="manage_subscription_billing_details_dialog_name_label",Ww="manage_subscription_billing_details_dialog_tax_id_label",jw="manage_subscription_billing_details_dialog_address_placeholder",Gw="manage_subscription_billing_details_dialog_company_placeholder",Kw="manage_subscription_billing_details_dialog_name_placeholder",Yw="manage_subscription_billing_details_dialog_tax_id_placeholder",$w=({isOpen:e,onClose:t,onDownloadInvoice:n})=>{const{translate:a}=(0,v.Z)(),[i,r]=(0,C.useState)(""),[o,s]=(0,C.useState)(""),[l,c]=(0,C.useState)(""),[d,p]=(0,C.useState)("");return(0,F.tZ)(Jo.Vq,{title:a("manage_subscription_billing_details_dialog_title"),closeActionLabel:a("_common_dialog_dismiss_button"),isOpen:e,onClose:t,actions:{primary:{onClick:()=>{const e={};""!==i&&(e.recipient=i),""!==o&&(e.company=o),""!==l&&(e.address=l),""!==d&&(e.vatNumber=d),n(e)},children:a("manage_subscription_billing_details_dialog_download_button")}},children:(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px",margin:"20px 0"},children:[(0,F.tZ)(E.n,{autoFocus:!0,"data-testid":"invoiceNameInput",label:a(Vw),onChange:e=>r(e.target.value),placeholder:a(Kw)}),(0,F.tZ)(E.n,{"data-testid":"invoiceCompanyInput",label:a(Hw),onChange:e=>s(e.target.value),placeholder:a(Gw)}),(0,F.tZ)(E.n,{label:a(qw),onChange:e=>c(e.target.value),placeholder:a(jw)}),(0,F.tZ)(E.n,{label:a(Ww),onChange:e=>p(e.target.value),placeholder:a(Yw)})]})})},Qw=e=>[{key:"item",sortable:!1,content:e("manage_subscription_billing_section_table_head_item")},{key:"startDate",sortable:!0,content:e("manage_subscription_billing_section_table_head_date")},{key:"amountPaid",sortable:!0,content:e("manage_subscription_billing_section_table_head_price")}],Jw=()=>{const{translate:e}=(0,v.Z)(),[t,n]=(0,C.useState)(1),[a,i]=(0,C.useState)(""),[r,o]=(0,C.useState)(""),[s,l]=(0,C.useState)(!1),[c,d]=(0,C.useState)(null),[p,u]=(0,C.useState)({direction:wd._.descending,field:"startDate"}),{downloadInvoice:_}=(0,K.u)(Ad.c),m=(0,zw.rU)(),h=(0,zw.rR)({currentPlanFilter:r,currentYearFilter:a,sortDirection:p.direction,sortField:p.field}),g=(0,C.useMemo)((()=>{const e=10*(t-1);return[...h].slice(e,e+10)}),[t,h]),b=e=>{l(!0),d(e)},y=async(t,n)=>{if(t){const a=`${e.shortDate((0,Zs.Z)(t?.startDate),ks._T.L)}`;await _({invoiceId:t.invoiceId,invoiceDate:a,customerData:n})}};return(0,F.BX)(yr.Z,{padding:"32px",gap:"5px",children:[(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",children:e("manage_subscription_billing_section_title")}),(0,F.tZ)(Xw,{changePlanFilter:e=>{n(1),o(e)},changeYearFilter:e=>{n(1),i(e||"")},currentPlanFilter:r,currentYearFilter:a})]}),h.length>0?(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(Ps.h,{sxProps:{padding:"0px"},header:Qw(e),onSort:e=>{u(e)},options:p}),(0,F.tZ)(pt.a,{children:g.map((e=>(0,F.tZ)(Uw,{invoice:e,onCustomizeInvoiceRequested:b,onDownloadInvoiceRequested:y},e.invoiceId)))}),(0,F.tZ)(N.tlE,{sx:{marginTop:"8px"},totalPages:h.length>10?Math.ceil(h.length/10):0,currentPage:t,onPageChange:n})]}):null,0===h.length&&m>0?(0,F.BX)(ne.k,{alignItems:"center",flexDirection:"column",justifyContent:"center",sx:{height:"300px"},gap:"16px",children:[(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:e("manage_subscription_billing_section_no_results")}),(0,F.tZ)(w.z,{mood:"neutral",intensity:"quiet",onClick:()=>{n(1),o(""),i("")},icon:"ActionRefreshOutlined",layout:"iconLeading",children:e("manage_subscription_billing_section_reset_filters")})]}):null,(0,F.tZ)($w,{isOpen:s,onClose:()=>l(!1),onDownloadInvoice:e=>{c&&(l(!1),y(c,e))}})]})};var ey=n(31035),ty=n(56854),ny=n(9216),ay=n(82607);const iy=e=>{const t=(0,Is.yf)(e),n=(0,Is.AF)(e),a=(0,Is.sZ)(e),i=(0,Is.p6)(e),r=(0,Is.ry)(e);return{isPaidAccountUser:t,isBusinessUser:n,isEssentialUser:a,isFamilyAdmin:i,isFamilyUser:r,isFamilyInvitee:r&&!i,isPremiumUser:(0,Is.Sm)(e),isPremiumPlusUser:t&&(0,Is.Tg)(e),isFreeTrialUser:(0,Is.b1)(e),isAdvancedUser:(0,Is.LF)(e)}},ry="manage_subscription_plan_name_advanced",oy="manage_subscription_plan_name_dashlane_business",sy="manage_subscription_plan_name_essentials",ly="manage_subscription_plan_name_family",cy="manage_subscription_plan_name_free",dy="manage_subscription_plan_name_premium",py="manage_subscription_plan_name_premium_plus",uy="manage_subscription_plan_name_premium_trial",_y="manage_subscription_plan_name_dashlane_team",my=(e,t)=>{const{isBusinessUser:n,isEssentialUser:a,isFamilyUser:i,isPremiumUser:r,isPremiumPlusUser:o,isFreeTrialUser:s,isAdvancedUser:l}=iy(e);let c="";if(n){const n=(0,Is.Fz)(e);c=n&&(0,Is.t0)(n.tier)===Fn.rR.Team?t(_y):t(oy)}else c=t(i?ly:l?ry:a?sy:s?uy:o?py:r?dy:cy);return c},hy=(e,t)=>t(new Date(1e3*e),ks._T.LL);var gy=n(18362);const by=({capabilities:e,title:t})=>{var n;const{translate:a}=(0,v.Z)(),i=(0,L.k)(Ht.L,"query",{vaultItemTypes:[ut.U.Credential]}),r=x_(),o=(0,mr.Qy)(),s=(0,L.k)(og.c,"listAuthorisedDevice");if(r.isLoading||!o||s.status!==R.rq.Success)return null;const l=s.data.length,c=i.status===R.rq.Success?i.data.credentialsResult.matchCount:0,d=null!=(n=r?.emails?.length)?n:0,p=o?.status===gy.gl.Activated,u={credentials:{iconName:"ItemLoginOutlined",title:a("manage_subscription_plan_loss_aversion_dialog_losslist_unlimited_creds_main"),desc:a("manage_subscription_plan_loss_aversion_dialog_losslist_unlimited_creds_desc",{count:c}),result:a("manage_subscription_plan_loss_aversion_dialog_losslist_unlimited_creds_result",{count:25}),shouldBeShown:!0},sync:{iconName:"FeatureAuthenticatorOutlined",title:a("manage_subscription_plan_loss_aversion_dialog_losslist_unlimited_sync_main"),desc:l<2?void 0:a("manage_subscription_plan_loss_aversion_dialog_losslist_unlimited_sync_desc",{count:l}),result:a("manage_subscription_plan_loss_aversion_dialog_losslist_unlimited_sync_result"),shouldBeShown:!e?.devicesLimit.enabled},dwm:{iconName:"FeatureDarkWebMonitoringOutlined",title:a("manage_subscription_plan_loss_aversion_dialog_losslist_dwm_main"),desc:a("manage_subscription_plan_loss_aversion_dialog_losslist_dwm_desc",{count:d}),result:a("manage_subscription_plan_loss_aversion_dialog_losslist_dwm_result"),shouldBeShown:!!e?.dataLeak.enabled&&d>0},vpn:{iconName:"FeatureVpnOutlined",title:a("manage_subscription_plan_loss_aversion_dialog_losslist_vpn_main"),desc:a("manage_subscription_plan_loss_aversion_dialog_losslist_vpn_desc"),result:a("manage_subscription_plan_loss_aversion_dialog_losslist_vpn_result"),shouldBeShown:!!e?.secureWiFi.enabled&&p}};return(0,F.BX)("div",{sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",borderRadius:"8px",padding:"24px",marginBottom:"24px"},children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.block.medium",sx:{marginBottom:"24px"},children:t}),(0,F.tZ)(ne.k,{flexDirection:"column",gap:"24px",children:Object.values(u).filter((e=>e.shouldBeShown)).map((t=>{const{desc:n,iconName:i,title:r,result:o}=t;return(0,F.BX)(ne.k,{alignItems:"center",children:[(0,F.tZ)(ft.s,{thumbnail:(0,F.tZ)(k.v,{name:i}),title:r,description:n,sx:{width:"268px"}}),(0,F.tZ)(st.JO,{name:"ArrowRightOutlined",size:"small",sx:{margin:"0px 12px"}}),(0,F.BX)("div",{children:[(0,F.tZ)(D.n,{color:"ds.text.danger.standard",as:"span",children:o}),"ItemLoginOutlined"===i&&e?.passwordsLimit&&c>25?(0,F.tZ)(Ku.u,{content:a("manage_subscription_plan_loss_aversion_dialog_losslist_creds_tooltip"),children:(0,F.tZ)(ca.C,{label:a("manage_subscription_plan_loss_aversion_dialog_losslist_creds_badge"),iconName:"FeedbackInfoOutlined",mood:"danger",layout:"iconLeading",sx:{marginTop:"4px"}})}):null]})]},i)}))})]})},wy=({isOpen:e,refundHandler:t,setIsOpen:n,premiumStatusData:a})=>{const{translate:i}=(0,v.Z)(),r=my(a,i),o=()=>n(!1);return(0,F.BX)(Jo.Vq,{isOpen:e,actions:{primary:{children:i("manage_subscription_plan_loss_aversion_dialog_confirm_request"),onClick:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({chosenAction:je.CallToAction.ConfirmRefundRequest,callToActionList:[je.CallToAction.ConfirmRefundRequest,je.CallToAction.AbandonRefundRequest],hasChosenNoAction:!1})),t()}},secondary:{children:i("manage_subscription_plan_loss_aversion_dialog_cancel"),onClick:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({chosenAction:je.CallToAction.AbandonRefundRequest,callToActionList:[je.CallToAction.ConfirmRefundRequest,je.CallToAction.AbandonRefundRequest],hasChosenNoAction:!1})),o()}}},closeActionLabel:i("manage_subscription_plan_loss_aversion_dialog_close_label_a11y"),onClose:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.ConfirmRefundRequest,je.CallToAction.AbandonRefundRequest],hasChosenNoAction:!0})),o()},title:i("manage_subscription_plan_loss_aversion_dialog_refund_header_title"),children:[(0,F.tZ)(D.n,{sx:{marginBottom:"24px"},children:i("manage_subscription_plan_loss_aversion_dialog_refund_header_paragraph",{planName:r})}),(0,F.tZ)(by,{title:i("manage_subscription_plan_loss_aversion_dialog_refund_losslist_title"),capabilities:a.capabilities})]})};var yy;const fy=({setCancellationStep:e,surveyAnswer:t})=>{var n;const a=(0,Es.U)(),i=(0,Ar.Y)(),{routes:r}=(0,_.Xo)(),{translate:o}=(0,v.Z)(),[s,l]=(0,C.useState)(!1),c=!!(0,ta.o)(ey.K.CANCEL_DISCOUNT_PHASE2_FF),d=(0,L.k)(Ad.c,"getRefundEligibility"),{requestRefund:p}=(0,K.u)(Ad.c);if((0,C.useEffect)((()=>{i.status===qn.rq.Success&&i.data&&((0,$e.Nc)(je.PageView.PlansManagementCancelDone),(0,ny.in)(je.CancelPlanStep.SuccessCancel,i.data,t))}),[i,t]),i.status!==qn.rq.Success||!i.data||d.status===qn.rq.Loading)return yy||(yy=(0,F.tZ)(go.Z,{}));const u=!!d.data?.isEligible,m=my(i.data,o),h=hy(null!=(n=i.data.endDate)?n:0,o.shortDate),g=((e,t,n)=>{const{autoRenewInfo:a}=e,i=(0,ty.c)(a);return(0,Is.LF)(e)?t.userGoAdvanced(n,i):(0,Is.sZ)(e)?t.userGoEssentials(n,i):(0,Is.ry)(e)?t.userGoFamily(n,i):t.userGoPremium(n,i)})(i.data,r,null!=a?a:""),b=async()=>{e(ay.r9.REFUND_PENDING);const t=await p();e((0,T.d6)(t)?ay.r9.REFUND_COMPLETE:ay.r9.REFUND_FAILURE)};return(0,F.BX)("div",{sx:{display:"flex",flexDirection:"row",gap:"16px",maxWidth:"1072px"},children:[(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px",maxWidth:"709px"},children:[(0,F.tZ)(V.k,{mood:"positive",title:o("manage_subscription_cancel_confirmation_infobox_title"),description:o("manage_subscription_cancel_confirmation_infobox_description",{planNameString:m,endDate:h})}),(0,F.BX)(yr.Z,{gap:"10px",children:[(0,F.tZ)(I.X,{textStyle:"ds.title.section.medium",as:"h1",children:o("manage_subscription_cancel_confirmation_card_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:o("manage_subscription_cancel_confirmation_card_description")}),(0,F.BX)("div",{sx:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,F.tZ)(w.z,{layout:"iconTrailing",icon:"ActionOpenExternalLinkOutlined",intensity:"supershy",onClick:()=>{(0,Oe.Yk)(r.userGoPlans,{type:"subscriptionManagement",action:"goToPlans"})},size:"small",children:o("manage_subscription_cancel_confirmation_view_plans_link")}),(0,F.tZ)(w.z,{size:"small",onClick:()=>{(0,Oe.Yk)(g,{type:"subscriptionManagement",action:"restartPlan"}),(0,ny.FI)(i.data)},children:o("manage_subscription_cancel_confirmation_restart_plan_button",{planNameString:m})})]})]})]}),u?(0,F.BX)(yr.Z,{sx:{alignSelf:"start",display:"flex",flexDirection:"column",gap:"16px",maxWidth:"347px"},children:[(0,F.tZ)(I.X,{as:"h5",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:o("manage_subscription_cancel_confirmation_refund_card_title")}),(0,F.tZ)(D.n,{children:o("manage_subscription_cancel_confirmation_refund_card_description",{planNameString:m})}),(0,F.tZ)(ge.Q,{isExternal:!0,href:Le.sz,children:o("manage_subscription_cancel_confirmation_refund_card_link")}),(0,F.tZ)(w.z,{mood:"neutral",intensity:"quiet",onClick:()=>c?l(!0):b(),children:o("manage_subscription_cancel_confirmation_refund_card_button")})]}):null,c?(0,F.tZ)(wy,{isOpen:s,setIsOpen:l,refundHandler:b,premiumStatusData:i.data}):null]})},xy="manage_subscription_refund_fail_support_button",Sy=({isRefund:e})=>{const t=(0,Ar.Y)(),{translate:n}=(0,v.Z)(),{routes:a}=(0,_.Xo)(),i=e?"manage_subscription_refund_fail_title":"manage_subscription_cancel_failure_title",r=e?"manage_subscription_refund_failure_infobox_description":"manage_subscription_cancel_failure_infobox_description";return(0,C.useEffect)((()=>{if(t.status===qn.rq.Success&&t.data){const n=e?je.PageView.PlansManagementRefundError:je.PageView.PlansManagementCancelError,a=e?je.CancelPlanStep.SuccessCancelAndErrorRefund:je.CancelPlanStep.CancelError;(0,$e.Nc)(n),(0,ny.in)(a,t.data)}}),[t]),t.status===qn.rq.Success&&t.data?(0,F.BX)("div",{sx:{display:"flex",flexDirection:"row",gap:"16px",maxWidth:"1072px"},children:[(0,F.tZ)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:(0,F.tZ)(V.k,{title:n(i),mood:"danger",icon:"FeedbackFailOutlined",description:n(r),size:"large",actions:[(0,F.tZ)(w.z,{intensity:"catchy",mood:"danger",role:"link",onClick:()=>{(0,ny.in)(je.CancelPlanStep.ContactSupport,t.data),(0,Oe.Yo)(we.lh)},children:n(xy)},n(xy))]})}),(0,F.BX)(yr.Z,{sx:{maxWidth:"347px"},children:[(0,F.tZ)(I.X,{as:"h4",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:n("manage_subscription_refund_complete_side_card_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:n("manage_subscription_refund_complete_side_card_description")}),(0,F.tZ)(ge.Q,{isExternal:!0,onClick:()=>{(0,Oe.Yk)(a.userGoPlans,{type:"subscriptionManagement",action:"goToPlans"})},children:n("manage_subscription_refund_complete_side_card_button")})]})]}):null};var vy;const Cy=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)(yr.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column",height:"420px",justifyContent:"center"},children:[vy||(vy=(0,F.tZ)(go.Z,{size:90})),(0,F.tZ)(D.n,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:e("manage_subscription_refund_progress1")}),(0,F.tZ)(D.n,{children:e("manage_subscription_refund_progress2")})]})};var Zy;const ky=()=>{const e=(0,Ar.Y)(),{routes:t}=(0,_.Xo)(),{translate:n}=(0,v.Z)();return(0,C.useEffect)((()=>{e.status===qn.rq.Success&&e.data&&((0,$e.Nc)(je.PageView.PlansManagementRefundDone),(0,ny.in)(je.CancelPlanStep.SuccessRefund,e.data))}),[e]),e.status===qn.rq.Success&&e.data?(0,F.BX)("div",{sx:{display:"flex",flexDirection:"row",gap:"16px",maxWidth:"1072px"},children:[(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,F.tZ)(V.k,{icon:"FeedbackSuccessOutlined",mood:"positive",title:n("manage_subscription_refund_complete_infobox")}),(0,F.BX)(yr.Z,{children:[(0,F.tZ)(I.X,{as:"h2",color:"ds.text.neutral.catchy",textStyle:"ds.title.section.medium",children:n("manage_subscription_refund_complete_card_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:n("manage_subscription_refund_complete_card_description")})]})]}),(0,F.BX)(yr.Z,{sx:{maxWidth:"347px"},children:[(0,F.tZ)(I.X,{as:"h4",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:n("manage_subscription_refund_complete_side_card_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:n("manage_subscription_refund_complete_side_card_description")}),(0,F.tZ)(ge.Q,{isExternal:!0,onClick:()=>{(0,Oe.Yk)(t.userGoPlans,{type:"subscriptionManagement",action:"goToPlans"})},children:n("manage_subscription_refund_complete_side_card_button")})]})]}):Zy||(Zy=(0,F.tZ)(go.Z,{}))},Iy=({setShowRefundProcessedCard:e})=>{const[t,n]=(0,C.useState)(!1),a=(0,L.k)(Ad.c,"getRefundEligibility"),{translate:i}=(0,v.Z)(),{requestRefund:r}=(0,K.u)(Ad.c),o=(0,Ar.Y)(),{showToast:s}=(0,Z.p)(),l=!!(0,ta.o)(ey.K.CANCEL_DISCOUNT_PHASE2_FF);if(a.status!==qn.rq.Success||o.status!==qn.rq.Success||!o.data)return null;if(!a.data.isEligible)return null;const c=my(o.data,i),d=async()=>{n(!1);const t=await r();s({description:i((0,T.d6)(t)?"manage_subscription_refund_complete_card_title":"manage_subscription_refund_fail_title"),mood:(0,T.d6)(t)?"brand":"danger"}),(0,T.d6)(t)&&e(!0)};return(0,F.BX)(yr.Z,{sx:{alignSelf:"start",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,F.tZ)(I.X,{as:"h5",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:i("manage_subscription_cancel_confirmation_refund_card_title")}),(0,F.tZ)(D.n,{children:i("manage_subscription_cancel_confirmation_refund_card_description",{planNameString:c})}),(0,F.tZ)(ge.Q,{isExternal:!0,href:Le.sz,children:i("manage_subscription_cancel_confirmation_refund_card_link")}),(0,F.tZ)(w.z,{mood:"neutral",intensity:"quiet",onClick:()=>l?n(!0):d(),children:i("manage_subscription_cancel_confirmation_refund_card_button")}),l&&(0,F.tZ)(wy,{isOpen:t,setIsOpen:n,refundHandler:d,premiumStatusData:o.data})]})};var Ey=n(29270),Dy=n(70836);const Ty=()=>{const{translate:e}=(0,v.Z)(),{routes:t}=(0,a.Xo)(),n=(0,ta.o)(ey.K.ACCOUNT_REFERRAL_PHASE3_FF),i=(0,Ar.Y)();if(!n||i.status!==qn.rq.Success)return null;const{isFamilyInvitee:r,isBusinessUser:o,isFreeTrialUser:s,isPremiumUser:l}=iy(i.data);return r||o||s||!l?null:(0,F.BX)(yr.Z,{gap:"16px",padding:"24px",children:[(0,F.tZ)(ca.C,{iconName:"ItemTaxNumberOutlined",label:e("manage_subscription_account_referral_badge"),mood:"brand",intensity:"quiet",layout:"iconLeading"}),(0,F.tZ)(D.n,{color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:e("manage_subscription_account_referral_title")}),(0,F.tZ)(D.n,{children:e("manage_subscription_account_referral_description")}),(0,F.tZ)(w.z,{as:Ey.rU,to:t.userSettingsTab(Dy.B.Referral),onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.ReferAFriend}))},mood:"neutral",intensity:"quiet",size:"small",children:e("manage_subscription_account_referral_button")})]})},Ay=({setCancellationStep:e})=>{var t,n;const{translate:a}=(0,v.Z)(),r=(0,Ar.Y)(),o=(0,Es.U)(),s=!!(0,ta.o)(ey.K.CANCEL_DISCOUNT_PHASE2_FF);if(r.status!==qn.rq.Success)return null;const l=(c=null!=(t=r.data.planType)?t:"",c?.includes("ios"));var c;const d=(e=>e?.includes("playstore"))(null!=(n=r.data.planType)?n:""),{isBusinessUser:p,isFamilyInvitee:u,isFreeTrialUser:_,isPaidAccountUser:m,isPremiumPlusUser:h,isFamilyUser:g,isPremiumUser:b}=iy(r.data),y=r.data.autoRenewal;if(p||u||_||l||d||!m)return null;const f=m&&!y,x=!b&&!g;return(0,F.tZ)(yr.Z,{sx:{padding:"32px",maxWidth:"20vw",height:"fit-content"},children:f?(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,F.tZ)(D.n,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:a("manage_subscription_plan_changed_your_mind")}),(0,F.tZ)(D.n,{children:x?a("manage_subscription_plan_changed_your_mind_description_legacy"):a("manage_subscription_plan_changed_your_mind_description",{planName:g?"Family":"Premium"})}),(0,F.tZ)(ge.Q,{onClick:()=>{(0,ny.xl)(je.CallToAction.AllOffers),(0,Oe.Yo)(i.ZL)},isExternal:!0,children:a("manage_subscription_plan_change_viw_all_plans")}),(0,F.tZ)(w.z,{onClick:()=>{h||g?(0,Oe.Yo)(`${i.GG}?subCode=${null!=o?o:""}`):(0,Oe.Yo)(`${i.G9}?subCode=${null!=o?o:""}`),(0,ny.FI)(r.data)},children:x?a("manage_subscription_plan_change_viw_restart_button_legacy"):a("manage_subscription_plan_change_viw_restart_button",{planName:g?"Family":"Premium"})})]}):(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,F.tZ)(D.n,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:a("manage_subscription_plan_section_cancel_change")}),(0,F.tZ)(ge.Q,{onClick:()=>{e(s?ay.r9.LOSS_AVERSION:ay.r9.CANCEL_CONFIRM),(0,ny.in)(je.CancelPlanStep.Start,r.data)},"data-testid":"buttonCancelSubscriptionConfirmation",children:a("manage_subscription_plan_section_cancel")})]})})},Ny=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)(yr.Z,{sx:{alignSelf:"start",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,F.tZ)(I.X,{as:"h5",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:e("manage_subscription_refund_success_title")}),(0,F.tZ)(D.n,{children:e("manage_subscription_refund_success_desc")}),(0,F.tZ)(ge.Q,{isExternal:!0,href:Le.sz,children:e("manage_subscription_cancel_confirmation_refund_card_link")})]})};var Oy,Py;const Ly=({setStep:e})=>{const[t,n]=(0,C.useState)(!1);return(0,F.BX)("div",{sx:{maxWidth:"20vw",gap:"16px",display:"flex",flexDirection:"column"},children:[Oy||(Oy=(0,F.tZ)(Ty,{})),(0,F.tZ)(Ay,{setCancellationStep:e}),t?Py||(Py=(0,F.tZ)(Ny,{})):(0,F.tZ)(Iy,{setShowRefundProcessedCard:n})]})};var Ry;const My=({cancellationStep:e,setCancellationStep:t})=>{const n=(0,Ar.Y)(),{translate:a}=(0,v.Z)();return n.status===qn.rq.Success&&n.data?e===ay.r9.SUBSCRIPTION||e===ay.r9.LOSS_AVERSION?(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",children:a("manage_subscription_page_title")}):(0,F.tZ)(w.z,{intensity:"supershy",onClick:()=>{e===ay.r9.CANCEL_CONFIRM&&(0,ny.in)(je.CancelPlanStep.Abandon,n.data),t(ay.r9.SUBSCRIPTION)},icon:"ArrowLeftOutlined",layout:"iconLeading",size:"large",children:a("manage_subscription_cancel_section_back")}):null},By=({cancellationStep:e,setCancellationStep:t})=>(0,F.tZ)(_o.h,{sx:{padding:"32px"},startWidgets:(0,F.tZ)(My,{cancellationStep:e,setCancellationStep:t}),endWidget:Ry||(Ry=(0,F.tZ)(mo.D,{}))});var zy;const Uy=({setCancellationStep:e})=>{var t,n;const a=(0,Ar.Y)(),{translate:i}=(0,v.Z)(),[r,o]=(0,C.useState)(!1),s=(0,zw.rU)(r);if((0,C.useEffect)((()=>{et.C.fetchInvoiceList().then((()=>o(!0)))}),[]),a.status!==qn.rq.Success||!a.data)return zy||(zy=(0,F.tZ)(go.Z,{}));const{planType:l}=a.data,c=(0,Is.yf)(a.data),d=null!=(t=l?.includes("ios"))&&t,p=null!=(n=l?.includes("playstore"))&&n,u=s>0,_=((e,t,n)=>e?n?"manage_subscription_billing_section_desc_past_bills_apple":"manage_subscription_billing_section_desc_no_bills_apple":t?n?"manage_subscription_billing_section_desc_past_bills_google":"manage_subscription_billing_section_desc_no_bills_google":n?"manage_subscription_billing_section_desc_with_bills":"manage_subscription_billing_section_desc_no_bills")(d,p,u);return(0,F.BX)(yr.Z,{gap:"8px",padding:"32px",sx:{maxWidth:"70vw"},children:[(0,F.BX)("div",{sx:{display:"flex",justifyContent:"space-between"},children:[(0,F.tZ)(I.X,{as:"h2",children:i("manage_subscription_billing_section_title")}),u?(0,F.tZ)(w.z,{onClick:()=>{e(ay.r9.INVOICE_LIST)},intensity:"supershy",children:i("manage_subscription_billing_section_view_receipts_button")}):null]}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:i(_)}),c&&(d||p)?(0,F.tZ)(ge.Q,{onClick:()=>{(0,Oe.Yk)(d?Le.XP:Le.zF,{type:"billingSupport",action:"goToExternalSupport"})},isExternal:!0,children:i("manage_subscription_learn_more_button")}):null]})};var Fy,Xy,qy=n(67668);const Hy="manage_subscription_plan_section_compare_link",Vy=()=>(0,F.tZ)(yr.Z,{sx:{marginBottom:"16px",padding:"32px",display:"flex",justifyContent:"center"},children:Fy||(Fy=(0,F.tZ)(go.Z,{}))}),Wy=()=>{const e=(0,Es.U)(),t=(0,Ar.Y)(),{routes:n}=(0,_.Xo)(),{translate:a}=(0,v.Z)();if(t.status!==qn.rq.Success||!t.data)return Xy||(Xy=(0,F.tZ)(Vy,{}));const{autoRenewInfo:i,autoRenewal:r,endDate:o=0,planType:s}=t.data,{isPaidAccountUser:l,isBusinessUser:c,isEssentialUser:d,isFamilyUser:p,isFamilyInvitee:u,isPremiumUser:m,isPremiumPlusUser:h,isFreeTrialUser:g,isAdvancedUser:b}=iy(t.data),y=s?.includes("ios"),f=s?.includes("playstore");let x,S="",C="";const Z=hy(o,a.shortDate);if(u)x=a("manage_subscription_plan_section_desc_family_invitee");else{const e=r?"manage_subscription_plan_section_desc_b2c_plans_markup":"manage_subscription_plan_section_desc_cancelled_markup";x=o?a.markup(e,{date:Z,days:"30"}):""}if(c){const e=(0,Is.Fz)(t.data);e&&(0,Is.t0)(e.tier)===Fn.rR.Team?(S=a(_y),x=a("manage_subscription_plan_section_desc_team")):e&&(0,Is.t0)(e.tier)===Fn.rR.Standard?(S=a("manage_subscription_plan_name_dashlane_standard"),x=a("manage_subscription_plan_section_desc_standard")):e&&(0,Is.t0)(e.tier)===Fn.rR.BusinessPlus?(S=a("manage_subscription_plan_name_dashlane_omnix"),x=a("manage_subscription_plan_section_desc_omnix")):(S=a(oy),x=a("manage_subscription_plan_section_desc_business"))}else if(p)S=a(ly),C=a("manage_subscription_plan_section_features_link_family");else if(b)S=a(ry),C=a("manage_subscription_plan_section_features_link_advanced");else if(d)S=a(sy),C=a("manage_subscription_plan_section_features_link_essentials");else if(g){const e=(0,Lm.Z)(new Date(1e3*o),(new Date).getTime());S=a(uy),x=a.markup("manage_subscription_plan_section_trial_desc_markup",{days:e,date:Z}),C=a(Hy)}else h?S=a(py):m?(S=a(dy),C=a("manage_subscription_plan_section_features_link_premium")):(S=a(cy),x=a("manage_subscription_plan_section_desc_free"),C=a(Hy));const k=!l||g||!r,E=a.markup("manage_subscription_plan_section_apple_cancel_text_markup",{link:Le.o2}),T=a.markup("manage_subscription_plan_section_google_cancel_text_markup",{link:Le.M}),A=()=>{const a=((e,t,n,a,i,r)=>e?a.userGoAdvanced(r,(0,ty.c)(i)):t?a.userGoEssentials(r,(0,ty.c)(i)):n?a.userGoFamily(r,(0,ty.c)(i)):a.userGoPremium(r,(0,ty.c)(i)))(b,d,p,n,i,null!=e?e:"");(0,Oe.Yk)(a,{type:"subscriptionManagement",action:"goToCheckout"}),(0,ny.FI)(t.data)};return(0,F.BX)(yr.Z,{gap:"8px",sx:{marginBottom:"16px",padding:"32px",maxWidth:"70vw"},children:[(0,F.BX)(ne.k,{alignItems:"center",justifyContent:"space-between",children:[(0,F.BX)("div",{children:[(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small",sx:{marginBottom:"10px"},children:a("manage_subscription_plan_section_title")}),(0,F.tZ)(I.X,{as:"h2",sx:{marginBottom:"10px"},children:S})]}),(0,F.BX)("div",{children:[l||g?null:(0,F.tZ)(w.z,{mood:k?"brand":"neutral",onClick:A,type:"button",role:"link",children:a("manage_subscription_plan_section_upgrade_button")}),g?(0,F.tZ)(w.z,{onClick:A,mood:"brand",sx:{marginLeft:"8px"},type:"button",role:"link",children:a("manage_subscription_plan_section_buy_as_trial_button")}):null]})]}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:x}),C?(0,F.tZ)(ge.Q,{href:n.userGoPlans,isExternal:!0,onClick:()=>{(0,ny.xl)(je.CallToAction.PlanDetails)},target:"_blank",rel:"noopener noreferrer",children:C}):null,y||f?(0,F.tZ)("div",{sx:{marginTop:"32px"},children:(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",sx:{borderTop:"1px solid ds.border.neutral.standard",marginTop:"32px",paddingTop:"32px"},children:y?E:T})}):null]})},jy=({isOpen:e,setStep:t})=>{const{translate:n}=(0,v.Z)(),a=(0,Ar.Y)();if(a?.status!==qn.rq.Success||!a.data)return null;const i=my(a.data,n),{endDate:r=0}=a.data,o=hy(r,n.shortDate),s=()=>t(ay.r9.SUBSCRIPTION);return(0,F.BX)(Jo.Vq,{isOpen:e,actions:{primary:{children:n("manage_subscription_plan_loss_aversion_dialog_continue_to_cancel_page_cta"),onClick:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({chosenAction:je.CallToAction.ContinueCancellation,callToActionList:[je.CallToAction.ContinueCancellation,je.CallToAction.KeepPremium],hasChosenNoAction:!1})),t(ay.r9.CANCEL_CONFIRM)}},secondary:{children:n("manage_subscription_plan_loss_aversion_dialog_keep_plan_cta",{planName:i}),onClick:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({chosenAction:je.CallToAction.KeepPremium,callToActionList:[je.CallToAction.ContinueCancellation,je.CallToAction.KeepPremium],hasChosenNoAction:!1})),s()}}},closeActionLabel:n("manage_subscription_plan_loss_aversion_dialog_close_label_a11y"),onClose:()=>{(0,$e.Kz)(new je.UserCallToActionEvent({callToActionList:[je.CallToAction.ContinueCancellation,je.CallToAction.KeepPremium],hasChosenNoAction:!0})),s()},title:n("manage_subscription_plan_loss_aversion_dialog_cancel_header_title"),children:[(0,F.tZ)(D.n,{sx:{marginBottom:"24px"},children:n.markup("manage_subscription_plan_loss_aversion_dialog_cancel_header_paragraph_markup",{planEndDate:o})}),(0,F.tZ)(by,{title:n("manage_subscription_plan_loss_aversion_dialog_cancel_losslist_title",{planName:i}),capabilities:a.data.capabilities}),(0,F.tZ)(D.n,{as:"span",children:n("manage_subscription_plan_loss_aversion_dialog_alternative")}),(0,F.tZ)(ge.Q,{href:we.LN,size:"small",isExternal:!0,onClick:()=>(0,$e.Kz)(new je.UserClickEvent({button:je.Button.ViewAllPlans,clickOrigin:je.ClickOrigin.CancellationLossAversionModal})),children:n("manage_subscription_plan_loss_aversion_dialog_compare_plans_link")}),(0,F.tZ)(ge.Q,{href:we.Vr,size:"small",isExternal:!0,onClick:()=>(0,$e.Kz)(new je.UserClickEvent({button:je.Button.CheckHelpCenterForExtraGuidance,clickOrigin:je.ClickOrigin.CancellationLossAversionModal})),children:n("manage_subscription_plan_loss_aversion_dialog_help_center_link")})]})};var Gy;const Ky=({setStep:e,step:t})=>{const n=!!(0,ta.o)(ey.K.CANCEL_DISCOUNT_PHASE2_FF),a=(0,tl.Q)(),i=(0,Jg.JS)();if(i.status!==qn.rq.Success||a.status!==qn.rq.Success)return null;const r=a.isB2B&&!a.b2bRoles.isAdmin||i.data.familyStatus&&!i.data.familyStatus.isAdmin;return(0,F.BX)("div",{sx:{maxWidth:"70vw"},children:[Gy||(Gy=(0,F.tZ)(Wy,{})),r?null:(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(qy.I,{styles:{marginBottom:"16px",padding:"32px",maxWidth:"70vw",gap:"8px"}}),(0,F.tZ)(Uy,{setCancellationStep:e})]}),n?(0,F.tZ)(jy,{isOpen:t===ay.r9.LOSS_AVERSION,setStep:e}):null]})},Yy=({onClose:e,onConfirmCancelation:t,onUseDiscount:n})=>{const{translate:a}=(0,v.Z)();return(0,F.tZ)(Jo.Vq,{isOpen:!0,onClose:e,closeActionLabel:a("_common_dialog_dismiss_button"),decorationSlot:th,title:a("cancel_flow_discount_dialog_title"),isDestructive:!0,isMandatory:!0,actions:{primary:{children:a("cancel_flow_discount_dialog_confirm_cancelation_button"),onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.ConfirmCancellation,clickOrigin:je.ClickOrigin.DashlaneTooExpensiveModal})),t()}},secondary:{children:a("cancel_flow_discount_dialog_keep_premium_button"),onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.RedeemOffer,clickOrigin:je.ClickOrigin.DashlaneTooExpensiveModal})),n()}}},children:(0,F.tZ)(D.n,{children:a("cancel_flow_discount_dialog_description")})})};var $y;const Qy=({setCancellationStep:e,setSurveyAnswer:t,surveyAnswer:n})=>{var a;const{translate:r}=(0,v.Z)(),o=(0,Ar.Y)(),s=(0,Es.U)(),l=(0,ta.o)(ey.K.CANCEL_DISCOUNT_FF),c=(0,L.k)(Ad.c,"getCancelationCouponDiscount"),[d,p]=(0,C.useState)(!1);if((0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.PlansManagementAskCancel)}),[]),o.status!==qn.rq.Success||!o.data||c.status!==qn.rq.Success)return $y||($y=(0,F.tZ)(go.Z,{}));const u=my(o.data,r),_=hy(null!=(a=o.data.endDate)?a:0,r.shortDate),m=async()=>{e(ay.r9.CANCEL_PENDING);const t=await et.C.cancelAutoRenew();e(t.success?ay.r9.CANCEL_COMPLETE:ay.r9.CANCEL_FAILURE)};return(0,F.BX)(yr.Z,{sx:{maxWidth:"55vw"},children:[(0,F.tZ)(I.X,{as:"h1",color:"ds.text.neutral.catchy",textStyle:"ds.title.section.medium",children:r("manage_subscription_cancel_section_with_survey_card_title")}),(0,F.tZ)(D.n,{children:r("manage_subscription_cancel_section_infobox_description",{planName:u,endDate:_})}),(0,F.BX)(yr.Z,{sx:{backgroundColor:"ds.container.agnostic.neutral.quiet"},children:[(0,F.tZ)(I.X,{as:"h2",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:r("manage_subscription_cancel_section_survey_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.reduced.regular",children:r("manage_subscription_cancel_section_survey_description")}),(0,F.BX)(_w.E,{value:n,onChange:e=>{const n=e.currentTarget.value;(0,ay.Dx)(n)&&((0,ny.in)(je.CancelPlanStep.SelectedCancellationReason,o.data,n),t(n))},children:[(0,F.tZ)(mw.Y,{label:r("manage_subscription_cancel_section_with_survey_radio_label_didnt_work"),value:ay.qw.AUTOFILL_DOESNT_WORK}),(0,F.tZ)(mw.Y,{label:r("manage_subscription_cancel_section_with_survey_radio_label_tech_issues"),value:ay.qw.TECHNICAL_ISSUES}),(0,F.tZ)(mw.Y,{label:r("manage_subscription_cancel_section_with_survey_radio_label_too_expensive"),value:ay.qw.TOO_EXPENSIVE}),(0,F.tZ)(mw.Y,{label:r("manage_subscription_cancel_section_with_survey_radio_label_doesnt_have_features_needed"),value:ay.qw.MISSING_FEATURES}),(0,F.tZ)(mw.Y,{label:r("manage_subscription_cancel_section_survey_other_reason"),value:ay.qw.OTHER})]}),(0,F.tZ)((({answer:e})=>{if(!e||e===ay.qw.OTHER)return null;const{title:t,description:n}=(e=>{switch(e){case ay.qw.AUTOFILL_DOESNT_WORK:return{title:r("manage_subscription_cancel_section_survey_infobox_autofill_title"),description:r.markup("manage_subscription_cancel_section_survey_infobox_autofill_description_markup",{link:we.Vr},{linkTarget:"_blank"})};case ay.qw.TECHNICAL_ISSUES:return{title:r("manage_subscription_cancel_section_survey_infobox_issues_title"),description:r.markup("manage_subscription_cancel_section_survey_infobox_issues_description_markup",{link:we.Vr},{linkTarget:"_blank"})};case ay.qw.TOO_EXPENSIVE:return{title:r("manage_subscription_cancel_section_survey_infobox_expensive_title"),description:r.markup("manage_subscription_cancel_section_survey_infobox_expensive_description_markup",{link:we.LN},{linkTarget:"_blank"})};case ay.qw.MISSING_FEATURES:return{title:r("manage_subscription_cancel_section_survey_infobox_features_title"),description:r.markup("manage_subscription_cancel_section_survey_infobox_features_description_markup",{link:we.Yv},{linkTarget:"_blank"})};default:return{title:"",description:""}}})(e);return(0,F.tZ)(V.k,{title:t,description:n,mood:"brand"})}),{answer:n})]}),(0,F.BX)("div",{sx:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,F.tZ)(w.z,{mood:"neutral",intensity:"quiet",onClick:()=>{(0,ny.in)(je.CancelPlanStep.Abandon,o.data,n),e(ay.r9.SUBSCRIPTION)},children:r("manage_subscription_cancel_section_button_keep_premium")}),(0,F.tZ)(w.z,{mood:"danger",intensity:"catchy",disabled:!n,onClick:async()=>{l&&c.data.couponCode&&n===ay.qw.TOO_EXPENSIVE?p(!0):await m()},children:r("manage_subscription_cancel_section_button_cancel")})]}),d?(0,F.tZ)(Yy,{onClose:()=>p(!1),onConfirmCancelation:m,onUseDiscount:()=>{(0,Is.Tg)(o.data)||(0,Is.ry)(o.data)?(e(ay.r9.SUBSCRIPTION),(0,Oe.Yo)(`${i.GG}?subCode=${null!=s?s:""}&coupon=${c.data.couponCode}`)):(e(ay.r9.SUBSCRIPTION),(0,Oe.Yo)(`${i.G9}?subCode=${null!=s?s:""}&coupon=${c.data.couponCode}`))}}):null]})};var Jy,ef,tf,nf,af;const rf=()=>{const[e,t]=(0,C.useState)(ay.r9.SUBSCRIPTION),[n,a]=(0,C.useState)(void 0);return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.PlansManagement)}),[]),(0,F.BX)("div",{sx:{background:"ds.background.alternate",width:"100%",height:"100%",overflowX:"scroll"},children:[(0,F.tZ)(By,{cancellationStep:e,setCancellationStep:t}),e===ay.r9.SUBSCRIPTION||e===ay.r9.LOSS_AVERSION?(0,F.BX)("div",{sx:{display:"flex",padding:"32px",gap:"16px"},children:[(0,F.tZ)(Ky,{setStep:t,step:e}),(0,F.tZ)(Ly,{setStep:t})]}):null,(0,F.BX)("div",{sx:{padding:"32px"},children:[e===ay.r9.CANCEL_CONFIRM?(0,F.tZ)(Qy,{setCancellationStep:t,setSurveyAnswer:a,surveyAnswer:n}):null,[ay.r9.CANCEL_PENDING,ay.r9.REFUND_PENDING].includes(e)?Jy||(Jy=(0,F.tZ)(Cy,{})):null,e===ay.r9.CANCEL_FAILURE?ef||(ef=(0,F.tZ)(Sy,{isRefund:!1})):null,e===ay.r9.REFUND_FAILURE?tf||(tf=(0,F.tZ)(Sy,{isRefund:!0})):null,e===ay.r9.CANCEL_COMPLETE?(0,F.tZ)(fy,{surveyAnswer:n,setCancellationStep:t}):null,e===ay.r9.REFUND_COMPLETE?nf||(nf=(0,F.tZ)(ky,{})):null,e===ay.r9.INVOICE_LIST?af||(af=(0,F.tZ)(Jw,{})):null]})]})},of=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:rf});var sf,lf,cf=n(1146),df=n(10592),pf=n(11777),uf=n(65325),_f=n(70919),mf=n(8365);const hf="webapp_vpn_page_access_hotspotshield_heading",gf="webapp_vpn_page_access_hotspotshield_text_markup",bf="webapp_vpn_page_install_hotspotshield_button",wf="webapp_vpn_page_install_hotspotshield_button_infobox_message",yf="webapp_vpn_page_install_hotspotshield_heading",ff="webapp_vpn_page_install_hotspotshield_text",xf=null!=(sf=uf.i9[null!=(lf=df.Pd())?lf:""])?sf:uf.gF,Sf=({vpnCredential:e})=>{const{translate:t}=(0,v.Z)(),n=(0,L.k)(pf.z,"hasSeenInstallVpn"),{markInstallVpnSeen:a}=(0,K.u)(pf.z),i=n.status===R.rq.Success&&n.data;if(n.status===R.rq.Loading||n.status===R.rq.Error)return null;const r=t(i?hf:yf),o=e&&(e.status===gy.gl.Ready||e.status===gy.gl.Activated);return(0,F.BX)(ne.k,{alignItems:"center",justifyContent:"space-between",children:[(0,F.BX)(ne.k,{flexDirection:"column",gap:"8px",children:[(0,F.tZ)(I.X,{textStyle:"ds.title.section.medium",as:"h2",children:r}),i?(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",children:t.markup(gf,{hotspotShield:xf},{linkTarget:_f.MF,onLinkClicked:mf.gq})}):(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",children:t(ff)})]}),i?null:(0,F.tZ)(w.z,{role:"link",tooltip:t(wf),type:"button",disabled:!o,onClick:o?()=>{a(),(0,mf.gq)(),(0,Oe.Yo)(xf)}:void 0,icon:"ActionOpenExternalLinkOutlined",layout:"iconTrailing",children:t(bf)})]})};n.p,uh()["--z-index-webapp-feature-onboarding-overlay"];var vf=n(13368),Cf=n(75735),Zf=n(14191);const kf=n.p+"3cce1b9c5b701fc4eaf1.png",If=n.p+"70c4c5c3ad4630872117.png",Ef={backgroundColor:"ds.container.agnostic.neutral.quiet",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",borderRadius:"8px",minHeight:"164px",width:"100%"},Df=()=>{const{translate:e}=(0,v.Z)(),{translateWithMarkup:t}=(0,pa.Y)(),[n]=(0,Zf.If)();return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(ca.C,{label:e("webapp_vpn_page_tips_title"),iconName:"TipOutlined",mood:"neutral"}),(0,F.tZ)("div",{"aria-hidden":!0,sx:(0,rt.jM)([Ef,{backgroundImage:`url(${"dark"===n?If:kf})`}])}),(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.block.medium",children:e("webapp_vpn_page_tips_subtitle")}),(0,F.BX)(ne.k,{flexDirection:"column",gap:"8px",children:[(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",children:e("webapp_vpn_page_tips_definition")}),(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",children:t({key:"webapp_vpn_page_tips_hotspot_partnership_markup",params:{hotspotSupport:uf.En}})}),(0,F.tZ)(ge.Q,{isExternal:!0,href:uf.O7,children:e("webapp_vpn_page_tips_learn_more")})]})]})};var Tf,Af;const Nf=()=>{const{translate:e}=(0,v.Z)(),t=(0,Ar.Y)(),n=(0,mr.Qy)(),i=(0,Cf.q4)(),{routes:r}=(0,_.Xo)();return(0,C.useEffect)((()=>{i?.showVpnPage&&(0,$e.Nc)(je.PageView.ToolsVpn)}),[i?.showVpnPage]),t.status!==qn.rq.Success||void 0===i?.showVpnPage||i?.vpnPageAccessLoading?null:i.showVpnPage?(0,F.tZ)(Os,{children:(0,F.tZ)(vf.QR,{mode:"fullscreen",paywall:vf.qd.Vpn,children:(0,F.BX)(ne.k,{flexDirection:"column",flexWrap:"nowrap",sx:{backgroundColor:"ds.background.alternate",paddingTop:"16px",height:"100%",overflowY:"scroll"},children:[(0,F.tZ)(_o.h,{sx:{paddingLeft:"32px",paddingRight:"32px"},startWidgets:(0,F.tZ)(ne.k,{flexDirection:"column",children:(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:e("webapp_vpn_page_title")})}),endWidget:Tf||(Tf=(0,F.tZ)(mo.D,{}))}),(0,F.BX)(ne.k,{alignContent:"stretch",gap:"16px",sx:{padding:"0px 32px"},children:[(0,F.BX)(ne.k,{flexDirection:"column",gap:"8px",sx:{flex:1,minWidth:"700px"},children:[(0,F.tZ)(yr.Z,{children:(0,F.tZ)(cf.L,{vpnCredential:n})}),(0,F.tZ)(yr.Z,{children:(0,F.tZ)(Sf,{vpnCredential:n})})]}),(0,F.tZ)(yr.Z,{sx:{height:"fit-content",maxWidth:"346px"},children:Af||(Af=(0,F.tZ)(Df,{}))})]})]})})}):((0,a.uX)(r.userCredentials),null)},Of=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:Nf});var Pf;const Lf=()=>Pf||(Pf=(0,F.BX)("svg",{width:"320",height:"900",viewBox:"0 0 320 900",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,F.tZ)("rect",{width:"320",height:"900",fill:"#D9E6E9"}),(0,F.tZ)("rect",{x:"46",y:"24",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),(0,F.tZ)("rect",{x:"46",y:"194",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),(0,F.tZ)("rect",{x:"46",y:"344",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),(0,F.tZ)("rect",{x:"46",y:"498",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),(0,F.tZ)("rect",{x:"46",y:"144",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),(0,F.tZ)("rect",{x:"46",y:"294",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),(0,F.tZ)("rect",{x:"46",y:"448",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),(0,F.tZ)("rect",{x:"46",y:"244",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),(0,F.tZ)("rect",{x:"46",y:"394",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),(0,F.tZ)("rect",{x:"46",y:"548",width:"191",height:"24",rx:"8",fill:"#CFE0E4"})]}));var Rf;const Mf=()=>Rf||(Rf=(0,F.BX)("svg",{width:"1120",height:"900",viewBox:"0 0 1120 900",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,F.tZ)("rect",{width:"1120",height:"900",fill:"white"}),(0,F.tZ)("rect",{x:"32",y:"145",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"145",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"397",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"397",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"649",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"649",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"271",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"271",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"523",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"523",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"775",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"775",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"208",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"208",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"460",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"460",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"712",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"712",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"334",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"334",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"586",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"586",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"838",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"104",y:"838",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"32",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"169",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"306",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"443",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),(0,F.tZ)("rect",{x:"995",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"})]}));var Bf,zf;const Uf=()=>(0,F.BX)("div",{style:{height:"100vh",whiteSpace:"nowrap"},children:[Bf||(Bf=(0,F.tZ)(Lf,{})),zf||(zf=(0,F.tZ)(Mf,{}))]});var Ff,Xf=n(82926),qf=n(78611);const Hf=({onPrimaryButtonAction:e,onSecondaryButtonAction:t})=>{const{translate:n}=(0,v.Z)();return(0,F.BX)(C.Fragment,{children:[Ff||(Ff=(0,F.tZ)(N.Std,{size:96})),(0,F.tZ)(N.$N8,{id:"dialogTitle",title:n("webapp_two_factor_authentication_enforcement_dialog_title")}),(0,F.BX)(N.a7O,{children:[(0,F.tZ)(N.nvN,{color:N.colors.grey00,children:n("webapp_two_factor_authentication_enforcement_dialog_description_1")}),(0,F.tZ)(N.nvN,{color:N.colors.grey00,sx:{marginTop:"20px"},children:n("webapp_two_factor_authentication_enforcement_dialog_description_2")})]}),(0,F.tZ)(N.cNS,{primaryButtonTitle:n("webapp_two_factor_authentication_enforcement_dialog_action"),primaryButtonOnClick:e,secondaryButtonTitle:n("webapp_logout_dialog_confirm"),secondaryButtonOnClick:t})]})};var Vf,Wf=n(59346);const jf=()=>{const[e,t]=(0,C.useState)(!0),n=wr(),i=(0,a.k6)(),{routes:r}=(0,_.Xo)(),{logout:o}=(0,K.u)(Xf.V);(0,C.useEffect)((()=>{n.status===R.rq.Success&&n.data&&e&&(0,$e.Nc)(je.PageView.LoginEnforce2faBusiness)}),[n.status,e]);const{openTwoFactorAuthenticationEnablerDialog:s}=(0,qf.Cw)({onDialogStateChanged:e=>{e||t(!0)},onSuccess:()=>{i.push(r.userCredentials)}});return(0,F.BX)(C.Fragment,{children:[Vf||(Vf=(0,F.tZ)("div",{id:"dashlane-dialog"})),(0,F.tZ)(N.VqE,{isOpen:e,onClose:()=>{t(!0)},ariaLabelledby:"dialogTitle",ariaDescribedby:"dialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0,children:(0,F.tZ)("div",{sx:{maxWidth:"640px"},children:(0,F.tZ)(Hf,{onPrimaryButtonAction:()=>{(0,Wf.wP)(),s(),t(!1)},onSecondaryButtonAction:()=>{o()}})})})]})};var Gf;const Kf=()=>{const e=(0,a.k6)(),{routes:t}=(0,_.Xo)(),n=wr();return(0,C.useEffect)((()=>{n.status!==R.rq.Success||n.data||e.push(t.userCredentials)}),[n.status]),Gf||(Gf=(0,F.BX)(Dt.D,{children:[(0,F.tZ)(Uf,{}),(0,F.tZ)(We.r,{children:(0,F.tZ)(jf,{})})]}))},Yf=({path:e})=>(0,F.tZ)(a.Vy,{path:`${e}/enforce`,component:Kf}),$f=()=>{const{translate:e}=(0,v.Z)(),t=(0,Es.U)(),n=(0,Zt.l)(),{isLoading:a,isFreeB2C:i}=(0,Jg.eW)();return a||!i||null===n||n?null:(0,F.BX)(N.Zbd,{sx:{display:"flex",flexDirection:"column",padding:"32px 24px",background:"ds.container.agnostic.neutral.supershy",borderRadius:"8px",gap:"8px",border:"1px solid ds.border.neutral.quiet.idle",maxWidth:"720px",height:"250px"},children:[(0,F.tZ)(ca.C,{mood:"brand",intensity:"quiet",label:e("webapp_import_upgrade_badge"),iconName:"PremiumOutlined",layout:"iconLeading"}),(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.block.medium",color:"ds.text.neutral.standard",children:e("webapp_import_upgrade_title")}),(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard",children:e("webapp_import_upgrade_description")}),(0,F.tZ)(w.z,{sx:{marginTop:"22px",alignSelf:"flex-end"},mood:"brand",intensity:"quiet",icon:"PremiumOutlined",layout:"iconLeading",onClick:()=>{const e=`https://www.dashlane.com/getpremium?subCode=${null!=t?t:""}`;(0,$e.Kz)(new je.UserClickEvent({clickOrigin:je.ClickOrigin.ImportDataPasswordLimitReached,button:je.Button.BuyDashlane})),(0,Oe.Yo)(e)},children:e("webapp_import_upgrade_button")})]})};var Qf=n(31664);let Jf=function(e){return e.DASH="DASH",e.CSV="CSV",e.DIRECT="DIRECT",e}({});const ex={"1password":je.TransferDataSource.Source1password,bitwarden:je.TransferDataSource.SourceBitwarden,chrome:je.TransferDataSource.SourceChrome,dash:je.TransferDataSource.SourceDash,edge:je.TransferDataSource.SourceEdge,firefox:je.TransferDataSource.SourceFirefox,keepass:je.TransferDataSource.SourceKeepass,keeper:je.TransferDataSource.SourceKeeper,lastpass:je.TransferDataSource.SourceLastpass,other:je.TransferDataSource.SourceOther,safari:je.TransferDataSource.SourceSafari};let tx=function(e){return e.DIRECT="direct",e.FILE="file",e}({});Qf.G8.Csv,je.BackupFileType.Csv,Qf.G8.Dash,je.BackupFileType.SecureVault;const nx=(e,t,n,a)=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:e,importDataStatus:je.TransferDataStatus.FailureDuringImport,importSource:ex[t],importDataStep:je.TransferDataStep.PreviewItemsToImport,itemsToImportCount:n,isDirectImport:a}))},ax=e=>{(0,$e.Kz)(new je.UserOpenHelpCenterEvent({helpCenterArticleCta:e}))},ix=(e,t,n,a)=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:e,importSource:ex[t],importDataStep:n,importDataStatus:a,isDirectImport:!0}))},rx=(e,t,n,a)=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:e,importSource:ex[t],importDataStep:n,importDataStatus:je.TransferDataStatus.Start,isDirectImport:a}))},ox=()=>{const[e,t]=(0,C.useState)(null),[n,a]=(0,C.useState)(""),[i,r]=(0,C.useState)(null),[o,s]=(0,C.useState)(!1),[l,c]=(0,C.useState)(0);return{previewFile:async(t,a)=>{const r=await(async(t,a)=>{if(!i||!e||!n)throw new Error("Need to process file first");const r=await(e=>new Promise(((t,n)=>{const a=new FileReader;a.readAsText(e,"UTF-8"),a.onload=function(e){e.target&&"string"==typeof e.target.result&&t(e.target.result)},a.onerror=n})))(e);switch(i){case Qf.G8.Csv:return{content:{importSource:t,data:r},format:i,name:n};case Qf.G8.Dash:if(!a)throw new Error("Password required for DASH file");return{content:{importSource:t,data:r},format:i,name:n,password:a};default:(0,E_.U)(i)}})(t,a),o=await et.C.previewPersonalData(r);return o.success||i===Qf.G8.Dash&&o.error===Qf.rp.BadPassword&&(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:je.BackupFileType.SecureVault,importDataStatus:je.TransferDataStatus.WrongFilePassword,importSource:ex[Qf.Q8.Dash],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),o},processFile:e=>{const n=(e=>{const t=e.name.toUpperCase();if(t.endsWith(".DASH"))return Qf.G8.Dash;if(t.endsWith(".CSV"))return Qf.G8.Csv;throw new Error("Unsupported")})(e);t(e),r(n),a(e.name),n===Qf.G8.Dash&&s(!0)},resetState:()=>{t(null),a(""),r(null),s(!1),c(0)},setAttemptedCount:c,state:{format:i,fileName:n,file:e,requiresPassword:o,attemptedItemCount:l}}};let sx=function(e){return e.IDLE="idle",e.PROCESSING="processing",e.ERROR_GENERIC="error",e.SUCCESS="success",e}({});const lx=()=>{throw new Error("method called before initialization")},cx=C.createContext({preview:{previewFile:lx,processFile:lx,resetState:lx,setAttemptedCount:lx,state:{format:null,fileName:"",file:null,requiresPassword:!1,attemptedItemCount:0}},import:{startImport:lx,dismiss:lx,state:{status:sx.IDLE}},importSource:Qf.Q8.Other,setImportSource:lx,previewDataItems:{},setPreviewDataItems:lx,previewDataHeaders:[],setPreviewDataHeaders:lx,resetContext:lx,defaultSpace:null,setDefaultSpace:lx,importMethod:tx.FILE,setImportMethod:lx}),dx=({children:e})=>{const t=ox(),n=(()=>{const[e,t]=(0,C.useState)({status:sx.IDLE}),n=(()=>{const e=(0,qn.qr)({queryConfig:{queryParam:void 0,query:et.C.getImportPersonalDataStatus},liveConfig:{live:et.C.liveImportPersonalDataStatus}},[]);return e.status===qn.rq.Success?e.data:void 0})();(0,C.useEffect)((()=>{if(!n)return;const a=(e=>{switch(e.status){case Qf.qJ.Error:return{status:sx.ERROR_GENERIC,name:e.name};case Qf.qJ.Idle:return{status:sx.IDLE};case Qf.qJ.Processing:return{status:sx.PROCESSING,name:e.name};case Qf.qJ.Success:return{status:sx.SUCCESS,name:e.name,totalCredentials:e.totalCount,importedCredentials:e.successCount,duplicateCredentials:e.duplicateCount}}(0,E_.U)(e)})(n);a&&e.status!==a.status&&t(a)}),[n]);const a=(0,C.useCallback)((async(e,n,a,i)=>{const r=await et.C.importPersonalData(e);if(!r.success&&(t({status:sx.ERROR_GENERIC,name:e.name}),a&&n)){const t=i===tx.DIRECT;nx(a,n,e.content.length,t)}return r}),[]),i=(0,C.useCallback)((()=>{et.C.dismissPersonalDataImportNotifications(),t({status:sx.IDLE})}),[]);return{startImport:a,state:e,dismiss:i}})(),[a,i]=(0,C.useState)(tx.FILE),[r,o]=(0,C.useState)(Qf.Q8.Other),[s,l]=(0,C.useState)({}),[c,d]=(0,C.useState)([]),[p,u]=(0,C.useState)(null);return(0,F.tZ)(cx.Provider,{value:{preview:t,import:n,importSource:r,setImportSource:o,previewDataItems:s,setPreviewDataItems:l,previewDataHeaders:c,setPreviewDataHeaders:d,resetContext:()=>{t.resetState(),n.dismiss(),o(Qf.Q8.Other),u(null),l({}),d([])},defaultSpace:p,setDefaultSpace:u,importMethod:a,setImportMethod:i},children:e})},px=()=>C.useContext(cx),ux=75,_x={verticalAlign:"middle",textAlign:"left",backgroundClip:"padding-box",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle",minWidth:300,maxWidth:300,maxHeight:75,height:75,minHeight:75},mx={color:"ds.text.neutral.quiet",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",padding:"12px",maxHeight:75,"&:hover":{whiteSpace:"break-spaces",overflow:"auto"}},hx={..._x,paddingY:0,paddingX:"24px",position:"sticky",top:0,backgroundColor:"ds.container.agnostic.neutral.standard",height:"50px",zIndex:"2"},gx={maxHeight:ux,height:ux,minHeight:ux};var bx=n(88108),wx=n(67328);const yx={KWAuthentifiant:(0,F.tZ)(st.JO,{name:"ItemLoginFilled",size:"small",color:"ds.text.neutral.standard"}),KWSecureNote:(0,F.tZ)(st.JO,{name:"ItemSecureNoteFilled",size:"small",color:"ds.text.neutral.standard"}),KWBankStatement:(0,F.tZ)(st.JO,{name:"ItemBankAccountFilled",size:"small",color:"ds.text.neutral.standard"}),KWPaymentMean_creditCard:(0,F.tZ)(st.JO,{name:"ItemPaymentFilled",size:"small",color:"ds.text.neutral.standard"}),DoNotImport:null},fx={KWAuthentifiant:"webapp_import_item_type_login",KWSecureNote:"webapp_import_item_type_secure_note",KWBankStatement:"webapp_import_item_type_bank",KWPaymentMean_creditCard:"webapp_import_item_type_payment",DoNotImport:"webapp_import_item_type_do_not_import"},xx=(e,t,n)=>{let a=e.matched?t.baseDataModel[e.matched]:t.rawData[e.original];switch(e.matched){case"Password":a=t.baseDataModel[e.matched]?(0,F.tZ)(bx.h,{passwordInputProps:{readOnly:!0,value:t.baseDataModel[e.matched],hidePasswordTooltipText:n("_common_password_hide_label"),showPasswordTooltipText:n("_common_password_show_label")}}):null;break;case"Content":case"Note":switch(t.baseDataModel.kwType){case Ot.dJ.KWSecureNote:a=t.baseDataModel.Content;break;case Ot.dJ.KWAuthentifiant:a=t.baseDataModel.Note}}return a||(a="--"),a},Sx=({wrapperRef:e,tableData:t,tableHeaders:n,disabledItemRows:a,spaceList:i,handleItemTypeChange:r,handleSpaceSelectChange:o})=>{var s;const[l,c]=(0,C.useState)(0),[d,p]=(0,C.useState)(0),[u,_]=(0,C.useState)(0),m=(0,jn.I)(),h=m.status===R.rq.Success&&!m.isDisabled,{translate:g}=(0,v.Z)(),b=null!=(s=e.current?.clientHeight)?s:1,w=Math.floor(4*b/75),y=1+n.length+(i.length?1:0),f=(0,C.useMemo)((()=>Object.keys(fx).reduce(((e,t)=>({...e,[t]:{value:t,label:(0,F.BX)(ne.k,{alignItems:"center",children:[yx[t],(0,F.tZ)("span",{sx:{marginLeft:2},children:g(fx[t])})]})}})),{})),[g]),x=g("webapp_form_field_personal_space"),S=(0,C.useMemo)((()=>[...i.reduce(((e,t)=>[...e,{value:t.teamId,label:(0,F.BX)(ne.k,{alignItems:"center",children:[(0,F.tZ)(Ji.R,{space:{...t,id:t.teamId,name:t.teamName}}),(0,F.tZ)("span",{sx:{marginLeft:2},children:t.teamName})]})}]),[]),{value:"",label:(0,F.BX)(ne.k,{alignItems:"center",children:[(0,F.tZ)(Ji.R,{space:{id:"",name:x,letter:x[0]}}),(0,F.tZ)("span",{sx:{marginLeft:2},children:x})]})}]),[x,i]),Z=({position:e})=>{const n="start"===e?l*ux:(t.length-d)*ux;return(0,F.tZ)("tr",{sx:{height:n},children:(0,F.tZ)("td",{colSpan:y,children:(0,F.tZ)(wx.h,{width:"100%",height:n})})},`${e}-loader`)},k=(0,C.useCallback)((e=>{const n=Math.floor(e-w-b/2),a=Math.floor(Math.max(0,Math.floor(n/ux))),i=Math.max(a+w,1),r=Math.floor(Math.min(i,t.length));c(a),p(r)}),[b,w,t.length]);return(0,C.useEffect)((()=>{k(u)}),[u,k]),(0,C.useEffect)((()=>{const t=e.current,n=(0,ot.throttle)((()=>{const t=e.current?.scrollTop;void 0!==t&&_(t)}),1e3);return t?.addEventListener("scroll",n),()=>{t?.removeEventListener("scroll",n)}}),[k,e]),(0,F.BX)("tbody",{children:[0!==l?(0,F.tZ)(Z,{position:"start"}):null,t.slice(l,d).filter((([,e])=>e.baseDataModel.kwType!==Ot.dJ.KWCollection)).map((e=>{var t,s;const[l,c]=e;return(0,F.BX)("tr",{sx:gx,children:[(0,F.tZ)("td",{sx:_x,children:(0,F.tZ)("div",{sx:mx,children:(0,F.tZ)(N.qWE,{menuPortalTarget:document.body,isSearchable:!1,onChange:e=>{r(l,Ot.dJ[e.value])},defaultValue:f[null!=(t=c.baseDataModel.kwType)?t:Ot.dJ.KWSecureNote],options:Object.values(f)})})}),i.length&&h?(0,F.tZ)("td",{sx:_x,children:(0,F.tZ)("div",{sx:mx,"data-testid":"space-select",children:(0,F.tZ)(N.qWE,{name:"spaceSelect",menuPortalTarget:document.body,isSearchable:!1,options:S,defaultValue:void 0!==c.baseDataModel.SpaceId?null!=(s=S.find((e=>e.value===c.baseDataModel.SpaceId)))?s:S[0]:void 0,isDisabled:a.includes(l),onChange:e=>o(l,e.value)})})}):null,n.map((e=>e.matched?(0,F.tZ)("td",{sx:_x,children:(0,F.tZ)("div",{sx:mx,children:xx(e,c,g)})},e.original):null))]},c.baseDataModel.Id)})),d!==t.length?(0,F.tZ)(Z,{position:"end"}):null]})},vx=(0,C.memo)(Sx);var Cx,Zx,kx,Ix;const Ex={Url:"webapp_import_preview_header_url",Login:"webapp_import_preview_header_login",Password:"webapp_import_preview_header_password",OtpSecret:"webapp_import_preview_header_otp",Note:"webapp_import_preview_header_notes",Title:"webapp_import_preview_header_name",kwType:"webapp_import_preview_header_type",SpaceId:"webapp_import_preview_header_space",Other:"webapp_import_preview_header_other",CardNumber:"webapp_import_preview_header_card_number",OwnerName:"webapp_import_preview_header_card_owner",SecurityCode:"webapp_import_preview_header_card_security_code",ExpireMonth:"webapp_import_preview_header_card_expiry_month",ExpireYear:"webapp_import_preview_header_card_expiry_year",BankAccountName:"webapp_import_preview_header_bank_name",BankAccountIBAN:"webapp_import_preview_header_bank_IBAN_account_number",BankAccountBIC:"webapp_import_preview_header_bank_SWIFT_routing_number"},Dx=({tableHeaders:e,tableData:t,setTableData:n,setHasChanges:a})=>{const i=(0,C.useRef)(null),r=(0,C.useRef)(null),o=(0,f_.E)(),{defaultSpace:s}=px(),[l,c]=(0,C.useState)([]),[d,p]=(0,C.useState)(!1),[u,_]=(0,C.useState)(!0),[m,h]=(0,C.useState)([]),g=(0,C.useMemo)((()=>{const e=new Map;return o.status===R.rq.Success&&o.data.forEach((t=>{var n;t.info?.forcedDomainsEnabled&&(d||p(!0),e.set(t.teamId,null!=(n=t.info?.teamDomains)?n:[]))})),e}),[d,o]),b=(0,jn.I)(),w=b.status===R.rq.Success&&!b.isDisabled,{translate:y}=(0,v.Z)();return(0,C.useEffect)((()=>{o.status===R.rq.Success&&c(o.data),o.status!==R.rq.Loading&&_(!1)}),[g,d,o]),(0,C.useEffect)((()=>{u||Object.keys(t).forEach((e=>{const a=t[e];if(!a)return;const i=a.baseDataModel.Url,r=a.baseDataModel.Email,o=a.baseDataModel.Login,l=i||r||o,c=a.baseDataModel.SpaceId;let d=null!=s?s:c;if(l){const t=new qt.Y(i).getRootDomain(),n=new qt.Y(r).getRootDomain(),a=new qt.Y(o).getRootDomain();for(const[i,r]of g)if(r.includes(t)||r.includes(n)||r.includes(a)){d=i,h((t=>[...t,e]));break}}c!==d&&(a.baseDataModel.SpaceId=d,n((t=>({...t,[e]:a}))))}))}),[s,g,u]),u?Cx||(Cx=(0,F.tZ)(Xl.Z,{})):(0,F.tZ)("div",{sx:{display:"inline-grid",position:"relative",marginY:"24px"},children:(0,F.tZ)("div",{ref:i,sx:{overflow:"auto",scrollSnapType:"x mandatory",maxHeight:"50vh"},role:"region","aria-label":"Import Data Table",children:(0,F.BX)("table",{ref:r,sx:{width:"100%"},children:[(0,F.tZ)("thead",{sx:{position:"sticky",zIndex:1},children:(0,F.BX)("tr",{children:[(0,F.BX)("th",{sx:hx,children:[(0,F.tZ)(N.j49,{size:"medium",children:y(Ex.kwType)}),(0,F.tZ)(N.ua7,{content:(0,F.tZ)("div",{children:y("webapp_import_preview_item_type_tooltip")}),placement:"top",children:(0,F.tZ)(N.hU,{sx:{verticalAlign:"middle"},"aria-label":y(Ex.kwType),icon:Zx||(Zx=(0,F.tZ)(N.uMt,{}))})})]}),l.length&&w?(0,F.BX)("th",{sx:hx,children:[(0,F.tZ)(N.j49,{size:"medium",children:y(Ex.SpaceId)}),(0,F.tZ)(N.ua7,{content:(0,F.tZ)("div",{children:d?y("webapp_import_preview_smart_space_tooltip"):y.markup("webapp_import_preview_space_tooltip_markup",{spaceName:l[0].teamName})}),placement:"top",children:(0,F.tZ)(N.hU,{sx:{verticalAlign:"middle"},"aria-label":y(Ex.SpaceId),icon:kx||(kx=(0,F.tZ)(N.uMt,{}))})})]}):null,e.map((e=>e.matched?(0,F.BX)("th",{sx:hx,children:[(0,F.tZ)(N.j49,{size:"medium",children:Ex[e.matched]?y(Ex[e.matched]):y(Ex.Other)}),Ix||(Ix=(0,F.tZ)("br",{})),(0,F.tZ)(N.nvN,{size:"small",sx:{fontSize:"10px"},children:e.original?`(${e.original})`:""})]},e.original):null))]})}),(0,F.tZ)(vx,{wrapperRef:i,tableData:Object.entries(t),tableHeaders:e,disabledItemRows:m,spaceList:l,handleItemTypeChange:(e,i)=>{const r=t[e];r&&(i===Ot.dJ.KWSecureNote&&(r.rawData.Content?r.baseDataModel.Content=r.rawData.Content:r.baseDataModel.Content=Object.entries(r.rawData).reduce(((e,[t,n])=>n?e+` ${t}: ${n} \n`:""),"")),r.baseDataModel.kwType="DoNotImport"!==i?i:void 0,n((t=>({...t,[e]:r}))),a(!0))},handleSpaceSelectChange:(e,i)=>{const r=t[e];r&&(r.baseDataModel.SpaceId=i,n((t=>({...t,[e]:r}))),a(!0))}})]})})})};var Tx=n(40010);const Ax=()=>{},Nx=({isOpen:e,showCloseIcon:t})=>{const{translate:n}=(0,v.Z)();return(0,F.tZ)(b_.o,{isOpen:e,onRequestClose:Ax,showCloseIcon:t,disableOutsideClickClose:!0,disableBackgroundPanelClose:!0,children:(0,F.tZ)(N.a7O,{children:(0,F.BX)(ne.k,{flexDirection:"column",alignContent:"center",justifyContent:"center",alignItems:"center",gap:"25px",children:[(0,F.tZ)(N.HoD,{size:88,"aria-hidden":"true",color:N.colors.dashGreen01}),(0,F.tZ)(N.nvN,{children:n("webapp_import_chrome_loader")})]})})})};var Ox=n(59115),Px=n(75968),Lx=n(37470);const Rx=({importStep:e,importSource:t,isDirectImport:n,itemsToImportCount:i})=>{const r=(0,La.k6)(),o=(0,a.Xo)(),s=Object.values(Cv).map((e=>`${o.routes.importData}/${e}`)),l=t===Qf.Q8.Dash?je.BackupFileType.SecureVault:je.BackupFileType.Csv;(0,C.useEffect)((()=>r.listen((()=>{s.includes(r.location.pathname)||(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:l,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:ex[t],importDataDropAction:je.ImportDataDropAction.SwitchedWebappSection,importDataStep:e,itemsToImportCount:i,isDirectImport:n}))}))),[]),(0,C.useEffect)((()=>{const a=()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:l,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:ex[t],importDataDropAction:je.ImportDataDropAction.ShutDownBrowserTab,importDataStep:e,itemsToImportCount:i,isDirectImport:n}))};return window.addEventListener("beforeunload",a),()=>{window.removeEventListener("beforeunload",a)}}),[])},Mx=[Qf.Q8.Lastpass];let Bx=function(e){return e.LastPass="lastpass",e}({});const zx={[Qf.Q8["1Password"]]:"",[Qf.Q8.Bitwarden]:"",[Qf.Q8.Chrome]:"",[Qf.Q8.Dash]:"",[Qf.Q8.Edge]:"",[Qf.Q8.Firefox]:"",[Qf.Q8.Keepass]:"",[Qf.Q8.Keeper]:"",[Qf.Q8.Lastpass]:Bx.LastPass,[Qf.Q8.Other]:"",[Qf.Q8.Safari]:""},Ux=n.p+"e36c66ccea00e4397aa2.png",Fx=n.p+"c072da7dadc141863465.png",Xx=n.p+"3f9bf215a24b52c52cd3.png",qx=n.p+"ecc88b88a899d260b7ea.png",Hx=n.p+"74678b45fa3a5c928e43.png",Vx=n.p+"3bc2dd33e8396ecbd585.png",Wx=n.p+"3c3062f7c9a4b4cab36d.png",jx=n.p+"a399bc830d5b92133b25.png",Gx=n.p+"6ca955729a6ce5fcd04b.png",Kx=n.p+"5d4cab2bf4f2e2dfecc0.png",Yx=n.p+"54b11776a021b0f5c73c.png";var $x,Qx,Jx;const eS={CSV:{STEP_TITLE:"webapp_account_import_select_csv_step_title",STEP_TITLE_SPACES:"webapp_account_import_select_csv_step_title_spaces",STEP_ONE:"webapp_account_import_select_csv_step1",STEP_TWO:"webapp_account_import_select_csv_step2",STEP_TWO_SPACES:"webapp_account_import_select_csv_space_step2",STEP_THREE_SPACES:"webapp_account_import_select_csv_preview_step3",HELP_LINK:"webapp_account_import_select_csv_help_markup"},DASH:{STEP_TITLE:"webapp_account_import_select_dash_step_title",STEP_ONE:"webapp_account_import_select_dash_step1",STEP_TWO:"webapp_account_import_select_dash_step2",HELP_LINK:"webapp_account_import_select_dash_help_markup",PASSWORD_LIMIT_TITLE:"webapp_import_data_password_limit_infobox_title",PASSWORD_LIMIT_DESCRIPTION:"webapp_import_data_password_limit_infobox_description"},DIRECT:{STEP_TITLE:"webapp_account_import_select_direct_title",STEP_ONE:"webapp_account_import_select_direct_step1",STEP_TWO:"webapp_account_import_select_direct_step2",STEP_THREE:"webapp_account_import_select_csv_preview_step3"}},tS={"1password":"https://support.dashlane.com/hc/articles/7864226708882",bitwarden:"https://support.dashlane.com/hc/articles/7865404063122",chrome:"https://support.dashlane.com/hc/articles/7874222410770",dash:"https://support.dashlane.com/hc/articles/7874554196626",edge:"https://support.dashlane.com/hc/articles/7874164777618",firefox:"https://support.dashlane.com/hc/articles/7874287780626",keepass:"https://support.dashlane.com/hc/articles/7865061516434",keeper:"https://support.dashlane.com/hc/articles/7865510731666",lastpass:"https://support.dashlane.com/hc/articles/7865163497618",other:"https://support.dashlane.com/hc/articles/360004101920#csv",safari:"https://support.dashlane.com/hc/articles/7874371120274"},nS={"1password":Ux,bitwarden:Fx,chrome:Hx,dash:qx,edge:jx,firefox:Vx,keepass:Gx,keeper:Kx,lastpass:Yx,other:Xx,safari:Wx},aS={"1password":"webapp_account_import_source_label_1password",bitwarden:"webapp_account_import_source_label_bitwarden",chrome:"webapp_account_import_source_label_chrome",dash:"webapp_account_import_source_label_dash",edge:"webapp_account_import_source_label_edge",firefox:"webapp_account_import_source_label_firefox",keepass:"webapp_account_import_source_label_keepass",keeper:"webapp_account_import_source_label_keeper",lastpass:"webapp_account_import_source_label_lastpass",other:"webapp_account_import_source_label_csv",safari:"webapp_account_import_source_label_safari"},iS=()=>(0,F.tZ)("hr",{sx:{width:"100%",borderTop:"1px solid",borderBottom:"0",margin:"0",borderTopColor:"ds.border.neutral.quiet.idle"}}),rS=()=>{const{translate:e}=(0,v.Z)(),t=(0,a.k6)(),{importSource:n,setImportSource:i,resetContext:r,setImportMethod:o}=px(),s=(0,f_.E)(),l=(0,Jg.eW)(),d=(0,Xn._)(),p=d.data?.[Lx.t.B2CFreeUserFrozenState],u=(0,jn.I)(),{shouldShowFrozenStateDialog:_}=(0,c.Ub)(),[m,h]=(0,C.useState)(""),[g,b]=(0,C.useState)([]),y=u.status===qn.rq.Success&&!u.isDisabled,f=g.length>0,x=y&&f&&m===Jf.CSV,S=m===Jf.DIRECT,Z=p&&m===Jf.DASH,k=Mx.includes(n),E=l.isLoading||d.status!==qn.rq.Success||null===_,T=!E&&_,A=!E&&l.isFreeB2C,N=(A?[Qf.Q8.Dash]:Object.values(Qf.Q8)).map((t=>({value:t,label:(0,F.BX)(ne.k,{alignItems:"center",children:[(0,F.tZ)("img",{alt:e(aS[t]),height:24,sx:{borderRadius:"100%"},"aria-hidden":!0,src:nS[t]}),(0,F.tZ)("span",{style:{marginLeft:5},children:e(aS[t])})]})})));return Rx({importStep:je.TransferDataStep.SelectImportSource,importSource:n,isDirectImport:S}),(0,C.useEffect)((()=>{s.status===qn.rq.Success&&b(s.data)}),[s]),(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ImportSelectPasswordSource)}),[]),(0,C.useEffect)((()=>{r()}),[]),(0,F.BX)(yr.Z,{gap:"40px",sx:{width:"720px"},children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e("webapp_account_import_source_header")}),(0,F.tZ)(Ku.u,{content:e("webapp_account_import_select_free_b2c_restriction_tooltip"),passThrough:!A,wrapTrigger:!0,children:(0,F.tZ)(Ox.m,{label:(0,ot.capitalize)(e("webapp_account_import_source_dropdown_label")),id:"importSelect",disabled:T||E,onChange:e=>{const t=Mx.includes(e)?Jf.DIRECT:Jf.CSV,n=e===Qf.Q8.Dash?Jf.DASH:t;h(n),i(e)},placeholder:e("webapp_account_import_source_dropdown_placeholder"),children:N.map((e=>(0,F.tZ)(Px.$,{value:e.value,children:e.label},e.value)))})}),k?(0,F.BX)(C.Fragment,{children:[$x||($x=(0,F.tZ)(iS,{})),(0,F.BX)(ne.k,{flexDirection:"column",gap:"16px",children:[(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e("webapp_account_import_source_method_header")}),(0,F.BX)(_w.E,{value:m,onChange:e=>{const t=e.target.value;t in Jf&&h(Jf[t])},children:[(0,F.tZ)(mw.Y,{"data-testid":"direct-import-method",label:e("webapp_account_import_source_option_direct_import",{source:e(aS[n])}),value:Jf.DIRECT}),(0,F.tZ)(mw.Y,{"data-testid":"csv-import-method",label:e("webapp_account_import_source_option_csv"),value:Jf.CSV})]})]})]}):null,m?(0,F.BX)(C.Fragment,{children:[Qx||(Qx=(0,F.tZ)(iS,{})),(0,F.BX)(ne.k,{flexDirection:"column",gap:"16px",children:[(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:x?e(eS[m].STEP_TITLE_SPACES):e(eS[m].STEP_TITLE,S?{source:e(aS[n])}:{})}),(0,F.BX)(ne.k,{flexDirection:"column",children:[(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",children:e(eS[m].STEP_ONE,S?{source:e(aS[n])}:{})}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",children:x?e(eS[m].STEP_TWO_SPACES):e(eS[m].STEP_TWO,S?{source:e(aS[n])}:{})}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",children:x?e(eS[m].STEP_THREE_SPACES):m===Jf.DIRECT?e(eS.DIRECT.STEP_THREE):null})]}),S?(0,F.tZ)(V.k,{mood:"brand",title:e.markup("webapp_account_import_help_tip_infobox_markup",{supportLink:tS[n],source:e(aS[n])},{linkTarget:"_blank",onLinkClicked:()=>ax(je.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})}):(0,F.tZ)(V.k,{mood:"neutral",title:e.markup(eS[m].HELP_LINK,{supportLink:tS[n]},{linkTarget:"_blank",onLinkClicked:()=>ax(je.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})})]})]}):null,Z?(0,F.tZ)(V.k,{size:"medium",title:e(eS.DASH.PASSWORD_LIMIT_TITLE),description:e(eS.DASH.PASSWORD_LIMIT_DESCRIPTION),mood:"brand"}):null,(0,F.tZ)(ne.k,{justifyContent:"right",children:(0,F.tZ)(w.z,{type:"button",mood:"brand",intensity:"catchy",onClick:()=>{const e=m===Jf.DIRECT,a=Jf.DASH?je.BackupFileType.SecureVault:je.BackupFileType.Csv;if(rx(a,n,je.TransferDataStep.SelectImportSource,e),e)return o(tx.DIRECT),void t.push(`${Cv.DirectImport}/${zx[n]}`);t.push(Cv.ImportSelect)},disabled:!m,layout:S?"iconTrailing":"labelOnly",icon:S?Jx||(Jx=(0,F.tZ)(st.JO,{name:"ActionOpenExternalLinkOutlined"})):void 0,children:S?(0,F.tZ)(C.Fragment,{children:e.markup("webapp_account_import_source_direct_import_button_markup",{source:e(aS[n])})}):e("webapp_account_import_source_get_started_button")})})]})};var oS;const sS=()=>{const{preview:{state:e,setAttemptedCount:t},import:{startImport:n,state:i},importSource:r,previewDataItems:o,setPreviewDataItems:s,previewDataHeaders:l,importMethod:c}=px(),d=c===tx.DIRECT,p=(0,a.k6)(),u=(0,Ct.V)(),{translate:_}=(0,v.Z)(),m=(0,f_.E)(),h=(0,jn.I)(),[g,b]=(0,C.useState)([]),[y,f]=(0,C.useState)(!1),[x,S]=(0,C.useState)(!1),Z=h.status===qn.rq.Success&&!h.isDisabled,k=g.length>0&&Z,I=k||d&&Z?3:2;Rx({importStep:je.TransferDataStep.PreviewItemsToImport,importSource:r,isDirectImport:d,itemsToImportCount:e.attemptedItemCount}),(0,C.useEffect)((()=>{m.status===qn.rq.Success&&b(m.data)}),[m]),(0,C.useEffect)((()=>{e.file||p.push(Cv.ImportSource)}),[p,e.file]);const E=(0,C.useCallback)((()=>{u.showAlert(_("team_feedback_notification_error_generic"),N.BLW.ERROR)}),[u,_]);(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ImportCsvPreviewDataUpload)}),[]);const D=Object.values(o).filter((e=>e.baseDataModel.kwType&&e.baseDataModel.kwType!==Ot.dJ.KWCollection)).length;return(0,C.useEffect)((()=>{t(D)}),[D,t]),(0,C.useEffect)((()=>{switch(i.status){case sx.ERROR_GENERIC:return nx(je.BackupFileType.Csv,r,e.attemptedItemCount,d),void E();case sx.SUCCESS:return void p.push(Cv.ImportSummary)}}),[p,i.status,r,E,e.attemptedItemCount]),(0,F.BX)(ne.k,{flexDirection:"column",gap:"10px",children:[y||i.status===sx.PROCESSING?oS||(oS=(0,F.tZ)(Nx,{showCloseIcon:!1,isOpen:!0})):null,(0,F.tZ)(Tx.X,{titleText:_("webapp_import_unsaved_changes_title"),bodyText:_("webapp_import_unsaved_changes_body"),onUnsavedChangesCaught:()=>(0,$e.Nc)(je.PageView.ImportLeaveProcess),onLeavePage:()=>((e,t,n)=>{(0,$e.Kz)(new je.UserImportDataEvent({importSource:ex[e],itemsToImportCount:t,backupFileType:je.BackupFileType.Csv,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importDataStep:je.TransferDataStep.PreviewItemsToImport,importDataDropAction:je.ImportDataDropAction.CancelProcess,isDirectImport:n}))})(r,Object.keys(o).length,d),dirty:!!e.fileName&&i.status!==sx.SUCCESS&&x}),(0,F.tZ)(N.j49,{children:_.markup("webapp_import_step_tracker_markup",{currentStep:`${I}`,totalSteps:`${I}`})}),(0,F.tZ)(N.X6q,{size:"small",children:_("webapp_import_preview_title")}),(0,F.tZ)(N.nvN,{children:_("webapp_import_preview_subtitle")}),(0,F.BX)("ul",{sx:{marginLeft:"24px",listStyle:"disc"},children:[(0,F.tZ)("li",{children:_.markup("webapp_import_preview_tip_labels_markup")}),(0,F.tZ)("li",{children:_.markup("webapp_import_preview_tip_do_not_import_markup")})]}),Object.keys(o).length?(0,F.tZ)(Dx,{setHasChanges:S,tableData:o,setTableData:s,tableHeaders:l}):null,(0,F.BX)(ne.k,{gap:"16px",children:[(0,F.tZ)(w.z,{onClick:()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:je.BackupFileType.Csv,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:ex[r],importDataDropAction:je.ImportDataDropAction.CancelProcess,importDataStep:je.TransferDataStep.PreviewItemsToImport,itemsToImportCount:e.attemptedItemCount,isDirectImport:d})),p.push({pathname:k?Cv.ImportSpaceSelect:Cv.ImportSource,state:{userNavigatedAway:!0}})},type:"button",mood:"neutral",intensity:"quiet",children:_("_common_action_back")}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",disabled:!D,type:"button",onClick:async()=>{f(!0);try{if(e.format){const t=r===Qf.Q8.Dash?je.BackupFileType.SecureVault:je.BackupFileType.Csv;(await n({format:e.format,name:e.fileName,content:Object.keys(o).map((e=>o[e].baseDataModel)).filter((e=>void 0!==e.kwType))},r,t,c)).success||E()}}finally{f(!1)}},children:_.markup("webapp_import_preview_import_button_markup",{itemCount:D})}),(0,F.tZ)("div",{sx:{flex:1}}),(0,F.tZ)(N.rUS,{sx:{alignSelf:"center"},color:"ds.text.brand.standard",href:tS[r],target:"_blank",rel:"noopener noreferrer",onClick:()=>ax(je.HelpCenterArticleCta.TroubleshootImportingIssues),children:_("webapp_import_preview_import_troubleshoot_link")})]})]})};var lS,cS,dS=n(14922);const pS={cursor:"pointer",color:"ds.text.brand.standard",transition:"all 300ms ease",textDecoration:"underline"},uS={margin:"0px 8px",color:"ds.text.neutral.quiet","& em":pS},_S={color:"ds.text.danger.quiet","& em":pS},mS={textAlign:"center",width:"100%",paddingTop:"72px",paddingBottom:"72px",backgroundColor:"ds.container.expressive.neutral.quiet.idle",borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none","* > em":{fontStyle:"initial"}},hS={...mS,backgroundColor:"ds.container.expressive.neutral.quiet.hover"},gS="webapp_import_chrome_on_import_multi_error_message_markup",bS=({accept:e,idleMessage:t,fileSelectedMessage:n,onFileDropped:a,undoFileDropped:i,setErrorMessage:r,error:o="",setFileInvalid:s,importSource:l})=>{var c;const{translate:d}=(0,v.Z)(),[p,u]=(0,C.useState)([]),_=e.includes(".dash")?je.BackupFileType.SecureVault:je.BackupFileType.Csv,m=()=>{i?.(),u([])},h=null!=n?n:d("webapp_import_chrome_file_ready"),{getRootProps:g,getInputProps:b,isDragActive:w}=(0,dS.uI)({accept:e,multiple:!1,onDropAccepted:e=>{if(1!==e.length)return(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:_,importDataStatus:je.TransferDataStatus.MultipleFilesSelected,importSource:ex[l],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),r(d.markup(gS)),void s(!0);const t=e[0];u([t].map((e=>e.name))),r(null),s(!1);try{a(t)}catch(e){r(d.markup("webapp_import_chrome_on_import_error_message_markup")),(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:_,importDataStatus:je.TransferDataStatus.WrongFileFormat,importSource:ex[l],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),s(!0)}},onDropRejected:e=>{m(),e.length>1?((0,$e.Kz)(new je.UserImportDataEvent({backupFileType:_,importDataStatus:je.TransferDataStatus.MultipleFilesSelected,importSource:ex[l],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),r(d.markup(gS))):(r("dash"===l?d.markup("webapp_import_invalid_dash_file_error_markup"):d.markup("webapp_import_invalid_file_error_markup")),(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:_,importDataStatus:je.TransferDataStatus.WrongFileFormat,importSource:ex[l],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1}))),s(!0)},noClick:p.length>0&&!o});return(0,F.tZ)("div",{...g(),sx:{padding:"8px",overflow:"hidden",border:"2px dashed",borderColor:"ds.border.neutral.standard.idle",borderRadius:"4px"},role:"button",children:(0,F.BX)("div",{sx:w?hS:mS,children:[(0,F.tZ)("input",{id:"dropzoneinput","aria-labelledby":"dropzoneinput-label",...b()}),o||0!==p.length?null:(0,F.tZ)(D.n,{as:"span",id:"dropzoneinput-label",sx:uS,children:t}),!o&&p?.length>0?(0,F.tZ)(ne.k,{flexDirection:"column",alignItems:"center",children:p?.map((e=>(0,F.BX)(C.Fragment,{children:[c||(c=(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:h})),(0,F.BX)(ne.k,{as:D.n,alignItems:"center",gap:"4px",color:"ds.text.brand.standard",size:"medium",bold:!0,children:[e,(0,F.tZ)(st.JO,{name:"ActionCloseOutlined","aria-label":d("_common_action_cancel"),size:"xsmall",onClick:m,color:"ds.text.brand.standard",sx:{cursor:"pointer"}})]})]},e)))}):null,o?(0,F.BX)(C.Fragment,{children:[lS||(lS=(0,F.tZ)(st.JO,{name:"FeedbackFailOutlined",size:"xlarge",color:"ds.text.danger.quiet"})),cS||(cS=(0,F.tZ)("br",{})),(0,F.tZ)(D.n,{sx:_S,children:o})]}):null]})})};var wS;const yS={"1password":"webapp_account_import_select_1password_help_markup",bitwarden:"webapp_account_import_select_bitwarden_help_markup",chrome:"webapp_account_import_select_chrome_help_markup",dash:"webapp_account_import_select_dash_help_markup",edge:"webapp_account_import_select_edge_help_markup",firefox:"webapp_account_import_select_firefox_help_markup",keepass:"webapp_account_import_select_keepass_help_markup",keeper:"webapp_account_import_select_keeper_help_markup",lastpass:"webapp_account_import_select_lastpass_help_markup",other:"webapp_account_import_select_other_help_markup",safari:"webapp_account_import_select_safari_help_markup"},fS={"1password":"webapp_account_import_select_1password_error_info_markup",bitwarden:"webapp_account_import_select_bitwarden_error_info_markup",chrome:"webapp_account_import_select_chrome_error_info_markup",dash:"webapp_account_import_select_dash_error_info_markup",edge:"webapp_account_import_select_edge_error_info_markup",firefox:"webapp_account_import_select_firefox_error_info_markup",keepass:"webapp_account_import_select_keepass_error_info_markup",keeper:"webapp_account_import_select_keeper_error_info_markup",lastpass:"webapp_account_import_select_lastpass_error_info_markup",other:"webapp_account_import_select_other_error_info_markup",safari:"webapp_account_import_select_safari_error_info_markup"},xS=()=>{const[e,t]=(0,C.useState)(""),[n,a]=(0,C.useState)(!1),[i,r]=(0,C.useState)(!1),{translate:o}=(0,v.Z)(),s=(0,La.k6)(),l=(0,f_.E)(),c=(0,jn.I)(),[d,p]=(0,C.useState)([]),u=l.status===R.rq.Loading,_=c.status===R.rq.Success&&!c.isDisabled,m=d.length>0&&_,h=m?3:2;(0,C.useEffect)((()=>{l.status===R.rq.Success&&p(l.data)}),[l]);const{preview:{processFile:g,state:b,resetState:y,previewFile:f},importSource:x,setPreviewDataItems:S,setPreviewDataHeaders:Z}=px();(0,C.useEffect)((()=>{y()}),[]),(0,C.useEffect)((()=>{const e=x===Qf.Q8.Dash?je.PageView.ImportDash:je.PageView.ImportCsv;(0,$e.Nc)(e)}),[x]);const k=x!==Qf.Q8.Dash,E=k?[".csv"]:[".dash"],D=o.markup("webapp_account_import_select_idle_markup",{fileExtension:k?"CSV":"DASH"}),T=o(k?"webapp_account_import_select_ready_csv":"webapp_account_import_select_ready_dash");return Rx({importStep:je.TransferDataStep.SelectFile,importSource:x,isDirectImport:!1,itemsToImportCount:b.attemptedItemCount}),c.status!==R.rq.Success?null:(0,F.BX)(yr.Z,{sx:{width:"720px"},children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:o.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:`${h}`})}),(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:o(k?"webapp_account_import_select_header_csv":"webapp_account_import_select_header_dash")}),(0,F.tZ)(bS,{onFileDropped:t=>{e&&(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:k?je.BackupFileType.Csv:je.BackupFileType.SecureVault,importDataStatus:je.TransferDataStatus.Start,importSource:ex[x],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),g(t)},undoFileDropped:y,setErrorMessage:t,error:e,accept:E,idleMessage:D,fileSelectedMessage:T,setFileInvalid:r,importSource:x}),i?(0,F.tZ)("div",{sx:{marginTop:"24px"},children:(0,F.tZ)(V.k,{mood:"brand",title:(0,F.BX)(C.Fragment,{children:[o("webapp_account_import_select_error_info_intro"),wS||(wS=(0,F.tZ)("br",{})),o.markup(fS[x],{supportLink:tS[x]},{linkTarget:"_blank"})]})})}):n?(0,F.tZ)("div",{sx:{marginTop:"24px"},children:(0,F.tZ)(V.k,{mood:"danger",title:o.markup(yS[x],{supportLink:tS[x]},{linkTarget:"_blank"})})}):null,(0,F.BX)(ne.k,{flexDirection:"row",gap:"16px",justifyContent:"right",children:[(0,F.tZ)(w.z,{type:"button",mood:"neutral",intensity:"quiet",onClick:()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:k?je.BackupFileType.Csv:je.BackupFileType.SecureVault,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:ex[x],importDataDropAction:je.ImportDataDropAction.CancelProcess,importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),s.push(Cv.ImportSource)},children:o("_common_action_back")}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",type:"button",onClick:()=>{k?f(x).then((e=>{if(e.success&&e.data.items.length){const t={};e.data.items.forEach((e=>{t[e.baseDataModel.Id]=e})),S(t),Z(e.data.headers);const n=m?Cv.ImportSpaceSelect:Cv.ImportPreview;s.push(n)}else t(o.markup("webapp_import_chrome_on_import_error_message_markup")),(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:k?je.BackupFileType.Csv:je.BackupFileType.SecureVault,importDataStatus:e.success&&!e.data.items.length?je.TransferDataStatus.NoDataFound:je.TransferDataStatus.WrongFileStructure,importSource:ex[x],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1,itemsToImportCount:e.success?e.data.items.length:void 0})),a(!0)})):s.push(Cv.SecureImport)},disabled:!b.file||!!e||u,children:o("webapp_account_import_select_button_next")})]})]})};var SS,vS,CS,ZS;const kS=()=>{const{translate:e}=(0,v.Z)(),t=(0,La.k6)(),n=(0,a.Xo)(),{preview:{state:{format:i}},import:{state:r},importSource:o,defaultSpace:s,importMethod:l}=px(),c=l===tx.DIRECT;return(0,C.useEffect)((()=>{const e=i===Qf.G8.Csv?je.PageView.ImportCsvSuccess:je.PageView.ImportDashSuccess;(0,$e.Nc)(e)}),[]),(0,C.useEffect)((()=>{if(null===i||r.status!==sx.SUCCESS)return;const e=i===Qf.G8.Csv?je.BackupFileType.Csv:je.BackupFileType.SecureVault;(r.totalCredentials||e===je.BackupFileType.SecureVault)&&((e,t,n,a,i,r)=>{(0,$e.Kz)(new je.UserImportDataEvent({importSource:ex[t],importedItemsCount:n,backupFileType:e,importDataStatus:je.TransferDataStatus.Success,itemsToImportCount:a,space:i,importDataStep:je.TransferDataStep.Success,isDirectImport:r}))})(e,o,r.importedCredentials,r.totalCredentials,""===s||null===s?je.Space.Personal:je.Space.Professional,c)}),[i,o,s,r]),(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"24px"},children:[r.status===sx.SUCCESS?(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(I.X,{as:"h5",textStyle:"ds.title.section.medium",children:e("webapp_import_summary_title",{itemCount:r.importedCredentials})}),r.duplicateCredentials?(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:e.markup("webapp_import_summary_duplicates_markup",{count:r.duplicateCredentials})}):null,(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:i===Qf.G8.Csv?(0,F.BX)(C.Fragment,{children:[e("webapp_import_summary_text"),SS||(SS=(0,F.tZ)("br",{})),vS||(vS=(0,F.tZ)("br",{})),c?null:e("webapp_import_summary_short_tip_csv")]}):e("webapp_import_summary_short_tip_dash")})]}):r.status===sx.ERROR_GENERIC?(0,F.tZ)(I.X,{as:"h5",textStyle:"ds.title.section.medium",sx:{marginBottom:"24px"},children:e("_common_generic_error")}):CS||(CS=(0,F.tZ)(N.HoD,{})),(0,F.tZ)(V.k,{mood:"brand",title:(0,F.BX)(C.Fragment,{children:[(0,F.tZ)("span",{children:e("webapp_account_import_select_error_info_intro")}),ZS||(ZS=(0,F.tZ)("br",{})),e.markup(fS[o],{supportLink:tS[o]},{linkTarget:"_blank"})]})}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",onClick:()=>t.push(n.routes.userCredentials),children:e("webapp_import_summary_open_logins_button")})]})};var IS,ES=n(88355),DS=n(81986);const TS="_common_generic_error",AS=()=>{const{preview:{resetState:e,previewFile:t,state:n},import:{startImport:a,state:i},importSource:r}=px(),{showToast:o}=(0,Z.p)(),{translate:s}=(0,v.Z)(),l=(0,La.k6)(),c=(0,C.useRef)(!1),d=(0,C.useCallback)((()=>{o({description:s(TS),mood:"danger"})}),[alert,s]);(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ImportDashEnterDashPassword)}),[]);const p=()=>{e(),l.push(Cv.ImportSelect)};return(0,C.useEffect)((()=>{switch(i.status){case sx.ERROR_GENERIC:return void d();case sx.SUCCESS:return void l.push(Cv.ImportSummary)}}),[l,i.status,d]),(0,F.BX)(C.Fragment,{children:[i.status===sx.PROCESSING?IS||(IS=(0,F.tZ)(Nx,{showCloseIcon:!1,isOpen:!0})):null,(0,F.tZ)(ES.J9,{initialValues:{dashPassword:""},onSubmit:async({dashPassword:e},{setErrors:i,setSubmitting:o})=>{o(!0);try{const o=await(async e=>{const n=await t(r,e);return n.success?{success:!0,data:n.data.items.map((({baseDataModel:e})=>e)).filter((e=>void 0!==e.kwType))}:{success:!1,error:n.success||n.error!==Qf.rp.BadPassword?TS:"webapp_account_import_dash_password_error"}})(e);if(!o.success)return void i({dashPassword:s(o.error)});const d=await(async e=>n.format&&(await a({format:n.format,name:n.fileName,content:e},r)).success?{success:!0}:{success:!1,error:TS})(o.data);var l;d.success?c.current=!0:i({dashPassword:s(null!=(l=d.error)?l:TS)})}catch{i({dashPassword:s(TS)})}finally{c.current||o(!1)}},children:({handleSubmit:e,handleChange:t,values:n,errors:a,submitCount:i,isSubmitting:r})=>(0,F.BX)(ne.k,{flexDirection:"column",as:"form",onSubmit:e,gap:"16px",noValidate:!0,children:[(0,F.tZ)(D.n,{textStyle:"ds.title.block.small",color:"ds.text.neutral.quiet",children:s("webapp_account_security_settings_two_factor_authentication_stage_header",{stageIndex:2,totalStages:2})}),(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:s("webapp_account_import_dash_password_header")}),(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:s("webapp_account_import_dash_password_description")}),(0,F.tZ)(DS.Z,{disabled:r,autoComplete:"off",name:"dashPassword",onChange:t,value:n.dashPassword,label:s("webapp_account_import_dash_password_label"),placeholder:s("webapp_account_import_dash_password_placeholder"),toggleVisibilityLabel:{show:s("_common_password_show_label"),hide:s("_common_password_hide_label")},feedback:a.dashPassword?{text:a.dashPassword}:void 0,error:!!a.dashPassword}),i>=2?(0,F.tZ)(V.k,{title:s.markup("webapp_account_import_dash_password_error_header_markup")}):null,(0,F.BX)(ne.k,{sx:{mt:"8px"},gap:"16px",children:[(0,F.tZ)(w.z,{type:"button",intensity:"quiet",mood:"neutral",onClick:p,children:s("_common_action_back")}),(0,F.tZ)(w.z,{type:"submit",disabled:!n.dashPassword||r,children:s("webapp_account_import_dash_password_button_next")})]})]})})]})};var NS=n(67406);const OS=()=>{const{translate:e}=(0,v.Z)(),t=(0,La.k6)(),n=(0,La.TH)(),a=(0,f_.E)(),[i,r]=(0,C.useState)(!1),o=a.status===qn.rq.Loading,{importSource:s,preview:{state:l},defaultSpace:c,setDefaultSpace:d,importMethod:p}=px(),u=p===tx.DIRECT;return Rx({importStep:je.TransferDataStep.SelectDashlaneSpace,importSource:s,isDirectImport:u,itemsToImportCount:l.attemptedItemCount}),(0,C.useEffect)((()=>{l.file||t.push(Cv.ImportSource)}),[t,l.file]),(0,C.useEffect)((()=>{et.C.getIsForcedDomainsEnabled().then((e=>{r(e)})),(0,$e.Nc)(je.PageView.ImportCsvSelectSpace)}),[]),(0,F.BX)(ne.k,{flexDirection:"column",gap:"16px",children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:e.markup("webapp_import_step_tracker_markup",{currentStep:"2",totalSteps:"3"})}),(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e("webapp_account_import_space_select_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:e("webapp_account_import_space_select_subtitle")}),(0,F.tZ)(NS.M,{isUsingNewDesign:!0,onChange:e=>{d(e)},hideLabel:!0,wrapperSx:{display:"block"}}),(0,F.BX)(ne.k,{gap:"16px",sx:{my:"24px"},children:[(0,F.tZ)(w.z,{mood:"neutral",intensity:"quiet",type:"button",onClick:()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:je.BackupFileType.Csv,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:ex[s],importDataDropAction:je.ImportDataDropAction.CancelProcess,importDataStep:je.TransferDataStep.SelectDashlaneSpace,itemsToImportCount:l.attemptedItemCount,isDirectImport:u})),t.push(Cv.ImportSource)},children:e("_common_action_back")}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",type:"button",onClick:()=>{!0===n.state?.userNavigatedAway&&(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:je.BackupFileType.Csv,importDataStatus:je.TransferDataStatus.Start,importSource:ex[s],importDataStep:je.TransferDataStep.SelectDashlaneSpace,itemsToImportCount:l.attemptedItemCount,isDirectImport:u})),t.push(Cv.ImportPreview)},disabled:o||null===c,children:e("webapp_account_import_select_button_next")})]}),i?(0,F.tZ)(V.k,{size:"medium",mood:"neutral",title:e("webapp_account_import_space_select_forced_domain_infobox")}):null]})},PS="webapp_import_data_frozen_infobox_manage_logins_button",LS="webapp_import_data_frozen_infobox_upgrade_button",RS=()=>{const{translate:e}=(0,v.Z)(),{openDialog:t}=(0,c.Ub)(),{routes:n}=(0,a.Xo)();return(0,Zt.l)()?(0,F.tZ)(V.k,{sx:{margin:"10px 32px"},title:e("webapp_import_data_frozen_infobox_title"),description:e("webapp_import_data_frozen_infobox_description"),size:"large",mood:"danger",icon:"FeedbackFailOutlined",actions:[(0,F.tZ)(w.z,{intensity:"quiet",onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.ManageLogins,clickOrigin:je.ClickOrigin.BannerFrozenAccount}))},as:a.rU,to:n.userCredentials,children:e(PS)},e(PS)),(0,F.tZ)(w.z,{intensity:"catchy",onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.UpgradePaidPlan,clickOrigin:je.ClickOrigin.BannerFrozenAccount})),t()},children:e(LS)},e(LS))]}):null};var MS=n(50957),BS=n(21597),zS=n(42700),US=n(33017),FS=n(37724),XS=n(28594);const qS="lastpass.com",HS="PHPSESSID";var VS;const WS="webapp_account_import_source_label_lastpass",jS="webapp_account_import_select_direct_title",GS="webapp_account_import_select_direct_step1",KS="webapp_account_import_select_direct_step2",YS="webapp_account_import_select_csv_preview_step3",$S=({openLastPassLoginTab:e,handleBackButtonClick:t,error:n})=>{const{translate:r}=(0,v.Z)(),{routes:o}=(0,a.Xo)(),s=(0,a.k6)();return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ImportCsvLoginToLastpass)}),[]),(0,F.BX)(ne.k,{flexDirection:"column",gap:4,children:[(0,F.tZ)(N.j49,{size:"medium",color:"ds.text.neutral.quiet",children:r.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:"3"})}),(0,F.BX)(ne.k,{flexDirection:"column",sx:{maxWidth:"480px"},children:[(0,F.tZ)(N.X6q,{sx:{marginY:"12px"},size:"x-small",children:r(jS,{source:r(WS)})}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"},children:r(GS,{source:r(WS)})}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"},children:r(KS,{source:r(WS)})}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"},children:r(YS)}),(0,F.tZ)(V.k,{sx:{marginY:"12px"},mood:"brand",title:r.markup("webapp_account_import_help_tip_infobox_markup",{supportLink:i.WK,source:r(WS)},{linkTarget:"_blank",onLinkClicked:()=>ax(je.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})}),n?(0,F.tZ)(V.k,{mood:"danger",size:"large",actions:[(0,F.tZ)(w.z,{intensity:"quiet",mood:"danger",size:"small",onClick:()=>s.push(`${o.importData}/${Cv.ImportSource}`),children:r("webapp_account_import_direct_import_error_import_csv")},"import"),(0,F.tZ)(w.z,{intensity:"catchy",mood:"danger",size:"small",onClick:()=>{rx(je.BackupFileType.Csv,Qf.Q8.Lastpass,je.TransferDataStep.DecryptLastpassVault,!0),s.go(0)},children:r("webapp_account_import_direct_import_error_try_again")},"tryAgain")],title:r("webapp_account_import_direct_import_error_title"),description:r("webapp_account_import_direct_import_error_body")}):null]}),(0,F.BX)(ne.k,{gap:6,children:[(0,F.tZ)(w.z,{onClick:t,mood:"neutral",intensity:"quiet",children:r("_common_action_back")}),(0,F.tZ)(w.z,{type:"button",mood:"brand",intensity:"catchy",onClick:e,layout:"iconTrailing",icon:VS||(VS=(0,F.tZ)(st.JO,{name:"ActionOpenExternalLinkOutlined"})),children:r.markup("webapp_account_import_source_direct_import_button_markup",{source:r(WS)})})]})]})},QS=({error:e,processLastPassData:t,login:n,password:i,handlePasswordInputChange:r,handleLoginInputChange:o,handleBackButtonClick:s})=>{const l=(0,a.k6)(),{translate:c}=(0,v.Z)(),{routes:d}=(0,a.Xo)(),{importSource:p}=px();return(0,F.BX)(ne.k,{flexDirection:"column",gap:4,children:[(0,F.tZ)(N.j49,{size:"medium",color:"ds.text.neutral.quiet",children:c.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:"3"})}),(0,F.tZ)(N.X6q,{size:"small",children:c("webapp_account_import_direct_import_lastpass_header")}),(0,F.BX)(ne.k,{flexDirection:"column",gap:4,as:"form",onSubmit:t,children:[(0,F.tZ)(N.nvN,{children:c("webapp_account_import_direct_import_lastpass_import_tip")}),(0,F.tZ)(N.oil,{fullWidth:!0,value:n,label:c("webapp_import_preview_header_login"),placeholder:c("webapp_account_import_direct_import_lastpass_login_placeholder"),onChange:o}),(0,F.tZ)(N.WUg,{fullWidth:!0,value:i,label:c("webapp_import_preview_header_password"),placeholder:c("webapp_account_import_direct_import_lastpass_password_placeholder"),onChange:r,hidePasswordTooltipText:c("_common_password_hide_label"),showPasswordTooltipText:c("_common_password_show_label")}),e?(0,F.tZ)(V.k,{mood:"danger",size:"large",actions:[(0,F.tZ)(w.z,{size:"small",intensity:"quiet",mood:"danger",onClick:()=>l.push(`${d.importData}/${Cv.ImportSource}`),children:c("webapp_account_import_direct_import_error_import_csv")},"import"),(0,F.tZ)(w.z,{size:"small",intensity:"catchy",mood:"danger",onClick:()=>{rx(je.BackupFileType.Csv,p,je.TransferDataStep.DecryptLastpassVault,!0),l.go(0)},children:c("webapp_account_import_direct_import_error_try_again")},"try-again")],title:c("webapp_account_import_direct_import_error_title"),description:c("webapp_account_import_direct_import_error_body")}):null,(0,F.BX)(ne.k,{gap:4,children:[(0,F.tZ)(w.z,{onClick:s,mood:"neutral",intensity:"quiet",children:c("_common_action_back")}),(0,F.tZ)(w.z,{disabled:!i||!n,type:"submit",children:c("webapp_account_import_direct_import_lastpass_preview_button")})]})]})]})};n(42403),n(98849),n(78895),n(45595),n(25676);let JS=function(e){return e.LPAV="LPAV",e.ENCU="ENCU",e.ACCT="ACCT",e.ACFL="ACFL",e.ACOF="ACOF",e.LPFF="LPFF",e.FFCF="FFCF",e.AACT="AACT",e.AACF="AACF",e.ATTA="ATTA",e.EQDN="EQDN",e.PREF="PREF",e.SHAL="SHAL",e.SHAR="SHAR",e.HSHR="HSHR",e.SPMT="SPMT",e.IDNT="IDNT",e.NEVR="NEVR",e.URUL="URUL",e.ENTU="ENTU",e.TATE="TATE",e.PREM="PREM",e.PNDG="PNDG",e.PRIK="PRIK",e.SOSS="SOSS",e.ENTM="ENTM",e.TOTP="TOTP",e.SSOA="SSOA",e.MSFI="MSFI",e.URLR="URLR",e.EQDO="EQDO",e.NURL="NURL",e}({});const ev=[{name:"aid"},{name:"encname",isEncrypted:!0},{name:"encgroup",isEncrypted:!0},{name:"url",isEncrypted:!0},{name:"extra",isEncrypted:!0},{name:"fav"},{name:"sharedfromaid"},{name:"username",isEncrypted:!0},{name:"password",isEncrypted:!0},{name:"pwprotect"},{name:"genpw"},{name:"sn"},{name:"last_touch"},{name:"autologin"},{name:"never_autofill"},{name:"realm_data"},{name:"fiid"},{name:"custom_js"},{name:"submit_id"},{name:"captcha_id"},{name:"urid"},{name:"basic_auth"},{name:"method"},{name:"action"},{name:"groupid"},{name:"deleted"},{name:"attachkey",isEncrypted:!0},{name:"attachpresent"},{name:"individualshare"},{name:"notetype"},{name:"noalert"},{name:"last_modified_gmt"},{name:"hasbeenshared"},{name:"last_pwchange_gmt"},{name:"created_gmt"},{name:"vulnerable"},{name:"pwch"},{name:"breached"},{name:"template"},{name:"totp",isEncrypted:!0},{name:"trustedHostnames"},{name:"last_credential_monitoring_gmt"},{name:"last_credential_monitoring_state"}];var tv=n(6344);var nv=n(882),av=n(50943);const iv=async(e,t)=>e.length?e[0]==="!".charCodeAt(0)&&e.length%16==1&&e.length>32?(new TextDecoder).decode(await(0,nv.$)(t,e.slice(1,17),e.slice(17))):(new TextDecoder).decode((0,av.X)(t,e)):"",rv=e=>{let t=0;const n=[],a=new DataView(e.data.buffer,e.data.byteOffset,e.data.byteLength);for(;t<e.size;){const i=a.getUint32(t,!1);t+=4;const r=e.data.subarray(t,t+i);t+=i,n.push(r)}return n};var ov=n(57705),sv=n(44647);const lv=async(e,t,n,a,i)=>i?await iv(e,n).catch((n=>("url"!==t&&console.error(`[Direct Import][LastPass]: Couldn't decrypt field "${t}"`,n),((e,t,n)=>{try{return n.decode((0,ov.i)((0,sv.v)(e)))}catch(e){return console.error(`[Direct Import][LastPass]: Couldn't decode field "${t}"`,e),""}})(e,t,a)))):((e,t,n)=>{try{return n.decode(e)}catch(e){return console.error(`[Direct Import][LastPass]: Couldn't decode field "${t}"`,e),""}})(e,t,a),cv=async(e,t,n)=>{const a=new TextDecoder,i=rv(e),r=await Promise.all(i.map((async(e,n)=>{var i;const{name:r,isEncrypted:o}=null!=(i=ev[n])?i:{name:n,isEncrypted:!1};return{[r]:await lv(e,r,t,a,o)}}))).then((e=>e.reduce(((e,t)=>({...e,...t})),{})));return""===r.encgroup&&n&&(r.encgroup=n),r};async function dv(e,t){const n=t.slice(0,16),a=(0,ov.i)((new TextDecoder).decode(e.data)),i=await(0,nv.$)(new Uint8Array(t),new Uint8Array(n),new Uint8Array(a)),r=(new TextDecoder).decode(i).match(/^LastPassPrivateKey<(?<hexKey>.*)>LastPassPrivateKey$/);if(!r||!r.groups)throw new Error("Failed to extract hex key");const o=r.groups.hexKey;return(0,ov.i)(o)}var pv=n(43469);const uv=e=>new Uint8Array(atob((new TextDecoder).decode(e)).split("").map((e=>e.charCodeAt(0)))),_v=async(e,t,n)=>{const a=rv(e),i=a[0],r=(o=a[1],(0,ov.i)((new TextDecoder).decode(o)));var o;const s=a[2],l=a[5];let c;c=0===l.byteLength?new Uint8Array(await(0,pv.G)(n,r,"SHA-256")):new Uint8Array((0,ov.i)(await iv(l,t)));const d=await(async(e,t)=>{if(!e.length)return"";if(e[0]==="!".charCodeAt(0)){const n=uv(e.slice(1,25)),a=uv(e.slice(26));return(new TextDecoder).decode(await(0,nv.$)(t,n,a))}return(new TextDecoder).decode((0,av.X)(t,uv(e)))})(s,c);return{id:i,name:d,encryptionKey:c}},mv="_common_generic_error",hv="PHPSESSID",gv=100100,bv=()=>{const[e,t]=(0,C.useState)(""),[n,i]=(0,C.useState)(0),[r,o]=(0,C.useState)(0),[s,l]=(0,C.useState)(null),[c,d]=(0,C.useState)(""),[p,u]=(0,C.useState)(""),_=(0,Ct.V)(),{translate:m}=(0,v.Z)(),{preview:{processFile:h},importSource:g}=px(),{routes:b}=(0,a.Xo)(),w=(0,La.k6)(),y=!!s,{listenForLastPassCookie:f,cookieData:x}=(()=>{const[e,t]=(0,C.useState)(""),n=(0,C.useRef)(void 0),{preview:{previewFile:i,state:r},setPreviewDataItems:o,setPreviewDataHeaders:s,previewDataHeaders:l,previewDataItems:c}=px(),{routes:d}=(0,a.Xo)(),p=(0,jn.I)(),u=(0,a.k6)(),_=(0,f_.E)(),m=_.status===qn.rq.Success&&_.data.length>0&&p.status===qn.rq.Success&&!p.isDisabled;return(0,C.useEffect)((()=>{(0,US.O)({url:`https://${qS}`,name:HS})}),[]),(0,C.useEffect)((()=>()=>{clearInterval(n.current)}),[]),(0,C.useEffect)((()=>{if(l.length&&!(0,Ns.isEmpty)(c)){const e=m?Cv.ImportSpaceSelect:Cv.ImportPreview;u.push(`/${Cv.ImportRoot}/${e}`)}}),[m,u,l.length,c,d.importData]),(0,C.useEffect)((()=>{r.file&&r.fileName&&r.format&&i(Qf.Q8.Lastpass).then((e=>{if(e.success&&e.data.items.length){const t={};e.data.items.forEach((e=>{t[e.baseDataModel.Id]=e})),o(t),s(e.data.headers)}}))}),[r.file,i,o,s,m,u,d.importData,r.fileName,r.format]),{listenForLastPassCookie:e=>{n.current&&window.clearInterval(n.current),n.current=window.setInterval((async()=>{const a=(await(0,FS.g)({domain:qS,name:HS})).find((e=>"lastpass.com"===e.domain));await(0,XS.U)(e).then((e=>{var t;return new URL(null!=(t=e?.url)?t:"").pathname.includes("vault")}))&&a&&(t(a.value),window.clearInterval(n.current))}),500)},cookieData:e}})();Rx({importSource:g,importStep:y?je.TransferDataStep.DecryptLastpassVault:je.TransferDataStep.LoginToLastpass,isDirectImport:!0}),(0,C.useEffect)((()=>{(async()=>{const e=await(0,MS.T)();e?.id&&i(e.id)})()}),[]),(0,C.useEffect)((()=>{y&&(0,$e.Nc)(je.PageView.ImportCsvDecryptLastpassVault)}),[y]);const S=()=>(0,Je.U)({url:`https://lastpass.com/?ac=1&lpnorefresh=1&email=${c}`,active:!0}).then((e=>{var t;const n=null!=(t=e.id)?t:0;o(n),f(n)}));(0,C.useEffect)((()=>{S()}),[]);const Z=(0,C.useCallback)((()=>{y||(t(""),fetch("https://lastpass.com/getaccts.php?mobile=1&hasplugin=1.6.1.GIT&requestsrc=cli&shap=1&includesharedfolderformfillprofiles=1&includeemergencyaccess=1&includependingsharedfolders=1&includelinkedsharedfolders=1&includepasskeys=1",{method:"GET",headers:{Cookie:`${hv}=${x}`}}).then((e=>{if(!e.ok)throw new Error(`[Direct Import][LastPass]: Couldn't fetch the vault file. (HTTP${e.status})`);return e.arrayBuffer()})).then((e=>{return t=e,new Promise(((e,n)=>{let a=0;const i=[];try{const n=new DataView(t);for(;a<n.byteLength;){const e=(new TextDecoder).decode(new Uint8Array(t,a,4));a+=4;const r=n.getUint32(a,!1);a+=4;const o=new Uint8Array(t,a,r);a+=r,Object.values(JS).includes(e)&&i.push({identifier:e,size:r,data:o})}e(i)}catch(e){n(new Error("Failed to parse the LastPass vault data blocks",{cause:e}))}}));var t})).then((e=>{l(e),n&&(0,BS.V)(n,{active:!0}),r&&((0,zS.O)([r]),_.showAlert(m("webapp_account_import_direct_import_success_toast",{source:"LastPass"}),N.BLW.SUCCESS))})).catch((e=>{ix(je.BackupFileType.Csv,g,je.TransferDataStep.DecryptLastpassVault,je.TransferDataStatus.FailedToFetchVault),t(m(mv)),console.error("[Direct Import][LastPass]: Something went wrong while fetching vault.",e)})))}),[x,n,y,r,m]);(0,C.useEffect)((()=>{x&&Z()}),[x,Z]);const k=()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:je.BackupFileType.Csv,importSource:je.TransferDataSource.SourceLastpass,importDataStep:y?je.TransferDataStep.DecryptLastpassVault:je.TransferDataStep.LoginToLastpass,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importDataDropAction:je.ImportDataDropAction.CancelProcess,isDirectImport:!0})),w.push(`${b.importData}/${Cv.ImportSource}`)};return y?(0,F.tZ)(QS,{processLastPassData:async e=>{e.preventDefault();try{if(!y||!c||!p)return void t(m(mv));const e=await(async()=>await fetch(`https://lastpass.com/iterations.php?email=${c}`,{method:"GET",headers:{Cookie:`${hv}=${x}`}}).then((e=>e.text())).then((e=>{const t=parseInt(e,10);return isNaN(t)?gv:t})).catch((()=>gv)))(),n=await async function(e,t,n,a){const i=await((e,t,n)=>{const a=new TextEncoder;return(0,tv.x)(a.encode(t),a.encode(e.toLocaleLowerCase()),{iterations:n,hashType:"SHA-256"})})(t,n,a);let r,o,s,l=i;if(!await(async(e,t,n)=>{if(!n||n.identifier!==JS.ENCU)throw new Error("ENCU data block expected");return await iv(n.data,t)===e})(t,l,e.find((({identifier:e})=>e===JS.ENCU))))return console.error("[Direct Import][LastPass]: Data decryption failed"),[];const c=[];for await(const t of e)switch(t.identifier){case JS.PRIK:r=await dv(t,l);break;case JS.SHAR:{if(!r)break;const e=await _v(t,i,r);o=e.encryptionKey,s=e.name,l=o;break}case JS.ACCT:c.push(await cv(t,l,s));case JS.ENCU:case JS.NEVR:case JS.SOSS:case JS.TATE:case JS.TOTP:case JS.PREF:case JS.SPMT:case JS.EQDN:case JS.URUL:}return c}(s,c,p,e),a=(e=>{const t=e.reduce(((e,t)=>("http://group"===t.url||e.push((e=>{return`"${e.url}","${e.username}","${e.password}","${e.totp}","${t=e.extra,t.replaceAll('"','""')}","${e.encname}","${e.encgroup}","${e.fav}"`;var t})(t)),e)),["url,username,password,otp,extra,name,grouping,fav"]).join("\n"),n=new Blob([t],{type:"text/csv"});return new File([n],"lastpass.csv",{type:"text/csv"})})(n);h(a)}catch(e){ix(je.BackupFileType.Csv,g,je.TransferDataStep.DecryptLastpassVault,je.TransferDataStatus.FailedToDecryptVault),t(m(mv)),console.error("[Direct Import][LastPass]: Something went wrong while processing vault.",e.stack)}},error:e,handleBackButtonClick:k,handleLoginInputChange:e=>{d(e.target.value)},handlePasswordInputChange:e=>{u(e.target.value)},login:c,password:p}):(0,F.tZ)($S,{error:e,openLastPassLoginTab:S,handleBackButtonClick:k})};var wv;const yv=()=>{const{translate:e}=(0,v.Z)(),{source:t}=(0,a.UO)(),{routes:n}=(0,a.Xo)(),i=(0,a.k6)();return t===Bx.LastPass?wv||(wv=(0,F.tZ)(bv,{})):(0,F.BX)(ne.k,{gap:6,children:[(0,F.tZ)(N.X6q,{children:e("_common_generic_error")}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",onClick:()=>{i.push(n.importData)},children:e("_common_action_back")})]})};var fv,xv,Sv;const vv=()=>{const{path:e}=(0,La.$B)(),{pathname:t}=(0,La.TH)(),{translate:n}=(0,v.Z)(),{openDialog:i,shouldShowFrozenStateDialog:r}=(0,c.Ub)(),o=new Set([`${e}/${Cv.ImportPreview}`]);return(0,C.useEffect)((()=>{r&&i()}),[r]),(0,F.tZ)(dx,{children:(0,F.BX)(ne.k,{flexDirection:"column",sx:{backgroundColor:"ds.background.alternate",height:"100%",overflowY:"scroll",flexWrap:"nowrap"},children:[(0,F.tZ)(ne.k,{flexDirection:"column",sx:{padding:"16px 24px"},children:(0,F.tZ)(_o.h,{startWidgets:(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:n("webapp_import_title")}),endWidget:fv||(fv=(0,F.tZ)(mo.D,{}))})}),(0,F.BX)(ne.k,{flexDirection:"column",sx:{padding:"0px 24px 36px 24px"},children:[xv||(xv=(0,F.tZ)(RS,{})),(0,F.BX)(ne.k,{sx:{gap:"24px",flexDirection:"column"},children:[(0,F.tZ)(ne.k,{flexDirection:"column",sx:{maxWidth:o.has(t)?"100%":"500px"},children:(0,F.BX)(La.rs,{children:[(0,F.tZ)(La.AW,{exact:!0,path:`${e}/${Cv.ImportSource}`,component:rS}),(0,F.tZ)(La.AW,{path:`${e}/${Cv.ImportSelect}`,component:xS}),(0,F.tZ)(La.AW,{path:`${e}/${Cv.ImportSpaceSelect}`,component:OS}),(0,F.tZ)(La.AW,{path:`${e}/${Cv.SecureImport}`,component:AS}),(0,F.tZ)(La.AW,{path:`${e}/${Cv.ImportPreview}`,component:sS}),(0,F.tZ)(La.AW,{path:`${e}/${Cv.ImportSummary}`,component:kS}),(0,F.tZ)(La.AW,{path:`${e}/${Cv.DirectImport}/:source`,component:yv}),(0,F.tZ)(a.l_,{exact:!0,from:"*",to:`${e}/${Cv.ImportSource}`})]})}),Sv||(Sv=(0,F.tZ)($f,{}))]})]})]})})};let Cv=function(e){return e.ImportRoot="import",e.ImportSource="source",e.ImportSelect="select",e.SecureImport="secure-import",e.ImportPreview="preview",e.ImportSpaceSelect="space-select",e.ImportSummary="summary",e.DirectImport="direct-import",e}({});const Zv=({path:e})=>(0,F.tZ)(a.AW,{path:e,component:vv}),kv=()=>{const{translate:e}=(0,v.Z)(),t=(0,Es.U)(),n=(0,Zt.l)(),{isLoading:a,isFreeB2C:i}=(0,Jg.eW)();return a||!i||null===n||n?null:(0,F.BX)(N.Zbd,{sx:{display:"flex",flexDirection:"column",padding:"32px 24px",background:"ds.container.agnostic.neutral.supershy",borderRadius:"8px",gap:"8px",border:"1px solid ds.border.neutral.quiet.idle",maxWidth:"720px",height:"250px"},children:[(0,F.tZ)(ca.C,{mood:"brand",intensity:"quiet",label:e("webapp_import_upgrade_badge"),iconName:"PremiumOutlined",layout:"iconLeading"}),(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.block.medium",color:"ds.text.neutral.standard",children:e("webapp_import_upgrade_title")}),(0,F.tZ)(D.n,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard",children:e("webapp_import_upgrade_description")}),(0,F.tZ)(w.z,{sx:{marginTop:"22px",alignSelf:"flex-end"},mood:"brand",intensity:"quiet",icon:"PremiumOutlined",layout:"iconLeading",onClick:()=>{const e=`https://www.dashlane.com/getpremium?subCode=${null!=t?t:""}`;(0,$e.Kz)(new je.UserClickEvent({clickOrigin:je.ClickOrigin.ImportDataPasswordLimitReached,button:je.Button.BuyDashlane})),(0,Oe.Yo)(e)},children:e("webapp_import_upgrade_button")})]})},Iv={"1password":je.TransferDataSource.Source1password,bitwarden:je.TransferDataSource.SourceBitwarden,chrome:je.TransferDataSource.SourceChrome,dash:je.TransferDataSource.SourceDash,edge:je.TransferDataSource.SourceEdge,firefox:je.TransferDataSource.SourceFirefox,keepass:je.TransferDataSource.SourceKeepass,keeper:je.TransferDataSource.SourceKeeper,lastpass:je.TransferDataSource.SourceLastpass,other:je.TransferDataSource.SourceOther,safari:je.TransferDataSource.SourceSafari};let Ev=function(e){return e.DIRECT="direct",e.FILE="file",e}({});const Dv={"1password":"https://support.dashlane.com/hc/articles/7864226708882",bitwarden:"https://support.dashlane.com/hc/articles/7865404063122",chrome:"https://support.dashlane.com/hc/articles/7874222410770",dash:"https://support.dashlane.com/hc/articles/7874554196626",edge:"https://support.dashlane.com/hc/articles/7874164777618",firefox:"https://support.dashlane.com/hc/articles/7874287780626",keepass:"https://support.dashlane.com/hc/articles/7865061516434",keeper:"https://support.dashlane.com/hc/articles/7865510731666",lastpass:"https://support.dashlane.com/hc/articles/7865163497618",other:"https://support.dashlane.com/hc/articles/360004101920#csv",safari:"https://support.dashlane.com/hc/articles/7874371120274"},Tv={"1password":"webapp_account_import_select_1password_error_info_markup",bitwarden:"webapp_account_import_select_bitwarden_error_info_markup",chrome:"webapp_account_import_select_chrome_error_info_markup",dash:"webapp_account_import_select_dash_error_info_markup",edge:"webapp_account_import_select_edge_error_info_markup",firefox:"webapp_account_import_select_firefox_error_info_markup",keepass:"webapp_account_import_select_keepass_error_info_markup",keeper:"webapp_account_import_select_keeper_error_info_markup",lastpass:"webapp_account_import_select_lastpass_error_info_markup",other:"webapp_account_import_select_other_error_info_markup",safari:"webapp_account_import_select_safari_error_info_markup"},Av=(Qf.G8.Csv,je.BackupFileType.Csv,Qf.G8.Dash,je.BackupFileType.SecureVault,(e,t,n,a)=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:e,importDataStatus:je.TransferDataStatus.FailureDuringImport,importSource:Iv[t],importDataStep:je.TransferDataStep.PreviewItemsToImport,itemsToImportCount:n,isDirectImport:a}))}),Nv=e=>{(0,$e.Kz)(new je.UserOpenHelpCenterEvent({helpCenterArticleCta:e}))},Ov=(e,t,n,a)=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:e,importSource:Iv[t],importDataStep:n,importDataStatus:a,isDirectImport:!0}))},Pv=(e,t,n,a)=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:e,importSource:Iv[t],importDataStep:n,importDataStatus:je.TransferDataStatus.Start,isDirectImport:a}))},Lv=()=>{const[e,t]=(0,C.useState)(null),[n,a]=(0,C.useState)(""),[i,r]=(0,C.useState)(null),[o,s]=(0,C.useState)(!1),[l,c]=(0,C.useState)(0);return{previewFile:async(t,a)=>{const r=await(async(t,a)=>{if(!i||!e||!n)throw new Error("Need to process file first");const r=await(e=>new Promise(((t,n)=>{const a=new FileReader;a.readAsText(e,"UTF-8"),a.onload=function(e){e.target&&"string"==typeof e.target.result&&t(e.target.result)},a.onerror=n})))(e);switch(i){case Qf.G8.Csv:return{content:{importSource:t,data:r},format:i,name:n};case Qf.G8.Dash:if(!a)throw new Error("Password required for DASH file");return{content:{importSource:t,data:r},format:i,name:n,password:a};default:(0,E_.U)(i)}})(t,a),o=await et.C.previewPersonalData(r);return o.success||i===Qf.G8.Dash&&o.error===Qf.rp.BadPassword&&(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:je.BackupFileType.SecureVault,importDataStatus:je.TransferDataStatus.WrongFilePassword,importSource:Iv[Qf.Q8.Dash],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),o},processFile:e=>{const n=(e=>{const t=e.name.toUpperCase();if(t.endsWith(".DASH"))return Qf.G8.Dash;if(t.endsWith(".CSV"))return Qf.G8.Csv;throw new Error("Unsupported")})(e);t(e),r(n),a(e.name),n===Qf.G8.Dash&&s(!0)},resetState:()=>{t(null),a(""),r(null),s(!1),c(0)},setAttemptedCount:c,state:{format:i,fileName:n,file:e,requiresPassword:o,attemptedItemCount:l}}};let Rv=function(e){return e.IDLE="idle",e.PROCESSING="processing",e.ERROR_GENERIC="error",e.SUCCESS="success",e}({});const Mv=()=>{throw new Error("method called before initialization")},Bv=C.createContext({preview:{previewFile:Mv,processFile:Mv,resetState:Mv,setAttemptedCount:Mv,state:{format:null,fileName:"",file:null,requiresPassword:!1,attemptedItemCount:0}},import:{startImport:Mv,dismiss:Mv,state:{status:Rv.IDLE}},importSource:Qf.Q8.Other,setImportSource:Mv,previewDataItems:{},setPreviewDataItems:Mv,previewDataHeaders:[],setPreviewDataHeaders:Mv,resetContext:Mv,defaultSpace:null,setDefaultSpace:Mv,importMethod:Ev.FILE,setImportMethod:Mv}),zv=({children:e})=>{const t=Lv(),n=(()=>{const[e,t]=(0,C.useState)({status:Rv.IDLE}),n=(()=>{const e=(0,qn.qr)({queryConfig:{queryParam:void 0,query:et.C.getImportPersonalDataStatus},liveConfig:{live:et.C.liveImportPersonalDataStatus}},[]);return e.status===qn.rq.Success?e.data:void 0})();(0,C.useEffect)((()=>{if(!n)return;const a=(e=>{switch(e.status){case Qf.qJ.Error:return{status:Rv.ERROR_GENERIC,name:e.name};case Qf.qJ.Idle:return{status:Rv.IDLE};case Qf.qJ.Processing:return{status:Rv.PROCESSING,name:e.name};case Qf.qJ.Success:return{status:Rv.SUCCESS,name:e.name,totalCredentials:e.totalCount,importedCredentials:e.successCount,duplicateCredentials:e.duplicateCount}}(0,E_.U)(e)})(n);a&&e.status!==a.status&&t(a)}),[n]);const a=(0,C.useCallback)((async(e,n,a,i)=>{const r=await et.C.importPersonalData(e);if(!r.success&&(t({status:Rv.ERROR_GENERIC,name:e.name}),a&&n)){const t=i===Ev.DIRECT;Av(a,n,e.content.length,t)}return r}),[]),i=(0,C.useCallback)((()=>{et.C.dismissPersonalDataImportNotifications(),t({status:Rv.IDLE})}),[]);return{startImport:a,state:e,dismiss:i}})(),[a,i]=(0,C.useState)(Ev.FILE),[r,o]=(0,C.useState)(Qf.Q8.Other),[s,l]=(0,C.useState)({}),[c,d]=(0,C.useState)([]),[p,u]=(0,C.useState)(null);return(0,F.tZ)(Bv.Provider,{value:{preview:t,import:n,importSource:r,setImportSource:o,previewDataItems:s,setPreviewDataItems:l,previewDataHeaders:c,setPreviewDataHeaders:d,resetContext:()=>{t.resetState(),n.dismiss(),o(Qf.Q8.Other),u(null),l({}),d([])},defaultSpace:p,setDefaultSpace:u,importMethod:a,setImportMethod:i},children:e})},Uv=()=>C.useContext(Bv),Fv=75,Xv={verticalAlign:"middle",textAlign:"left",backgroundClip:"padding-box",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle",minWidth:300,maxWidth:300,maxHeight:75,height:75,minHeight:75},qv={color:"ds.text.neutral.quiet",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",padding:"12px",maxHeight:75,"&:hover":{whiteSpace:"break-spaces",overflow:"auto"}},Hv={...Xv,paddingY:0,paddingX:"24px",position:"sticky",top:0,backgroundColor:"ds.container.agnostic.neutral.standard",height:"50px",zIndex:"2"},Vv={maxHeight:Fv,height:Fv,minHeight:Fv},Wv={KWAuthentifiant:(0,F.tZ)(st.JO,{name:"ItemLoginFilled",size:"small",color:"ds.text.neutral.standard"}),KWSecureNote:(0,F.tZ)(st.JO,{name:"ItemSecureNoteFilled",size:"small",color:"ds.text.neutral.standard"}),KWBankStatement:(0,F.tZ)(st.JO,{name:"ItemBankAccountFilled",size:"small",color:"ds.text.neutral.standard"}),KWPaymentMean_creditCard:(0,F.tZ)(st.JO,{name:"ItemPaymentFilled",size:"small",color:"ds.text.neutral.standard"}),DoNotImport:null},jv={KWAuthentifiant:"webapp_import_item_type_login",KWSecureNote:"webapp_import_item_type_secure_note",KWBankStatement:"webapp_import_item_type_bank",KWPaymentMean_creditCard:"webapp_import_item_type_payment",DoNotImport:"webapp_import_item_type_do_not_import"},Gv=(e,t,n)=>{let a=e.matched?t.baseDataModel[e.matched]:t.rawData[e.original];switch(e.matched){case"Password":a=t.baseDataModel[e.matched]?(0,F.tZ)(bx.h,{passwordInputProps:{readOnly:!0,value:t.baseDataModel[e.matched],hidePasswordTooltipText:n("_common_password_hide_label"),showPasswordTooltipText:n("_common_password_show_label")}}):null;break;case"Content":case"Note":switch(t.baseDataModel.kwType){case Ot.dJ.KWSecureNote:a=t.baseDataModel.Content;break;case Ot.dJ.KWAuthentifiant:a=t.baseDataModel.Note}}return a||(a="--"),a},Kv=({wrapperRef:e,tableData:t,tableHeaders:n,disabledItemRows:a,spaceList:i,handleItemTypeChange:r,handleSpaceSelectChange:o})=>{var s;const[l,c]=(0,C.useState)(0),[d,p]=(0,C.useState)(0),[u,_]=(0,C.useState)(0),m=(0,jn.I)(),h=m.status===R.rq.Success&&!m.isDisabled,{translate:g}=(0,v.Z)(),b=null!=(s=e.current?.clientHeight)?s:1,w=Math.floor(4*b/75),y=1+n.length+(i.length?1:0),f=(0,C.useMemo)((()=>Object.keys(jv).reduce(((e,t)=>({...e,[t]:{value:t,label:(0,F.BX)(ne.k,{alignItems:"center",children:[Wv[t],(0,F.tZ)("span",{sx:{marginLeft:2},children:g(jv[t])})]})}})),{})),[g]),x=g("webapp_form_field_personal_space"),S=(0,C.useMemo)((()=>[...i.reduce(((e,t)=>[...e,{value:t.teamId,label:(0,F.BX)(ne.k,{alignItems:"center",children:[(0,F.tZ)(Ji.R,{space:{...t,id:t.teamId,name:t.teamName}}),(0,F.tZ)("span",{sx:{marginLeft:2},children:t.teamName})]})}]),[]),{value:"",label:(0,F.BX)(ne.k,{alignItems:"center",children:[(0,F.tZ)(Ji.R,{space:{id:"",name:x,letter:x[0]}}),(0,F.tZ)("span",{sx:{marginLeft:2},children:x})]})}]),[x,i]),Z=({position:e})=>{const n="start"===e?l*Fv:(t.length-d)*Fv;return(0,F.tZ)("tr",{sx:{height:n},children:(0,F.tZ)("td",{colSpan:y,children:(0,F.tZ)(wx.h,{width:"100%",height:n})})},`${e}-loader`)},k=(0,C.useCallback)((e=>{const n=Math.floor(e-w-b/2),a=Math.floor(Math.max(0,Math.floor(n/Fv))),i=Math.max(a+w,1),r=Math.floor(Math.min(i,t.length));c(a),p(r)}),[b,w,t.length]);return(0,C.useEffect)((()=>{k(u)}),[u,k]),(0,C.useEffect)((()=>{const t=e.current,n=(0,ot.throttle)((()=>{const t=e.current?.scrollTop;void 0!==t&&_(t)}),1e3);return t?.addEventListener("scroll",n),()=>{t?.removeEventListener("scroll",n)}}),[k,e]),(0,F.BX)("tbody",{children:[0!==l?(0,F.tZ)(Z,{position:"start"}):null,t.slice(l,d).filter((([,e])=>e.baseDataModel.kwType!==Ot.dJ.KWCollection)).map((e=>{var t,s;const[l,c]=e;return(0,F.BX)("tr",{sx:Vv,children:[(0,F.tZ)("td",{sx:Xv,children:(0,F.tZ)("div",{sx:qv,children:(0,F.tZ)(N.qWE,{menuPortalTarget:document.body,isSearchable:!1,onChange:e=>{r(l,Ot.dJ[e.value])},defaultValue:f[null!=(t=c.baseDataModel.kwType)?t:Ot.dJ.KWSecureNote],options:Object.values(f)})})}),i.length&&h?(0,F.tZ)("td",{sx:Xv,children:(0,F.tZ)("div",{sx:qv,"data-testid":"space-select",children:(0,F.tZ)(N.qWE,{name:"spaceSelect",menuPortalTarget:document.body,isSearchable:!1,options:S,defaultValue:void 0!==c.baseDataModel.SpaceId?null!=(s=S.find((e=>e.value===c.baseDataModel.SpaceId)))?s:S[0]:void 0,isDisabled:a.includes(l),onChange:e=>o(l,e.value)})})}):null,n.map((e=>e.matched?(0,F.tZ)("td",{sx:Xv,children:(0,F.tZ)("div",{sx:qv,children:Gv(e,c,g)})},e.original):null))]},c.baseDataModel.Id)})),d!==t.length?(0,F.tZ)(Z,{position:"end"}):null]})},Yv=(0,C.memo)(Kv);var $v,Qv,Jv,eC;const tC={Url:"webapp_import_preview_header_url",Login:"webapp_import_preview_header_login",Password:"webapp_import_preview_header_password",OtpSecret:"webapp_import_preview_header_otp",Note:"webapp_import_preview_header_notes",Title:"webapp_import_preview_header_name",kwType:"webapp_import_preview_header_type",SpaceId:"webapp_import_preview_header_space",Other:"webapp_import_preview_header_other",CardNumber:"webapp_import_preview_header_card_number",OwnerName:"webapp_import_preview_header_card_owner",SecurityCode:"webapp_import_preview_header_card_security_code",ExpireMonth:"webapp_import_preview_header_card_expiry_month",ExpireYear:"webapp_import_preview_header_card_expiry_year",BankAccountName:"webapp_import_preview_header_bank_name",BankAccountIBAN:"webapp_import_preview_header_bank_IBAN_account_number",BankAccountBIC:"webapp_import_preview_header_bank_SWIFT_routing_number"},nC=({tableHeaders:e,tableData:t,setTableData:n,setHasChanges:a})=>{const i=(0,C.useRef)(null),r=(0,C.useRef)(null),o=(0,f_.E)(),{defaultSpace:s}=Uv(),[l,c]=(0,C.useState)([]),[d,p]=(0,C.useState)(!1),[u,_]=(0,C.useState)(!0),[m,h]=(0,C.useState)([]),g=(0,C.useMemo)((()=>{const e=new Map;return o.status===R.rq.Success&&o.data.forEach((t=>{var n;t.info?.forcedDomainsEnabled&&(d||p(!0),e.set(t.teamId,null!=(n=t.info?.teamDomains)?n:[]))})),e}),[d,o]),b=(0,jn.I)(),w=b.status===R.rq.Success&&!b.isDisabled,{translate:y}=(0,v.Z)();return(0,C.useEffect)((()=>{o.status===R.rq.Success&&c(o.data),o.status!==R.rq.Loading&&_(!1)}),[g,d,o]),(0,C.useEffect)((()=>{u||Object.keys(t).forEach((e=>{const a=t[e];if(!a)return;const i=a.baseDataModel.Url,r=a.baseDataModel.Email,o=a.baseDataModel.Login,l=i||r||o,c=a.baseDataModel.SpaceId;let d=null!=s?s:c;if(l){const t=new qt.Y(i).getRootDomain(),n=new qt.Y(r).getRootDomain(),a=new qt.Y(o).getRootDomain();for(const[i,r]of g)if(r.includes(t)||r.includes(n)||r.includes(a)){d=i,h((t=>[...t,e]));break}}c!==d&&(a.baseDataModel.SpaceId=d,n((t=>({...t,[e]:a}))))}))}),[s,g,u]),u?$v||($v=(0,F.tZ)(Xl.Z,{})):(0,F.tZ)("div",{sx:{display:"inline-grid",position:"relative",marginY:"24px"},children:(0,F.tZ)("div",{ref:i,sx:{overflow:"auto",scrollSnapType:"x mandatory",maxHeight:"50vh"},role:"region","aria-label":"Import Data Table",children:(0,F.BX)("table",{ref:r,sx:{width:"100%"},children:[(0,F.tZ)("thead",{sx:{position:"sticky",zIndex:1},children:(0,F.BX)("tr",{children:[(0,F.BX)("th",{sx:Hv,children:[(0,F.tZ)(N.j49,{size:"medium",children:y(tC.kwType)}),(0,F.tZ)(N.ua7,{content:(0,F.tZ)("div",{children:y("webapp_import_preview_item_type_tooltip")}),placement:"top",children:(0,F.tZ)(N.hU,{sx:{verticalAlign:"middle"},"aria-label":y(tC.kwType),icon:Qv||(Qv=(0,F.tZ)(N.uMt,{}))})})]}),l.length&&w?(0,F.BX)("th",{sx:Hv,children:[(0,F.tZ)(N.j49,{size:"medium",children:y(tC.SpaceId)}),(0,F.tZ)(N.ua7,{content:(0,F.tZ)("div",{children:d?y("webapp_import_preview_smart_space_tooltip"):y.markup("webapp_import_preview_space_tooltip_markup",{spaceName:l[0].teamName})}),placement:"top",children:(0,F.tZ)(N.hU,{sx:{verticalAlign:"middle"},"aria-label":y(tC.SpaceId),icon:Jv||(Jv=(0,F.tZ)(N.uMt,{}))})})]}):null,e.map((e=>e.matched?(0,F.BX)("th",{sx:Hv,children:[(0,F.tZ)(N.j49,{size:"medium",children:tC[e.matched]?y(tC[e.matched]):y(tC.Other)}),eC||(eC=(0,F.tZ)("br",{})),(0,F.tZ)(N.nvN,{size:"small",sx:{fontSize:"10px"},children:e.original?`(${e.original})`:""})]},e.original):null))]})}),(0,F.tZ)(Yv,{wrapperRef:i,tableData:Object.entries(t),tableHeaders:e,disabledItemRows:m,spaceList:l,handleItemTypeChange:(e,i)=>{const r=t[e];r&&(i===Ot.dJ.KWSecureNote&&(r.rawData.Content?r.baseDataModel.Content=r.rawData.Content:r.baseDataModel.Content=Object.entries(r.rawData).reduce(((e,[t,n])=>n?e+` ${t}: ${n} \n`:""),"")),r.baseDataModel.kwType="DoNotImport"!==i?i:void 0,n((t=>({...t,[e]:r}))),a(!0))},handleSpaceSelectChange:(e,i)=>{const r=t[e];r&&(r.baseDataModel.SpaceId=i,n((t=>({...t,[e]:r}))),a(!0))}})]})})})},aC=()=>{},iC=({isOpen:e,showCloseIcon:t})=>{const{translate:n}=(0,v.Z)();return(0,F.tZ)(b_.o,{isOpen:e,onRequestClose:aC,showCloseIcon:t,disableOutsideClickClose:!0,disableBackgroundPanelClose:!0,children:(0,F.tZ)(N.a7O,{children:(0,F.BX)(ne.k,{flexDirection:"column",alignContent:"center",justifyContent:"center",alignItems:"center",gap:"25px",children:[(0,F.tZ)(N.HoD,{size:88,"aria-hidden":"true",color:N.colors.dashGreen01}),(0,F.tZ)(N.nvN,{children:n("webapp_import_chrome_loader")})]})})})},rC=({importStep:e,importSource:t,isDirectImport:n,itemsToImportCount:i})=>{const r=(0,La.k6)(),o=(0,a.Xo)(),s=Object.values(BZ).map((e=>`${o.routes.importDataV2}/${e}`)),l=t===Qf.Q8.Dash?je.BackupFileType.SecureVault:je.BackupFileType.Csv;(0,C.useEffect)((()=>r.listen((()=>{s.includes(r.location.pathname)||(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:l,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:Iv[t],importDataDropAction:je.ImportDataDropAction.SwitchedWebappSection,importDataStep:e,itemsToImportCount:i,isDirectImport:n}))}))),[]),(0,C.useEffect)((()=>{const a=()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:l,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:Iv[t],importDataDropAction:je.ImportDataDropAction.ShutDownBrowserTab,importDataStep:e,itemsToImportCount:i,isDirectImport:n}))};return window.addEventListener("beforeunload",a),()=>{window.removeEventListener("beforeunload",a)}}),[])};var oC;const sC=()=>{const{preview:{state:e,setAttemptedCount:t},import:{startImport:n,state:i},importSource:r,previewDataItems:o,setPreviewDataItems:s,previewDataHeaders:l,importMethod:c}=Uv(),d=c===Ev.DIRECT,p=(0,a.k6)(),u=(0,Ct.V)(),{translate:_}=(0,v.Z)(),m=(0,f_.E)(),h=(0,jn.I)(),[g,b]=(0,C.useState)([]),[y,f]=(0,C.useState)(!1),[x,S]=(0,C.useState)(!1),Z=h.status===qn.rq.Success&&!h.isDisabled,k=g.length>0&&Z,I=k||d&&Z?3:2;rC({importStep:je.TransferDataStep.PreviewItemsToImport,importSource:r,isDirectImport:d,itemsToImportCount:e.attemptedItemCount}),(0,C.useEffect)((()=>{m.status===qn.rq.Success&&b(m.data)}),[m]),(0,C.useEffect)((()=>{e.file||p.push(BZ.ImportSource)}),[p,e.file]);const E=(0,C.useCallback)((()=>{u.showAlert(_("team_feedback_notification_error_generic"),N.BLW.ERROR)}),[u,_]);(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ImportCsvPreviewDataUpload)}),[]);const D=Object.values(o).filter((e=>e.baseDataModel.kwType&&e.baseDataModel.kwType!==Ot.dJ.KWCollection)).length;return(0,C.useEffect)((()=>{t(D)}),[D,t]),(0,C.useEffect)((()=>{switch(i.status){case Rv.ERROR_GENERIC:return Av(je.BackupFileType.Csv,r,e.attemptedItemCount,d),void E();case Rv.SUCCESS:return void p.push(BZ.ImportSummary)}}),[p,i.status,r,E,e.attemptedItemCount]),(0,F.BX)(ne.k,{flexDirection:"column",gap:"10px",children:[y||i.status===Rv.PROCESSING?oC||(oC=(0,F.tZ)(iC,{showCloseIcon:!1,isOpen:!0})):null,(0,F.tZ)(Tx.X,{titleText:_("webapp_import_unsaved_changes_title"),bodyText:_("webapp_import_unsaved_changes_body"),onUnsavedChangesCaught:()=>(0,$e.Nc)(je.PageView.ImportLeaveProcess),onLeavePage:()=>((e,t,n)=>{(0,$e.Kz)(new je.UserImportDataEvent({importSource:Iv[e],itemsToImportCount:t,backupFileType:je.BackupFileType.Csv,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importDataStep:je.TransferDataStep.PreviewItemsToImport,importDataDropAction:je.ImportDataDropAction.CancelProcess,isDirectImport:n}))})(r,Object.keys(o).length,d),dirty:!!e.fileName&&i.status!==Rv.SUCCESS&&x}),(0,F.tZ)(N.j49,{children:_.markup("webapp_import_step_tracker_markup",{currentStep:`${I}`,totalSteps:`${I}`})}),(0,F.tZ)(N.X6q,{size:"small",children:_("webapp_import_preview_title")}),(0,F.tZ)(N.nvN,{children:_("webapp_import_preview_subtitle")}),(0,F.BX)("ul",{sx:{marginLeft:"24px",listStyle:"disc"},children:[(0,F.tZ)("li",{children:_.markup("webapp_import_preview_tip_labels_markup")}),(0,F.tZ)("li",{children:_.markup("webapp_import_preview_tip_do_not_import_markup")})]}),Object.keys(o).length?(0,F.tZ)(nC,{setHasChanges:S,tableData:o,setTableData:s,tableHeaders:l}):null,(0,F.BX)(ne.k,{gap:"16px",children:[(0,F.tZ)(w.z,{onClick:()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:je.BackupFileType.Csv,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:Iv[r],importDataDropAction:je.ImportDataDropAction.CancelProcess,importDataStep:je.TransferDataStep.PreviewItemsToImport,itemsToImportCount:e.attemptedItemCount,isDirectImport:d})),p.push({pathname:k?BZ.ImportSpaceSelect:BZ.ImportSource,state:{userNavigatedAway:!0}})},type:"button",mood:"neutral",intensity:"quiet",children:_("_common_action_back")}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",disabled:!D,type:"button",onClick:async()=>{f(!0);try{if(e.format){const t=r===Qf.Q8.Dash?je.BackupFileType.SecureVault:je.BackupFileType.Csv;(await n({format:e.format,name:e.fileName,content:Object.keys(o).map((e=>o[e].baseDataModel)).filter((e=>void 0!==e.kwType))},r,t,c)).success||E()}}finally{f(!1)}},children:_.markup("webapp_import_preview_import_button_markup",{itemCount:D})}),(0,F.tZ)("div",{sx:{flex:1}}),(0,F.tZ)(N.rUS,{sx:{alignSelf:"center"},color:"ds.text.brand.standard",href:Dv[r],target:"_blank",rel:"noopener noreferrer",onClick:()=>Nv(je.HelpCenterArticleCta.TroubleshootImportingIssues),children:_("webapp_import_preview_import_troubleshoot_link")})]})]})};var lC,cC,dC,pC;const uC=()=>{const{translate:e}=(0,v.Z)(),t=(0,La.k6)(),n=(0,a.Xo)(),{preview:{state:{format:i}},import:{state:r},importSource:o,defaultSpace:s,importMethod:l}=Uv(),c=l===Ev.DIRECT;return(0,C.useEffect)((()=>{const e=i===Qf.G8.Csv?je.PageView.ImportCsvSuccess:je.PageView.ImportDashSuccess;(0,$e.Nc)(e)}),[]),(0,C.useEffect)((()=>{if(null===i||r.status!==Rv.SUCCESS)return;const e=i===Qf.G8.Csv?je.BackupFileType.Csv:je.BackupFileType.SecureVault;(r.totalCredentials||e===je.BackupFileType.SecureVault)&&((e,t,n,a,i,r)=>{(0,$e.Kz)(new je.UserImportDataEvent({importSource:Iv[t],importedItemsCount:n,backupFileType:e,importDataStatus:je.TransferDataStatus.Success,itemsToImportCount:a,space:i,importDataStep:je.TransferDataStep.Success,isDirectImport:r}))})(e,o,r.importedCredentials,r.totalCredentials,""===s||null===s?je.Space.Personal:je.Space.Professional,c)}),[i,o,s,r]),(0,F.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"24px"},children:[r.status===Rv.SUCCESS?(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(I.X,{as:"h5",textStyle:"ds.title.section.medium",children:e("webapp_import_summary_title",{itemCount:r.importedCredentials})}),r.duplicateCredentials?(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:e.markup("webapp_import_summary_duplicates_markup",{count:r.duplicateCredentials})}):null,(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:i===Qf.G8.Csv?(0,F.BX)(C.Fragment,{children:[e("webapp_import_summary_text"),lC||(lC=(0,F.tZ)("br",{})),cC||(cC=(0,F.tZ)("br",{})),c?null:e("webapp_import_summary_short_tip_csv")]}):e("webapp_import_summary_short_tip_dash")})]}):r.status===Rv.ERROR_GENERIC?(0,F.tZ)(I.X,{as:"h5",textStyle:"ds.title.section.medium",sx:{marginBottom:"24px"},children:e("_common_generic_error")}):dC||(dC=(0,F.tZ)(N.HoD,{})),(0,F.tZ)(V.k,{mood:"brand",title:(0,F.BX)(C.Fragment,{children:[(0,F.tZ)("span",{children:e("webapp_account_import_select_error_info_intro")}),pC||(pC=(0,F.tZ)("br",{})),e.markup(Tv[o],{supportLink:Dv[o]},{linkTarget:"_blank"})]})}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",onClick:()=>t.push(n.routes.userCredentials),children:e("webapp_import_summary_open_logins_button")})]})};var _C=n(15618),mC=n(68371),hC=n(37587);const gC=()=>{const{data:e,status:t}=(0,L.k)(hC.B,"importSource");return t===qn.rq.Error?{status:qn.rq.Error}:t===qn.rq.Loading?{status:qn.rq.Loading}:{status:qn.rq.Success,importSource:e}};let bC=function(e){return e.DASH="DASH",e.CSV="CSV",e.DIRECT="DIRECT",e}({}),wC=function(e){return e.BITWARDEN="bitwarden",e.DASHLANE="dashlane",e.LASTPASS="lastpass",e.CHROME="chrome",e.EDGE="edge",e.FIREFOX="firefox",e.KEEPASS="keepass",e.KEEPER="keeper",e.ONE_PASSWORD="one_password",e.OTHER="other",e.SAFARI="safari",e}({});const yC=(e,t)=>{switch(`${e.toLocaleLowerCase()}_${t.toLocaleLowerCase()}`){case"bitwarden_csv":return _C.pD.BITWARDEN_CSV;case"dashlane_dash":return _C.pD.DASHLANE_DASH;case"lastpass_direct":return _C.pD.LASTPASS_DIRECT;case"chrome_csv":return _C.pD.CHROME_CSV;case"edge_csv":return _C.pD.EDGE_CSV;case"firefox_csv":return _C.pD.FIREFOX_CSV;case"keepass_csv":return _C.pD.KEEPASS_CSV;case"keeper_csv":return _C.pD.KEEPER_CSV;case"lastpass_csv":return _C.pD.LASTPASS_CSV;case"one_password_csv":return _C.pD.ONE_PASSWORD_CSV;case"safari_csv":return _C.pD.SAFARI_CSV;default:return _C.pD.OTHER_CSV}},fC={[_C.pD.BITWARDEN_CSV]:je.TransferDataSource.SourceBitwarden,[_C.pD.CHROME_CSV]:je.TransferDataSource.SourceChrome,[_C.pD.DASHLANE_DASH]:je.TransferDataSource.SourceDash,[_C.pD.EDGE_CSV]:je.TransferDataSource.SourceEdge,[_C.pD.FIREFOX_CSV]:je.TransferDataSource.SourceFirefox,[_C.pD.KEEPASS_CSV]:je.TransferDataSource.SourceKeepass,[_C.pD.KEEPER_CSV]:je.TransferDataSource.SourceKeeper,[_C.pD.LASTPASS_CSV]:je.TransferDataSource.SourceLastpass,[_C.pD.LASTPASS_DIRECT]:je.TransferDataSource.SourceLastpass,[_C.pD.ONE_PASSWORD_CSV]:je.TransferDataSource.Source1password,[_C.pD.OTHER_CSV]:je.TransferDataSource.SourceOther,[_C.pD.SAFARI_CSV]:je.TransferDataSource.SourceSafari},xC={[wC.BITWARDEN]:_C.pD.BITWARDEN_CSV,[wC.DASHLANE]:_C.pD.DASHLANE_DASH,[wC.LASTPASS]:_C.pD.LASTPASS_CSV,[wC.CHROME]:_C.pD.CHROME_CSV,[wC.EDGE]:_C.pD.EDGE_CSV,[wC.FIREFOX]:_C.pD.FIREFOX_CSV,[wC.KEEPASS]:_C.pD.KEEPASS_CSV,[wC.KEEPER]:_C.pD.KEEPER_CSV,[wC.ONE_PASSWORD]:_C.pD.ONE_PASSWORD_CSV,[wC.OTHER]:_C.pD.OTHER_CSV,[wC.SAFARI]:_C.pD.SAFARI_CSV},SC={[_C.pD.BITWARDEN_CSV]:wC.BITWARDEN,[_C.pD.CHROME_CSV]:wC.CHROME,[_C.pD.DASHLANE_DASH]:wC.DASHLANE,[_C.pD.EDGE_CSV]:wC.EDGE,[_C.pD.FIREFOX_CSV]:wC.FIREFOX,[_C.pD.KEEPASS_CSV]:wC.KEEPASS,[_C.pD.KEEPER_CSV]:wC.KEEPER,[_C.pD.LASTPASS_CSV]:wC.LASTPASS,[_C.pD.LASTPASS_DIRECT]:wC.LASTPASS,[_C.pD.ONE_PASSWORD_CSV]:wC.ONE_PASSWORD,[_C.pD.OTHER_CSV]:wC.OTHER,[_C.pD.SAFARI_CSV]:wC.SAFARI},vC={[wC.ONE_PASSWORD]:"https://support.dashlane.com/hc/articles/7864226708882",[wC.BITWARDEN]:"https://support.dashlane.com/hc/articles/7865404063122",[wC.CHROME]:"https://support.dashlane.com/hc/articles/7874222410770",[wC.DASHLANE]:"https://support.dashlane.com/hc/articles/7874554196626",[wC.EDGE]:"https://support.dashlane.com/hc/articles/7874164777618",[wC.FIREFOX]:"https://support.dashlane.com/hc/articles/7874287780626",[wC.KEEPASS]:"https://support.dashlane.com/hc/articles/7865061516434",[wC.KEEPER]:"https://support.dashlane.com/hc/articles/7865510731666",[wC.LASTPASS]:"https://support.dashlane.com/hc/articles/7865163497618",[wC.OTHER]:"https://support.dashlane.com/hc/articles/360004101920#csv",[wC.SAFARI]:"https://support.dashlane.com/hc/articles/7874371120274"},CC={[wC.ONE_PASSWORD]:"webapp_account_import_select_1password_error_info_markup",[wC.BITWARDEN]:"webapp_account_import_select_bitwarden_error_info_markup",[wC.CHROME]:"webapp_account_import_select_chrome_error_info_markup",[wC.DASHLANE]:"webapp_account_import_select_dash_error_info_markup",[wC.EDGE]:"webapp_account_import_select_edge_error_info_markup",[wC.FIREFOX]:"webapp_account_import_select_firefox_error_info_markup",[wC.KEEPASS]:"webapp_account_import_select_keepass_error_info_markup",[wC.KEEPER]:"webapp_account_import_select_keeper_error_info_markup",[wC.LASTPASS]:"webapp_account_import_select_lastpass_error_info_markup",[wC.OTHER]:"webapp_account_import_select_other_error_info_markup",[wC.SAFARI]:"webapp_account_import_select_safari_error_info_markup"};var ZC,kC;const IC={cursor:"pointer",color:"ds.text.brand.standard",transition:"all 300ms ease",textDecoration:"underline"},EC={margin:"0px 8px",color:"ds.text.neutral.quiet","& em":IC},DC={color:"ds.text.danger.quiet","& em":IC},TC={textAlign:"center",width:"100%",paddingTop:"72px",paddingBottom:"72px",backgroundColor:"ds.container.expressive.neutral.quiet.idle",borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none","* > em":{fontStyle:"initial"}},AC={...TC,backgroundColor:"ds.container.expressive.neutral.quiet.hover"},NC="webapp_import_chrome_on_import_multi_error_message_markup",OC=({accept:e,idleMessage:t,fileSelectedMessage:n,onFileDropped:a,undoFileDropped:i,setErrorMessage:r,error:o="",setFileInvalid:s,importSource:l})=>{var c;const{translate:d}=(0,v.Z)(),[p,u]=(0,C.useState)([]),_=e.includes(".dash")?je.BackupFileType.SecureVault:je.BackupFileType.Csv,m=()=>{i?.(),u([])},h=null!=n?n:d("webapp_import_chrome_file_ready"),{getRootProps:g,getInputProps:b,isDragActive:w}=(0,dS.uI)({accept:e,multiple:!1,onDropAccepted:e=>{if(1!==e.length)return(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:_,importDataStatus:je.TransferDataStatus.MultipleFilesSelected,importSource:fC[l],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),r(d.markup(NC)),void s(!0);const t=e[0];u([t.name]),r(null),s(!1);try{a(t)}catch(e){r(d.markup("webapp_import_chrome_on_import_error_message_markup")),(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:_,importDataStatus:je.TransferDataStatus.WrongFileFormat,importSource:fC[l],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),s(!0)}},onDropRejected:e=>{m(),e.length>1?((0,$e.Kz)(new je.UserImportDataEvent({backupFileType:_,importDataStatus:je.TransferDataStatus.MultipleFilesSelected,importSource:fC[l],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),r(d.markup(NC))):(l===_C.pD.DASHLANE_DASH?r(d.markup("webapp_import_invalid_dash_file_error_markup")):r(d.markup("webapp_import_invalid_file_error_markup")),(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:_,importDataStatus:je.TransferDataStatus.WrongFileFormat,importSource:fC[l],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1}))),s(!0)},noClick:p.length>0&&!o});return(0,F.tZ)("div",{...g(),sx:{padding:"8px",overflow:"hidden",border:"2px dashed",borderColor:"ds.border.neutral.standard.idle",borderRadius:"4px"},role:"button",children:(0,F.BX)("div",{sx:w?AC:TC,children:[(0,F.tZ)("input",{id:"dropzoneinput","aria-labelledby":"dropzoneinput-label",...b()}),o||0!==p.length?null:(0,F.tZ)(D.n,{as:"span",id:"dropzoneinput-label",sx:EC,children:t}),!o&&p?.length>0?(0,F.tZ)(ne.k,{flexDirection:"column",alignItems:"center",children:p?.map((e=>(0,F.BX)(C.Fragment,{children:[c||(c=(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:h})),(0,F.BX)(ne.k,{as:D.n,alignItems:"center",gap:"4px",color:"ds.text.brand.standard",size:"medium",bold:!0,children:[e,(0,F.tZ)(st.JO,{name:"ActionCloseOutlined","aria-label":d("_common_action_cancel"),size:"xsmall",onClick:m,color:"ds.text.brand.standard",sx:{cursor:"pointer"}})]})]},e)))}):null,o?(0,F.BX)(C.Fragment,{children:[ZC||(ZC=(0,F.tZ)(st.JO,{name:"FeedbackFailOutlined",size:"xlarge",color:"ds.text.danger.quiet"})),kC||(kC=(0,F.tZ)("br",{})),(0,F.tZ)(D.n,{sx:DC,children:o})]}):null]})})},PC=({importStep:e,importSource:t,isDirectImport:n,itemsToImportCount:i})=>{const r=(0,La.k6)(),o=(0,a.Xo)(),s=Object.values(BZ).map((e=>`${o.routes.importDataV2}/${e}`)),l=t===_C.pD.DASHLANE_DASH?je.BackupFileType.SecureVault:je.BackupFileType.Csv;(0,C.useEffect)((()=>r.listen((()=>{s.includes(r.location.pathname)||(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:l,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:fC[t],importDataDropAction:je.ImportDataDropAction.SwitchedWebappSection,importDataStep:e,itemsToImportCount:i,isDirectImport:n}))}))),[]),(0,C.useEffect)((()=>{const a=()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:l,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:fC[t],importDataDropAction:je.ImportDataDropAction.ShutDownBrowserTab,importDataStep:e,itemsToImportCount:i,isDirectImport:n}))};return window.addEventListener("beforeunload",a),()=>{window.removeEventListener("beforeunload",a)}}),[])};var LC;const RC={[wC.ONE_PASSWORD]:"webapp_account_import_select_1password_help_markup",[wC.BITWARDEN]:"webapp_account_import_select_bitwarden_help_markup",[wC.CHROME]:"webapp_account_import_select_chrome_help_markup",[wC.DASHLANE]:"webapp_account_import_select_dash_help_markup",[wC.EDGE]:"webapp_account_import_select_edge_help_markup",[wC.FIREFOX]:"webapp_account_import_select_firefox_help_markup",[wC.KEEPASS]:"webapp_account_import_select_keepass_help_markup",[wC.KEEPER]:"webapp_account_import_select_keeper_help_markup",[wC.LASTPASS]:"webapp_account_import_select_lastpass_help_markup",[wC.OTHER]:"webapp_account_import_select_other_help_markup",[wC.SAFARI]:"webapp_account_import_select_safari_help_markup"},MC=()=>{const[e,t]=(0,C.useState)(""),[n,a]=(0,C.useState)(!1),[i,r]=(0,C.useState)(!1),{translate:o}=(0,v.Z)(),s=(0,La.k6)(),l=(0,f_.E)(),c=(0,jn.I)(),[d,p]=(0,C.useState)([]),u=gC(),[_,m]=(0,C.useState)(),h=u.status===R.rq.Success?u.importSource:_C.pD.OTHER_CSV,g=SC[h],b=l.status===R.rq.Loading,y=c.status===R.rq.Success&&!c.isDisabled,f=d.length>0&&y,x=f?3:2;(0,C.useEffect)((()=>{l.status===R.rq.Success&&p(l.data)}),[l]),(0,C.useEffect)((()=>{const e=h===_C.pD.DASHLANE_DASH?je.PageView.ImportDash:je.PageView.ImportCsv;(0,$e.Nc)(e)}),[h]);const S=h!==_C.pD.DASHLANE_DASH,Z=S?[".csv"]:[".dash"],k=o.markup("webapp_account_import_select_idle_markup",{fileExtension:S?"CSV":"DASH"}),E=o(S?"webapp_account_import_select_ready_csv":"webapp_account_import_select_ready_dash");return PC({importStep:je.TransferDataStep.SelectFile,importSource:null!=h?h:_C.pD.OTHER_CSV,isDirectImport:!1}),c.status!==R.rq.Success?null:(0,F.BX)(yr.Z,{sx:{width:"720px"},children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:o.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:`${x}`})}),(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:o(S?"webapp_account_import_select_header_csv":"webapp_account_import_select_header_dash")}),(0,F.tZ)(OC,{onFileDropped:t=>{e&&(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:S?je.BackupFileType.Csv:je.BackupFileType.SecureVault,importDataStatus:je.TransferDataStatus.Start,importSource:fC[h],importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),m(t)},undoFileDropped:()=>m(void 0),setErrorMessage:t,error:e,accept:Z,idleMessage:k,fileSelectedMessage:E,setFileInvalid:r,importSource:h}),i&&h?(0,F.tZ)("div",{sx:{marginTop:"24px"},children:(0,F.tZ)(V.k,{mood:"brand",title:(0,F.BX)(C.Fragment,{children:[o("webapp_account_import_select_error_info_intro"),LC||(LC=(0,F.tZ)("br",{})),o.markup(CC[g],{supportLink:vC[g]},{linkTarget:"_blank"})]})})}):n&&h?(0,F.tZ)("div",{sx:{marginTop:"24px"},children:(0,F.tZ)(V.k,{mood:"danger",title:o.markup(RC[g],{supportLink:vC[g]},{linkTarget:"_blank"})})}):null,(0,F.BX)(ne.k,{flexDirection:"row",gap:"16px",justifyContent:"right",children:[(0,F.tZ)(w.z,{type:"button",mood:"neutral",intensity:"quiet",onClick:()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:S?je.BackupFileType.Csv:je.BackupFileType.SecureVault,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:fC[h],importDataDropAction:je.ImportDataDropAction.CancelProcess,importDataStep:je.TransferDataStep.SelectFile,isDirectImport:!1})),s.push(BZ.ImportSource)},children:o("_common_action_back")}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",type:"button",onClick:async()=>{if(S){const e=f?BZ.ImportSpaceSelect:BZ.ImportPreview;if(a(!0),s.push(e),_){const e=await _.arrayBuffer();new mC.b(_C.gS).uploadFile({content:e})}}else s.push(BZ.SecureImport)},disabled:!_||!!e||b,children:o("webapp_account_import_select_button_next")})]})]})},BC=(bC.CSV,je.BackupFileType.Csv,bC.DASH,je.BackupFileType.SecureVault,e=>{(0,$e.Kz)(new je.UserOpenHelpCenterEvent({helpCenterArticleCta:e}))}),zC=()=>{const{resetImport:e,startDataRetrieval:t,setImportSource:n,setDefaultSpace:a}=(0,K.u)(hC.B);return{resetImport:()=>e(void 0),startDataRetrieval:()=>t(void 0),setImportSource:e=>n({importSource:e}),setDefaultSpace:e=>a(e)}},UC=[wC.LASTPASS];let FC=function(e){return e.LastPass="lastpass",e}({});const XC={[wC.ONE_PASSWORD]:"",[wC.BITWARDEN]:"",[wC.CHROME]:"",[wC.DASHLANE]:"",[wC.EDGE]:"",[wC.FIREFOX]:"",[wC.KEEPASS]:"",[wC.KEEPER]:"",[wC.LASTPASS]:FC.LastPass,[wC.OTHER]:"",[wC.SAFARI]:""},qC=n.p+"e36c66ccea00e4397aa2.png",HC=n.p+"c072da7dadc141863465.png",VC=n.p+"3f9bf215a24b52c52cd3.png",WC=n.p+"ecc88b88a899d260b7ea.png",jC=n.p+"74678b45fa3a5c928e43.png",GC=n.p+"3bc2dd33e8396ecbd585.png",KC=n.p+"3c3062f7c9a4b4cab36d.png",YC=n.p+"a399bc830d5b92133b25.png",$C=n.p+"6ca955729a6ce5fcd04b.png",QC=n.p+"5d4cab2bf4f2e2dfecc0.png",JC=n.p+"54b11776a021b0f5c73c.png";var eZ,tZ,nZ;const aZ={CSV:{STEP_TITLE:"webapp_account_import_select_csv_step_title",STEP_TITLE_SPACES:"webapp_account_import_select_csv_step_title_spaces",STEP_ONE:"webapp_account_import_select_csv_step1",STEP_TWO:"webapp_account_import_select_csv_step2",STEP_TWO_SPACES:"webapp_account_import_select_csv_space_step2",STEP_THREE_SPACES:"webapp_account_import_select_csv_preview_step3",HELP_LINK:"webapp_account_import_select_csv_help_markup"},DASH:{STEP_TITLE:"webapp_account_import_select_dash_step_title",STEP_ONE:"webapp_account_import_select_dash_step1",STEP_TWO:"webapp_account_import_select_dash_step2",HELP_LINK:"webapp_account_import_select_dash_help_markup",PASSWORD_LIMIT_TITLE:"webapp_import_data_password_limit_infobox_title",PASSWORD_LIMIT_DESCRIPTION:"webapp_import_data_password_limit_infobox_description"},DIRECT:{STEP_TITLE:"webapp_account_import_select_direct_title",STEP_ONE:"webapp_account_import_select_direct_step1",STEP_TWO:"webapp_account_import_select_direct_step2",STEP_THREE:"webapp_account_import_select_csv_preview_step3"}},iZ={[wC.ONE_PASSWORD]:qC,[wC.BITWARDEN]:HC,[wC.CHROME]:jC,[wC.DASHLANE]:WC,[wC.EDGE]:YC,[wC.FIREFOX]:GC,[wC.KEEPASS]:$C,[wC.KEEPER]:QC,[wC.LASTPASS]:JC,[wC.OTHER]:VC,[wC.SAFARI]:KC},rZ={[wC.ONE_PASSWORD]:"webapp_account_import_source_label_1password",[wC.BITWARDEN]:"webapp_account_import_source_label_bitwarden",[wC.CHROME]:"webapp_account_import_source_label_chrome",[wC.DASHLANE]:"webapp_account_import_source_label_dash",[wC.EDGE]:"webapp_account_import_source_label_edge",[wC.FIREFOX]:"webapp_account_import_source_label_firefox",[wC.KEEPASS]:"webapp_account_import_source_label_keepass",[wC.KEEPER]:"webapp_account_import_source_label_keeper",[wC.LASTPASS]:"webapp_account_import_source_label_lastpass",[wC.OTHER]:"webapp_account_import_source_label_csv",[wC.SAFARI]:"webapp_account_import_source_label_safari"},oZ=()=>(0,F.tZ)("hr",{sx:{width:"100%",borderTop:"1px solid",borderBottom:"0",margin:"0",borderTopColor:"ds.border.neutral.quiet.idle"}}),sZ=()=>{const{translate:e}=(0,v.Z)(),t=(0,a.k6)(),n=(0,f_.E)(),i=(0,Jg.eW)(),r=(0,Xn._)(),o=gC(),{resetImport:s,setImportSource:l,startDataRetrieval:d}=zC(),p=o.status===qn.rq.Success?o.importSource:void 0,u=r.data?.[Lx.t.B2CFreeUserFrozenState],_=(0,jn.I)(),{shouldShowFrozenStateDialog:m}=(0,c.Ub)(),[h,g]=(0,C.useState)(void 0),[b,y]=(0,C.useState)(void 0),[f,x]=(0,C.useState)([]),S=_.status===qn.rq.Success&&!_.isDisabled,Z=f.length>0,k=S&&Z&&b===bC.CSV,E=b===bC.DIRECT,T=u&&b===bC.DASH,A=h&&UC.includes(h),N=i.isLoading||r.status!==qn.rq.Success||null===m,O=!N&&m,P=!N&&i.isFreeB2C,L=(P?[wC.DASHLANE]:Object.values(wC)).map((t=>({value:t,label:(0,F.BX)(ne.k,{alignItems:"center",children:[(0,F.tZ)("img",{alt:e(rZ[t]),height:24,sx:{borderRadius:"100%"},"aria-hidden":!0,src:iZ[t]}),(0,F.tZ)("span",{style:{marginLeft:5},children:e(rZ[t])})]})})));return PC({importStep:je.TransferDataStep.SelectImportSource,importSource:yC(null!=h?h:wC.OTHER,null!=b?b:bC.CSV),isDirectImport:E}),(0,C.useEffect)((()=>{n.status===qn.rq.Success&&x(n.data)}),[n]),(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ImportSelectPasswordSource)}),[]),(0,C.useEffect)((()=>{s(),d()}),[]),(0,C.useEffect)((()=>{if(void 0!==p&&h&&b){const e=yC(h,b);p===e&&t.push(BZ.ImportSelect)}}),[p]),(0,F.BX)(yr.Z,{gap:"40px",sx:{width:"720px"},children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e("webapp_account_import_source_header")}),(0,F.tZ)(Ku.u,{content:e("webapp_account_import_select_free_b2c_restriction_tooltip"),passThrough:!P,wrapTrigger:!0,children:(0,F.tZ)(Ox.m,{label:(0,ot.capitalize)(e("webapp_account_import_source_dropdown_label")),id:"importSelect",disabled:O||N,onChange:e=>{const t=e===wC.DASHLANE?bC.DASH:bC.CSV;y(t),g(e)},placeholder:e("webapp_account_import_source_dropdown_placeholder"),children:L.map((e=>(0,F.tZ)(Px.$,{value:e.value,children:e.label},e.value)))})}),A?(0,F.BX)(C.Fragment,{children:[eZ||(eZ=(0,F.tZ)(oZ,{})),(0,F.BX)(ne.k,{flexDirection:"column",gap:"16px",children:[(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e("webapp_account_import_source_method_header")}),(0,F.BX)(_w.E,{value:b,onChange:e=>{switch(e.target.value.toLocaleLowerCase()){case"direct":y(bC.DIRECT);break;case"csv":y(bC.CSV)}},children:[(0,F.tZ)(mw.Y,{"data-testid":"direct-import-method",label:e("webapp_account_import_source_option_direct_import",{source:e(rZ[h])}),value:bC.DIRECT}),(0,F.tZ)(mw.Y,{"data-testid":"csv-import-method",label:e("webapp_account_import_source_option_csv"),value:bC.CSV})]})]})]}):null,b&&h?(0,F.BX)(C.Fragment,{children:[tZ||(tZ=(0,F.tZ)(oZ,{})),(0,F.BX)(ne.k,{flexDirection:"column",gap:"16px",children:[(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:k?e(aZ[b].STEP_TITLE_SPACES):e(aZ[b].STEP_TITLE,E?{source:e(rZ[h])}:{})}),(0,F.BX)(ne.k,{flexDirection:"column",children:[(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",children:e(aZ[b].STEP_ONE,E?{source:e(rZ[h])}:{})}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",children:k?e(aZ[b].STEP_TWO_SPACES):e(aZ[b].STEP_TWO,E?{source:e(rZ[h])}:{})}),(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",children:k?e(aZ[b].STEP_THREE_SPACES):b===bC.DIRECT?e(aZ.DIRECT.STEP_THREE):null})]}),!E&&h?(0,F.tZ)(V.k,{mood:"neutral",title:e.markup(aZ[b].HELP_LINK,{supportLink:vC[h]},{linkTarget:"_blank",onLinkClicked:()=>BC(je.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})}):(0,F.tZ)(V.k,{mood:"brand",title:e.markup("webapp_account_import_help_tip_infobox_markup",{supportLink:vC[h],source:e(rZ[h])},{linkTarget:"_blank",onLinkClicked:()=>BC(je.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})})]})]}):null,T?(0,F.tZ)(V.k,{size:"medium",title:e(aZ.DASH.PASSWORD_LIMIT_TITLE),description:e(aZ.DASH.PASSWORD_LIMIT_DESCRIPTION),mood:"brand"}):null,(0,F.tZ)(ne.k,{justifyContent:"right",children:(0,F.tZ)(w.z,{type:"button",mood:"brand",intensity:"catchy",onClick:()=>{if(h&&b){const n=b===bC.DIRECT;if(((e,t,n,a)=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:e,importSource:fC[xC[t]],importDataStep:n,importDataStatus:je.TransferDataStatus.Start,isDirectImport:a}))})(b===bC.DASH?je.BackupFileType.SecureVault:je.BackupFileType.Csv,h,je.TransferDataStep.SelectImportSource,n),n)return e=h,void t.push(`${BZ.DirectImport}/${XC[e]}`);const a=yC(h,b);l(a)}var e},disabled:!b,layout:E?"iconTrailing":"labelOnly",icon:E?nZ||(nZ=(0,F.tZ)(st.JO,{name:"ActionOpenExternalLinkOutlined"})):void 0,children:E&&h?(0,F.tZ)(C.Fragment,{children:e.markup("webapp_account_import_source_direct_import_button_markup",{source:e(rZ[h])})}):e("webapp_account_import_source_get_started_button")})})]})};var lZ;const cZ="_common_generic_error",dZ=()=>{const{preview:{resetState:e,previewFile:t,state:n},import:{startImport:a,state:i},importSource:r}=Uv(),{showToast:o}=(0,Z.p)(),{translate:s}=(0,v.Z)(),l=(0,La.k6)(),c=(0,C.useRef)(!1),d=(0,C.useCallback)((()=>{o({description:s(cZ),mood:"danger"})}),[alert,s]);(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ImportDashEnterDashPassword)}),[]);const p=()=>{e(),l.push(BZ.ImportSelect)};return(0,C.useEffect)((()=>{switch(i.status){case Rv.ERROR_GENERIC:return void d();case Rv.SUCCESS:return void l.push(BZ.ImportSummary)}}),[l,i.status,d]),(0,F.BX)(C.Fragment,{children:[i.status===Rv.PROCESSING?lZ||(lZ=(0,F.tZ)(iC,{showCloseIcon:!1,isOpen:!0})):null,(0,F.tZ)(ES.J9,{initialValues:{dashPassword:""},onSubmit:async({dashPassword:e},{setErrors:i,setSubmitting:o})=>{o(!0);try{const o=await(async e=>{const n=await t(r,e);return n.success?{success:!0,data:n.data.items.map((({baseDataModel:e})=>e)).filter((e=>void 0!==e.kwType))}:{success:!1,error:n.success||n.error!==Qf.rp.BadPassword?cZ:"webapp_account_import_dash_password_error"}})(e);if(!o.success)return void i({dashPassword:s(o.error)});const d=await(async e=>n.format&&(await a({format:n.format,name:n.fileName,content:e},r)).success?{success:!0}:{success:!1,error:cZ})(o.data);var l;d.success?c.current=!0:i({dashPassword:s(null!=(l=d.error)?l:cZ)})}catch{i({dashPassword:s(cZ)})}finally{c.current||o(!1)}},children:({handleSubmit:e,handleChange:t,values:n,errors:a,submitCount:i,isSubmitting:r})=>(0,F.BX)(ne.k,{flexDirection:"column",as:"form",onSubmit:e,gap:"16px",noValidate:!0,children:[(0,F.tZ)(D.n,{textStyle:"ds.title.block.small",color:"ds.text.neutral.quiet",children:s("webapp_account_security_settings_two_factor_authentication_stage_header",{stageIndex:2,totalStages:2})}),(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:s("webapp_account_import_dash_password_header")}),(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:s("webapp_account_import_dash_password_description")}),(0,F.tZ)(DS.Z,{disabled:r,autoComplete:"off",name:"dashPassword",onChange:t,value:n.dashPassword,label:s("webapp_account_import_dash_password_label"),placeholder:s("webapp_account_import_dash_password_placeholder"),toggleVisibilityLabel:{show:s("_common_password_show_label"),hide:s("_common_password_hide_label")},feedback:a.dashPassword?{text:a.dashPassword}:void 0,error:!!a.dashPassword}),i>=2?(0,F.tZ)(V.k,{title:s.markup("webapp_account_import_dash_password_error_header_markup")}):null,(0,F.BX)(ne.k,{sx:{mt:"8px"},gap:"16px",children:[(0,F.tZ)(w.z,{type:"button",intensity:"quiet",mood:"neutral",onClick:p,children:s("_common_action_back")}),(0,F.tZ)(w.z,{type:"submit",disabled:!n.dashPassword||r,children:s("webapp_account_import_dash_password_button_next")})]})]})})]})},pZ=()=>{const{translate:e}=(0,v.Z)(),t=(0,La.k6)(),n=(0,La.TH)(),a=(0,f_.E)(),i=gC(),{setDefaultSpace:r}=zC(),o=i.status===qn.rq.Success?i.importSource:_C.pD.OTHER_CSV,[s,l]=(0,C.useState)(!1),[c]=(0,C.useState)(""),d=o===_C.pD.LASTPASS_DIRECT,p=a.status===qn.rq.Loading;return PC({importStep:je.TransferDataStep.SelectDashlaneSpace,importSource:o,isDirectImport:d}),(0,C.useEffect)((()=>{et.C.getIsForcedDomainsEnabled().then((e=>{l(e)})),(0,$e.Nc)(je.PageView.ImportCsvSelectSpace)}),[]),(0,F.BX)(ne.k,{flexDirection:"column",gap:"16px",children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:e.markup("webapp_import_step_tracker_markup",{currentStep:"2",totalSteps:"3"})}),(0,F.tZ)(I.X,{as:"h3",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e("webapp_account_import_space_select_title")}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",children:e("webapp_account_import_space_select_subtitle")}),(0,F.tZ)(NS.M,{isUsingNewDesign:!0,onChange:e=>{r(e)},hideLabel:!0,wrapperSx:{display:"block"}}),(0,F.BX)(ne.k,{gap:"16px",sx:{my:"24px"},children:[(0,F.tZ)(w.z,{mood:"neutral",intensity:"quiet",type:"button",onClick:()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:je.BackupFileType.Csv,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importSource:fC[o],importDataDropAction:je.ImportDataDropAction.CancelProcess,importDataStep:je.TransferDataStep.SelectDashlaneSpace,isDirectImport:d})),t.push(BZ.ImportSource)},children:e("_common_action_back")}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",type:"button",onClick:()=>{!0===n.state?.userNavigatedAway&&(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:je.BackupFileType.Csv,importDataStatus:je.TransferDataStatus.Start,importSource:fC[o],importDataStep:je.TransferDataStep.SelectDashlaneSpace,isDirectImport:d})),t.push(BZ.ImportPreview)},disabled:p||null===c,children:e("webapp_account_import_select_button_next")})]}),s?(0,F.tZ)(V.k,{size:"medium",mood:"neutral",title:e("webapp_account_import_space_select_forced_domain_infobox")}):null]})},uZ="webapp_import_data_frozen_infobox_manage_logins_button",_Z="webapp_import_data_frozen_infobox_upgrade_button",mZ=()=>{const{translate:e}=(0,v.Z)(),{openDialog:t}=(0,c.Ub)(),{routes:n}=(0,a.Xo)();return(0,Zt.l)()?(0,F.tZ)(V.k,{sx:{margin:"10px 32px"},title:e("webapp_import_data_frozen_infobox_title"),description:e("webapp_import_data_frozen_infobox_description"),size:"large",mood:"danger",icon:"FeedbackFailOutlined",actions:[(0,F.tZ)(w.z,{intensity:"quiet",onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.ManageLogins,clickOrigin:je.ClickOrigin.BannerFrozenAccount}))},as:a.rU,to:n.userCredentials,children:e(uZ)},e(uZ)),(0,F.tZ)(w.z,{intensity:"catchy",onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.UpgradePaidPlan,clickOrigin:je.ClickOrigin.BannerFrozenAccount})),t()},children:e(_Z)},e(_Z))]}):null},hZ="lastpass.com",gZ="PHPSESSID";var bZ=n(63352);const wZ=async(e,t)=>{if(!e)return"";if(e.startsWith("!")){const[n,a]=e.split("|"),i=n.slice(1),r=(0,bZ.R)(i).slice(0,16),o=(0,bZ.R)(a),s=await(0,nv.$)(t,r,o);return(0,sv.v)(s)}{const n=(new TextEncoder).encode(e);return(0,sv.v)((0,av.X)(t,n))}};var yZ;const fZ="webapp_account_import_source_label_lastpass",xZ="webapp_account_import_select_direct_title",SZ="webapp_account_import_select_direct_step1",vZ="webapp_account_import_select_direct_step2",CZ="webapp_account_import_select_csv_preview_step3",ZZ=({openLastPassLoginTab:e,handleBackButtonClick:t,error:n})=>{const{translate:r}=(0,v.Z)(),{routes:o}=(0,a.Xo)(),s=(0,a.k6)();return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.ImportCsvLoginToLastpass)}),[]),(0,F.BX)(ne.k,{flexDirection:"column",gap:4,children:[(0,F.tZ)(N.j49,{size:"medium",color:"ds.text.neutral.quiet",children:r.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:"3"})}),(0,F.BX)(ne.k,{flexDirection:"column",sx:{maxWidth:"480px"},children:[(0,F.tZ)(N.X6q,{sx:{marginY:"12px"},size:"x-small",children:r(xZ,{source:r(fZ)})}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"},children:r(SZ,{source:r(fZ)})}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"},children:r(vZ,{source:r(fZ)})}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"},children:r(CZ)}),(0,F.tZ)(V.k,{sx:{marginY:"12px"},mood:"brand",title:r.markup("webapp_account_import_help_tip_infobox_markup",{supportLink:i.WK,source:r(fZ)},{linkTarget:"_blank",onLinkClicked:()=>Nv(je.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})}),n?(0,F.tZ)(V.k,{mood:"danger",size:"large",actions:[(0,F.tZ)(w.z,{intensity:"quiet",mood:"danger",size:"small",onClick:()=>s.push(`${o.importDataV2}/${BZ.ImportSource}`),children:r("webapp_account_import_direct_import_error_import_csv")},"import"),(0,F.tZ)(w.z,{intensity:"catchy",mood:"danger",size:"small",onClick:()=>{Pv(je.BackupFileType.Csv,Qf.Q8.Lastpass,je.TransferDataStep.DecryptLastpassVault,!0),s.go(0)},children:r("webapp_account_import_direct_import_error_try_again")},"tryAgain")],title:r("webapp_account_import_direct_import_error_title"),description:r("webapp_account_import_direct_import_error_body")}):null]}),(0,F.BX)(ne.k,{gap:6,children:[(0,F.tZ)(w.z,{onClick:t,mood:"neutral",intensity:"quiet",children:r("_common_action_back")}),(0,F.tZ)(w.z,{type:"button",mood:"brand",intensity:"catchy",onClick:e,layout:"iconTrailing",icon:yZ||(yZ=(0,F.tZ)(st.JO,{name:"ActionOpenExternalLinkOutlined"})),children:r.markup("webapp_account_import_source_direct_import_button_markup",{source:r(fZ)})})]})]})},kZ=({error:e,processLastPassData:t,login:n,password:i,handlePasswordInputChange:r,handleLoginInputChange:o,handleBackButtonClick:s})=>{const l=(0,a.k6)(),{translate:c}=(0,v.Z)(),{routes:d}=(0,a.Xo)(),{importSource:p}=Uv();return(0,F.BX)(ne.k,{flexDirection:"column",gap:4,children:[(0,F.tZ)(N.j49,{size:"medium",color:"ds.text.neutral.quiet",children:c.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:"3"})}),(0,F.tZ)(N.X6q,{size:"small",children:c("webapp_account_import_direct_import_lastpass_header")}),(0,F.BX)(ne.k,{flexDirection:"column",gap:4,as:"form",onSubmit:t,children:[(0,F.tZ)(N.nvN,{children:c("webapp_account_import_direct_import_lastpass_import_tip")}),(0,F.tZ)(N.oil,{fullWidth:!0,value:n,label:c("webapp_import_preview_header_login"),placeholder:c("webapp_account_import_direct_import_lastpass_login_placeholder"),onChange:o}),(0,F.tZ)(N.WUg,{fullWidth:!0,value:i,label:c("webapp_import_preview_header_password"),placeholder:c("webapp_account_import_direct_import_lastpass_password_placeholder"),onChange:r,hidePasswordTooltipText:c("_common_password_hide_label"),showPasswordTooltipText:c("_common_password_show_label")}),e?(0,F.tZ)(V.k,{mood:"danger",size:"large",actions:[(0,F.tZ)(w.z,{size:"small",intensity:"quiet",mood:"danger",onClick:()=>l.push(`${d.importDataV2}/${BZ.ImportSource}`),children:c("webapp_account_import_direct_import_error_import_csv")},"import"),(0,F.tZ)(w.z,{size:"small",intensity:"catchy",mood:"danger",onClick:()=>{Pv(je.BackupFileType.Csv,p,je.TransferDataStep.DecryptLastpassVault,!0),l.go(0)},children:c("webapp_account_import_direct_import_error_try_again")},"try-again")],title:c("webapp_account_import_direct_import_error_title"),description:c("webapp_account_import_direct_import_error_body")}):null,(0,F.BX)(ne.k,{gap:4,children:[(0,F.tZ)(w.z,{onClick:s,mood:"neutral",intensity:"quiet",children:c("_common_action_back")}),(0,F.tZ)(w.z,{disabled:!i||!n,type:"submit",children:c("webapp_account_import_direct_import_lastpass_preview_button")})]})]})]})},IZ="PHPSESSID",EZ="_common_generic_error",DZ=100100,TZ=()=>{const[e,t]=(0,C.useState)(""),[n,i]=(0,C.useState)(0),[r,o]=(0,C.useState)(0),[s,l]=(0,C.useState)(null),[c,d]=(0,C.useState)(""),[p,u]=(0,C.useState)(""),_=(0,Ct.V)(),{translate:m}=(0,v.Z)(),{preview:{processFile:h},importSource:g}=Uv(),{routes:b}=(0,a.Xo)(),w=(0,La.k6)(),y=!!s,{listenForLastPassCookie:f,cookieData:x}=(()=>{const[e,t]=(0,C.useState)(""),[n,i]=(0,C.useState)(void 0),{preview:{previewFile:r,state:o},setPreviewDataItems:s,setPreviewDataHeaders:l,previewDataHeaders:c,previewDataItems:d}=Uv(),{routes:p}=(0,a.Xo)(),u=(0,jn.I)(),_=(0,a.k6)(),m=(0,f_.E)(),h=m.status===qn.rq.Success&&m.data.length>0&&u.status===qn.rq.Success&&!u.isDisabled;return(0,C.useEffect)((()=>{(0,US.O)({url:`https://${hZ}`,name:gZ})}),[]),(0,C.useEffect)((()=>()=>{clearInterval(n)}),[n]),(0,C.useEffect)((()=>{if(c.length&&!(0,Ns.isEmpty)(d)){const e=h?BZ.ImportSpaceSelect:BZ.ImportPreview;_.push(`/${BZ.ImportRoot}/${e}`)}}),[h,_,c.length,d,p.importDataV2]),(0,C.useEffect)((()=>{o.file&&o.fileName&&o.format&&r(Qf.Q8.Lastpass).then((e=>{if(e.success&&e.data.items.length){const t={};e.data.items.forEach((e=>{t[e.baseDataModel.Id]=e})),s(t),l(e.data.headers)}}))}),[o.file,r,s,l,h,_,p.importDataV2,o.fileName,o.format]),{listenForLastPassCookie:()=>{n&&window.clearInterval(n);const e=window.setInterval((async()=>{const e=(await(0,FS.g)({domain:hZ,name:gZ})).find((e=>"lastpass.com"===e.domain));e&&t(e.value)}),5e3);i(e)},cookieData:e}})();rC({importSource:g,importStep:y?je.TransferDataStep.DecryptLastpassVault:je.TransferDataStep.LoginToLastpass,isDirectImport:!0}),(0,C.useEffect)((()=>{(async()=>{const e=await(0,MS.T)();e?.id&&i(e.id)})()}),[]),(0,C.useEffect)((()=>{y&&(0,$e.Nc)(je.PageView.ImportCsvDecryptLastpassVault)}),[y]);const S=()=>{(0,Je.U)({url:`https://lastpass.com/?ac=1&lpnorefresh=1&email=${c}`,active:!0}).then((e=>{var t;o(null!=(t=e.id)?t:0)}))};(0,C.useEffect)((()=>{f(),S()}),[]);const Z=(0,C.useCallback)((()=>{y||(t(""),fetch("https://lastpass.com/getaccts.php?b64=1&hash=0.0&hasplugin=3.0.23&requestsrc=cli",{method:"GET",headers:{Cookie:`${IZ}=${x}`}}).then((e=>e.text())).then((e=>{const a=(new DOMParser).parseFromString(e,"application/xml");a.querySelector("parsererror")?(Ov(je.BackupFileType.Csv,g,je.TransferDataStep.DecryptLastpassVault,je.TransferDataStatus.FailedToDecryptVault),t(m(EZ))):(l(a),n&&(0,BS.V)(n,{active:!0}),r&&((0,zS.O)([r]),_.showAlert(m("webapp_account_import_direct_import_success_toast",{source:"LastPass"}),N.BLW.SUCCESS)))})).catch((()=>{Ov(je.BackupFileType.Csv,g,je.TransferDataStep.DecryptLastpassVault,je.TransferDataStatus.FailedToFetchVault),t(m(EZ))})))}),[x,n,y,r,m]);(0,C.useEffect)((()=>{x&&Z()}),[x,Z]);const k=()=>{(0,$e.Kz)(new je.UserImportDataEvent({backupFileType:je.BackupFileType.Csv,importSource:je.TransferDataSource.SourceLastpass,importDataStep:y?je.TransferDataStep.DecryptLastpassVault:je.TransferDataStep.LoginToLastpass,importDataStatus:je.TransferDataStatus.ImportFlowTerminated,importDataDropAction:je.ImportDataDropAction.CancelProcess,isDirectImport:!0})),w.push(`${b.importDataV2}/${BZ.ImportSource}`)};return y?(0,F.tZ)(kZ,{processLastPassData:async e=>{e.preventDefault();try{if(!y||!c||!p)return void t(m(EZ));const e=await(async()=>await fetch(`https://lastpass.com/iterations.php?email=${c}`,{method:"GET",headers:{Cookie:`${IZ}=${x}`}}).then((e=>e.text())).then((e=>{const t=parseInt(e,10);return isNaN(t)?DZ:t})).catch((()=>DZ)))(),n=await(async(e,t,n,a)=>{const i=["url,username,password,otp,extra,name,grouping,fav"],r=new TextEncoder,o=new TextDecoder,s=await(0,tv.x)(r.encode(t),r.encode(e.toLocaleLowerCase()),{iterations:n,hashType:"SHA-256"}),l=a.documentElement.querySelectorAll("*");for(const e of l)if("account"===e.tagName){var c,d,p,u,_,m,h,g;const t=e.getElementsByTagName("login")?.[0],n=null!=(c=e.getAttribute("name"))?c:"",a=null!=(d=e.getAttribute("group"))?d:"",r=null!=(p=e.getAttribute("extra"))?p:"",l=null!=(u=e.getAttribute("fav"))?u:"0",b=null!=(_=t?.getAttribute("url"))?_:"",w=null!=(m=t?.getAttribute("p"))?m:"",y=null!=(h=t?.getAttribute("u"))?h:"",f=null!=(g=t?.getAttribute("o"))?g:"",x=await wZ(n,s),S=await wZ(a,s),v=(await wZ(r,s)).replaceAll('"','""'),C=o.decode((0,ov.i)(b)),Z=await wZ(w,s),k=await wZ(y,s),I=await wZ(f,s);if("http://group"===C)continue;i.push(`"${C}","${k}","${Z}","${I}","${v}","${x}","${S}","${l}"`)}const b=i.join("\n"),w=new Blob([b],{type:"text/csv"});return new File([w],"lastpass.csv",{type:"text/csv"})})(c,p,e,s);h(n)}catch{Ov(je.BackupFileType.Csv,g,je.TransferDataStep.DecryptLastpassVault,je.TransferDataStatus.FailedToDecryptVault),t(m(EZ))}},error:e,handleBackButtonClick:k,handleLoginInputChange:e=>{d(e.target.value)},handlePasswordInputChange:e=>{u(e.target.value)},login:c,password:p}):(0,F.tZ)(ZZ,{error:e,openLastPassLoginTab:S,handleBackButtonClick:k})};_C.pD.LASTPASS_DIRECT;let AZ=function(e){return e.LastPass="lastpass",e}({});var NZ;_C.pD.ONE_PASSWORD_CSV,_C.pD.BITWARDEN_CSV,_C.pD.CHROME_CSV,_C.pD.DASHLANE_DASH,_C.pD.EDGE_CSV,_C.pD.FIREFOX_CSV,_C.pD.KEEPASS_CSV,_C.pD.KEEPER_CSV,_C.pD.LASTPASS_CSV,_C.pD.LASTPASS_DIRECT,AZ.LastPass,_C.pD.OTHER_CSV,_C.pD.SAFARI_CSV;const OZ=()=>{const{translate:e}=(0,v.Z)(),{source:t}=(0,a.UO)(),{routes:n}=(0,a.Xo)(),i=(0,a.k6)();return t===AZ.LastPass?NZ||(NZ=(0,F.tZ)(TZ,{})):(0,F.BX)(ne.k,{gap:6,children:[(0,F.tZ)(N.X6q,{children:e("_common_generic_error")}),(0,F.tZ)(w.z,{mood:"brand",intensity:"catchy",onClick:()=>{i.push(n.importDataV2)},children:e("_common_action_back")})]})};var PZ,LZ,RZ;const MZ=()=>{const{path:e}=(0,La.$B)(),{pathname:t}=(0,La.TH)(),{translate:n}=(0,v.Z)(),{openDialog:i,shouldShowFrozenStateDialog:r}=(0,c.Ub)(),{routes:o}=(0,a.Xo)(),s=(0,ta.o)(mh.c.ImportOrchestratorGrapheneMigration),l=new Set([`${e}/${BZ.ImportPreview}`]);return(0,C.useEffect)((()=>{r&&i()}),[r]),s||null===s?(0,F.tZ)(zv,{children:(0,F.BX)(ne.k,{flexDirection:"column",sx:{backgroundColor:"ds.background.alternate",height:"100%",overflowY:"scroll",flexWrap:"nowrap"},children:[(0,F.tZ)(ne.k,{flexDirection:"column",sx:{padding:"16px 24px"},children:(0,F.tZ)(_o.h,{startWidgets:(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy","data-testid":"webapp-import-title",children:n("webapp_import_title")}),endWidget:PZ||(PZ=(0,F.tZ)(mo.D,{}))})}),(0,F.BX)(ne.k,{flexDirection:"column",sx:{padding:"0px 24px 36px 24px"},children:[LZ||(LZ=(0,F.tZ)(mZ,{})),(0,F.BX)(ne.k,{sx:{gap:"24px",flexDirection:"column"},children:[(0,F.tZ)(ne.k,{flexDirection:"column",sx:{maxWidth:l.has(t)?"100%":"500px"},children:(0,F.BX)(La.rs,{children:[(0,F.tZ)(La.AW,{exact:!0,path:`${e}/${BZ.ImportSource}`,component:sZ}),(0,F.tZ)(La.AW,{path:`${e}/${BZ.ImportSelect}`,component:MC}),(0,F.tZ)(La.AW,{path:`${e}/${BZ.ImportSpaceSelect}`,component:pZ}),(0,F.tZ)(La.AW,{path:`${e}/${BZ.SecureImport}`,component:dZ}),(0,F.tZ)(La.AW,{path:`${e}/${BZ.ImportPreview}`,component:sC}),(0,F.tZ)(La.AW,{path:`${e}/${BZ.ImportSummary}`,component:uC}),(0,F.tZ)(La.AW,{path:`${e}/${BZ.DirectImport}/:source`,component:OZ}),(0,F.tZ)(a.l_,{exact:!0,from:"*",to:`${e}/${BZ.ImportSource}`})]})}),RZ||(RZ=(0,F.tZ)(kv,{}))]})]})]})}):(0,F.tZ)(a.l_,{to:o.importData})};let BZ=function(e){return e.ImportRoot="import2",e.ImportSource="source",e.ImportSelect="select",e.SecureImport="secure-import",e.ImportPreview="preview",e.ImportSpaceSelect="space-select",e.ImportSummary="summary",e.DirectImport="direct-import",e}({});const zZ=({path:e})=>(0,F.tZ)(a.AW,{path:e,component:MZ});class UZ extends C.Component{constructor(...e){super(...e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){this.props.onError(),this.setState({hasError:!1})}render(){return this.state.hasError?(0,F.tZ)(a.l_,{to:this.props.redirectPath}):this.props.children}}const FZ=({redirectPath:e,children:t})=>{const n=(0,Ct.V)(),{translate:a}=(0,v.Z)();return(0,F.tZ)(UZ,{redirectPath:e,onError:()=>{n.showAlert(a("_common_generic_error"),N.BLW.ERROR)},children:t})};var XZ=n(92730);const qZ=(0,C.lazy)((()=>Promise.all([n.e(2410),n.e(2204),n.e(5483),n.e(6505),n.e(4809),n.e(3762),n.e(5552),n.e(6691),n.e(4294),n.e(3144),n.e(3129)]).then(n.bind(n,87122)).then((e=>({default:e.CredentialEditPanel}))))),HZ=(0,C.lazy)((()=>Promise.all([n.e(2410),n.e(2204),n.e(5483),n.e(6505),n.e(4809),n.e(3762),n.e(5552),n.e(6691),n.e(3144),n.e(7732)]).then(n.bind(n,79739)).then((e=>({default:e.CredentialAddPanel}))))),VZ=({path:e})=>{const{routes:t,navigateBack:n}=(0,XZ.u)();return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(a.ZB,{path:`${e}*/credential(s?)/add`,component:HZ,additionalProps:{onClose:()=>n(t.userCredentials)}}),(0,F.tZ)(a.ZB,{path:`${e}*/credential(s?)/:uuid(${XZ.k})`,component:qZ,additionalProps:{onClose:()=>n(t.userCredentials)}})]})},WZ=(0,C.lazy)((()=>n.e(3033).then(n.bind(n,73033)).then((e=>({default:e.PanelWrapper}))))),jZ=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(8965),n.e(8240)]).then(n.bind(n,54750)).then((e=>({default:e.DriverLicenseAddPanel}))))),GZ=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(8965),n.e(610),n.e(8383)]).then(n.bind(n,45102)).then((e=>({default:e.DriverLicenseEditPanel}))))),KZ=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(8965),n.e(8886)]).then(n.bind(n,56490)).then((e=>({default:e.FiscalIdAddPanel}))))),YZ=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(8965),n.e(610),n.e(443)]).then(n.bind(n,94261)).then((e=>({default:e.FiscalIdEditPanel}))))),$Z=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(8965),n.e(8061)]).then(n.bind(n,14336)).then((e=>({default:e.IdCardAddPanel}))))),QZ=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(8965),n.e(610),n.e(4910)]).then(n.bind(n,15400)).then((e=>({default:e.IdCardEditPanel}))))),JZ=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(8965),n.e(8619)]).then(n.bind(n,60398)).then((e=>({default:e.PassportAddPanel}))))),ek=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(8965),n.e(610),n.e(34)]).then(n.bind(n,90483)).then((e=>({default:e.PassportEditPanel}))))),tk=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(8965),n.e(6426)]).then(n.bind(n,34355)).then((e=>({default:e.SocialSecurityIdAddPanel}))))),nk=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(8965),n.e(610),n.e(1121)]).then(n.bind(n,33935)).then((e=>({default:e.SocialSecurityIdEditPanel}))))),ak=({path:e})=>(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(a.ZB,{path:`${e}*/driver-license(s?)/add`,component:WZ,additionalProps:{component:jZ}}),(0,F.tZ)(a.ZB,{path:`${e}*/driver-license(s?)/:uuid(${XZ.k})`,component:WZ,additionalProps:{component:GZ}}),(0,F.tZ)(a.ZB,{path:`${e}*/fiscal-id(s?)/add`,component:WZ,additionalProps:{component:KZ}}),(0,F.tZ)(a.ZB,{path:`${e}*/fiscal-id(s?)/:uuid(${XZ.k})`,component:WZ,additionalProps:{component:YZ}}),(0,F.tZ)(a.ZB,{path:`${e}*/id-card(s?)/add`,component:WZ,additionalProps:{component:$Z}}),(0,F.tZ)(a.ZB,{path:`${e}*/id-card(s?)/:uuid(${XZ.k})`,component:WZ,additionalProps:{component:QZ}}),(0,F.tZ)(a.ZB,{path:`${e}*/passport(s?)/add`,component:WZ,additionalProps:{component:JZ}}),(0,F.tZ)(a.ZB,{path:`${e}*/passport(s?)/:uuid(${XZ.k})`,component:WZ,additionalProps:{component:ek}}),(0,F.tZ)(a.ZB,{path:`${e}*/social-security-id(s?)/add`,component:WZ,additionalProps:{component:tk}}),(0,F.tZ)(a.ZB,{path:`${e}*/social-security-id(s?)/:uuid(${XZ.k})`,component:WZ,additionalProps:{component:nk}})]}),ik=(0,C.lazy)((()=>n.e(9969).then(n.bind(n,39969)).then((e=>({default:e.Connected}))))),rk=({path:e})=>(0,F.tZ)(a.ZB,{path:`${e}*/passkey(s?)/:uuid(${XZ.k})`,component:ik}),ok=(0,C.lazy)((()=>Promise.all([n.e(2410),n.e(2204),n.e(5483),n.e(6505),n.e(4809),n.e(3762),n.e(5552),n.e(6691),n.e(679),n.e(1491)]).then(n.bind(n,52204)).then((e=>({default:e.PaymentCardAddPanel}))))),sk=(0,C.lazy)((()=>Promise.all([n.e(2410),n.e(2204),n.e(5483),n.e(6505),n.e(4809),n.e(3762),n.e(5552),n.e(6691),n.e(679),n.e(6429)]).then(n.bind(n,6429)).then((e=>({default:e.PaymentCardEditPanel}))))),lk=(0,C.lazy)((()=>Promise.all([n.e(2410),n.e(2204),n.e(5483),n.e(6505),n.e(4809),n.e(3762),n.e(5552),n.e(6691),n.e(9255),n.e(1738)]).then(n.bind(n,31738)).then((e=>({default:e.BankAccountAddView}))))),ck=(0,C.lazy)((()=>Promise.all([n.e(2410),n.e(2204),n.e(5483),n.e(6505),n.e(4809),n.e(3762),n.e(5552),n.e(6691),n.e(9255),n.e(8652)]).then(n.bind(n,48652)).then((e=>({default:e.Connected}))))),dk=({path:e})=>(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(a.ZB,{path:`${e}*/card(s?)/add`,component:ok},"add-payment-card"),(0,F.tZ)(a.ZB,{path:`${e}*/card(s?)/:uuid(${XZ.k})`,component:sk}),(0,F.tZ)(a.ZB,{path:`${e}*/bank-account(s?)/add`,component:lk},"add-bank-account"),(0,F.tZ)(a.ZB,{path:`${e}*/bank-account(s?)/:uuid(${XZ.k})`,component:ck})]}),pk=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(6390),n.e(4709)]).then(n.bind(n,18903)).then((e=>({default:e.AddressAddPanel}))))),uk=(0,C.lazy)((()=>Promise.all([n.e(3920),n.e(6390),n.e(316)]).then(n.bind(n,34383)).then((e=>({default:e.Connected}))))),_k=(0,C.lazy)((()=>n.e(8673).then(n.bind(n,48673)).then((e=>({default:e.CompanyAddPanel}))))),mk=(0,C.lazy)((()=>n.e(629).then(n.bind(n,629)).then((e=>({default:e.Connected}))))),hk=(0,C.lazy)((()=>n.e(5989).then(n.bind(n,75989)).then((e=>({default:e.EmailAddPanel}))))),gk=(0,C.lazy)((()=>n.e(7808).then(n.bind(n,87808)).then((e=>({default:e.Connected}))))),bk=(0,C.lazy)((()=>Promise.all([n.e(9862),n.e(5352)]).then(n.bind(n,45352)).then((e=>({default:e.IdentityAddPanel}))))),wk=(0,C.lazy)((()=>Promise.all([n.e(9862),n.e(4229)]).then(n.bind(n,74229)).then((e=>({default:e.Connected}))))),yk=(0,C.lazy)((()=>n.e(7418).then(n.bind(n,7418)).then((e=>({default:e.PhoneAddPanel}))))),fk=(0,C.lazy)((()=>n.e(9300).then(n.bind(n,99300)).then((e=>({default:e.Connected}))))),xk=(0,C.lazy)((()=>n.e(7232).then(n.bind(n,87232)).then((e=>({default:e.WebsiteAddPanel}))))),Sk=(0,C.lazy)((()=>n.e(9742).then(n.bind(n,39742)).then((e=>({default:e.Connected}))))),vk=({path:e})=>(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(a.ZB,{path:`${e}*/address(es?)/add`,component:pk}),(0,F.tZ)(a.ZB,{path:`${e}*/address(es?)/:uuid(${XZ.k})`,component:uk}),(0,F.tZ)(a.ZB,{path:`${e}*/companies/add`,component:_k}),(0,F.tZ)(a.ZB,{path:`${e}*/companies/:uuid(${XZ.k})`,component:mk}),(0,F.tZ)(a.ZB,{path:`${e}*/email(s?)/add`,component:hk}),(0,F.tZ)(a.ZB,{path:`${e}*/email(s?)/:uuid(${XZ.k})`,component:gk}),(0,F.tZ)(a.ZB,{path:`${e}*/identities/add`,component:bk}),(0,F.tZ)(a.ZB,{path:`${e}*/identities/:uuid(${XZ.k})`,component:wk}),(0,F.tZ)(a.ZB,{path:`${e}*/phone(s?)/add`,component:yk}),(0,F.tZ)(a.ZB,{path:`${e}*/phone(s?)/:uuid(${XZ.k})`,component:fk}),(0,F.tZ)(a.ZB,{path:`${e}*/website(s?)/add`,component:xk}),(0,F.tZ)(a.ZB,{path:`${e}*/website(s?)/:uuid(${XZ.k})`,component:Sk})]}),Ck=(0,C.lazy)((()=>Promise.all([n.e(2410),n.e(2204),n.e(5483),n.e(6505),n.e(4809),n.e(3762),n.e(5552),n.e(6691),n.e(4294),n.e(9347),n.e(4535),n.e(6726)]).then(n.bind(n,66490)).then((e=>({default:e.NoteAddPanel}))))),Zk=(0,C.lazy)((()=>Promise.all([n.e(2410),n.e(2204),n.e(5483),n.e(6505),n.e(4809),n.e(3762),n.e(5552),n.e(6691),n.e(4294),n.e(9347),n.e(4535),n.e(5463)]).then(n.bind(n,64676)).then((e=>({default:e.SecureNotesEdit}))))),kk=({path:e})=>{const{routes:t,navigateBack:n}=(0,XZ.u)();return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(a.ZB,{path:`${e}*/secure-note(s?)/add`,component:Ck,additionalProps:{onClose:()=>n(t.userSecureNotes)}}),(0,F.tZ)(a.ZB,{path:`${e}*/secure-note(s?)/:uuid(${XZ.k})`,component:Zk,additionalProps:{onClose:()=>n(t.userSecureNotes)}})]})},Ik=(0,C.lazy)((()=>Promise.all([n.e(2410),n.e(2204),n.e(5483),n.e(6505),n.e(4809),n.e(3762),n.e(5552),n.e(6691),n.e(4294),n.e(9347),n.e(3621)]).then(n.bind(n,5559)).then((e=>({default:e.SecretAddPanelComponent}))))),Ek=(0,C.lazy)((()=>Promise.all([n.e(2410),n.e(2204),n.e(5483),n.e(6505),n.e(4809),n.e(3762),n.e(5552),n.e(6691),n.e(4294),n.e(9347),n.e(1474)]).then(n.bind(n,68636)).then((e=>({default:e.SecretEditPanel}))))),Dk=({path:e})=>(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(a.ZB,{path:`${e}*/secret(s?)/add`,component:Ik}),(0,F.tZ)(a.ZB,{path:`${e}*/secret(s?)/:uuid(${XZ.k})`,component:Ek})]}),Tk=({path:e})=>(0,F.tZ)(FZ,{redirectPath:e,children:(0,F.BX)(C.Suspense,{fallback:null,children:[(0,F.tZ)(VZ,{path:e}),(0,F.tZ)(ak,{path:e}),(0,F.tZ)(rk,{path:e}),(0,F.tZ)(dk,{path:e}),(0,F.tZ)(vk,{path:e}),(0,F.tZ)(kk,{path:e}),(0,F.tZ)(Dk,{path:e})]})});var Ak,Nk,Ok,Pk=n(47651),Lk=n(77043),Rk=n(5574);const Mk={display:"flex",alignItems:"center",justifyContent:"center",bg:"ds.container.expressive.brand.quiet.idle",width:"30px",height:"30px",borderRadius:"3000px",padding:"3px",marginRight:"12px"},Bk=()=>{const{translate:e}=(0,v.Z)(),{refreshRequest:t}=(0,K.u)(Pk.F),{trackPageView:n}=(0,K.u)(Rk.Yu);return(0,C.useEffect)((()=>{n({pageView:je.PageView.SettingsAddNewDevice})}),[]),(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"32px"},children:e("webapp_device_transfer_page_no_request_instructions_title")}),(0,F.BX)(ne.k,{alignItems:"center",children:[Ak||(Ak=(0,F.tZ)("div",{sx:Mk,children:(0,F.tZ)(D.n,{color:"ds.text.brand.standard",textStyle:"ds.body.standard.strong",children:"1"})})),(0,F.tZ)(D.n,{children:e("webapp_device_transfer_page_no_request_instructions_first_paragraph")})]}),(0,F.BX)(ne.k,{alignItems:"center",sx:{margin:"24px 0"},children:[Nk||(Nk=(0,F.tZ)("div",{sx:Mk,children:(0,F.tZ)(D.n,{color:"ds.text.brand.standard",textStyle:"ds.body.standard.strong",children:"2"})})),(0,F.tZ)(D.n,{children:e("webapp_device_transfer_page_no_request_instructions_second_paragraph")})]}),(0,F.BX)(ne.k,{alignItems:"center",children:[Ok||(Ok=(0,F.tZ)("div",{sx:Mk,children:(0,F.tZ)(D.n,{color:"ds.text.brand.standard",textStyle:"ds.body.standard.strong",children:"3"})})),(0,F.tZ)(D.n,{children:e("webapp_device_transfer_page_no_request_instructions_third_paragraph")})]}),(0,F.tZ)(w.z,{mood:"neutral",intensity:"quiet",sx:{alignSelf:"flex-end",marginTop:"32px"},onClick:async()=>{await t()},children:e("webapp_device_transfer_page_no_request_refresh_button")})]})},zk=({untrustedDeviceName:e})=>{const{translate:t}=(0,v.Z)(),{returnToDeviceSetup:n}=(0,K.u)(Pk.F),{trackPageView:a}=(0,K.u)(Rk.Yu);return(0,C.useEffect)((()=>{a({pageView:je.PageView.SettingsAddNewDeviceSuccess})}),[]),(0,F.BX)(ne.k,{alignItems:"center",flexDirection:"column",gap:24,style:{margin:"16px 0"},children:[(0,F.tZ)(st.JO,{color:"ds.border.brand.standard.active",name:"FeedbackSuccessOutlined",style:{width:100,height:100}}),(0,F.tZ)(D.n,{textStyle:"ds.title.block.medium",style:{width:300,textAlign:"center"},children:t.markup("webapp_device_transfer_page_success_description_markup",{deviceName:e})}),(0,F.tZ)(w.z,{intensity:"quiet",mood:"neutral",onClick:()=>{n()},children:t("webapp_device_transfer_page_success_button")})]})},Uk={GENERIC_ERROR:"_common_generic_error",TIMEOUT:"webapp_device_transfer_page_error_timeout",PASSPHRASE_ATTEMPTS_LIMIT:"webapp_login_form_device_to_device_authentication_rate_limit",BACK_BUTTON:"webapp_device_transfer_page_error_back_button"},Fk=({error:e})=>{const{translate:t}=(0,v.Z)(),{returnToDeviceSetup:n}=(0,K.u)(Pk.F),{trackPageView:a}=(0,K.u)(Rk.Yu);return(0,C.useEffect)((()=>{a({pageView:je.PageView.SettingsAddNewDeviceAttemptLimitReached})}),[]),(0,F.BX)(ne.k,{flexDirection:"column",alignItems:"center",children:[(0,F.tZ)(st.JO,{name:"FeedbackFailOutlined",color:"ds.text.danger.quiet",sx:{width:"77px",height:"77px"}}),(0,F.tZ)(D.n,{sx:{textAlign:"center",margin:"32px 0",color:"ds.text.danger.standard"},children:t(Uk[null!=e?e:"GENERIC_ERROR"])}),(0,F.tZ)(w.z,{onClick:()=>{n()},children:t(Uk.BACK_BUTTON)})]})};var Xk;const qk=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)(ne.k,{flexDirection:"column",alignItems:"center",children:[Xk||(Xk=(0,F.tZ)(go.Z,{mood:"brand",size:77})),(0,F.tZ)(D.n,{sx:{textAlign:"center",margin:"32px 0"},children:e("webapp_device_to_device_authentication_loading_challenge")})]})},Hk=({untrustedDeviceName:e})=>{const{translate:t}=(0,v.Z)(),{returnToDeviceSetup:n}=(0,K.u)(Pk.F);return(0,F.BX)(ne.k,{alignItems:"center",flexDirection:"column",gap:24,style:{margin:"16px 0"},children:[(0,F.tZ)(st.JO,{color:"ds.border.brand.standard.active",name:"FeedbackSuccessOutlined",style:{width:100,height:100}}),(0,F.tZ)(D.n,{textStyle:"ds.title.block.medium",style:{width:300,textAlign:"center"},children:t.markup("webapp_device_transfer_page_rejected_description_markup",{deviceName:e})}),(0,F.tZ)(w.z,{onClick:()=>n(),children:t("webapp_device_transfer_page_rejected_button")})]})},Vk=({untrustedDeviceName:e,requestTimestamp:t,untrustedDeviceLocation:n})=>{const{translate:a}=(0,v.Z)(),{approveRequest:i,rejectRequest:r}=(0,K.u)(Pk.F),o=e=>{(0,$e.Kz)(new je.UserAddNewDeviceEvent({action:e}))};return(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"},children:a("webapp_device_transfer_page_pending_request_title")}),(0,F.tZ)(D.n,{children:a("webapp_device_transfer_page_pending_request_description")}),(0,F.BX)(ne.k,{sx:{flexDirection:"column",bg:"ds.container.agnostic.neutral.quiet",borderRadius:"8px",padding:"24px",margin:"32px 0"},children:[(0,F.tZ)(D.n,{children:e}),(0,F.tZ)(D.n,{sx:{margin:"12px 0"},children:n}),(0,F.tZ)(D.n,{children:a.shortDate((0,Zs.Z)(t),ks._T.lll)})]}),(0,F.tZ)(V.k,{title:a("webapp_device_transfer_page_pending_request_additional_infobox"),mood:"brand",sx:{marginBottom:"24px"}}),(0,F.BX)(ne.k,{justifyContent:"right",gap:"8px",children:[(0,F.tZ)(w.z,{mood:"neutral",intensity:"quiet",onClick:()=>(r(),void o(je.ActionDuringTransfer.RejectRequest)),children:a("webapp_device_transfer_page_pending_request_reject_button")}),(0,F.tZ)(w.z,{onClick:()=>(i(),void o(je.ActionDuringTransfer.ConfirmRequest)),children:a("webapp_device_transfer_page_pending_request_confirm_button")})]})]})},Wk={INVALID_PASSPHRASE:"webapp_device_transfer_page_security_challenge_invalid_passphrase_error",GENERIC_ERROR:"_common_generic_error",TIMEOUT:"webapp_login_form_device_to_device_authentication_timeout_error",PASSPHRASE_ATTEMPTS_LIMIT:"webapp_login_form_device_to_device_authentication_rate_limit"},jk=({passphrase:e,untrustedDeviceName:t,error:n})=>{const{translate:a}=(0,v.Z)(),{submitPassphraseChallenge:i,cancelRequest:r}=(0,K.u)(Pk.F),[o,s]=(0,C.useState)(!1),[l,c]=(0,C.useState)(""),[d,p]=(0,C.useState)(-1),[u,_]=(0,C.useState)(void 0),m=()=>{const t=[...e];t[d]=l;const n=t.join(" ");i({passphraseChallenge:n})},{trackPageView:h}=(0,K.u)(Rk.Yu);return(0,C.useEffect)((()=>{h({pageView:je.PageView.SettingsAddNewDeviceSecurityChallenge})}),[]),(0,C.useEffect)((()=>{n&&_(n)}),[n]),(0,F.BX)(C.Fragment,{children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"},children:a("webapp_device_transfer_page_security_challenge_title")}),(0,F.tZ)(D.n,{children:a.markup("webapp_device_transfer_page_security_challenge_description_markup",{deviceName:t})}),(0,F.tZ)(ne.k,{sx:{flexDirection:"column",gap:"18px",bg:"ds.container.agnostic.neutral.quiet",borderRadius:"8px",padding:"24px 16px",margin:"24px 0"},children:e.map(((e,t)=>""===e?(0,F.tZ)(E.n,{error:Boolean(u),feedback:{text:u?a(Wk[u]):""},value:l,label:a("webapp_device_transfer_page_security_challenge_input_label"),onKeyDown:e=>{"Enter"===e.key&&m()},onChange:e=>{_(void 0),c(e.target.value),p(t)}},"missing-word"):(0,F.tZ)(D.n,{textStyle:"ds.body.standard.monospace",style:{paddingLeft:"12px"},children:e},e)))}),(0,F.BX)(ne.k,{justifyContent:"right",children:[(0,F.tZ)(w.z,{mood:"neutral",intensity:"quiet",sx:{marginRight:"8px"},onClick:()=>s(!0),children:a("_common_action_cancel")}),(0,F.tZ)(w.z,{onClick:m,disabled:!l,children:a("_common_action_confirm")}),(0,F.tZ)(Jo.Vq,{actions:{primary:{children:a("webapp_device_transfer_page_security_challenge_cancel_primary"),onClick:()=>r()},secondary:{children:a("webapp_device_transfer_page_security_challenge_cancel_secondary"),onClick:()=>s(!1)}},isOpen:o,isDestructive:!0,closeActionLabel:"_common_dialog_dismiss_button",onClose:()=>s(!1),title:a("webapp_device_transfer_page_security_challenge_cancel_title"),children:(0,F.tZ)(D.n,{children:a("webapp_device_transfer_page_security_challenge_cancel_desc")})})]})]})};var Gk,Kk,Yk;const $k=()=>{const{translate:e}=(0,v.Z)(),t=(0,L.k)(Pk.F,"trustedDeviceFlowStatus");return(0,F.tZ)("div",{sx:{height:"100%",bg:"ds.container.agnostic.neutral.quiet",paddingTop:"16px"},children:(0,F.BX)(ne.k,{sx:{paddingLeft:"32px",paddingRight:"32px"},children:[(0,F.tZ)(_o.h,{startWidgets:(0,F.tZ)(ne.k,{flexDirection:"column",children:(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",children:e("webapp_device_transfer_page_title")})}),endWidget:Yk||(Yk=(0,F.tZ)(mo.D,{}))}),(0,F.tZ)(ne.k,{sx:{width:"640px",maxWidth:"",flexDirection:"column",bg:"ds.container.agnostic.neutral.supershy",border:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"8px",padding:"24px",margin:"16px 0px"},children:(()=>{switch(t.data?.step){case Lk.T.WaitingForNewDeviceRequest:return Gk||(Gk=(0,F.tZ)(Bk,{}));case Lk.T.NewDeviceRequestAvailable:return(0,F.tZ)(Vk,{...t.data});case Lk.T.LoadingChallenge:return Kk||(Kk=(0,F.tZ)(qk,{}));case Lk.T.DisplayPassphraseChallenge:return(0,F.tZ)(jk,{...t.data});case Lk.T.DeviceTransferComplete:return(0,F.tZ)(zk,{...t.data});case Lk.T.DeviceTransferRejected:return(0,F.tZ)(Hk,{...t.data});case Lk.T.Error:return(0,F.tZ)(Fk,{error:t.data.errorCode});default:return null}})()})]})})};var Qk=n(50925),Jk=n(99822);const eI=({totalSecretsCount:e})=>{const t=(0,Ar.Y)(),n=(0,a.k6)(),{translate:i}=(0,v.Z)(),{routes:r}=(0,a.Xo)();if(t.status!==qn.rq.Success)return null;const o=(()=>{if(!(e>0))return null;const t={...(0,Jk.j8)(),tab:nc.f.Secrets};return(0,F.tZ)(ac.Z,{intensity:"quiet",sharing:t,text:i("credentials_header_share_password"),origin:je.Origin.ItemListView})})();return(0,F.tZ)(tu.t,{tooltipPassThrough:!0,tooltipContent:i("webapp_secure_notes_header_add_ui_tooltip"),handleAddNew:()=>{n.push(r.userAddBlankSecret)},shareButtonElement:o,shouldDisplayNewAccountImportButton:!!e,shouldDisplayAddButton:!!e})};var tI=n(42999),nI=n(74175);const aI={admin:{title:"webapp_secrets_empty_state_title_admin",description:"webapp_secrets_empty_state_description_admin",nextStep:{add:{title:"webapp_secrets_empty_state_next_step_add_title_admin",description:"webapp_secrets_empty_state_next_step_add_description_admin",button:"webapp_secrets_empty_state_next_step_add_button_admin"},import:{title:"webapp_secrets_empty_state_next_step_import_title_admin",description:"webapp_secrets_empty_state_next_step_import_description_admin",button:"webapp_secrets_empty_state_next_step_import_button_admin"}}},employee:{title:"webapp_secrets_empty_state_title_employee",description:"webapp_secrets_empty_state_description_employee",nextStep:{add:{title:"webapp_secrets_empty_state_next_step_add_title_employee",description:"webapp_secrets_empty_state_next_step_add_description_employee",button:"webapp_secrets_empty_state_next_step_add_button_employee"},import:{title:"webapp_secrets_empty_state_next_step_import_title_employee",description:"webapp_secrets_empty_state_next_step_import_description_employee",button:"webapp_secrets_empty_state_next_step_import_button_employee"}}},b2c:{title:"webapp_secrets_empty_state_title",description:"webapp_secrets_empty_state_description",nextStep:{add:{title:"webapp_secrets_empty_state_next_step_add_title",description:"webapp_secrets_empty_state_next_step_add_description",button:"webapp_secrets_empty_state_next_step_add_button"},import:{title:"webapp_secrets_empty_state_next_step_import_title",description:"webapp_secrets_empty_state_next_step_import_description",button:"webapp_secrets_empty_state_next_step_import_button"}}}},iI=()=>{const{translate:e}=(0,v.Z)(),t=(0,tl.Q)(),{routes:n}=(0,a.Xo)(),i=(0,ta.o)(mh.c.ImportOrchestratorGrapheneMigration);if(t.status!==qn.rq.Success)return null;const r=i?n.importDataV2:n.importData,o=aI[t.isB2B?t.b2bRoles.isAdmin?"admin":"employee":"b2c"];return(0,F.BX)(nl.x,{title:e(o.title),description:e(o.description),illustrationLightSrc:tI,illustrationDarkSrc:nI,children:[(0,F.tZ)(tp.G,{title:e(o.nextStep.import.title),description:e(o.nextStep.import.description),button:{children:e(o.nextStep.import.button),layout:"iconLeading",icon:"ImportOutlined",onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.ImportSecrets})),(0,a.uX)(r)}}}),(0,F.tZ)(tp.G,{title:e(o.nextStep.add.title),description:e(o.nextStep.add.description),button:{children:e(o.nextStep.add.button),intensity:"quiet",layout:"iconLeading",icon:"ActionAddOutlined",onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.AddSecret})),(0,a.uX)(n.userAddBlankSecret)}}})]})};var rI,oI=n(67986),sI=n(26642);const lI=({canCopy:e,onEdit:t,onCopy:n,onShare:a,hasShareAction:i})=>{const{translate:r}=(0,v.Z)(),o=(0,Zt.l)();return null===o?null:(0,F.BX)(vt.h_,{children:[rI||(rI=(0,F.tZ)(vt.sB,{"aria-label":"More",icon:"ActionMoreOutlined",layout:"iconOnly",intensity:"supershy"})),(0,F.BX)(vt.Nv,{children:[o?null:(0,F.BX)(C.Fragment,{children:[e?(0,F.tZ)(kt.h,{label:r("webapp_secrets_quick_action_copy_content"),leadingIcon:"ActionCopyOutlined",onSelect:()=>n("secret",r("webapp_secrets_quick_action_copy_content_confirmation"))}):null,(0,F.tZ)(kt.h,{label:r("webapp_secrets_quick_action_copy_id"),leadingIcon:"ActionCopyOutlined",onSelect:()=>n("id",r("webapp_secrets_quick_action_copy_id_confirmation"))})]}),i?(0,F.tZ)(kt.h,{label:r("webapp_secrets_quick_action_share"),leadingIcon:"ActionShareOutlined",onSelect:a}):null,(0,F.tZ)(kt.h,{label:r("webapp_secrets_quick_action_see_details"),leadingIcon:"ActionEditOutlined",onSelect:t})]})]})},cI=(e,{creationDatetime:t})=>t?(0,F.tZ)(bc.Z,{children:e.shortDate((0,Zs.Z)(t))}):null,dI=({userModificationDatetime:e})=>e?(0,F.tZ)(bc.Z,{children:(0,F.tZ)(Ls.Z,{date:(0,Zs.Z)(e)})}):null,pI=({secret:e})=>{var t;const{routes:n}=(0,a.Xo)(),{pathname:i}=(0,a.TH)(),{showToast:r}=(0,Z.p)(),{openDialog:o,closeDialog:s}=(0,We.R)(),l=(0,yn.F)(),{isMPLessUser:c}=(0,fn.Z)(),d=!l&&!c,p=(0,Wt.k)(),{areProtectedItemsUnlocked:u,openProtectedItemsUnlocker:_}=(0,Dt.tY)(),{logCopiedSecretContent:m}=(0,Tt.D)(),h=e.isSecured&&!u,g=Boolean(e.spaceId),{translate:b}=(0,v.Z)(),{getPermissionForItem:w,sharingEnabled:y,getSharingStatusForItem:f}=(0,Ft.Y)(Xt.X,{getPermissionForItem:{queryParam:{itemId:e.id}},getSharingStatusForItem:{queryParam:{itemId:e.id}},sharingEnabled:{}},[]),x=Boolean(y.data)&&w.data?.capabilities.canShare,S=w.data?.capabilities.canCopy,C=!!f.data?.isShared,k=n.userVaultItem(e.id,ut.U.Secret,i),I=()=>{(0,$e.Nc)(je.PageView.ItemSecretDetails),(0,bt.pP)(e.id)},E=[{key:"title",content:(0,F.tZ)(vc,{secret:e,isShared:C})},{key:"createdAt",content:cI(b,e),className:wc.created},{key:"updatedAt",content:dI(e),className:wc.updated}];return(0,F.tZ)(zs.Z,{type:"link",onClick:I,data:E,link:k,actions:(0,F.tZ)(lI,{canCopy:S,onEdit:I,onCopy:(t,n)=>{let a=e.content;"id"===t&&(a=new RegExp("^{(.*)}$").test(e.id)?e.id.substring(1,e.id.length-1):e.id);const i=async()=>{(0,$e.Kz)(new je.UserCopyVaultItemFieldEvent({itemId:e.id,itemType:je.ItemType.Secret,field:"id"===t?je.Field.SecretId:je.Field.Secret,isProtected:e.isSecured})),g&&m(e.title),await navigator.clipboard.writeText(a).then((()=>r({description:n})))};h&&d?_({action:Et.P.Show,itemType:Et.R.Secret,successCallback:i}):i()},onShare:()=>{const n=(0,Jk.fl)(e.id);o(p&&n?(0,F.tZ)(oI.Z,{sharing:n,onDismiss:s,origin:je.Origin.ItemListView}):t||(t=(0,F.tZ)(sI.z,{closeDialog:s})))},hasShareAction:x})},e.id)},uI={CATEGORY_CELL:{width:"150px",display:"flex"},CREATED_CELL:{width:"204px",display:"flex"},LIST:{height:"100%",overflow:"auto"},ICON:{marginLeft:"5px"}};var _I;const mI=({className:e,header:t,secrets:n})=>n.length?(0,F.BX)("div",{sx:{position:"relative",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:[t,(0,F.tZ)("div",{className:e,sx:uI.LIST,children:(0,F.tZ)(pt.a,{children:n.map((e=>(0,F.tZ)(pI,{secret:e},`secrets_list_secretId_${e.id}`)))})})]}):(0,F.tZ)(vf.QR,{mode:"fullscreen",paywall:vf.qd.SecureNote,children:_I||(_I=(0,F.tZ)(iI,{}))}),hI=()=>{var e,t;const{currentSpaceId:n}=(0,g.fV)(),{translate:a}=(0,v.Z)(),[i,r]=(0,C.useState)({field:"title",direction:wd._.ascending}),o=(0,C.useMemo)((()=>[{key:"title",sortable:!0,content:a("webapp_secure_notes_list_header_name"),logSubaction:"name"},{key:"createdAt",sortable:!0,content:a("webapp_secure_notes_list_header_created"),className:wc.created,logSubaction:"creationDate"},{key:"updatedAt",sortable:!0,content:a("webapp_secure_notes_list_header_updated"),className:wc.updated,logSubaction:"lastUpdated"}]),[a]),s=(0,C.useMemo)((()=>{const{field:e}=i,t=o.map((e=>e.key)).includes(e)?e:"title";return[{direction:i.direction,field:t}]}),[o,i]),{fetchSecureFileQuota:l}=(0,K.u)(Nl.e),{data:c,status:d}=(0,L.k)(Ht.L,"query",{vaultItemTypes:[ut.U.Secret],propertyFilters:null!==n?[{property:"spaceId",value:n}]:void 0,propertySorting:{property:s[0].field,direction:s[0]?.direction===wd._.ascending?ud.S.Ascend:ud.S.Descend}});if((0,C.useEffect)((()=>{(()=>{const e=localStorage.getItem(md.co);try{if(e){const t=JSON.parse(e);r(t.sortingOptions)}}catch(e){}})(),l(),(0,$e.Nc)(je.PageView.ItemSecretList)}),[]),d!==R.rq.Success)return null;const p=null!=(e=c?.secretsResult.items)?e:[],u=null!=(t=p.length)?t:0;return(0,F.tZ)(Os,{children:(0,F.BX)(Go.I,{header:u>0?(0,F.tZ)(eI,{totalSecretsCount:u}):(0,F.tZ)(Qs.t,{title:"webapp_secrets_empty_state_page_title"}),children:[(0,F.tZ)(Qk.Z,{customSx:{marginBottom:"8px"},noticeType:Qk.b.SecureNotes}),(0,F.tZ)(mI,{header:(0,F.tZ)(Ps.h,{header:o,onSort:e=>{(e=>{var t;r(e),t={sortingOptions:e},localStorage.setItem(md.co,JSON.stringify(t))})(e)},options:i}),className:wc.list,secrets:p})]})})},gI=({path:e})=>(0,F.tZ)(a.Vy,{path:e,component:hI,isB2BCapabilityRestricted:!0});var bI;const wI=()=>(0,F.tZ)(ne.k,{sx:{padding:"0 24px"},children:(0,F.tZ)(_o.h,{startWidgets:(0,F.tZ)(I.X,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:"Settings"}),endWidget:bI||(bI=(0,F.tZ)(mo.D,{}))})}),yI="16px",fI="1200px",xI="726px",SI={WITH_RESPONSIVE_COLUMN:{[`@container (max-width:${fI})`]:{"&":{gridTemplateColumns:"1fr"}}}},vI=({name:e,aside:t,children:n})=>(0,F.BX)(C.Fragment,{children:[e?(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",sx:{marginBottom:"24px"},children:e}):null,(0,F.tZ)("div",{sx:{containerType:"inline-size"},children:(0,F.BX)("div",{sx:(0,rt.jM)([{display:"grid",gap:yI,maxWidth:fI,gridTemplateColumns:`minmax(0, ${xI}) 1fr`},SI.WITH_RESPONSIVE_COLUMN]),children:[(0,F.tZ)(ne.k,{flexDirection:"row",flexWrap:"wrap",alignContent:"start",gap:yI,sx:{width:"100%",maxWidth:xI},children:n}),(0,F.tZ)(ne.k,{as:"aside",gap:yI,flexWrap:"wrap",flexDirection:"column",alignContent:"start",sx:{maxWidth:"347px",width:"100%"},children:(0,F.tZ)($o,{children:t})})]})})]});var CI=n(48484),ZI=n(84921);const kI={CARD:{position:"relative",padding:0,gap:0,height:"auto",overflow:"hidden",userSelect:"none"},ILLUSTRATION:{width:"100%",height:"auto",cursor:"pointer",backgroundColor:"ds.container.agnostic.neutral.quiet"},RADIO:{padding:"16px 24px",overflow:"hidden",textOverflow:"ellipsis","label > span":{overflow:"hidden"}}},II=({optionsPerRow:e="auto",optionsList:t,option:n,setOption:a})=>{const i=(0,C.useMemo)((()=>{const n="auto"===e?t.length%3==0?3:2:e;return{columns:n,gap:8,gapCorrection:8-8/n}}),[t.length,e]);return(0,F.tZ)("div",{sx:{'> [role="radiogroup"]':{display:"flex",flexWrap:"wrap",flexDirection:"row",gap:`${i.gap}px`}},children:(0,F.tZ)(_w.E,{groupName:"AppearanceSettings",value:n,onChange:e=>{a(e.target.value)},children:t.map((({label:e,description:t,optionKey:n,illustrationSrc:r})=>(0,F.BX)(yr.Z,{sx:(0,rt.jM)([kI.CARD,{width:`calc(100% / ${i.columns} - ${i.gapCorrection}px)`}]),children:[(0,F.tZ)("img",{alt:"",onClick:()=>{a(n)},"aria-hidden":!0,src:r,sx:kI.ILLUSTRATION,draggable:!1}),(0,F.tZ)("div",{sx:kI.RADIO,children:(0,F.tZ)(mw.Y,{label:e,value:n,description:t},e)})]},n)))})})},EI=({title:e,description:t,children:n})=>(0,F.BX)(yr.Z,{sx:{width:"100%"},children:[(0,F.tZ)(I.X,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e}),t?(0,F.tZ)(D.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:t}):null,n]}),DI=n.p+"f8be07e4b5b2893ecff2.png",TI=n.p+"b77315a2d7928802d18a.png",AI=n.p+"8681b006e336ccc0f78a.png",NI=n.p+"69c7aa569975243a6ef0.png",OI=()=>{const{translate:e}=(0,v.Z)(),t=(0,ta.o)(CI.H.DebugTheme),{data:n,status:a}=(0,L.k)(ZI.Z,"getTheme"),{setTheme:i}=(0,K.u)(ZI.Z);return a!==R.rq.Success?null:(0,F.tZ)(EI,{title:e("webapp_appearance_settings_color_theme_title"),description:e("webapp_appearance_settings_color_theme_description"),children:(0,F.tZ)(II,{setOption:e=>{i(e)},option:n,optionsList:[{label:e("webapp_appearance_settings_color_theme_light"),optionKey:"light",illustrationSrc:TI},{label:e("webapp_appearance_settings_color_theme_dark"),optionKey:"dark",illustrationSrc:AI},{label:e("webapp_appearance_settings_color_theme_system"),optionKey:"system",illustrationSrc:DI},...t?[{label:e("webapp_appearance_settings_color_theme_debug"),optionKey:"debug",illustrationSrc:NI}]:[]]})})},PI=n.p+"2772b537a00ceaa4ec2a.png",LI=n.p+"2df70a7dab2c86afd843.png",RI=()=>{const{translate:e}=(0,v.Z)(),[t,n]=(0,C.useState)("enabled");return(0,F.BX)(EI,{title:e("webapp_appearance_settings_rich_icons_title"),description:e("webapp_appearance_settings_rich_icons_description"),children:[(0,F.tZ)(II,{setOption:n,option:t,optionsList:[{label:e("webapp_appearance_settings_rich_icons_enabled"),optionKey:"enabled",illustrationSrc:PI},{label:e("webapp_appearance_settings_rich_icons_disabled"),optionKey:"disabled",illustrationSrc:LI}]}),(0,F.tZ)(ge.Q,{href:"https://support.dashlane.com/hc/articles/17909345422354",sx:{marginTop:"24px"},isExternal:!0,children:e("webapp_appearance_settings_rich_icons_learn_more")})]})};var MI,BI;const zI=()=>{const e=(0,ta.o)(Vn.w.SettingsRevamp);return(0,F.BX)(vI,{children:[MI||(MI=(0,F.tZ)(OI,{})),e?BI||(BI=(0,F.tZ)(RI,{})):null]})};var UI,FI,XI,qI,HI=n(64013),VI=n(8944),WI=n(33484);const jI=({platform:e})=>{switch(e){case"webaccess":case"server_tac":case"server_leeloo":case"server_leeloo_dev":case"server_standalone":return UI||(UI=(0,F.tZ)(WI.O,{type:"windows"}));case"server_win":return FI||(FI=(0,F.tZ)(WI.O,{type:"windows"}));case"server_macosx":case"server_iphone":case"server_ipad":case"iphone":return XI||(XI=(0,F.tZ)(WI.O,{type:"apple"}));case"server_android":return qI||(qI=(0,F.tZ)(WI.O,{type:"android"}));default:return null}};var GI;const KI=({device:e,onDeviceDelete:t,onDeviceEdit:n})=>{var a;const{translate:i}=(0,v.Z)(),r=i.shortDate;return(0,F.BX)(HI.S,{children:[(0,F.tZ)(VI.p,{children:(0,F.tZ)(ft.s,{title:null!=(a=e.deviceName)?a:"",thumbnail:e.devicePlatform?(0,F.tZ)(jI,{platform:e.devicePlatform}):GI||(GI=(0,F.tZ)(k.v,{name:"WebOutlined"})),sx:{marginTop:"4px"}})}),(0,F.tZ)(VI.p,{children:r(new Date(1e3*e.creationDate),ks._T.L)}),(0,F.tZ)(VI.p,{children:(0,F.tZ)(Ls.Z,{date:new Date(1e3*e.lastUpdateDate)})}),(0,F.BX)(VI.p,{layout:"actions",children:[(0,F.tZ)(w.z,{"aria-label":"Edit",icon:"ActionEditOutlined",intensity:"supershy",layout:"iconOnly",size:"small",onClick:()=>{n(e)}},"edit"),(0,F.tZ)(w.z,{"aria-label":"Delete",icon:"ActionDeleteOutlined",mood:"danger",intensity:"supershy",layout:"iconOnly",size:"small",onClick:()=>t(e)},"delete")]})]},e.deviceName)};var YI;const $I="webapp_device_management_all_devices_title",QI=({onDeviceEdit:e,onDeviceDelete:t,authorisedDeviceList:n})=>{const{translate:a}=(0,v.Z)(),i=n.sort(((e,t)=>new Date(t.lastUpdateDate).getTime()-new Date(e.lastUpdateDate).getTime()));return(0,F.BX)(EI,{title:a($I),children:[(0,F.tZ)(D.n,{children:a("webapp_device_management_all_devices_description")}),(0,F.BX)(Mc.i,{"aria-label":$I,children:[(0,F.BX)(Bc.s,{children:[(0,F.tZ)(zc.b,{isRowHeader:!0,width:"2fr",children:a("webapp_device_management_all_devices_headers_device_name")}),(0,F.tZ)(zc.b,{children:a("webapp_device_management_all_devices_headers_authorised")}),(0,F.tZ)(zc.b,{children:a("webapp_device_management_all_devices_headers_last_updated")}),YI||(YI=(0,F.tZ)(zc.b,{}))]}),(0,F.tZ)(Uc.i,{children:i.filter((e=>!e.isCurrentDevice)).map((n=>(0,F.tZ)(KI,{device:n,onDeviceEdit:e,onDeviceDelete:t},n.deviceId)))})]})]})};var JI;const eE="webapp_device_management_current_device_rename_button",tE=({currentDevice:e,onDeviceEdit:t})=>{const{translate:n}=(0,v.Z)();return(0,F.tZ)(EI,{title:n("webapp_device_management_current_device_title"),children:(0,F.tZ)(pt.a,{children:(0,F.tZ)(yt.H,{actions:[(0,F.tZ)(w.z,{"aria-label":n(eE),icon:"ActionEditOutlined",intensity:"supershy",layout:"iconLeading",size:"small",onClick:()=>t(e),children:n(eE)},"edit")],children:(0,F.tZ)(ft.s,{title:e?.deviceName?e?.deviceName:n("webapp_device_management_unnamed_device"),thumbnail:e?.devicePlatform?(0,F.tZ)(jI,{platform:e.devicePlatform}):JI||(JI=(0,F.tZ)(k.v,{name:"WebOutlined"}))})})})})};var nE;const aE=({isOpen:e,onClose:t,deviceToDelete:n,deactivationRequest:a})=>{const{translate:i}=(0,v.Z)(),{showToast:r}=(0,Z.p)();return(0,F.BX)(Jo.Vq,{isOpen:e,onClose:t,title:i("webapp_device_management_deauthorise_device_title"),closeActionLabel:i("_common_dialog_dismiss_button"),isDestructive:!0,actions:{primary:{children:i("webapp_device_management_deauthorise_device_confirmation_button"),onClick:()=>{var e;e=n.deviceId,a(e),r({description:i("webapp_account_device_deactivation_announcement"),closeActionLabel:"Close"})}},secondary:{children:i("_common_action_cancel")}},children:[(0,F.tZ)(D.n,{children:i("webapp_device_management_deauthorise_device_description")}),(0,F.tZ)(yr.Z,{padding:"16px",sx:{marginTop:"12px",background:"ds.container.agnostic.neutral.quiet",borderColor:"ds.container.agnostic.neutral.quiet"},children:(0,F.tZ)(ft.s,{title:n?.deviceName?n?.deviceName:i("webapp_device_management_unnamed_device"),thumbnail:n?.devicePlatform?(0,F.tZ)(jI,{platform:n.devicePlatform}):nE||(nE=(0,F.tZ)(k.v,{name:"ArrowRightOutlined"}))})})]})},iE=({isOpen:e,onClose:t,renamingRequest:n,deviceNameToEdit:a})=>{const{translate:i}=(0,v.Z)(),[r,o]=(0,C.useState)(""),s=()=>{r&&(n(a.deviceId,r),o(""))};return(0,F.BX)(Jo.Vq,{isOpen:e,onClose:()=>{t(),o("")},title:i("webapp_device_management_edit_device_name_title"),closeActionLabel:i("_common_dialog_dismiss_button"),actions:{primary:{children:i("webapp_device_management_edit_device_name_rename_button"),onClick:()=>{s()},disabled:0===r.length},secondary:{children:i("_common_action_cancel")}},children:[(0,F.tZ)(D.n,{children:i("webapp_device_management_edit_device_name_description")}),(0,F.tZ)(yr.Z,{padding:"8px 16px",sx:{marginTop:"12px",background:"ds.container.agnostic.neutral.quiet",borderColor:"ds.container.agnostic.neutral.quiet"},children:(0,F.tZ)(he.C,{label:i("webapp_device_management_edit_device_name_current_name_label"),value:a?.deviceName?a?.deviceName:i("webapp_device_management_unnamed_device")})}),(0,F.tZ)(E.n,{required:!0,onChange:e=>{o(e.target.value)},value:r,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),s())},autoFocus:!0,label:i("webapp_device_management_edit_device_name_new_device_name_label")})]})},rE={deviceId:"",deviceName:"",devicePlatform:"",creationDate:0,lastUpdateDate:0,isCurrentDevice:!1},oE=()=>{const e=(0,L.k)(og.c,"listAuthorisedDevice").data,t=e?.find((e=>e.isCurrentDevice)),n=e?.find((e=>!e.isCurrentDevice)),[a,i]=(0,C.useState)(!1),[r,o]=(0,C.useState)(rE),s=e=>{i(!0),o(e)},l=()=>{i(!1)},[c,d]=(0,C.useState)(!1),[p,u]=(0,C.useState)(rE),_=()=>{d(!1)},{revokeAuthorisedDevice:m,renameAuthorisedDevice:h}=(0,K.u)(og.c);return e&&t?(0,F.BX)(vI,{children:[(0,F.tZ)(aE,{isOpen:c,onClose:_,deviceToDelete:p,deactivationRequest:async e=>{await m({deviceId:e}),_()}}),(0,F.tZ)(iE,{isOpen:a,onClose:l,deviceNameToEdit:r,renamingRequest:async(e,t)=>{await h({deviceId:e,updatedName:t}),l()}}),(0,F.tZ)(tE,{currentDevice:t,onDeviceEdit:s}),n?(0,F.tZ)(QI,{authorisedDeviceList:e,onDeviceEdit:s,onDeviceDelete:e=>{d(!0),u(e)}}):null]}):null};var sE=n(31196),lE=n(89891);const cE=()=>{const{translate:e}=(0,v.Z)(),t=(0,L.k)(lE.y,"getEmailPreferenceLink");return t.status!==R.rq.Success?null:(0,F.BX)(EI,{title:e("webapp_privacy_settings_email_admin_title"),description:e("webapp_privacy_settings_admin_description"),children:[(0,F.tZ)(V.k,{title:e("webapp_privacy_settings_admin_infobox_title"),description:e("webapp_privacy_settings_admin_infobox_description"),mood:"neutral",size:"medium"}),(0,F.tZ)(w.z,{icon:"ActionOpenExternalLinkOutlined",layout:"iconTrailing",intensity:"quiet",onClick:()=>{(0,Oe.Yo)(t.data)},children:e("webapp_privacy_settings_admin_button")})]})};let dE=function(e){return e.UNKNOWN="unknown",e.ACCOUNT_CREATION="account_creation",e.B2B_FREE_TRIAL="B2B_free_trial",e.PRIVACY_SETTINGS="privacy_settings",e.ACCOUNT_RECREATION="account_recreation",e.ACCOUNT_DELETION="account_deletion",e.BACKFILL="backfill",e.BRAZE_WEBHOOK="braze_webhook",e}({});const pE="webapp_privacy_settings_request_cta_label",uE=[{title:"webapp_privacy_settings_withdraw_consent_title",description:"webapp_privacy_settings_withdraw_consent_description"},{title:"webapp_privacy_settings_erasure_title",description:"webapp_privacy_settings_erasure_description",cta:{label:pE,link:i._9}},{title:"webapp_privacy_settings_access_title",description:"webapp_privacy_settings_access_description",cta:{label:pE,link:i.mA}},{title:"webapp_privacy_settings_rectification_title",description:"webapp_privacy_settings_rectification_description",cta:{label:pE,link:i.NW}},{title:"webapp_privacy_settings_restriction_processing_title",description:"webapp_privacy_settings_restriction_processing_description",cta:{label:pE,link:i.N5}},{title:"webapp_privacy_settings_data_portability_title",description:"webapp_privacy_settings_data_portability_description",cta:{label:pE,link:i.m$}},{title:"webapp_privacy_settings_object_title",description:"webapp_privacy_settings_object_description",cta:{label:pE,link:i.v$}},{title:"webapp_privacy_settings_complaint_title",description:"webapp_privacy_settings_complaint_description",cta:{label:pE,link:i.JQ},noDivider:!0}],_E={emailsOffersAndTips:{initialValue:!0,value:!1},privacyPolicyAndToS:{initialValue:!0,value:!1}};var mE;const hE="webapp_privacy_settings_save_cta_label",gE="webapp_privacy_settings_save_error",bE=()=>{const{translate:e}=(0,v.Z)(),[t,n]=(0,C.useState)(!1),[a,i]=(0,C.useState)(!1),[r,o]=(0,C.useState)(!1),[s,l]=(0,C.useState)(!1),[c,d]=(0,C.useState)(!1),[p,u]=(0,C.useState)(_E),_={emailsOffersAndTips:{status:"refused"},privacyPolicyAndToS:{status:"accepted"}},[m,h]=(0,C.useState)(_),{updateConsents:g}=(0,K.u)(lE.y),b=(0,L.k)(lE.y,"getConsents",{format:"two-consents"}),y=b.status===R.rq.Success&&b.data?b.data.consents:_,f=p.emailsOffersAndTips.value,x={EmailsOffersAndTips:f},S=e=>{const t={};Object.keys(e).forEach((n=>{if(_E[n]){const a=_E[n],i="accepted"===e[n].status;a.initialValue=i,a.value=i,t[n]=a}})),i(!1),u(t)};return(0,C.useEffect)((()=>{b.status===R.rq.Success&&(JSON.stringify(m)!==JSON.stringify(y)&&h(y),S(m))}),[m,b.status,y]),(0,F.tZ)(EI,{title:e("webapp_privacy_settings_email_title"),description:e("webapp_privacy_settings_edit_description"),children:(0,F.tZ)(ES.J9,{initialValues:x,onSubmit:async()=>{const e={emailsOffersAndTips:{status:f?"accepted":"refused"}};o(!0),(0,$e.Kz)(new je.UserUpdateCommunicationsPreferencesEvent({flowStep:je.FlowStep.Complete,isMarketingOptIn:f}));try{"success"===(await g({triggerBy:dE.PRIVACY_SETTINGS,consents:e})).tag&&(l(!0),setTimeout((()=>{n(!1),o(!1),i(!1)}),1e3),setTimeout((()=>{var t;l(!1),t=e,i(!0),S(t),i(!1)}),2e3))}catch(e){d(!0),o(!1),i(!1),setTimeout((()=>{d(!1)}),2e3)}},children:(0,F.tZ)(ES.l0,{children:(0,F.BX)(ne.k,{gap:"16px",sx:{flexDirection:"column",marginTop:"8px"},children:[(0,F.tZ)(as.X,{name:"emailsOffersAndTips",label:e("webapp_privacy_settings_offers_and_tips_checkbox_label"),checked:f,disabled:a,onChange:e=>{(e=>{const t=Object.assign({},p);t.emailsOffersAndTips.value=e,u(t),n(t.emailsOffersAndTips.value!==p.emailsOffersAndTips.initialValue),(0,$e.Kz)(new je.UserUpdateCommunicationsPreferencesEvent({flowStep:je.FlowStep.Start,isMarketingOptIn:e}))})(e.target.checked)},feedback:c?{type:"error",id:gE,text:e(gE)}:void 0}),(0,F.tZ)(w.z,{intensity:"quiet",disabled:!t||a||r,type:"submit",children:r?(0,F.BX)(C.Fragment,{children:[mE||(mE=(0,F.tZ)(go.Z,{size:"small"})),e(hE)]}):e(s?"webapp_privacy_settings_save_cta_label_saved":hE)})]})})})})};var wE,yE;const fE=()=>{const e=(0,Jg.JS)(),t=(0,ta.o)(sE.K.EMAIL_PREFERENCE_CENTER);if(e.status!==qn.rq.Success||null==t)return null;const n=(e=>{var t;return null!=(t=e.spaces?.some((e=>"accepted"===e.status))&&e.spaces?.some((e=>e.isTeamAdmin)))&&t})(e.data)&&!e.data.b2bStatus?.currentTeam?.isTrial&&t;return n?wE||(wE=(0,F.tZ)(cE,{})):yE||(yE=(0,F.tZ)(bE,{}))},xE=()=>{const{translate:e}=(0,v.Z)();return(0,F.BX)(EI,{title:e("webapp_privacy_settings_permissions_title"),description:e("webapp_privacy_settings_permissions_description"),children:[(0,F.tZ)(as.X,{checked:!0,readOnly:!0,label:(0,F.tZ)(D.n,{color:"ds.text.neutral.standard",sx:{fontStyle:"italic"},children:e.markup("webapp_privacy_settings_terms_and_privacy_checkbox_label_markup",{termsLink:i.qy,privacyLink:i.Sb},{linkTarget:"_blank"})}),sx:{margin:"16px 0",width:"100%"}}),(0,F.tZ)(w.z,{intensity:"quiet",role:"link",onClick:()=>{window.open(i.mE)},children:e("webapp_privacy_settings_request_cta_label")})]})};var SE=n(37332);const vE=()=>{const{translate:e}=(0,v.Z)();return(0,F.tZ)(EI,{title:e("webapp_privacy_settings_data_rights_title"),children:uE.map((t=>(0,F.BX)("div",{sx:{width:"100%"},children:[(0,F.BX)("div",{sx:{gap:"8px",display:"inline"},children:[(0,F.tZ)(D.n,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:e(t.title)}),(0,F.tZ)(D.n,{color:"ds.text.neutral.quiet",sx:{margin:"16px 0"},children:e(t.description)}),t.cta?(0,F.tZ)(w.z,{intensity:"quiet",role:"link",onClick:()=>{window.open(t.cta.link)},sx:{marginBottom:"16px"},children:e(t.cta.label)}):null]}),t.noDivider?null:(0,F.tZ)(SE.i,{sx:{margin:"10px 0"}})]},t.title)))})};var CE,ZE,kE;const IE=({lee:e})=>{const{translate:t}=(0,v.Z)(),n=e.carbon.currentLocation.isEu;return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.PrivacySettings)}),[]),(0,F.BX)(vI,{name:t("webapp_privacy_settings_page_title"),children:[CE||(CE=(0,F.tZ)(fE,{})),n?(0,F.BX)(C.Fragment,{children:[ZE||(ZE=(0,F.tZ)(xE,{})),kE||(kE=(0,F.tZ)(vE,{}))]}):null]})};var EE=n(6253);const DE="webapp_referral_page_invite_by_email_button_text",TE=e=>e.split(",").map((e=>e.trim()));var AE,NE=n(14969),OE=n(55449),PE=n(49706);const LE=({invite:e})=>{const{inviteeLogin:t,creationDateUnix:n,accountCreationDateUnix:a}=e,i=(0,OE.W)({date:(0,Zs.Z)(null!=a?a:0),format:ks._T.LL,i18n:{key:"webapp_referral_page_invite_history_card_table_status_invite_success",param:"signUpDate"}}),r=(0,PE.x)({date:(0,Zs.Z)(n),i18n:{key:"webapp_referral_page_invite_history_card_table_status_invite_pending",param:"timeAgoSinceInvite"}});let o;return n&&(o=a?i:r),(0,F.tZ)(yt.H,{children:(0,F.tZ)(ft.s,{title:t,description:o,thumbnail:AE||(AE=(0,F.tZ)(NE.q,{userAvatarURL:void 0,forceFallback:!0})),sx:{"& > div:nth-child(2) > span:last-child":{color:a&&n?"ds.text.positive.quiet":void 0}}})},t)},RE=({invites:e})=>(0,F.tZ)("div",{children:e&&e.length>0?e.map((e=>(0,F.tZ)(LE,{invite:e},e.inviteeLogin))):null}),ME=({sentInvites:e,isLimitReached:t})=>{const{translate:n}=(0,v.Z)(),[a,i]=(0,C.useState)(null),[r,o]=(0,C.useState)(null);return(0,C.useEffect)((()=>{if(e&&e.length>0){const{pendingInvites:t,successfulInvites:n}=(e=>{const t=e?e.filter((e=>null!==e.accountCreationDateUnix)):null;return{pendingInvites:e?e.filter((e=>null===e.accountCreationDateUnix)):null,successfulInvites:t}})(e);i(t),o(n)}}),[e]),a||r?(0,F.BX)(EI,{title:n("webapp_referral_page_invite_history_card_title"),children:[t?(0,F.tZ)(V.k,{title:n("webapp_referral_page_invite_history_card_infobox_limit_title",{invitationLimit:4}),mood:"positive",size:"large"}):null,(0,F.BX)(pt.a,{children:[(0,F.tZ)(RE,{invites:r}),(0,F.tZ)(RE,{invites:a})]})]}):null};var BE;const zE=()=>{const{translate:e}=(0,v.Z)(),{showToast:t}=(0,Z.p)(),{inviteByEmail:n}=(0,K.u)(EE.l),a=e("webapp_referral_page_share_by_email_text_field_placeholder");return(0,F.tZ)(ES.J9,{initialValues:{emails:""},onSubmit:async(a,i)=>{const r=TE(a.emails),o=(await(async e=>await Promise.all(e.map((async e=>({results:await n({email:e}),email:e})))))(r)).filter((e=>(0,T.hx)(e.results))),s=o.length>0;if(s&&1===r.length)return void t({description:e("webapp_referral_page_share_by_email_text_field_error_msg_exists"),mood:"danger"});if(s&&r.length>1&&1===o.length)return void t({description:e("webapp_referral_page_share_by_email_text_field_error_msg_exists_custom",{email:o[0].email}),mood:"danger"});if(s&&r.length>1&&o.length>1){const n=[];return o.forEach((e=>{n.push(e.email)})),void t({description:e("webapp_referral_page_share_by_email_text_field_error_msg_exists_custom_plural",{email:n.join(", ")}),mood:"danger"})}if(s)return void t({description:e("webapp_referral_page_share_by_email_text_field_error_msg_generic"),mood:"danger"});const l=0===o.length;return l&&1===r.length&&t({description:e("webapp_referral_page_share_by_email_text_field_success_msg")}),l&&r.length>1&&t({description:e("webapp_referral_page_share_by_email_text_field_success_msg_plural")}),(0,$e.Kz)(new je.UserClickEvent({button:je.Button.InviteReferralsByEmail})),i.resetForm()},validate:t=>{const n={},a=TE(t.emails),i=a.filter((e=>!Fd.CU.test(e)));if(a.length>4&&(n.emails=e("webapp_referral_page_share_by_email_text_field_error_msg_invite_limit")),1===i.length&&(n.emails=e("webapp_referral_page_share_by_email_text_field_error_msg_invalid")),i.length>1){const t=i.join(", ");n.emails=e("webapp_referral_page_share_by_email_text_field_error_msg_invalid_plural",{emails:t})}return n},validateOnChange:!1,children:t=>{const{emails:n}=t.errors,{emails:i}=t.values;return(0,F.tZ)("form",{onSubmit:t.handleSubmit,children:(0,F.tZ)("div",{sx:{display:"flex",gap:"16px"},children:(0,F.tZ)("div",{sx:{width:"100%"},children:(0,F.tZ)(E.n,{label:e("webapp_referral_page_share_by_email_text_field_label"),onKeyDown:()=>t.setErrors({}),onChange:t.handleChange,placeholder:a,value:i,error:!!n,name:"emails",actions:[(0,F.tZ)(w.z,{"aria-label":e(DE),icon:BE||(BE=(0,F.tZ)(st.JO,{name:"ArrowRightOutlined"})),intensity:"supershy",layout:"iconTrailing",type:"submit",sx:{whiteSpace:"nowrap",alignSelf:"center"},disabled:i.length<6||t.isSubmitting,isLoading:t.isSubmitting,children:e(DE)},"invite")]})})})})}})};var UE;const FE=({shareLink:e,xUrl:t})=>{const{translate:n}=(0,v.Z)(),{showToast:a}=(0,Z.p)();return(0,F.BX)(EI,{title:n("webapp_referral_page_referral_link_card_title"),children:[(0,F.BX)("div",{children:[(0,F.tZ)(D.n,{children:n("webapp_referral_page_referral_link_card_description_1",{invitationLimit:4})}),(0,F.tZ)(D.n,{sx:{paddingTop:"4px"},children:n("webapp_referral_page_referral_link_card_description_2")})]}),(0,F.tZ)("div",{sx:{display:"flex",gap:"16px"},children:(0,F.tZ)("div",{sx:{width:"100%"},children:(0,F.tZ)(he.C,{sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",borderRadius:"8px",padding:"4px 4px 4px 16px"},label:n("webapp_referral_page_copy_link_text_field_label"),value:e,actions:[(0,F.tZ)(w.z,{"aria-label":"copy",icon:"ActionCopyOutlined",layout:"iconOnly",mood:"brand",intensity:"supershy",tooltip:n("webapp_referral_page_copy_link_button_text"),onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.CopyReferralLink})),navigator.clipboard.writeText(e),a({description:n("webapp_referral_page_copy_link_success_message")})}},"copy"),(0,F.tZ)(w.z,{"aria-label":"share",intensity:"supershy",icon:"ActionOpenExternalLinkOutlined",layout:"iconTrailing",onClick:()=>{(0,$e.Kz)(new je.UserClickEvent({button:je.Button.ShareReferralLinkOnX})),(0,Oe.Yo)(t)},sx:{whiteSpace:"nowrap",alignSelf:"center"},children:n("webapp_referral_page_referral_link_card_share_link_text")},"share")]})})}),UE||(UE=(0,F.tZ)(zE,{}))]})};var XE;const qE=()=>{const{translate:e}=(0,v.Z)(),[t,n]=(0,C.useState)(""),[a,i]=(0,C.useState)(null),[r,o]=(0,C.useState)(!1),[s,l]=(0,C.useState)(""),c=(0,L.k)(EE.l,"getSharingLink"),d=(0,L.k)(EE.l,"getInvitationsHistory"),p=c.status===R.rq.Success,u=d.status===R.rq.Success;return(0,C.useEffect)((()=>{(0,$e.Nc)(je.PageView.Referral)}),[]),(0,C.useEffect)((()=>{u&&d.data.sent&&(i(d.data.sent),o((e=>{let t=0;return e&&e.forEach((e=>{e.accountCreationDateUnix&&t++})),t})(d.data.sent)>=4))}),[d]),(0,C.useEffect)((()=>{const a=e("webapp_referral_page_copy_link_share_on_x_intent_text");!t&&p&&n(`https://www.dashlane.com/cs/${c.data.sharingId}`),!s&&p&&l(`https://x.com/intent/tweet/?text=${a}&url=https://www.dashlane.com/ts/${c.data.sharingId}`)}),[c]),(0,F.BX)(vI,{name:e("webapp_referral_page_title"),children:[[c.status,d.status].includes(R.rq.Loading)?(0,F.tZ)(yr.Z,{sx:{justifyContent:"center",alignItems:"center",height:"474px",width:"100%"},children:XE||(XE=(0,F.tZ)(go.Z,{size:"xlarge",mood:"brand"}))}):null,p?(0,F.BX)(C.Fragment,{children:[r?null:(0,F.tZ)(FE,{xUrl:s,shareLink:t}),(0,F.tZ)(ME,{sentInvites:a,isLimitReached:r})]}):null]})};var HE,VE,WE,jE;const GE={[Dy.B.Appearance]:"webapp_appearance_settings_tab",[Dy.B.Privacy]:"webapp_privacy_settings_tab",[Dy.B.Referral]:"webapp_referral_settings_tab",[Dy.B.Devices]:"webapp_devices_settings_tab"},KE={WITH_SCROLL:{height:`calc(100vh - ${Object.values({banner:0,header:72,tabs:36,tabGap:32}).reduce(((e,t)=>e+t),0)}px)`,overflowY:"auto",paddingBottom:"81px"}},YE=({lee:e})=>{var t;const n=(0,Xn._)(),{settingTab:i}=(0,a.UO)(),{translate:r}=(0,v.Z)(),{routes:o}=(0,a.Xo)();if(n.status!==qn.rq.Success)return null;const s=n.data[Vn.w.SettingsRevamp],l={[Dy.B.Privacy]:{title:r(GE[Dy.B.Privacy]),component:()=>t||(t=(0,F.tZ)(IE,{lee:e}))},[Dy.B.Referral]:{title:r(GE[Dy.B.Referral]),component:()=>HE||(HE=(0,F.tZ)(qE,{}))},[Dy.B.Appearance]:{title:r(GE[Dy.B.Appearance]),component:()=>VE||(VE=(0,F.tZ)(zI,{}))},[Dy.B.Devices]:{title:r(GE[Dy.B.Devices]),component:()=>WE||(WE=(0,F.tZ)(oE,{})),hidden:!s}};l[i].hidden&&(0,a.uX)(o.userSettings);const c=Object.entries(l).reduce(((e,[t,n])=>(n.hidden||(e[t]=n),e)),{}),d=Object.entries(l).filter((([,{hidden:e}])=>!e)).map((([e,{title:t}])=>({title:t,id:`tab-${e}`,contentId:`content-${e}`,onSelect:()=>{e!==i&&(0,a.uX)(o.userSettingsTab(e))}}))),p=l[i].component,u=Object.keys(c).indexOf(i);return(0,F.BX)("div",{sx:{background:"ds.background.alternate",width:"100%",minHeight:"100%"},children:[jE||(jE=(0,F.tZ)(wI,{})),(0,F.BX)(ne.k,{flexDirection:"column",sx:{padding:"0 24px 64px",gap:"32px"},children:[(0,F.tZ)(Ou.m,{currentTab:u,tabs:d}),(0,F.tZ)("div",{"aria-labelledby":`tab-${i}`,id:`content-${i}`,sx:KE.WITH_SCROLL,children:(0,F.tZ)(p,{})})]})]})},$E=({path:e})=>(0,F.BX)(a.rs,{children:[(0,F.tZ)(a.Vy,{exact:!0,path:`${e}/:settingTab(${Object.values(Dy.B).join("|")})`,component:YE}),(0,F.tZ)(a.l_,{path:e,to:`${e}/${Dy.B.Privacy}`})]});function QE({basePath:e,routingSchemeOptions:t}){return(0,F.BX)(C.Fragment,{children:[(0,F.BX)(a.GB,{path:[`${e}/collections`,`${e}/credentials`,`${e}/device-transfer`,`${e}/passkeys`,`${e}/darkweb-monitoring`,`${e}/ids`,`${e}/import`,`${e}/import2`,`${e}/notifications`,`${e}/onboarding`,`${e}/password-health`,`${e}/password-history`,`${e}/payments`,`${e}/personal-info`,`${e}/premium-plus`,`${e}/profile-admin`,`${e}/secure-notes`,`${e}/go-premium`,`${e}/sharing-center`,`${e}/subscription`,`${e}/vpn`,`${e}/dashlane-labs`,`${e}/settings`,`${e}/secrets`,`${e}/family-dashboard`],component:po,permission:e=>e.loggedIn,redirectPath:i.TT,children:[(0,F.tZ)(Hp,{path:`${e}/collections`}),(0,F.tZ)(eu,{path:`${e}/credentials`}),(0,F.tZ)(a.Vy,{path:`${e}/device-transfer`,component:$k}),(0,F.tZ)(cu,{path:`${e}/passkeys`}),(0,F.tZ)(Em,{path:`${e}/darkweb-monitoring`}),(0,F.tZ)(dh,{path:`${e}/ids`}),(0,F.tZ)(Zv,{path:`${e}/import`}),(0,F.tZ)(zZ,{path:`${e}/import2`}),(0,F.tZ)(Cs,{path:`${e}/notifications`}),(0,F.tZ)(ub,{path:`${e}/onboarding`}),(0,F.tZ)(ew,{path:`${e}/password-health`}),(0,F.tZ)(Vu,{path:`${e}/password-history`}),(0,F.tZ)(pl,{path:`${e}/payments`}),(0,F.tZ)(Tl,{path:`${e}/personal-info`}),(0,F.tZ)(dw,{path:`${e}/premium-plus`}),(0,F.tZ)(Bw,{path:`${e}/profile-admin`}),(0,F.tZ)(Rl,{path:`${e}/secure-notes`}),(0,F.tZ)(Np,{path:`${e}/go-premium`}),(0,F.tZ)(vp,{path:`${e}/sharing-center`}),(0,F.tZ)(of,{path:`${e}/subscription`}),(0,F.tZ)(Of,{path:`${e}/vpn`}),(0,F.tZ)(Wo,{path:`${e}/dashlane-labs`}),(0,F.tZ)(Tk,{path:e}),(0,F.tZ)($E,{path:`${e}/settings`}),(0,F.tZ)(gI,{path:`${e}/secrets`}),(0,F.tZ)(hs,{path:`${e}/family-dashboard`})]}),(0,F.tZ)(a.GB,{path:[`${e}/chrome-welcome`,`${e}/two-factor-authentication`,`${e}/account-recovery-key-result`,`${e}/auto-login-sso-success`,`${e}/device-transfer-success`],component:co,permission:e=>e.loggedIn,redirectPath:i.TT,children:(0,F.tZ)(Yf,{path:`${e}/two-factor-authentication`})}),(0,F.tZ)(a.GB,{path:[`${e}/console`],component:co,permission:e=>e.loggedIn,redirectPath:`${e}${i.S}`,children:(0,F.tZ)(Ul,{path:`${e}/console`,routingSchemeOptions:t})}),(0,F.tZ)(a.GB,{path:[`${e}/anti-phishing`],component:co,children:(0,F.tZ)(Fp,{path:`${e}/anti-phishing`})}),(0,F.tZ)(a.GB,{path:[`${e}/account-management`],component:co,children:(0,F.tZ)(a.Vy,{path:`${e}/account-management`,component:Ee.A})})]})}},14482:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var a=n(30581);const i=e=>{switch(e){case a.L.BLUE:return"blue";case a.L.GRAY:return"grey";case a.L.GREEN:return"green";case a.L.ORANGE:return"orange";case a.L.PURPLE:return"purple";case a.L.RED:case a.L.PINK:return"red";case a.L.BROWN:case a.L.YELLOW:return"yellow";default:return"black"}}},16103:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,X:()=>o});var a=n(96832),i=n(36351);const r=(0,a.createContext)({}),o=({children:e})=>{const[t,n]=(0,a.useState)(""),[o,s]=(0,a.useState)(!1),l={searchValue:t,setSearchValue:e=>n(e),isOpen:o,closeSearch:()=>s(!1),openSearch:()=>s(!0)};return(0,a.useEffect)((()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"f"===e.key&&(e.preventDefault(),s((()=>!0)))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]),(0,i.tZ)(r.Provider,{value:l,children:e})},s=()=>(0,a.useContext)(r)},74434:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const a={blue:"#5b9ed9",purple:"#b96fd1",pink:"#ffafdc",red:"#e2614d",brown:"#a98259",green:"#9cae26",orange:"#fa9243",yellow:"#ffc466",gray:"#717171"},i=/^#([0-9A-F]{3}){1,2}$/i,r=e=>{let t=a[e.toLocaleLowerCase()];return i.test(t)||(t=a.gray),t}},18504:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var a=n(94138),i=n(96832),r=n(74434),o=n(36351);const s=({noteColor:e,className:t,size:n})=>{const s=(0,i.useMemo)((()=>(0,r.N)(e)),[e]);return(0,o.tZ)(a.A,{type:"secure-note",legacyColor:s,size:n,className:t})}},51196:(e,t,n)=>{"use strict";n.d(t,{w:()=>m});var a,i,r,o=n(29020),s=n(47124),l=n(24507),c=n(84925),d=n(73630),p=n(97581),u=n(18504),_=n(36351);const m=({note:e,showTitleIcons:t=!0,tag:n})=>{const{data:m}=(0,l.k)(c.X,"getSharingStatusForItem",{itemId:e.id});return(0,_.BX)("div",{sx:{display:"flex",alignItems:"center"},children:[(0,_.tZ)(u.G,{noteColor:e.color}),(0,_.tZ)("div",{sx:{display:"flex",flexDirection:"column",marginLeft:"16px"},children:(0,_.BX)("div",{sx:{color:"red",alignItems:"center",display:"flex",width:"300px"},children:[(0,_.tZ)(d.Z,{tooltipText:e.title,sx:{whiteSpace:"nowrap"},children:(0,_.tZ)(o.n,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",children:e.title})}),n?(0,_.tZ)("div",{sx:{marginLeft:"8px"},children:n}):null,m?.isShared&&t?(0,_.tZ)("span",{role:"img","aria-hidden":!0,sx:p.L.ICON,children:a||(a=(0,_.tZ)(s.JO,{name:"SharedOutlined",size:"xsmall",color:"ds.text.neutral.quiet"}))}):null,e.attachments?.length&&t?(0,_.tZ)("span",{role:"img","aria-hidden":!0,sx:p.L.ICON,children:i||(i=(0,_.tZ)(s.JO,{name:"AttachmentOutlined",size:"xsmall",color:"ds.text.neutral.quiet"}))}):null,e.isSecured&&t?(0,_.tZ)("span",{role:"img","aria-hidden":!0,sx:p.L.ICON,children:r||(r=(0,_.tZ)(s.JO,{name:"LockOutlined",size:"xsmall",color:"ds.text.neutral.quiet"}))}):null]})})]})}},80842:(e,t,n)=>{"use strict";n.d(t,{E:()=>J});var a=n(48038),i=n(55139),r=n(73704),o=n(88203),s=n(92077),l=n(8403),c=n(14943),d=n(77377),p=n(88455),u=n(99822),_=n(1639),m=n(16019),h=n(35361),g=n(24507),b=n(51031),w=n(14877),y=n(39431),f=n(19122),x=n(36351);const S=()=>{const e=(0,d.w)(i.w.DisableSecureNotes),t=(()=>{const{currentSpaceId:e}=(0,f.fV)(),t=(0,g.k)(w.L,"query",{vaultItemTypes:[y.U.SecureNote],propertyFilters:null!==e?[{property:"spaceId",value:e}]:void 0});return t.status===b.rq.Success?t.data?.secureNotesResult.matchCount:null})(),n=(0,c.Y)(),S=(0,s.k6)(),{translate:v}=(0,o.Z)(),{openPaywall:C}=(0,l.nL)(),{routes:Z}=(0,s.Xo)();if(n.status!==a.rq.Success||null===t)return null;const k=(0,h.n6)(h.Co.SecureNotes,n.data?.capabilities),I=(()=>{if(!(t>0))return null;const e={...(0,u.j8)(),tab:m.f.SecureNotes};return(0,x.tZ)(_.Z,{sharing:e,intensity:"quiet",text:v("credentials_header_share_password"),origin:r.Origin.ItemListView})})();return(0,x.tZ)(p.t,{tooltipPassThrough:!k,tooltipContent:v("webapp_secure_notes_header_add_ui_tooltip"),handleAddNew:e=>(e=>{k?(e.preventDefault(),C(h.qd.SecureNote)):S.push(Z.userAddBlankNote)})(e),addNewDisabled:e,shareButtonElement:I,shouldDisplayNewAccountImportButton:!!t,shouldDisplayAddButton:!!t})};var v=n(10994),C=n(73630),Z=n(15622),k=n(45272),I=n(25960),E=n(89481),D=n(51196),T=n(95930),A=n(3138),N=n(97581),O=n(80343);const P=({note:e})=>{var t;const{routes:n}=(0,s.Xo)(),{pathname:a}=(0,s.TH)(),{previousPage:i}=(0,O.y)(),o=n.userVaultItem(e.id,y.U.SecureNote,a);return(0,x.tZ)(E.Z,{previousPage:i,type:"link",link:o,onClick:()=>{(0,k.Nc)(r.PageView.ItemSecureNoteDetails),(0,I.X0)(e.id)},data:(()=>{const n=[{key:"updatedAt",content:(a=e.userModificationDatetime,a?(0,x.tZ)(C.Z,{children:(0,x.tZ)(Z.Z,{date:(0,v.Z)(a)})}):null),sxProps:N.L.UPDATED_CELL},{key:"collection",content:(0,x.tZ)(A.I,{vaultItemId:e.id}),sxProps:N.L.COLLECTIONS_CELL}];var a;return[{key:"title",content:t||(t=(0,x.tZ)(D.w,{note:e}))},...n]})(),actions:(0,x.tZ)(T.t,{note:e,secureNoteItemRoute:o})},e.id)};var L=n(34202);const R=()=>{const{translate:e}=(0,o.Z)(),{setSortOrder:t,sortingOptions:n,secureNotes:a}=(0,O.y)();return a?.length?(0,x.tZ)(L.h,{header:(()=>{const t=[{key:"userModificationDatetime",sortable:!0,content:e("webapp_secure_notes_list_header_updated"),sxProps:N.L.UPDATED_CELL,logSubaction:"lastUpdated"},{key:"collections",sortable:!1,content:e("webapp_secure_notes_list_header_collections"),sxProps:N.L.COLLECTIONS_CELL,logSubaction:"collections"}];return[{key:"title",sortable:!0,content:e("webapp_secure_notes_list_header_name"),logSubaction:"name"},...t]})(),onSort:t,options:n}):null};var M=n(26658),B=n(11659),z=n(50925),U=n(26215),F=n(18329),X=n(98368),q=n(40577),H=n(30442),V=n(2951),W=n(29315),j=n(7576);const G={admin:{title:"webapp_secure_notes_empty_state_title_admin",description:"webapp_secure_notes_empty_state_description_admin",nextStep:{import:{title:"webapp_secure_notes_empty_state_next_step_import_title",description:"webapp_secure_notes_empty_state_next_step_import_description",button:"webapp_secure_notes_empty_state_next_step_import_button"},add:{title:"webapp_secure_notes_empty_state_next_step_add_title",description:"webapp_secure_notes_empty_state_next_step_add_description",button:"webapp_secure_notes_empty_state_next_step_add_button"}}},employee:{title:"webapp_secure_notes_empty_state_title_employee",description:"webapp_secure_notes_empty_state_description_employee",nextStep:{import:{title:"webapp_secure_notes_empty_state_next_step_import_title",description:"webapp_secure_notes_empty_state_next_step_import_description",button:"webapp_secure_notes_empty_state_next_step_import_button"},add:{title:"webapp_secure_notes_empty_state_next_step_add_title",description:"webapp_secure_notes_empty_state_next_step_add_description",button:"webapp_secure_notes_empty_state_next_step_add_button"}}},b2c:{title:"webapp_secure_notes_empty_state_title",description:"webapp_secure_notes_empty_state_description",nextStep:{import:{title:"webapp_secure_notes_empty_state_next_step_import_title",description:"webapp_secure_notes_empty_state_next_step_import_description",button:"webapp_secure_notes_empty_state_next_step_import_button"},add:{title:"webapp_secure_notes_empty_state_next_step_add_title",description:"webapp_secure_notes_empty_state_next_step_add_description",button:"webapp_secure_notes_empty_state_next_step_add_button"}}}},K=()=>{const{routes:e}=(0,s.Xo)(),{translate:t}=(0,o.Z)(),n=(0,V.Q)(),i=(0,q.o)(H.c.ImportOrchestratorGrapheneMigration);if(n.status!==a.rq.Success)return null;const l=G[n.isB2B?n.b2bRoles.isAdmin?"admin":"employee":"b2c"],c=i?e.importDataV2:e.importData;return(0,x.BX)(W.x,{title:t(l.title),description:t(l.description),illustrationLightSrc:F,illustrationDarkSrc:X,children:[(0,x.tZ)(j.G,{title:t(l.nextStep.import.title),description:t(l.nextStep.import.description),button:{children:t(l.nextStep.import.button),layout:"iconLeading",icon:"ImportOutlined",onClick:()=>{(0,k.Kz)(new r.UserClickEvent({button:r.Button.ImportSecureNotes})),(0,s.uX)(c)}}}),(0,x.tZ)(j.G,{title:t(l.nextStep.add.title),description:t(l.nextStep.add.description),button:{children:t(l.nextStep.add.button),intensity:"quiet",layout:"iconLeading",icon:"ActionAddOutlined",onClick:()=>{(0,k.Kz)(new r.UserClickEvent({button:r.Button.AddSecureNote})),(0,s.uX)(e.userAddBlankNote)}}})]})};var Y,$,Q;const J=({withLayout:e=!0})=>{const{secureNotes:t,hasMore:n,onNextPage:a}=(0,O.y)();return t?.length?(0,x.tZ)(B.k,{withLayout:e,header:$||($=(0,x.tZ)(S,{})),children:(0,x.BX)("div",{sx:{position:"relative",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,x.tZ)(z.Z,{customSx:{marginBottom:"8px"},noticeType:z.b.SecureNotes}),Q||(Q=(0,x.tZ)(R,{})),(0,x.tZ)("div",{sx:{height:"100%",overflow:"auto"},children:(0,x.tZ)(M.C,{onNextPage:a,hasMore:n,children:t.map((e=>(0,x.tZ)(P,{note:e},`secureNotes_list_secureNoteId_${e.id}`)))})})]})}):(0,x.tZ)(B.k,{withLayout:e,header:(0,x.tZ)(U.t,{title:"webapp_secure_notes_empty_state_page_title"}),children:Y||(Y=(0,x.tZ)(K,{}))})}},95930:(e,t,n)=>{"use strict";n.d(t,{t:()=>S});var a=n(96832),i=n(63071),r=n(48038),o=n(73704),s=n(89078),l=n(84925),c=n(88203),d=n(92077),p=n(42670),u=n(99822),_=n(23816),m=n(9805),h=n(67986),g=n(26642),b=n(67678),w=n(30894),y=n(68819),f=n(80936),x=n(36351);const S=({note:e,secureNoteItemRoute:t,triggerButton:n})=>{var S,v;const{translate:C}=(0,c.Z)(),{openDialog:Z,closeDialog:k}=(0,b.R)(),{openDialog:I,shouldShowFrozenStateDialog:E}=(0,p.Ub)(),[D,T]=(0,a.useState)(!1),{areProtectedItemsUnlocked:A,openProtectedItemsUnlocker:N}=(0,w.tY)(),O=(0,f.I)(),{getPermissionForItem:P,getSharingStatusForItem:L}=(0,s.Y)(l.X,{getPermissionForItem:{queryParam:{itemId:e.id}},getSharingStatusForItem:{queryParam:{itemId:e.id}}},[]);if(P.status!==r.rq.Success||L.status!==r.rq.Success)return null;const R=O.status===r.rq.Success&&O.isDisabled&&!e.spaceId,{isShared:M}=L.data,B=P.data?.capabilities.canShare,z=e.isSecured&&!A,U=!R&&e.attachments?.length;return(0,x.BX)(i.h_,{isOpen:D,onOpenChange:()=>T(!D),children:[(0,x.tZ)(i.sB,{mood:"brand",intensity:"supershy",icon:"ActionMoreOutlined",layout:"iconOnly","aria-label":C("webapp_credentials_row_accessibility_actions_menu"),...n}),(0,x.BX)(i.Nv,{children:[(0,x.tZ)(m.s,{icon:"ActionEditOutlined",onClick:()=>{T(!1),z?N({action:w.P7.Show,itemType:y.R.SecureNote,successCallback:()=>{(0,d.uX)(t)}}):(0,d.uX)(t)},closeOnClick:!0,text:C("webapp_credentials_quick_actions_edit_item")}),(F=e,!F||M&&!B||F.attachments?.length||R?null:(0,x.tZ)(m.s,{onClick:()=>{const{id:t}=e,n=(0,u.A1)(t);E?I():Z(n?(0,x.tZ)(h.Z,{sharing:n,onDismiss:k,origin:o.Origin.ItemListView}):S||(S=(0,x.tZ)(g.z,{closeDialog:k}))),T(!1)},closeOnClick:!0,icon:"ActionShareOutlined",text:C("webapp_sharing_invite_share")})),U?(0,x.tZ)(_.w,{itemId:e.id,itemName:e.title,itemSpaceId:null!=(v=e.spaceId)?v:"",canShare:B,onActionComplete:()=>T(!1),isItemProtected:!A&&e.isSecured}):null]})]});var F}},80343:(e,t,n)=>{"use strict";n.d(t,{c:()=>m,y:()=>h});var a=n(96832),i=n(24507),r=n(14877),o=n(39431),s=n(93314),l=n(91198),c=n(19122),d=n(46771),p=n(48122),u=n(36351);const _=(0,a.createContext)({}),m=({children:e,ids:t,previousPage:n})=>{var m;const{currentSpaceId:h}=(0,c.fV)(),{setSortOrder:g,sortingOptions:b}=(0,d.M)(p.Ij),[w,y]=(0,a.useState)(1),{data:f,status:x}=(0,i.k)(r.L,"query",{vaultItemTypes:[o.U.SecureNote],pageNumber:1,pageSize:20*w,ids:t,propertyFilters:null!==h?[{property:"spaceId",value:h}]:void 0,propertySorting:{property:b.field,direction:b.direction===l._.ascending?s.S.Ascend:s.S.Descend}}),S={secureNotes:null!=(m=f?.secureNotesResult.items)?m:[],hasMore:!f||f.secureNotesResult.items.length<f.secureNotesResult.matchCount,onNextPage:y,setSortOrder:g,sortingOptions:b,status:x,previousPage:n};return(0,u.tZ)(_.Provider,{value:S,children:e})},h=()=>(0,a.useContext)(_)},97581:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var a=n(85462),i=n.n(a);const r={CATEGORY_CELL:{width:"150px",display:"flex"},COLLECTIONS_CELL:{flex:"1",width:"unset",minWidth:"160px",display:"flex"},CREATED_CELL:{width:"204px",display:"flex"},UPDATED_CELL:{width:"174px",display:"flex"},LIST:{height:`calc(100vh - ${i()["--dashlane-credentials-header-height"]} - ${i()["--dashlane-credentials-table-header-height"]})`},ICON:{marginLeft:"5px"}}},70836:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});let a=function(e){return e.Appearance="appearance",e.Privacy="privacy",e.Referral="referral",e.Devices="devices",e}({})},14341:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var a=n(13252);const i=e=>e.recipientType===a.IP.Group||e.recipientType===a.IP.Collection?{type:a.IP.Group,groupId:e.recipientId,name:e.recipientName}:{type:a.IP.User,alias:e.recipientId}},43194:(e,t,n)=>{"use strict";n.d(t,{E:()=>x});var a=n(13252),i=n(24731),r=n(88203),o=n(23466),s=n(87196),l=n(36351);const c={FULL_RIGHTS_DETAIL_PERMISSION:"webapp_sharing_collection_permissions_full_rights_detail",LIMITED_RIGHTS_DETAIL_PERMISSION:"webapp_sharing_collection_permissions_limited_rights_detail",REVOKE_LABEL:"webapp_sharing_collection_permissions_revoke",REVOKE_DISABLED_DETAIL_PERMISSION:"webapp_sharing_collection_permissions_revoke_disabled_detail",REVOKE_DETAIL_PERMISSION:"webapp_sharing_collection_permissions_revoke_detail"},d={FULL_RIGHTS_DETAIL_PERMISSION:"webapp_sharing_permissions_full_rights_detail",LIMITED_RIGHTS_DETAIL_PERMISSION:"webapp_sharing_permissions_limited_rights_detail",REVOKE_DISABLED_DETAIL_PERMISSION:"webapp_sharing_collection_permissions_revoke_disabled_detail",REVOKE_LABEL:"webapp_sharing_permissions_revoke",REVOKE_DETAIL_PERMISSION:"webapp_sharing_permissions_revoke_detail"},p=e=>{const{isCollectionItemPermission:t,shouldRevokeBeDisabled:n,canRevoke:a,loading:i,onSelectPermission:r,permission:p,translate:u}=e,_=t?c:d;return(0,l.BX)(o.E,{disabled:i,groupName:"permission",value:p,onChange:e=>r(e.currentTarget.value),children:[(0,l.tZ)(s.Y,{value:"admin",label:u("webapp_sharing_permissions_full_rights"),description:u(_.FULL_RIGHTS_DETAIL_PERMISSION)}),(0,l.tZ)(s.Y,{value:"limited",label:u("webapp_sharing_permissions_limited_rights"),description:u(_.LIMITED_RIGHTS_DETAIL_PERMISSION)}),a?(0,l.tZ)(s.Y,{sx:{"label > span":{color:"ds.text.danger.quiet"}},value:"revoke",disabled:n,label:u(_.REVOKE_LABEL),description:u(n?_.REVOKE_DISABLED_DETAIL_PERMISSION:_.REVOKE_DETAIL_PERMISSION)}):null]})};var u=n(61832),_=n(37527),m=n(78956);const h="webapp_shared_permissions_dialog_cancel",{ConfirmRevoke:g,Failure:b,Permission:w,RevokeSuccess:y,Success:f}=u.PermissionDialogStep,x=({isOpen:e,shouldRevokeBeDisabled:t,isCollectionItemPermission:n=!1,loading:o,onCancelRevoke:s,onConfirmRevoke:c,onDismiss:d,onSelectPermission:u,onValidatePermission:x,permission:S,recipient:v,step:C})=>{var Z;const{translate:k}=(0,r.Z)(),I=v.recipientName,E="full"===v.sharingPermissionLevel?a.y3.Admin:a.y3.Limited;return(0,l.BX)(m.Vq,{closeActionLabel:k("_common_dialog_dismiss_button"),dialogClassName:_.Ht,isOpen:e,onClose:d,title:function(){switch(C){case g:return k("webapp_shared_permissions_dialog_confirm_revoke_title");case b:return k("webapp_shared_permissions_dialog_failure_title");case w:return k("webapp_shared_permissions_dialog_edit_permissions_title");case y:return k("webapp_shared_permissions_dialog_revoke_success_title");case f:return k("webapp_shared_permissions_dialog_success_title");default:return(0,i.U)(C)}}(),isDestructive:C===g,actions:function(){switch(C){case g:return{primary:{children:k("webapp_shared_permissions_dialog_revoke_access"),onClick:c,disabled:o},secondary:{children:k(h),onClick:s,disabled:o}};case b:return;case w:return{primary:{children:k("webapp_shared_permissions_dialog_change_permissions"),onClick:x,disabled:S===E||o},secondary:{children:k(h),onClick:d,disabled:o}};case f:case y:return;default:return(0,i.U)(C)}}(),children:[function(){switch(C){case g:return k("webapp_shared_permissions_dialog_confirm_revoke",{name:I});case b:return k("webapp_shared_permissions_dialog_failure");case w:return null;case y:return k("webapp_shared_permissions_dialog_revoke_success",{name:I});case f:return k("admin"===S?"webapp_shared_permissions_dialog_success_full":"webapp_shared_permissions_dialog_success_limited",{name:I});default:return(0,i.U)(C)}}(),function(){switch(C){case g:case b:return null;case w:return(0,l.tZ)("div",{sx:{w:"600px",mt:"30px"},children:Z||(Z=(0,l.tZ)(p,{isCollectionItemPermission:n,canRevoke:!0,shouldRevokeBeDisabled:t,permission:S,onSelectPermission:u,translate:k,loading:o}))});case f:case y:return null;default:return(0,i.U)(C)}}()]})}},61832:(e,t,n)=>{"use strict";n.d(t,{PermissionDialogStep:()=>a,V:()=>i});let a=function(e){return e[e.ConfirmRevoke=0]="ConfirmRevoke",e[e.Failure=1]="Failure",e[e.Permission=2]="Permission",e[e.RevokeSuccess=3]="RevokeSuccess",e[e.Success=4]="Success",e}({}),i=function(e){return e[e.RemoveMeWhenTypescriptIsHigherThan2dot4=0]="RemoveMeWhenTypescriptIsHigherThan2dot4",e[e.Loading=1]="Loading",e[e.Confirm=2]="Confirm",e[e.Failure=3]="Failure",e[e.Success=4]="Success",e}({})},70484:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});const a=e=>"userGroup"===e.type},52826:(e,t,n)=>{"use strict";n.d(t,{M:()=>l});var a=n(63071),i=n(7544),r=n(88203),o=n(37527),s=n(36351);const l=({onUpdatePermissions:e,onRevokeAccess:t,onCancel:n})=>{const{translate:l}=(0,r.Z)();return(0,s.BX)(a.h_,{children:[(0,s.tZ)(a.sB,{mood:"brand",intensity:"supershy",layout:"iconOnly",icon:"ActionMoreOutlined",size:"small","aria-label":l("webapp_sharing_center_item_actions"),type:"button"}),(0,s.BX)(a.Nv,{className:o.O1,children:[e?(0,s.tZ)(i.h,{leadingIcon:"ActionEditOutlined",label:l("webapp_sharing_center_item_actions_update_permissions"),onSelect:e}):null,t?(0,s.tZ)(i.h,{leadingIcon:"ActionRevokeOutlined",label:l("webapp_sharing_center_item_actions_revoke_access"),onSelect:t,isDestructive:!0}):null,n?(0,s.tZ)(i.h,{leadingIcon:"ActionRevokeOutlined",label:l("webapp_shared_access_cancel_invitation"),onSelect:n,isDestructive:!0}):null]})]})}},41657:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(64013),i=n(8944),r=n(36351);const o=({title:e,permission:t,actions:n,onClick:o})=>(0,r.BX)(a.S,{onClick:o,children:[(0,r.tZ)(i.p,{children:e}),(0,r.tZ)(i.p,{children:t}),(0,r.tZ)(i.p,{layout:"actions",children:n})]})},2493:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var a=n(63756),i=n(44554);const r=e=>{const t=(0,a.D)();return{addMessage:()=>(0,i.Hv)({type:e}),dismissMessage:()=>(0,i.ql)({type:e}),hasMessage:!!t.find((t=>t.type===e&&!t.dismissedAt)),hasDismissedMessage:!!t.find((t=>t.type===e&&t.dismissedAt)),messages:t}}},95355:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var a,i=n(47124),r=n(27637),o=n(36351);const s={display:"grid",gridTemplateColumns:"0.1fr 1fr"},l=({labelText:e,upgradeText:t,hasIcon:n,isStarterAdmin:l,memberPermission:c})=>(0,o.tZ)("div",{children:l?(0,o.BX)("div",{sx:s,children:[(0,o.tZ)("div",{children:c!==r.Yt.Manager&&n?a||(a=(0,o.tZ)(i.JO,{name:"PremiumOutlined",color:"ds.text.oddity.disabled"})):null}),(0,o.BX)("div",{children:[e,t]})]}):(0,o.tZ)("div",{children:e})})},99822:(e,t,n)=>{"use strict";n.d(t,{A1:()=>s,Ei:()=>c,H4:()=>d,fl:()=>l,j8:()=>o,nY:()=>_,tV:()=>u,wu:()=>p});var a=n(26849),i=n(13252),r=n(16019);function o(){return{permission:i.y3.Limited,selectedCredentials:[],selectedGroups:[],selectedNotes:[],selectedSecrets:[],selectedUsers:[],selectedPrivateCollections:[],selectedSharedCollections:[],step:r.N.Elements,tab:r.f.Passwords}}function s(e){return{...o(),selectedNotes:[e],step:r.N.Recipients}}function l(e){return{...o(),selectedSecrets:[e],step:r.N.Recipients}}function c(e){return{...o(),selectedCredentials:[e],step:r.N.Recipients}}function d(e){return{...o(),selectedPrivateCollections:[e],step:r.N.CollectionRecipients}}function p(e){return{...o(),selectedPrivateCollections:[e],step:r.N.UnlockProtectedCollection}}const u=(0,a.sortBy)((e=>(0,a.toLower)(e.name||""))),_=(0,a.sortBy)((e=>{var t;return(0,a.toLower)(null!=(t=e.id)?t:e)}))},55357:(e,t,n)=>{"use strict";n.d(t,{d:()=>s,n:()=>l});var a=n(24507),i=n(51031),r=n(83459),o=n(27637);const s=(e,t)=>{const n=(0,a.k)(r.a,"getCollectionRoleForGroup",{collectionId:e,groupId:t});return n.status===i.rq.Success?n.data:o.Yt.Editor},l=(e,t)=>{const n=(0,a.k)(r.a,"getCollectionPermissionsForUser",{collectionId:e,userId:t});return n.status===i.rq.Success?n.data:{role:o.Yt.Editor,canShare:!1,canEditRoles:!1,canEdit:!1,canDelete:!1}}},53133:(e,t,n)=>{"use strict";n.d(t,{A:()=>p,z:()=>d});var a=n(96832),i=n(24507),r=n(51031),o=n(39431),s=n(14877),l=n(95727),c=n(5465);let d=function(e){return e[e.Unknown=0]="Unknown",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e}({});const p=e=>{var t;const{allCollections:n}=(0,l.bA)(),[p,u]=(()=>{const[e,t]=(0,a.useState)([void 0,d.Unknown]);return(0,a.useEffect)((()=>{c.C.arePasswordsProtected().then((e=>{t([e,d.Complete])}))}),[]),e})(),_=n.find((({id:t})=>t===e)),m=null!=(t=_?.vaultItems.filter((({type:e})=>e===o.U.Credential||e===o.U.SecureNote)).map((({id:e})=>e)))?t:[],h=[o.U.SecureNote,o.U.Credential],{data:g,status:b}=(0,i.k)(s.L,"query",{ids:m,vaultItemTypes:h},{initialSkip:!_});if(u!==d.Complete)return[void 0,u];if(p)return[!0,d.Complete];if(!_)return[void 0,d.Unknown];if(b===r.rq.Loading)return[void 0,d.Loading];if(b===r.rq.Error)return[void 0,d.Unknown];const w=Boolean(g?.credentialsResult.items.some((e=>e.isSecured)));return[Boolean(g?.secureNotesResult.items.some((e=>e.isSecured)))||w,d.Complete]}},31449:(e,t,n)=>{"use strict";n.d(t,{vN:()=>H,cD:()=>F,xy:()=>j,dM:()=>X});var a=n(96832),i=n(63847),r=n(47124),o=n(94138),s=n(75881),l=n(11744),c=n(16166),d=n(80610),p=n(89078),u=n(51031),_=n(84925),m=n(27637),h=n(13134),g=n(38686),b=n(26555),w=n(4967),y=n(88203),f=n(29020),x=n(59115),S=n(75968),v=n(95355),C=n(36351);const Z="webapp_sharing_invite_item_select_dropdown_manager_label",k="webapp_sharing_invite_item_select_dropdown_editor_label",I={whiteSpace:"normal"},E=({id:e,roles:t,onRolesChanged:n,isStarterAdmin:i})=>{const{translate:o}=(0,y.Z)(),s=[{value:m.Yt.Editor,label:o(k),description:(0,C.tZ)(v.m,{labelText:(0,C.BX)(a.Fragment,{children:[(0,C.tZ)(f.n,{as:"h2",children:o(k)}),(0,C.tZ)(f.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",sx:I,children:o("webapp_sharing_invite_item_select_dropdown_editor_description")})]}),isStarterAdmin:i})},{value:m.Yt.Manager,label:o(Z),description:(0,C.tZ)(v.m,{labelText:(0,C.BX)(a.Fragment,{children:[(0,C.tZ)(f.n,{as:"h2",children:o(Z)}),(0,C.tZ)(f.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",sx:I,children:o("webapp_sharing_invite_item_select_dropdown_manager_description")})]}),upgradeText:(0,C.tZ)(f.n,{color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",sx:I,children:o("webapp_sharing_invite_item_select_dropdown_manager_upgrade")}),hasIcon:!0,isStarterAdmin:i}),isDisabled:!!i}],l=s.find((n=>{const a=t.find((t=>t.id===e))?.role;return n.value===a}));return(0,C.BX)("div",{sx:{display:"flex",alignItems:"center",minWidth:"213px",height:"40px",gap:"8px"},children:[(0,C.tZ)(r.JO,{name:"FeedbackInfoOutlined",size:"medium",tooltip:o("webapp_sharing_invite_item_select_dropdown_infobox"),color:"ds.border.brand.standard.active"}),(0,C.tZ)(x.m,{name:"roleSelect",id:"role-select",label:o("webapp_sharing_invite_item_select_dropdown_label"),labelPersists:!1,value:l?.value,onChange:a=>(a=>{const i=[...t],r=i.find((t=>t.id===e));r?r.role=a:i.push({id:e,role:a}),n(i)})(a),portal:document.body,sx:{flex:1},children:s.map((e=>(0,C.tZ)(S.$,{value:e.value,displayValue:e.label,disabled:e.isDisabled,children:e.description},e.value)))})]})};var D,T,A,N,O,P=n(52805),L=n.n(P),R=n(31926),M=n.n(R),B=n(94307),z=n(18504),U=n(80936);const F="calc(100vh - 68px - 108px - 80px)",X={minHeight:"60px",maxHeight:"60px"},q={opacity:.5,cursor:"auto"},H=({text:e,id:t})=>(0,C.tZ)(i.k,{id:t,justifyContent:"space-around",alignItems:"center",sx:{height:"100%",minHeight:"347px"},children:(0,C.BX)(i.k,{justifyContent:"space-around",alignItems:"center",flexDirection:"column",sx:{maxWidth:"400px"},children:[D||(D=(0,C.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI4IDUyTDE2IDY0TTY0IDM0QzY0IDQzLjk0MTEgNTUuOTQxMSA1MiA0NiA1MkMzNi4wNTg5IDUyIDI4IDQzLjk0MTEgMjggMzRDMjggMjQuMDU4OSAzNi4wNTg5IDE2IDQ2IDE2QzU1Ljk0MTEgMTYgNjQgMjQuMDU4OSA2NCAzNFoiIHN0cm9rZT0iIzlGQUVCMSIgc3Ryb2tlLXdpZHRoPSIzLjYiLz4KPC9zdmc+Cg=="})),(0,C.tZ)("span",{sx:{color:"ds.text.neutral.quiet",marginTop:"20px",lineHeight:"20px",textAlign:"center"},children:e})]})}),V={marginLeft:"4px",path:{fill:"ds.text.neutral.quiet"}},W=e=>{var t;const{checked:n,id:a,onRolesChanged:i,roles:r,style:f,canShareCollection:x,isStarterAdmin:S,isSecured:v,autoProtected:Z,hasAttachments:k,text:I,title:D,type:P,url:R,logoColor:F,spaceId:H,onSelectItem:W,getType:j}=e,{getPermissionForItem:G,getSharingStatusForItem:K}=(0,p.Y)(_.X,{getPermissionForItem:{queryParam:{itemId:null!=a?a:""}},getSharingStatusForItem:{queryParam:{itemId:null!=a?a:""}}},[]),{translate:Y}=(0,y.Z)(),{toggleSelectedItems:$}=(0,B.a8)(),Q=(0,U.I)(),J=Q.status===u.rq.Success&&Q.isDisabled&&("credentials"===P||"notes"===P)&&!H,ee=K.data?.isShared,te=G.data?.capabilities.canShare,ne=((e,t,n)=>(0,C.BX)("span",{sx:{display:"flex",alignItems:"center"},children:[e&&(T||(T=(0,C.tZ)(M(),{sx:V}))),t&&(A||(A=(0,C.tZ)(L(),{sx:V}))),void 0]}))(null!=ee&&ee,!!v||!!Z),ae=!1===x||ee&&!te||J;if(n&&ae)return $(new Set([a]),P),null;const ie=n&&r&&i&&a;return k?null:(0,C.tZ)(l.H,{sx:(0,c.jM)([X,{...f},...ae?[q]:[]]),checkboxSlot:(0,C.tZ)(d.X,{checked:n,disabled:ae,onChange:e=>{if(W(a,P,e,j),r&&i){const e=[...r];e.push({id:a,role:m.Yt.Editor}),i(e)}},"aria-label":Y("webapp_sharing_invite_aria_label_checkbox",{name:D}),tooltip:!te&&Y("webapp_sharing_invite_limited_rights_tooltip")}),actions:ie?[(0,C.tZ)(E,{id:a,roles:r,onRolesChanged:i,isStarterAdmin:S},"rights")]:[],children:(0,C.tZ)(w.r,{title:D,logo:(()=>{switch(P){case"credentials":return function(e){return(0,C.tZ)(b.h,{domainURL:new h.Y(e).getRootDomain()})}(R);case"notes":return(0,C.tZ)(z.G,{noteColor:null!=F?F:"GRAY"});case"secrets":return N||(N=(0,C.tZ)(o.A,{type:"secret"}));case"users":return t||(t=(0,C.tZ)(g.H,{email:a}));case"groups":return O||(O=(0,C.tZ)(s.R,{type:"user"}))}})(),titleLogo:ne,text:I,disabled:ae})})},j=(0,a.memo)(W)},48731:(e,t,n)=>{"use strict";n.d(t,{N:()=>u});var a=n(96832),i=n(14900),r=n(73704),o=n(45272),s=n(61605),l=n(23619),c=n(92077),d=n(88203),p=n(36351);const u=({closeDialog:e})=>{const t=(0,l.U)(),{routes:n}=(0,c.Xo)(),{translate:u}=(0,d.Z)();return(0,a.useEffect)((()=>{(0,o.Nc)(r.PageView.PaywallSharingLimit)}),[]),(0,p.BX)(a.Fragment,{children:[(0,p.tZ)(i.$N8,{title:u("webapp_sharing_invite_free_sharing_limit_reached")}),(0,p.tZ)(i.a7O,{children:u("webapp_sharing_invite_free_sharing_limit_reached_subtitle")}),(0,p.tZ)(i.cNS,{secondaryButtonTitle:u("webapp_sharing_invite_cancel"),secondaryButtonOnClick:e,secondaryButtonProps:{type:"button"},primaryButtonTitle:u("webapp_sharing_invite_upgrade_to_premium"),primaryButtonOnClick:()=>{const e=n.userGoPremium(null!=t?t:"","monthly");(0,s.Yk)(e,{type:"sharing",action:"goPremium"})},primaryButtonProps:{type:"button"}})]})}},26642:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var a=n(14900),i=n(88203),r=n(48731),o=n(36351);const s=e=>{const{translate:t}=(0,i.Z)();return(0,o.tZ)(a.VqE,{isOpen:!0,onClose:e.closeDialog,closeIconName:t("_common_dialog_dismiss_button"),children:(0,o.tZ)(r.N,{...e})})}},76745:(e,t,n)=>{"use strict";n.d(t,{s:()=>E});var a=n(96832),i=n(24507),r=n(51031),o=n(78956),s=n(5063),l=n(23466),c=n(87196),d=n(75017),p=n(22522),u=n(84925),_=n(29020),m=n(63847),h=n(39431),g=n(88203),b=n(82429),w=n(36351);const y=({isEnabled:e,label:t})=>(0,w.tZ)(b.C,{label:t,mood:e?"brand":"neutral",intensity:e?"catchy":"quiet"}),f={canAutofill:"webapp_sharing_invite_granular_capability_autofill",canCopy:"webapp_sharing_invite_granular_capability_copy",canReveal:"webapp_sharing_invite_granular_capability_reveal",canEdit:"webapp_sharing_invite_granular_capability_edit",canShare:"webapp_sharing_invite_granular_capability_share"},x=({children:e,capabilities:t})=>{const{translate:n}=(0,g.Z)();return(0,w.BX)(m.k,{flexDirection:"row",justifyContent:"space-between",sx:{backgroundColor:"ds.container.agnostic.neutral.quiet"},children:[e,(0,w.tZ)(m.k,{as:"ul",gap:"4px",children:Object.entries(t).map((([e,t])=>void 0===t?null:(0,w.tZ)("li",{children:(0,w.tZ)(y,{isEnabled:t,label:n(f[e])})},e)))})]})},S={[h.U.Credential]:"webapp_sharing_invite_granular_login",[h.U.SecureNote]:"webapp_sharing_invite_granular_secure_note",[h.U.Secret]:"webapp_sharing_invite_granular_secret"},v=({itemTypeCapabilityMapping:e})=>{const{translate:t}=(0,g.Z)(),n=(0,w.tZ)(_.n,{as:"span",textStyle:"ds.title.supporting.small",children:t("webapp_sharing_invite_granular_capability_message")}),i=Object.keys(e).length;if(0===i)return null;let r;if(i>1)r=(0,w.BX)(a.Fragment,{children:[n,Object.entries(e).map((([e,n])=>(0,w.tZ)(x,{capabilities:n,children:(0,w.tZ)(_.n,{as:"span",textStyle:"ds.body.reduced.regular",children:t(S[e])})},e)))]});else{const t=Object.values(e)[0];r=(0,w.tZ)(x,{capabilities:t,children:n})}return(0,w.tZ)(m.k,{flexDirection:"column",gap:"8px",sx:{marginTop:"16px",backgroundColor:"ds.container.agnostic.neutral.quiet",padding:"12px"},children:r})};var C,Z=n(63794);const k={full:"webapp_sharing_invite_granular_full_rights",edit:"webapp_sharing_invite_granular_edit_rights",view:"webapp_sharing_invite_granular_view_rights",restricted:"webapp_sharing_invite_granular_restricted_rights"},I={full:"webapp_sharing_invite_granular_full_rights_detail",edit:"webapp_sharing_invite_granular_edit_rights_detail",view:"webapp_sharing_invite_granular_view_rights_detail",restricted:"webapp_sharing_invite_granular_restricted_rights_detail"},E=({goToStep:e,isLoading:t,onSelectPermission:n,permission:_,sharingIntent:m,onClick:h})=>{const{translate:b}=(0,g.Z)(),y=(0,i.k)(u.X,"permissionsAndCapabilities",{sharingIntent:m});if((0,a.useEffect)((()=>{if(y.status===r.rq.Success){const{defaultPermission:e}=y.data;n(e)}}),[y]),y.status!==r.rq.Success)return null;const f=y.data.permissionItemTypeCapabilityMapping,x=f[_];return(0,w.BX)(a.Fragment,{children:[(0,w.tZ)(o.$N,{title:b("webapp_sharing_invite_select_permission")}),"collection"===m.type&&(0,w.tZ)(s.k,{mood:"brand",title:b("webapp_sharing_invite_collection_infobox"),sx:{mb:"16px"}}),(0,w.tZ)("div",{sx:{height:"auto"},children:(0,w.tZ)(l.E,{groupName:"permission",value:_,onChange:e=>{n(e.currentTarget.value)},children:Object.keys(f).map((e=>(0,w.tZ)(c.Y,{value:e,label:b(k[e]),description:b(I[e])},e)))})}),x&&(0,w.tZ)(v,{itemTypeCapabilityMapping:x}),(0,w.tZ)(o.cN,{footerSlot:(0,w.tZ)(d.Q,{href:Z.Vr,target:"_blank",rel:"noreferrer",isExternal:!0,children:b("webapp_sharing_invite_granular_help")}),actions:{primary:{onClick:h,children:t?C||(C=(0,w.tZ)(p.Z,{size:24,mood:"inverse"})):b("webapp_sharing_invite_share"),disabled:!_||t},secondary:{children:b("webapp_sharing_invite_back"),onClick:e,disabled:t}}})]})}},70279:(e,t,n)=>{"use strict";n.d(t,{l:()=>u});var a,i=n(78956),r=n(5063),o=n(23466),s=n(87196),l=n(22522),c=n(88203),d=n(36351),p=n(96832);const u=({goToStep:e,isLoading:t,isCollectionSharing:n=!1,onSelectPermission:u,permission:_,onClick:m})=>{const{translate:h}=(0,c.Z)();return(0,d.BX)(p.Fragment,{children:[(0,d.tZ)(i.$N,{title:h("webapp_sharing_invite_select_permission")}),n&&(0,d.tZ)(r.k,{mood:"brand",title:h("webapp_sharing_invite_collection_infobox"),sx:{mb:"16px"}}),(0,d.tZ)("div",{sx:{height:"auto"},children:(0,d.BX)(o.E,{groupName:"permission",value:_,onChange:e=>{u(e.currentTarget.value)},children:[(0,d.tZ)(s.Y,{value:"limited",label:h("webapp_sharing_invite_limited_rights"),description:h("webapp_sharing_invite_limited_rights_detail")}),(0,d.tZ)(s.Y,{value:"admin",label:h("webapp_sharing_invite_full_rights"),description:h("webapp_sharing_invite_full_rights_detail")})]})}),(0,d.tZ)(i.cN,{actions:{primary:{onClick:m,children:t?a||(a=(0,d.tZ)(l.Z,{size:24,mood:"inverse"})):h("webapp_sharing_invite_share"),disabled:!_||t},secondary:{children:h("webapp_sharing_invite_back"),onClick:e,disabled:t}}})]})}},23434:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var a=n(13252);const i=e=>"full"===e?a.y3.Admin:a.y3.Limited},1639:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var a=n(63847),i=n(73670),r=n(59973),o=n(77334),s=n(42670),l=n(88203),c=n(91483),d=n(67678),p=n(67986),u=n(26642),_=n(25304),m=n(36351);const h=({hideIcon:e=!1,sharing:t,text:n,origin:h,tooltipPlacement:g="bottom-start",intensity:b,mood:w,icon:y,layout:f,buttonClick:x})=>{var S,v;const{openDialog:C,closeDialog:Z}=(0,d.R)(),k=(0,o.V)(),I=(0,r.k)(),{translate:E}=(0,l.Z)(),D=(0,_.E)(c.W),{openDialog:T,shouldShowFrozenStateDialog:A}=(0,s.Ub)();return null===A?null:(0,m.tZ)(i.M,{onClick:()=>{x?.(),A?T():C(I&&t?S||(S=(0,m.tZ)(p.Z,{sharing:t,onDismiss:Z,origin:h})):v||(v=(0,m.tZ)(u.z,{closeDialog:Z})))},mood:w||"neutral",intensity:b||"supershy",layout:f||(D?"iconLeading":"iconOnly"),size:"medium",icon:e?null:y||"ActionShareOutlined",disabled:!k,placement:g,content:(0,m.BX)(a.k,{flexDirection:"column",alignItems:"flex-start",sx:{padding:"16px",borderRadius:"8px",textAlign:"left"},children:[(0,m.tZ)("div",{sx:{paddingBottom:"8px",fontWeight:"600",fontSize:"18px"},children:E("team_sharing_disabled")}),(0,m.tZ)("div",{children:E("team_sharing_disabled_description")})]}),children:null!=n?n:E("webapp_sharing_center_share_item")})}},67986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ut});var a=n(96832),i=n(55139),r=n(78956),o=n(73704),s=n(40577),l=n(77377),c=n(33472),d=n(78346),p=n(95727),u=n(14900),_=n(16019),m=n(88203),h=n(27763),g=n(68819),b=n(36351);const w=({goToStep:e})=>{const{translate:t}=(0,m.Z)();return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(u.X6q,{as:"h1",size:"small",sx:{mb:"16px"},children:t("webapp_lock_items_label")}),(0,b.tZ)(h._,{unlockRequest:{itemType:g.R.SharedItems,successCallback:()=>e(_.N.Permission),cancelCallback:()=>e(_.N.Recipients)}})]})};var y=n(24750),f=n(80610),x=n(24507),S=n(51031),v=n(88331),C=n(39431),Z=n(93314),k=n(19122),I=n(31449),E=n(26658),D=n(94307);let T=function(e){return e.Passwords="tab-content-passwords",e.Notes="tab-content-passwords-notes",e.Secrets="tab-content-passwords-secrets",e}({});const A=e=>{const{elementsOnlyShowSelected:t,credentials:n,credentialsMatchCount:a,setPageNumber:i}=e,{translate:r}=(0,m.Z)(),{isSelected:o}=(0,D.f2)(),s=(0,D.p7)(n);if(!n.length)return(()=>{const e=r(t?"webapp_sharing_invite_no_selected_credentials_found":"webapp_sharing_invite_no_credentials_found");return(0,b.tZ)(I.vN,{text:e,id:T.Passwords})})();const l=n.length<a;return(0,b.tZ)(E.C,{onNextPage:i,hasMore:l,id:T.Passwords,children:n?.map((e=>{const n=o(e.id,"credentials");if(!e||t&&!n)return null;const{id:a,itemName:i,email:r,username:l,URL:c,spaceId:d}=e,p=r||l;return(0,b.tZ)(I.xy,{checked:n,id:a,spaceId:d,text:p,title:i,type:"credentials",url:c,onSelectItem:s},a)}))})},N=e=>{const{elementsOnlyShowSelected:t,secureNotes:n,secureNotesMatchCount:a,setPageNumber:i}=e,{translate:r}=(0,m.Z)(),{isSelected:o}=(0,D.f2)(),s=(0,D.p7)(n);if(!n?.length){const e=r(t?"webapp_sharing_invite_no_selected_notes_found":"webapp_sharing_invite_no_notes_found");return(0,b.tZ)(I.vN,{text:e,id:T.Notes})}const l=n.length<a;return(0,b.tZ)(E.C,{onNextPage:i,hasMore:l,id:T.Notes,children:n?.map((e=>{const n=o(e.id,"notes");return!e||t&&!n?null:(0,b.tZ)(I.xy,{checked:n,hasAttachments:e.attachments&&e.attachments.length>0,id:e.id,title:e.title,spaceId:e.spaceId,type:"notes",logoColor:e.color,onSelectItem:s},e.id)}))})};var O=n(63277),P=n(26385);const L=(e,t,n,a,i)=>({id:`sharing-tab-${t}`,contentId:n,onSelect:e,title:`${a}${i}`}),R=({selectedCredentials:e,selectedNotes:t,selectedSecrets:n,selectNotesTab:a,selectPasswordsTab:i,selectSecretsTab:r})=>{const{translate:o}=(0,m.Z)(),s=(0,O.p)(),l=[L(i,_.f.Passwords,T.Passwords,o("webapp_sharing_invite_passwords"),e.length>0?` (${e.length})`:""),L(a,_.f.SecureNotes,T.Notes,o("webapp_sharing_invite_secure_notes"),t.length>0?` (${t.length})`:"")];return s&&l.push(L(r,_.f.Secrets,T.Secrets,o("webapp_sharing_invite_secrets"),n.length>0?` (${n.length})`:"")),(0,b.tZ)(P.m,{tabs:l,fullWidth:!0})},M=({elementsOnlyShowSelected:e,secrets:t,secretsMatchCount:n,setPageNumber:a})=>{const{translate:i}=(0,m.Z)(),{isSelected:r}=(0,D.f2)(),o=(0,D.p7)(t);if(!t?.length){const t=i(e?"webapp_sharing_invite_no_selected_secrets_found":"webapp_sharing_invite_no_secrets_found");return(0,b.tZ)(I.vN,{text:t,id:T.Secrets})}const s=t.length<n;return(0,b.tZ)(E.C,{onNextPage:a,hasMore:s,id:T.Secrets,children:t.map((t=>{const n=r(t.id,"secrets");return!t||e&&!n?null:(0,b.tZ)(I.xy,{id:t.id,checked:n,title:t.title,hasAttachments:t.attachments&&t.attachments.length>0,type:"secrets",onSelectItem:o},t.id)}))})};var B,z=n(41584);const U="webapp_sharing_invite_elements_placeholder",F=({elementsOnlyShowSelected:e,selectedCredentials:t,selectedNotes:n,selectedSecrets:i,goToStep:o,selectNotesTab:s,selectSecretsTab:l,selectPasswordsTab:c,setElementsOnlyShowSelected:d,tab:p})=>{const{currentSpaceId:u}=(0,k.fV)(),[h,g]=(0,a.useState)(""),{translate:w}=(0,m.Z)(),[I,E]=(0,a.useState)(1),{data:D,status:T}=(0,x.k)(v.R,"search",{searchQuery:h,vaultItemTypes:[C.U.Credential,C.U.SecureNote,C.U.Secret],pageNumber:1,pageSize:20*I,propertyFilters:null!==u?[{property:"spaceId",value:u}]:void 0,propertySorting:{property:"title",direction:Z.S.Ascend},ids:e?[...t,...n,...i]:void 0});if(T!==S.rq.Success)return null;const O=n.length>0||t.length>0||i.length>0,P=O||e;return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(r.$N,{title:w("webapp_sharing_invite_select_elements_title")}),t.length+n.length>1&&(B||(B=(0,b.tZ)(z.T,{}))),(0,b.tZ)(R,{selectedCredentials:t,selectedNotes:n,selectedSecrets:i,selectNotesTab:s,selectSecretsTab:l,selectPasswordsTab:c}),(0,b.tZ)("section",{sx:{marginBottom:"8px"},children:(0,b.tZ)(y.U,{label:w(U),"aria-label":w(U),placeholder:w(U),role:"search",autoFocus:!0,onChange:e=>g(e.currentTarget.value)})}),(0,b.BX)("div",{sx:{height:"auto"},children:[p===_.f.Passwords?(0,b.tZ)(A,{elementsOnlyShowSelected:e,credentials:D.credentialsResult.items,credentialsMatchCount:D.credentialsResult.matchCount,setPageNumber:E}):null,p===_.f.SecureNotes?(0,b.tZ)(N,{elementsOnlyShowSelected:e,secureNotes:D.secureNotesResult.items,secureNotesMatchCount:D.secureNotesResult.matchCount,setPageNumber:E}):null,p===_.f.Secrets?(0,b.tZ)(M,{elementsOnlyShowSelected:e,secrets:D.secretsResult.items,secretsMatchCount:D.secretsResult.matchCount,setPageNumber:E}):null]}),(0,b.tZ)(r.cN,{actions:{primary:{onClick:()=>o(_.N.Recipients),children:w("webapp_sharing_invite_next"),disabled:!O}},footerSlot:P?(0,b.tZ)(f.X,{checked:e,label:w("webapp_sharing_invite_only_show_selected_elements"),onChange:d,sx:{ml:"0",mr:"auto",pr:"16px"}}):null})]})};var X=n(70279),q=n(48038),H=n(22522),V=n(21912),W=n(15394),j=n(58037),G=n(75100),K=n(85281),Y=n(84925);const $=()=>(0,x.k)(Y.X,"getSharingTeamLogins"),Q=()=>{const e=$();return e.status===S.rq.Success?e.data.userLogins:[]};var J=n(99822),ee=n(61654);const te=()=>{const e=(0,x.k)(ee.A,"getAllAcceptedGroups");return e.status===S.rq.Success?e.data:[]};var ne=n(7606),ae=n(10051),ie=n(68999),re=n(32814),oe=n(4967);const se=({addNewContact:e,email:t})=>{const{translate:n}=(0,m.Z)();return(0,b.tZ)("li",{sx:{alignItems:"center",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle",display:"flex",minHeight:"56px",overflow:"hidden",position:"relative"},children:(0,b.tZ)(oe.r,{infoAction:(0,b.tZ)(ie.z,{intensity:"quiet",mood:"neutral",size:"medium",onClick:e,children:n("webapp_sharing_invite_add_new_contact")}),logo:(0,b.tZ)(re.q,{email:t,size:36}),text:"",title:t})},"new_contact")},le=({group:e,isUserItem:t,style:n,user:a,canShareCollection:i,isStarterAdmin:r,onSelectItem:o,...s})=>{var l,c,d;const{translate:p}=(0,m.Z)(),{isSelected:u}=(0,D.f2)(),_=null!=(l=t?a?.id:e?.id)?l:"",h=u(_,t?"users":"groups"),g=(null!=(c=e?.users)?c:[]).length,w=t?"":p("webapp_sharing_invite_members",{count:g}),y=null!=(d=t?_:e?.name)?d:"";return(0,b.tZ)(I.xy,{id:_,checked:h,text:w,title:y,style:n,canShareCollection:i,isStarterAdmin:r,type:t?"users":"groups",onSelectItem:o,getType:e=>e.users?"groups":"users",...s},`${_}-row`)},ce=(e,t)=>e.filter((e=>e.name.toLowerCase().includes(t.trim().toLowerCase()))),de=(e,t)=>e.filter((e=>e.id.toLowerCase().includes(t.trim().toLowerCase()))),pe=/[<>]/g,ue=e=>e.trim().toLowerCase().replace(pe,""),_e={borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle"},me=(0,a.forwardRef)(((e,t)=>{const{addNewContact:n,query:i,recipientsOnlyShowSelected:r,users:o,allowNewContacts:s,canShareCollection:l,isStarterAdmin:c,...d}=e,{translate:p}=(0,m.Z)(),u=te(),{isSelected:_}=(0,D.f2)(),h=(0,J.tV)(u),g=(0,ae.vV)(i),w=(0,D.p7)([...h,...o]);if(0===o.length&&0===h.length&&!g)return(0,b.tZ)(I.vN,{text:p("webapp_sharing_invite_no_recipients")});const y=ce(h,i),f=de(o,i),x=f.length>0||y.length>0;if(!x&&g&&s)return(0,b.tZ)("ul",{sx:{..._e,height:347},children:(0,b.tZ)(se,{email:ue(i),addNewContact:n})});const S=y.filter((e=>!r||_(e.id,"groups"))),v=f.filter((e=>!r||_(e.id,"users")));if(0===v.length&&0===S.length){const e=p(r?"webapp_sharing_invite_no_selected_recipients_found":"webapp_sharing_invite_no_recipients_found");return(0,b.tZ)(I.vN,{text:e})}const C=S.length,Z=v.length,k=o.some((({id:e=""})=>!i||e.toLowerCase()===i.trim().toLowerCase())),E=g&&!k;return(0,b.BX)(a.Fragment,{children:[E?(0,b.tZ)("ul",{sx:{..._e,height:x?72:347},children:(0,b.tZ)(se,{email:i,addNewContact:n})}):null,(0,b.tZ)(ne.t7,{sx:E?_e:void 0,height:347-(E?72:0),itemCount:C+Z,itemKey:e=>((e,t,n,a)=>e>t-1?n[e-t].id:a[e].id)(e,C,v,S),itemSize:56,outerElementType:"ul",width:"100%",ref:t,children:({index:e,style:t})=>(0,b.tZ)(le,{isUserItem:e>C-1,style:t,user:v[e-C],group:S[e],canShareCollection:l,isStarterAdmin:c,onSelectItem:w,...d})})]})})),he="webapp_sharing_invite_recipients_placeholder",ge=({headingTitle:e,allowNewContacts:t=!1,emailQueryErrorKey:n,users:i,dialogPrimaryAction:o,dialogSecondaryAction:s,newUsers:l=[],recipientsOnlyShowSelected:c,setNewUsers:d,setRecipientsOnlyShowSelected:p,infobox:u,isStarterAdmin:_,...h})=>{const{translate:g}=(0,m.Z)(),w=te(),{getSelectedItems:x}=(0,D.f2)(),{toggleSelectedItems:S}=(0,D.a8)(),[v,C]=(0,a.useState)(""),Z=(0,a.useRef)(null),k=x(["users"]),I=x(["groups"]),E=[...i,...l.map((e=>({id:e,itemCount:0})))],T=I.length>0||k.length>0||c,A=ce(w,v),N=0===de(E,v).length&&0===A.length,O=v.length>0&&N&&!t&&n;return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(r.$N,{title:g(e)}),(0,b.tZ)("section",{role:"search",sx:{mb:"16px"},children:(0,b.tZ)(y.U,{value:v,onChange:e=>C(e.currentTarget.value),label:g(he),"aria-label":g(he),placeholder:g(he),autoFocus:!0,error:!!O,feedback:O?{text:g(n)}:void 0})}),(0,b.tZ)(me,{addNewContact:()=>{const e=ue(v);C(""),S(new Set([e]),"users"),d?.((0,J.nY)([e,...l])),requestAnimationFrame((()=>{const t=[...i,...(0,J.nY)([e,...l]).map((e=>({id:e,itemCount:0})))],n=w.length+t.findIndex((({id:t})=>t===e));Z.current?.scrollToItem(n)}))},query:v,recipientsOnlyShowSelected:c,users:E,ref:Z,allowNewContacts:t,isStarterAdmin:_,...h}),u||null,(0,b.tZ)(r.cN,{actions:{primary:{onClick:o.onClick,children:g(o.children),...o.props},...s?{secondary:{onClick:s.onClick,children:g(s.children),...s.props}}:{}},footerSlot:T&&(0,b.tZ)(f.X,{checked:c,onChange:p,label:g("webapp_sharing_invite_only_show_selected_people"),sx:{ml:"0",mr:"auto",pr:"16px"}})})]})};var be,we=n(14877);const ye=({goToStep:e,...t})=>{const{currentSpaceId:n}=(0,k.fV)(),a=(0,K.G)(),i=(0,W.gW)(["internalSharingOnly"]),r=(0,j.j)()?.login,o=(s=V.S.Ascend,l=n,(0,x.k)(G.m,"getSharingUsers",{sortDirection:s,spaceId:l}));var s,l;const c=$(),{getSelectedItems:d}=(0,D.f2)(),p=(0,x.k)(we.L,"query",{vaultItemTypes:[C.U.Credential,C.U.SecureNote,C.U.Secret],ids:d(["credentials","notes","secrets"])}),u=p.status===q.rq.Success&&[...p.data.credentialsResult.items,...p.data.secureNotesResult.items,...p.data.secretsResult.items].some((e=>{var t;return null!=(t=e.isSecured)&&t})),m=d(["secrets"]).length;if(o.status!==q.rq.Success||i.status!==q.rq.Success||c.status!==q.rq.Success)return be||(be=(0,b.tZ)(H.Z,{color:"ds.text.brand.standard"}));const h=!!m||i.data,g=h?c.data?.userLogins.filter((e=>e!==r)).map((e=>({id:e,itemCount:0}))):o.data,w={onClick:()=>e(u&&!a?_.N.UnlockProtectedItems:_.N.Permission),children:"webapp_sharing_invite_next",props:{disabled:!(d(["users","groups"]).length>0)}},y={onClick:()=>e(_.N.Elements),children:"webapp_sharing_invite_add_more_items"},f=m?"webapp_sharing_invite_secret_query_error":"webapp_sharing_invite_item_query_error";return(0,b.tZ)(ge,{headingTitle:"webapp_sharing_invite_select_recipients_title",emailQueryErrorKey:f,dialogPrimaryAction:w,dialogSecondaryAction:y,users:g,allowNewContacts:!h,...t})};var fe,xe=n(11538);const Se=()=>{const{translate:e}=(0,m.Z)();return(0,b.tZ)(u.a7O,{children:(0,b.BX)(u.T5p,{justifyContent:"center",alignItems:"center",gap:"16px","data-testid":"loading-share-dialog",children:[fe||(fe=(0,b.tZ)(xe.Z,{size:100})),(0,b.tZ)(u.nvN,{color:"ds.text.neutral.quiet",children:e("webapp_sharing_invite_loading")})]})})},ve=({itemsCount:e,isLoading:t,onDismiss:n})=>{const{translate:i}=(0,m.Z)();return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(r.$N,{title:i("webapp_sharing_invite_success",{count:e})}),i("webapp_sharing_invite_success_detail",{count:e}),(0,b.tZ)(r.cN,{actions:{primary:{children:i("_common_alert_dismiss_button"),onClick:n,disabled:t}}})]})},Ce=({goToStep:e,onDismiss:t})=>{const{translate:n}=(0,m.Z)();return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(u.X6q,{as:"h1",size:"small",sx:{mb:"16px"},children:n("webapp_lock_items_label")}),(0,b.tZ)(h._,{unlockRequest:{itemType:g.R.SharedItems,successCallback:()=>e(_.N.CollectionRecipients),cancelCallback:t}})]})};var Ze=n(39378),ke=n(13252),Ie=n(97227);const Ee=({goToStep:e,shareCollection:t,isLoading:n,setRoles:a,roles:i,infobox:r,isStarterAdmin:o,isAlreadyShared:s,...l})=>{const{getSelectedItems:c}=(0,D.f2)(),d=Q(),p=(0,j.j)()?.login,u=d.filter((e=>e!==p)).map((e=>({id:e,itemCount:0}))),m=!s,h={onClick:m?()=>e(_.N.CollectionItemPermissions):t,children:m?"webapp_sharing_invite_collection_next_button":"_common_action_share",props:{disabled:!(c(["users","groups"]).length>0)||n||!i.length}};return(0,b.tZ)(ge,{headingTitle:"webapp_sharing_invite_collection_recipients_title",emailQueryErrorKey:"webapp_sharing_invite_collection_query_error",dialogPrimaryAction:h,users:u,roles:i,onRolesChanged:a,infobox:r,isStarterAdmin:o,...l})};var De=n(22903),Te=n(89390);const Ae=({...e})=>{const{translate:t}=(0,m.Z)(),n=(0,j.j)()?.login,i=Q(),r=(0,a.useRef)(null),s=i.filter((e=>e!==n)).map((e=>({id:e,itemCount:0})));return(0,b.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,b.tZ)(De.X,{as:"h1",children:t("webapp_sharing_invite_collection_recipients_title")}),(0,b.BX)("div",{sx:{height:"auto",width:"640px"},children:[(0,b.tZ)(me,{query:"",recipientsOnlyShowSelected:!1,users:s,ref:r,allowNewContacts:!1,canShareCollection:!1,...e}),(0,b.tZ)(Te.L,{canShareCollection:!1,clickOrigin:o.ClickOrigin.CollectionsSharingStarterLimitReachedModal})]})]})};var Ne=n(29020);const Oe=({onDismiss:e})=>{const{translate:t}=(0,m.Z)();return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(r.$N,{title:t("webapp_sharing_non_admin_starter_paywall_heading")}),(0,b.tZ)(Ne.n,{children:t("webapp_sharing_non_admin_starter_paywall_description")}),(0,b.tZ)(r.cN,{actions:{primary:{children:t("webapp_sharing_non_admin_starter_paywall_cta"),onClick:e}}})]})};var Pe=n(62264),Le=n(11833),Re=n(8180),Me=n(83459),Be=n(27637),ze=n(53384),Ue=n(45272);const Fe=({selectedCollectionId:e,selectedUsers:t,selectedGroups:n,itemPermissions:i,roles:r,setIsLoading:s,origin:l,onDismiss:c,goToStep:u})=>{const h=(0,Le.u)(),{translate:g}=(0,m.Z)(),{collections:b,sharedCollections:w}=(0,p.bA)(),y=(0,Pe.p)(),{createSharedCollection:f,inviteCollectionMembers:x}=(0,Re.u)(Me.a);return{shareCollection:(0,a.useCallback)((()=>{const a=e=>{const t=r.find((t=>t.id===e));return{login:e,role:t?t.role:Be.Yt.Manager}},p=e=>{const t=r.find((t=>t.id===e));return{groupId:e,role:t?t.role:Be.Yt.Manager}},m=e=>{s(!1),c();let t=g("webapp_sharing_invite_collection_share_error");e===ze.Pf&&(t=g("secure_note_attachments_in_collection_error")),y.showToast({description:t,mood:"danger"}),(0,Ue.Kz)(new o.UserSharingOutcomeEvent({sharingFlowType:o.SharingFlowType.CollectionSharing,isSuccessful:!1,origin:l}))};h.wrap((async()=>{var r;s(!0);const h=b.find((t=>t.spaceId&&t.id===e)),S=w.find((t=>t.id===e));let v;if(h){const e=h.vaultItems.reduce(((e,t)=>(t.type!==C.U.Credential&&t.type!==C.U.SecureNote||e.push(t.id),e)),[]);v=await f({collectionName:h.name,privateCollectionId:h.id,teamId:h.spaceId,users:t.map(a),groups:n.map(p),itemIds:e,defaultItemPermissions:i})}else{if(!S)return void m();v=await x({collectionId:S.id,userRecipients:t.map(a),userGroupRecipients:n.map(p)})}(0,d.hx)(v)?m(v?.error?.tag):(s(!1),y.showToast({description:g("webapp_sharing_invite_collection_share_success_message",{collectionName:null!=(r=h?.name)?r:S?.name})}),(0,Ue.Kz)(new o.UserSharingOutcomeEvent({sharingFlowType:o.SharingFlowType.CollectionSharing,isSuccessful:!0,origin:l})),u(_.N.Success),c())}),m)()}),[r,t,n,i,b,w,e])}};var Xe,qe;const He=({step:e,setDoRecipientsOnlyShowSelected:t,origin:n,onDismiss:i,goToStep:r,selectedCollectionId:s,...l})=>{const{sharedCollections:c}=(0,p.bA)(),{getSelectedItems:d}=(0,D.f2)(),[u,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)([]),[w,y]=(0,a.useState)(ke.y3.Limited),{hasSharingCollectionPaywall:f,canShareCollection:x,isStarterTeam:S,isBusinessTrialTeam:v,isAdmin:C}=(0,Ie.Te)(),Z=d(["users"]),k=d(["groups"]),{shareCollection:I}=Fe({selectedGroups:k,selectedUsers:Z,origin:n,onDismiss:i,goToStep:r,setIsLoading:m,selectedCollectionId:s,roles:h,itemPermissions:w}),E=!!c.find((e=>e.id===s)),T=Boolean(f&&C&&x&&!E),A=Boolean(f&&C&&!x&&!E),N=f&&!C,O=S&&C,P=(e,t)=>e===t.id,L=(0,a.useMemo)((()=>[...h.filter((e=>Z.some((t=>P(t,e))))),...h.filter((e=>k.some((t=>P(t,e)))))]),[h,Z,k]);return(0,a.useEffect)((()=>{(0,Ze.isEqual)(L,h)||g(L)}),[L,h]),(0,b.BX)(a.Fragment,{children:[e===_.N.CollectionRecipients?N?(0,b.tZ)(Oe,{onDismiss:i}):A?Xe||(Xe=(0,b.tZ)(Ae,{})):(0,b.tZ)(Ee,{...l,isAlreadyShared:E,setRoles:g,origin:n,onDismiss:i,roles:h,isLoading:u,setRecipientsOnlyShowSelected:e=>t(e.currentTarget.checked),shareCollection:I,goToStep:r,isStarterAdmin:O,infobox:T?(0,b.tZ)(Ie.Li,{canShareCollection:!0,buttonIntensity:"quiet",clickOrigin:o.ClickOrigin.CollectionsSharingStarterLimitCloseToBeReachedModal}):v?qe||(qe=(0,b.tZ)(Ie.aF,{})):void 0}):null,e===_.N.CollectionItemPermissions?(0,b.tZ)(X.l,{goToStep:()=>r(_.N.CollectionRecipients),onClick:I,isCollectionSharing:!0,isLoading:u,permission:w,onSelectPermission:y}):null]})},Ve=()=>(0,Re.u)(Y.X);var We=n(11744),je=n(32725);function Ge(e,t){const{ITEM_DOESNT_EXIST:n,LIMIT_EXCEEDED:a}=je.ShareItemFailureReason;switch(t){case n:return e("webapp_sharing_invite_item_not_found");case a:return e("webapp_sharing_invite_limit_exceeded");default:return e("webapp_sharing_invite_server_error")}}var Ke,Ye=n(26555),$e=n(18504),Qe=n(48731);const Je=e=>{const{error:t}=e,{title:n,domain:a,text:i,reason:r}=t,{translate:o}=(0,m.Z)(),s=Ge(o,r),l={title:n,text:i,logo:(0,b.tZ)(Ye.h,{domainURL:null!=a?a:""}),infoAction:s};return(0,b.tZ)(We.H,{sx:I.dM,children:(0,b.tZ)(oe.r,{...l})},t.id)},et=e=>{const{error:t}=e,{id:n,title:a,color:i,reason:r}=t,{translate:o}=(0,m.Z)(),s=Ge(o,r),l={title:a,text:"",logo:(0,b.tZ)($e.G,{noteColor:i||"GRAY"}),infoAction:s};return(0,b.tZ)("li",{sx:I.dM,children:(0,b.tZ)(oe.r,{...l})},n)},tt=e=>{const{itemsCount:t,isLoading:n,onDismiss:i,shareAllItems:o,limitExceededError:s}=e,{translate:l}=(0,m.Z)(),c=(0,x.k)(Y.X,"shareItemsErrors");if(s)return(0,b.tZ)(Qe.N,{closeDialog:i});if(!c.data)return null;const{credentialsErrors:d,notesErrors:p}=c.data,u=l("webapp_sharing_invite_failure_detail_2",{count:t,errorsCount:d.length+p.length});return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(r.$N,{title:l("webapp_sharing_invite_failure_2",{count:t})}),(0,b.tZ)(Ne.n,{children:u}),(0,b.BX)("ul",{sx:{borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle",marginTop:"10px",maxHeight:I.cD,overflowY:"scroll"},children:[d.map((e=>(0,b.tZ)(Je,{error:e},e.id))),p.map((e=>(0,b.tZ)(et,{error:e},e.id)))]}),(0,b.tZ)(r.cN,{actions:{primary:{children:n?Ke||(Ke=(0,b.tZ)(H.Z,{size:24,color:"ds.text.inverse.catchy"})):l("webapp_sharing_invite_share_items_again"),onClick:o,disabled:n},secondary:{children:l("webapp_sharing_invite_cancel"),onClick:i,disabled:n}}})]})};var nt;const at=({onDismiss:e,recipientsOnlyShowSelected:t,sharing:n,origin:i})=>{var r;const{getSelectedItems:o}=(0,D.f2)(),[s,l]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null!=t&&t),[h,g]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),[x,S]=(0,a.useState)([]),[v,C]=(0,a.useState)(n.permission),[Z,k]=(0,a.useState)(n?.step),[I,E]=(0,a.useState)(null!=(r=n?.tab)?r:_.f.Passwords),T=o(["credentials"]),A=o(["notes"]),N=o(["secrets"]),O=T.length+A.length+N.length,{shareItems:P}=Ve(),L=e=>k(e),R=async()=>{const e=o(["users"]),t=o(["groups"]);try{const n=P({permission:v,userLogins:e,userGroupIds:t,vaultItemIds:[...T,...A,...N]});O>30?L(_.N.Loading):f(!0);const a=await n;(0,d.hx)(a)?((0,d.Yv)(a).tag===c.Mb.LIMIT_EXCEEDED&&l(!0),L(_.N.Failure)):L(_.N.Success)}catch(e){L(_.N.Failure)}f(!1)};return(0,b.BX)(a.Fragment,{children:[Z===_.N.UnlockProtectedItems?(0,b.tZ)(w,{goToStep:L}):null,Z===_.N.UnlockProtectedCollection?(0,b.tZ)(Ce,{goToStep:L,onDismiss:e}):null,Z===_.N.Elements?(0,b.tZ)(F,{elementsOnlyShowSelected:h,goToStep:L,selectedCredentials:T,selectedNotes:A,selectedSecrets:N,selectNotesTab:()=>E(_.f.SecureNotes),selectSecretsTab:()=>E(_.f.Secrets),selectPasswordsTab:()=>E(_.f.Passwords),setElementsOnlyShowSelected:e=>g(e.currentTarget.checked),tab:I}):null,Z===_.N.Failure?(0,b.tZ)(tt,{itemsCount:O,isLoading:y,onDismiss:()=>{l(!1),e()},limitExceededError:s,shareAllItems:R}):null,Z===_.N.Loading?nt||(nt=(0,b.tZ)(Se,{})):null,Z===_.N.Permission?(0,b.tZ)(X.l,{goToStep:()=>L(_.N.Recipients),onClick:R,isLoading:y,permission:v,onSelectPermission:e=>C(e)}):null,Z===_.N.Recipients?(0,b.tZ)(ye,{goToStep:L,newUsers:x,recipientsOnlyShowSelected:u,setNewUsers:S,setRecipientsOnlyShowSelected:e=>m(e.currentTarget.checked)}):null,Z===_.N.CollectionRecipients||Z===_.N.CollectionItemPermissions?(0,b.tZ)(p.Cn,{children:(0,b.tZ)(He,{step:Z,goToStep:L,recipientsOnlyShowSelected:u,setRecipientsOnlyShowSelected:e=>m(e.currentTarget.checked),setDoRecipientsOnlyShowSelected:m,onDismiss:e,origin:i,selectedCollectionId:n.selectedPrivateCollections[0]})}):null,Z===_.N.Success?(0,b.tZ)(ve,{itemsCount:O,isLoading:y,onDismiss:e}):null]})};var it,rt,ot=n(37527),st=n(76745),lt=n(23434);const ct=({step:e,setDoRecipientsOnlyShowSelected:t,origin:n,onDismiss:i,goToStep:r,selectedCollectionId:s,...l})=>{const{sharedCollections:c}=(0,p.bA)(),{getSelectedItems:d}=(0,D.f2)(),[u,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)([]),[w,y]=(0,a.useState)("restricted"),{hasSharingCollectionPaywall:f,canShareCollection:x,isStarterTeam:S,isBusinessTrialTeam:v,isAdmin:C}=(0,Ie.Te)(),Z=d(["users"]),k=d(["groups"]),{shareCollection:I}=Fe({selectedGroups:k,selectedUsers:Z,origin:n,onDismiss:i,goToStep:r,setIsLoading:m,selectedCollectionId:s,roles:h,itemPermissions:(0,lt.I)(w)}),E=!!c.find((e=>e.id===s)),T=Boolean(f&&C&&x&&!E),A=Boolean(f&&C&&!x&&!E),N=f&&!C,O=S&&C,P=(e,t)=>e===t.id,L=(0,a.useMemo)((()=>[...h.filter((e=>Z.some((t=>P(t,e))))),...h.filter((e=>k.some((t=>P(t,e)))))]),[h,Z,k]);return(0,a.useEffect)((()=>{(0,Ze.isEqual)(L,h)||g(L)}),[L,h]),(0,b.BX)(a.Fragment,{children:[e===_.N.CollectionRecipients?N?(0,b.tZ)(Oe,{onDismiss:i}):A?it||(it=(0,b.tZ)(Ae,{})):(0,b.tZ)(Ee,{...l,isAlreadyShared:E,setRoles:g,origin:n,onDismiss:i,roles:h,isLoading:u,setRecipientsOnlyShowSelected:e=>t(e.currentTarget.checked),shareCollection:I,goToStep:r,isStarterAdmin:O,infobox:T?(0,b.tZ)(Ie.Li,{canShareCollection:!0,buttonIntensity:"quiet",clickOrigin:o.ClickOrigin.CollectionsSharingStarterLimitCloseToBeReachedModal}):v?rt||(rt=(0,b.tZ)(Ie.aF,{})):void 0}):null,e===_.N.CollectionItemPermissions?(0,b.tZ)(st.s,{goToStep:()=>r(_.N.CollectionRecipients),onClick:I,sharingIntent:{type:"collection",collectionId:s},isLoading:u,permission:w,onSelectPermission:y}):null]})};var dt;const pt=({onDismiss:e,recipientsOnlyShowSelected:t,sharing:n,origin:i})=>{var r;const{getSelectedItems:o}=(0,D.f2)(),[s,l]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null!=t&&t),[h,g]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),[x,S]=(0,a.useState)([]),[v,C]=(0,a.useState)("restricted"),[Z,k]=(0,a.useState)(n?.step),[I,E]=(0,a.useState)(null!=(r=n?.tab)?r:_.f.Passwords),T=o(["credentials"]),A=o(["notes"]),N=o(["secrets"]),O=T.length+A.length+N.length,{shareItems:P}=Ve(),L=e=>k(e),R=async()=>{const e=o(["users"]),t=o(["groups"]),n=(0,lt.I)(v);try{const a=P({permission:n,userLogins:e,userGroupIds:t,vaultItemIds:[...T,...A,...N]});O>30?L(_.N.Loading):f(!0);const i=await a;(0,d.hx)(i)?((0,d.Yv)(i).tag===c.Mb.LIMIT_EXCEEDED&&l(!0),L(_.N.Failure)):L(_.N.Success)}catch(e){L(_.N.Failure)}f(!1)};return(0,b.BX)(a.Fragment,{children:[Z===_.N.UnlockProtectedItems?(0,b.tZ)(w,{goToStep:L}):null,Z===_.N.UnlockProtectedCollection?(0,b.tZ)(Ce,{goToStep:L,onDismiss:e}):null,Z===_.N.Elements?(0,b.tZ)(F,{elementsOnlyShowSelected:h,goToStep:L,selectedCredentials:T,selectedNotes:A,selectedSecrets:N,selectNotesTab:()=>E(_.f.SecureNotes),selectSecretsTab:()=>E(_.f.Secrets),selectPasswordsTab:()=>E(_.f.Passwords),setElementsOnlyShowSelected:e=>g(e.currentTarget.checked),tab:I}):null,Z===_.N.Failure?(0,b.tZ)(tt,{itemsCount:O,isLoading:y,onDismiss:()=>{l(!1),e()},limitExceededError:s,shareAllItems:R}):null,Z===_.N.Loading?dt||(dt=(0,b.tZ)(Se,{})):null,Z===_.N.Permission?(0,b.tZ)(st.s,{goToStep:()=>L(_.N.Recipients),onClick:R,isLoading:y,permission:v,onSelectPermission:C,sharingIntent:{type:"items",itemIds:[...T,...A,...N]}}):null,Z===_.N.Recipients?(0,b.tZ)(ye,{goToStep:L,newUsers:x,recipientsOnlyShowSelected:u,setNewUsers:S,setRecipientsOnlyShowSelected:e=>m(e.currentTarget.checked)}):null,Z===_.N.CollectionRecipients||Z===_.N.CollectionItemPermissions?(0,b.tZ)(p.Cn,{children:(0,b.tZ)(ct,{step:Z,goToStep:L,recipientsOnlyShowSelected:u,setRecipientsOnlyShowSelected:e=>m(e.currentTarget.checked),setDoRecipientsOnlyShowSelected:m,onDismiss:e,origin:i,selectedCollectionId:n.selectedPrivateCollections[0]})}):null,Z===_.N.Success?(0,b.tZ)(ve,{itemsCount:O,isLoading:y,onDismiss:e}):null]})},ut=({onDismiss:e,recipientsOnlyShowSelected:t,sharing:n,origin:c})=>{const{translate:d}=(0,m.Z)(),p=(0,l.w)(i.w.SAEXSendSharing);(0,a.useEffect)((()=>{(0,Ue.Nc)(o.PageView.SharingCreateMember)}),[]);const u=(0,a.useMemo)((()=>({credentials:new Set(n.selectedCredentials),notes:new Set(n.selectedNotes),secrets:new Set(n.selectedSecrets),users:new Set(n.selectedUsers),groups:new Set(n.selectedGroups)})),[n]),_=(0,s.o)("sharing_Web_GranularPermissions_dev");let h=at;return null===_?null:(!0===_&&(h=pt),p?(0,b.tZ)(r.Vq,{isOpen:!0,onClose:e,"aria-label":d("credentials_header_share_password"),closeActionLabel:d("_common_dialog_dismiss_button"),dialogClassName:ot.Ht,children:(0,b.tZ)(D.Br,{initialSelectedItems:u,children:(0,b.tZ)(h,{onDismiss:e,recipientsOnlyShowSelected:t,sharing:n,origin:c})})}):null)}},16019:(e,t,n)=>{"use strict";n.d(t,{N:()=>a,f:()=>i});let a=function(e){return e[e.Elements=0]="Elements",e[e.Recipients=1]="Recipients",e[e.Permission=2]="Permission",e[e.Loading=3]="Loading",e[e.Success=4]="Success",e[e.Failure=5]="Failure",e[e.UnlockProtectedItems=6]="UnlockProtectedItems",e[e.CollectionRecipients=7]="CollectionRecipients",e[e.CollectionItemPermissions=8]="CollectionItemPermissions",e[e.UnlockProtectedCollection=9]="UnlockProtectedCollection",e}({}),i=function(e){return e[e.Passwords=0]="Passwords",e[e.SecureNotes=1]="SecureNotes",e[e.Secrets=2]="Secrets",e}({})},97188:(e,t,n)=>{"use strict";n.d(t,{e:()=>o}),n(96832);var a=n(92077),i=n(59293),r=n(36351);const o=({notification:e,acceptPendingCollection:t,refusePendingCollection:n,removeUnsharedCollection:o,confirmRefusePendingCollection:s,cancelRefusePendingCollection:l,routes:c})=>(0,r.tZ)(i.f,{notificationId:e.id,notificationStatus:e.status,onAcceptPending:t,onRefusePending:n,onRemoveUnshared:o,onConfirmRefusal:s,onCancelRefusal:l,onAccepted:()=>{(0,a.uX)(c.userCollection(e.id))}})},59293:(e,t,n)=>{"use strict";n.d(t,{f:()=>b});var a,i,r=n(68999),o=n(88203),s=n(26654),l=n(63847),c=n(47124),d=n(29020),p=n(36351);const u=({text:e,children:t,nature:n})=>{const r="failure"===n?"ds.text.danger.quiet":"ds.text.neutral.quiet";return(0,p.BX)(l.k,{alignItems:"center",sx:{bottom:0,right:0,top:0,height:"100%",position:"absolute"},children:[(0,p.tZ)("span",{sx:{height:"100%",width:"40px"}}),(0,p.BX)(l.k,{alignItems:"center",sx:{height:"100%",paddingLeft:"24px"},children:["failure"===n?a||(a=(0,p.tZ)(c.JO,{name:"FeedbackWarningOutlined",size:"small",color:"ds.text.danger.quiet"})):i||(i=(0,p.tZ)(c.JO,{name:"CheckmarkOutlined",size:"small",color:"ds.text.positive.quiet"})),(0,p.tZ)(d.n,{as:"span",color:r,textStyle:"ds.body.reduced.regular",children:e})]}),t]})},_="webapp_sharing_notifications_accept",m="webapp_sharing_notifications_cancel",h="webapp_sharing_notifications_refuse",g=e=>(0,p.tZ)("div",{sx:{display:"flex",gap:"8px",marginLeft:"8px"},...e}),b=({notificationId:e,notificationStatus:t,onAcceptPending:n,onRefusePending:a,onRemoveUnshared:i,onConfirmRefusal:l,onCancelRefusal:c,onAccepted:d,acceptedTranslationKey:b="webapp_sharing_notifications_accept_succeeded"})=>{const{translate:w}=(0,o.Z)();switch(t){case s.Ez.Accepted:return d?(0,p.tZ)(r.z,{intensity:"quiet",mood:"brand",size:"small",onClick:()=>{d()},"data-close-dropdown":!0,children:w("webapp_sharing_notifications_see_details")}):null;case s.Ez.AcceptJustSucceeded:return(0,p.tZ)(u,{nature:"success",text:w(b)});case s.Ez.AcceptFailed:case s.Ez.RefusalFailed:return(0,p.tZ)(u,{nature:"failure",text:w("webapp_sharing_notifications_accept_failed")});case s.Ez.Unshared:return(0,p.tZ)(u,{nature:"failure",text:w("webapp_sharing_notifications_sender_cancelled"),children:(0,p.tZ)(r.z,{"aria-label":w("_common_alert_dismiss_button"),icon:"ActionCloseOutlined",intensity:"supershy",layout:"iconOnly",mood:"neutral",size:"small",onClick:()=>i(e),sx:{marginLeft:"8px"}})});case s.Ez.AcceptInProgress:return(0,p.BX)(g,{children:[(0,p.tZ)(r.z,{intensity:"supershy",mood:"brand",size:"small",disabled:!0,children:w(h)}),(0,p.tZ)(r.z,{intensity:"quiet",mood:"brand",size:"small",disabled:!0,children:w(_)})]});case s.Ez.ConfirmRefusal:return(0,p.BX)(g,{children:[(0,p.tZ)(r.z,{mood:"brand",intensity:"supershy",size:"small",onClick:()=>l(e),children:w(h)}),(0,p.tZ)(r.z,{intensity:"quiet",mood:"brand",size:"small",onClick:()=>c(e),children:w(m)})]});case s.Ez.RefusalInProgress:return(0,p.BX)(g,{children:[(0,p.tZ)(r.z,{mood:"brand",intensity:"supershy",size:"small",isLoading:!0,disabled:!0,children:w(h)}),(0,p.tZ)(r.z,{intensity:"quiet",mood:"brand",size:"small",disabled:!0,children:w(m)})]});case s.Ez.Pending:default:return(0,p.BX)(g,{children:[(0,p.tZ)(r.z,{intensity:"supershy",mood:"brand",size:"small",onClick:()=>a(e),children:w(h)}),(0,p.tZ)(r.z,{intensity:"quiet",mood:"brand",size:"small",onClick:()=>n(e),children:w(_)})]})}}},73750:(e,t,n)=>{"use strict";n.d(t,{B:()=>d});var a=n(96832),i=n(11744),r=n(14646),o=n(13252),s=n(88203),l=n(26654),c=n(36351);const d=(0,a.memo)((e=>{const{notification:t,actions:n,icon:d,name:p,sharedBy:u,type:_,itemType:m,className:h}=e,{translate:g}=(0,s.Z)(),{status:b}=t,w=(0,l.Ap)(t),y=(0,a.useMemo)((()=>{const e=b===l.Ez.ConfirmRefusal?"":u;return"collection"===_?`${g("webapp_sharing_notifications_collections")} â¢ ${e}`:"group"===_?`${g("webapp_sharing_notifications_groups")} â¢ ${e}`:m===o.y2.Secret?`${g("webapp_sharing_notifications_secrets")} â¢ ${e}`:m===o.y2.SecureNote?`${g("webapp_sharing_notifications_secure_notes")} â¢ ${e}`:`${g("webapp_sharing_notifications_logins")} â¢ ${e}`}),[m,u,b,g,_]);return(0,c.tZ)(i.H,{actions:n,className:h,children:(0,c.tZ)(r.s,{thumbnail:d,title:b===l.Ez.ConfirmRefusal?g("webapp_sharing_notifications_confirm_refuse_text"):p,description:y,sx:{opacity:w?.5:1}})},t.id)}));d.displayName="NotificationRow"},11285:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var a=n(75881),i=n(88203),r=n(73750),o=(n(96832),n(59293)),s=n(36351);const l=({notification:e,acceptPendingUserGroup:t,refusePendingUserGroup:n,removeUnsharedUserGroup:a,confirmRefusePendingUserGroup:i,cancelRefusePendingUserGroup:r})=>(0,s.tZ)(o.f,{notificationId:e.id,notificationStatus:e.status,onAcceptPending:t,onRefusePending:n,onRemoveUnshared:a,onConfirmRefusal:i,onCancelRefusal:r,acceptedTranslationKey:"webapp_sharing_notifications_accept_group_succeeded"});var c;const d=e=>{const{className:t,notification:n}=e,{translate:o}=(0,i.Z)(),{userGroup:d}=n,{name:p,referrer:u}=d,_=o("webapp_sharing_notifications_invited_by",{referrer:u});return(0,s.tZ)(r.B,{name:p,sharedBy:_,icon:c||(c=(0,s.tZ)(a.R,{type:"user"})),actions:(0,s.tZ)(l,{...e}),notification:n,type:"group",className:t})}},14910:(e,t,n)=>{"use strict";n.d(t,{i:()=>u});var a,i=n(96832),r=n(94138),o=n(13252),s=n(13134),l=n(14482),c=n(26555),d=n(36351);const p=({itemType:e,url:t,color:n})=>{const p=(0,i.useMemo)((()=>new s.Y(t).getRootDomain()),[t]);return e===o.y2.Credential?(0,d.tZ)(c.h,{domainURL:p}):e===o.y2.SecureNote?(0,d.tZ)(r.A,{type:"secure-note",color:(0,l.j)(n)}):a||(a=(0,d.tZ)(r.A,{type:"secret"}))},u=(0,i.memo)(p)},1895:(e,t,n)=>{"use strict";n.d(t,{d:()=>c});var a=n(13252),i=n(92077),r=n(3045),o=n(68819),s=n(59293),l=n(36351);const c=({notification:e,acceptPendingItemGroup:t,refusePendingItemGroup:n,removeUnsharedItem:c,confirmRefusePendingItemGroup:d,cancelRefusePendingItemGroup:p,routes:u})=>{const{areProtectedItemsUnlocked:_,openProtectedItemsUnlocker:m}=(0,r.t)(),h=e.itemGroup,g=(h.itemType===a.y2.SecureNote||h.itemType===a.y2.Secret)&&h.secured&&!_,b=h.itemType===a.y2.Credential?u.userCredential(h.vaultItemId):h.itemType===a.y2.SecureNote?u.userSecureNote(h.vaultItemId):u.userSecret(h.vaultItemId);return(0,l.tZ)(s.f,{notificationId:e.id,notificationStatus:e.status,onAcceptPending:t,onRefusePending:n,onRemoveUnshared:c,onConfirmRefusal:d,onCancelRefusal:p,onAccepted:()=>{g?m({action:o.P.Show,itemType:h.itemType===a.y2.SecureNote?o.R.SecureNote:o.R.Secret,successCallback:()=>{(0,i.uX)(b)}}):(0,i.uX)(b)}})}},12944:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var a=n(63847),i=n(22903),r=n(22522),o=n(29020),s=n(88203),l=n(36351);const c=({className:e,isLoading:t})=>{const{translate:n}=(0,s.Z)();return(0,l.BX)(a.k,{flexDirection:"column",justifyContent:"center",className:e,children:[(0,l.tZ)(i.X,{sx:{marginBottom:4,fontWeight:"bold"},as:"h3",children:n("webapp_sharing_notifications_header")}),t?(0,l.tZ)(r.Z,{mood:"brand","data-testid":"loading-spinner-mock",sx:{alignSelf:"center"}}):(0,l.tZ)(o.n,{children:n("webapp_sharing_notifications_empty_state_text")})]})}},88381:(e,t,n)=>{"use strict";n.d(t,{B:()=>U});var a,i=n(63847),r=n(16166),o=n(22903),s=n(68999),l=n(20565),c=n(1011),d=n(35068),p=n(31423),u=n(97958),_=n(50185),m=n(76376),h=n(88203),g=n(26654),b=n(80947),w=n(12944),y=n(92959),f=n(1895),x=n(97188),S=n(11285),v=n(64013),C=n(8944),Z=n(14646),k=n(75881),I=n(13252),E=n(79721),D=n(88605),T=n(14910),A=n(36351);const N={[I.y2.Credential]:"webapp_sharing_notifications_logins",[I.y2.SecureNote]:"webapp_sharing_notifications_secure_notes",[I.y2.Secret]:"webapp_sharing_notifications_secrets"},O=({notification:e,actions:t})=>{const{type:n,status:i}=e,{translate:r}=(0,h.Z)(),o=(0,g.Ap)(e),s="collection"===e.type?e.collection.name:e.itemGroup.title,l="collection"===e.type?e.collection:e.itemGroup,c=i===g.Ez.ConfirmRefusal?"":r("webapp_sharing_notifications_shared_by",{referrer:l.referrer}),d="collection"===n?`${r("webapp_sharing_notifications_collections")} â¢ ${c}`:`${r(N[e.itemGroup.itemType])} â¢ ${c}`;return(0,A.BX)(v.S,{children:[(0,A.tZ)(C.p,{children:(0,A.tZ)(Z.s,{thumbnail:"collection"===e.type?a||(a=(0,A.tZ)(k.R,{type:"collection"})):(0,A.tZ)(T.i,{itemType:e.itemGroup.itemType,url:e.itemGroup.itemType===I.y2.Credential?e.itemGroup.url:void 0,color:e.itemGroup.itemType===I.y2.SecureNote?e.itemGroup.color:void 0}),title:i===g.Ez.ConfirmRefusal?r("webapp_sharing_notifications_confirm_refuse_text"):s,description:d,sx:{opacity:o?.5:1}})}),(0,A.tZ)(C.p,{children:"collection"===e.type?(0,A.tZ)(E.O,{role:e.collection.sharedCollectionRole}):(0,A.tZ)(D.J,{permission:e.itemGroup.sharingPermissionLevel,type:e.itemGroup.itemType})}),(0,A.tZ)(C.p,{layout:"actions",children:t})]})};var P,L;const R="webapp_sharing_notifications_collections_card_header",M="webapp_sharing_notifications_items_card_header",B="webapp_sharing_notifications_permission_table_header",z={width:"100%",minHeight:"176px",overflowY:"auto",flex:1},U=({className:e})=>{const{translate:t}=(0,h.Z)(),{routes:n}=(0,m.Xo)(),{isLoading:a,notifications:v,updateNotificationStatus:C,removeSharingNotifications:Z}=(0,b.R)(),{acceptPendingItemGroup:k,acceptPendingCollection:I,acceptPendingUserGroup:E,cancelDeclineNotification:D,confirmRefusePendingUserGroup:T,confirmRefusePendingItemGroup:N,softDeclineNotification:U,refusePendingCollection:F,removeNotification:X}=(0,y.g)({isLoading:a,notifications:v,updateNotificationStatus:C,removeSharingNotifications:Z}),q=v.filter(g.lR),H=q.length>0,V=q.some(g.xr);if(!H)return(0,A.tZ)(w.f,{isLoading:a,className:e});const W=q.filter(g.Bm),j=q.filter(g._L),G=q.filter(g.ni);return(0,A.BX)(i.k,{sx:(0,r.jM)([z,{flex:1,gap:"16px"}]),flexWrap:"nowrap",flexDirection:"column","data-testid":"pending-invitations-list",children:[(0,A.BX)(i.k,{justifyContent:"space-between",alignItems:"center",children:[(0,A.tZ)(o.X,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:t("webapp_sharing_notifications_header")}),V?(0,A.tZ)(s.z,{mood:"brand",size:"medium",onClick:()=>{const e=v.filter(g.A7),t=e.map((({id:e})=>e));if(0===t.length)return;C(t,g.Ez.AcceptInProgress);const n=e.filter(g.ni);for(const e of n)k(e.id);const a=e.filter(g.Bm);for(const e of a)E(e.id);const i=e.filter(g._L);for(const e of i)I(e.id,!1)},children:t("webapp_sharing_notifications_accept_all")}):null]}),(0,A.BX)(i.k,{flexDirection:"column",gap:"16px",sx:{maxWidth:"100%",flex:1},children:[W.length>0?(0,A.BX)(l.Z,{gap:"8px",sx:{maxWidth:"100%"},children:[(0,A.tZ)(o.X,{as:"h3",textStyle:"ds.title.block.medium",children:t("webapp_sharing_notifications_groups_card_header")}),(0,A.tZ)(c.a,{children:W.map((e=>(0,A.tZ)(S.w,{notification:e,acceptPendingUserGroup:E,cancelRefusePendingUserGroup:D,confirmRefusePendingUserGroup:T,refusePendingUserGroup:U,removeUnsharedUserGroup:X},e.id)))})]}):null,j.length>0?(0,A.BX)(l.Z,{gap:"8px",sx:{maxWidth:"100%"},children:[(0,A.tZ)(o.X,{as:"h3",textStyle:"ds.title.block.medium",children:t(R)}),(0,A.BX)(d.i,{"aria-label":t(R),children:[(0,A.BX)(p.s,{children:[(0,A.tZ)(u.b,{isRowHeader:!0,width:"2fr",children:t("webapp_sharing_notifications_collection_name_table_header")}),(0,A.tZ)(u.b,{children:t(B)}),P||(P=(0,A.tZ)(u.b,{}))]}),(0,A.tZ)(_.i,{children:j.map((e=>(0,A.tZ)(O,{notification:e,actions:(0,A.tZ)(x.e,{notification:e,acceptPendingCollection:I,cancelRefusePendingCollection:D,confirmRefusePendingCollection:F,refusePendingCollection:U,removeUnsharedCollection:X,routes:n})},e.id)))})]})]}):null,G.length>0?(0,A.BX)(l.Z,{gap:"8px",sx:{maxWidth:"100%",flex:1},children:[(0,A.tZ)(o.X,{as:"h3",textStyle:"ds.title.block.medium",children:t(M)}),(0,A.BX)(d.i,{"aria-label":t(M),children:[(0,A.BX)(p.s,{children:[(0,A.tZ)(u.b,{isRowHeader:!0,width:"2fr",children:t("webapp_sharing_notifications_item_name_table_header")}),(0,A.tZ)(u.b,{children:t(B)}),L||(L=(0,A.tZ)(u.b,{}))]}),(0,A.tZ)(_.i,{children:G.map((e=>(0,A.tZ)(O,{notification:e,actions:(0,A.tZ)(f.d,{notification:e,acceptPendingItemGroup:k,cancelRefusePendingItemGroup:D,confirmRefusePendingItemGroup:N,refusePendingItemGroup:U,removeUnsharedItem:X,routes:n})},e.id)))})]})]}):null]})]})}},71311:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var a,i=n(96832),r=n(78506),o=n(7606),s=n(63847),l=n(16166),c=n(22903),d=n(68999),p=n(1011),u=n(76376),_=n(88203),m=n(26654),h=n(80947),g=n(11285),b=n(75881),w=n(73750),y=n(97188),f=n(36351);const x=e=>{const{className:t,notification:n}=e,{translate:i}=(0,_.Z)(),{collection:r}=n,{name:o,referrer:s}=r,l=i("webapp_sharing_notifications_invited_by",{referrer:s});return(0,f.tZ)(w.B,{name:o,sharedBy:l,icon:a||(a=(0,f.tZ)(b.R,{type:"collection"})),actions:(0,f.tZ)(y.e,{...e}),notification:n,type:"collection",className:t})};var S=n(13252),v=n(1895),C=n(14910);const Z=e=>{const{translate:t}=(0,_.Z)(),{className:n,notification:a}=e,{referrer:i,title:r,itemType:o}=a.itemGroup,s=t("webapp_sharing_notifications_shared_by",{referrer:i}),l=o===S.y2.Credential?a.itemGroup.url:void 0,c=o===(S.y2.SecureNote||S.y2.Secret)?a.itemGroup.color:void 0;return(0,f.tZ)(w.B,{name:r,sharedBy:s,type:"item",itemType:o,icon:(0,f.tZ)(C.i,{itemType:a.itemGroup.itemType,url:l,color:c}),actions:(0,f.tZ)(v.d,{...e}),notification:a,className:n},a.id)},k=(0,i.memo)(Z);var I=n(12944),E=n(92959);const D={minHeight:"176px",overflowY:"auto",flex:1},T=({data:e,index:t,style:n})=>{const a=e.notifications[t];return"item"===a.type?(0,f.tZ)(k,{notification:a,acceptPendingItemGroup:e.acceptPendingItemGroup,cancelRefusePendingItemGroup:e.cancelDeclineNotification,confirmRefusePendingItemGroup:e.confirmRefusePendingItemGroup,refusePendingItemGroup:e.softDeclineNotification,removeUnsharedItem:e.removeNotification,routes:e.routes,sx:n},a.id):"collection"===a.type?(0,f.tZ)(x,{notification:a,acceptPendingCollection:e.acceptPendingCollection,cancelRefusePendingCollection:e.cancelDeclineNotification,confirmRefusePendingCollection:e.refusePendingCollection,refusePendingCollection:e.softDeclineNotification,removeUnsharedCollection:e.removeNotification,routes:e.routes,sx:n},a.id):"group"===a.type?(0,f.tZ)(g.w,{notification:a,acceptPendingUserGroup:e.acceptPendingUserGroup,cancelRefusePendingUserGroup:e.cancelDeclineNotification,confirmRefusePendingUserGroup:e.confirmRefusePendingUserGroup,refusePendingUserGroup:e.softDeclineNotification,removeUnsharedUserGroup:e.removeNotification,sx:n},a.id):null},A=(0,i.memo)(T),N=({className:e,maxHeight:t})=>{const{translate:n}=(0,_.Z)(),{routes:a}=(0,u.Xo)(),{isLoading:g,notifications:b,updateNotificationStatus:w,removeSharingNotifications:y}=(0,h.R)(),{acceptPendingItemGroup:x,acceptPendingCollection:S,acceptPendingUserGroup:v,cancelDeclineNotification:C,confirmRefusePendingUserGroup:Z,confirmRefusePendingItemGroup:k,softDeclineNotification:T,refusePendingCollection:N,removeNotification:O}=(0,E.g)({isLoading:g,notifications:b,updateNotificationStatus:w,removeSharingNotifications:y}),P=b.filter(m.lR),L=P.length>0,R=P.some(m.xr),M=(0,i.useMemo)((()=>t?P.length<10?56*P.length:t-80:void 0),[t,P.length]),B=(0,i.useMemo)((()=>({acceptPendingItemGroup:x,acceptPendingCollection:S,acceptPendingUserGroup:v,cancelDeclineNotification:C,confirmRefusePendingItemGroup:k,confirmRefusePendingUserGroup:Z,notifications:P,removeNotification:O,refusePendingCollection:N,routes:a,softDeclineNotification:T})),[S,x,v,C,k,Z,N,O,a,T,P]);return L?(0,f.BX)(s.k,{sx:(0,l.jM)([D,t?{maxHeight:`${t}`}:{}]),flexDirection:"column","data-testid":"pending-invitations-list",children:[(0,f.BX)(s.k,{justifyContent:"space-between",alignItems:"center",sx:{padding:"8px"},children:[(0,f.tZ)(c.X,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:n("webapp_sharing_notifications_header")}),R?(0,f.tZ)(d.z,{mood:"brand",size:"small",onClick:()=>{const e=b.filter(m.A7),t=e.map((({id:e})=>e));if(0===t.length)return;w(t,m.Ez.AcceptInProgress);const n=e.filter(m.ni);for(const e of n)x(e.id);const a=e.filter(m.Bm);for(const e of a)v(e.id);const i=e.filter(m._L);for(const e of i)S(e.id,!1)},children:n("webapp_sharing_notifications_accept_all")}):null]}),(0,f.tZ)("div",{sx:t?{minHeight:"56px",height:M,maxHeight:`${t}px`}:{flex:1},children:(0,f.tZ)(r.ZP,{children:({height:e,width:t})=>(0,f.tZ)(o.t7,{height:e,width:t,innerElementType:p.a,itemSize:56,overscanCount:50,itemCount:P.length,itemData:B,children:A})})})]}):(0,f.tZ)(I.f,{isLoading:g,className:e})}},26654:(e,t,n)=>{"use strict";n.d(t,{A7:()=>d,Ap:()=>s,Bm:()=>r,Ez:()=>a,_L:()=>o,lR:()=>l,ni:()=>i,xr:()=>c});let a=function(e){return e[e.AcceptFailed=0]="AcceptFailed",e[e.AcceptInProgress=1]="AcceptInProgress",e[e.AcceptJustSucceeded=2]="AcceptJustSucceeded",e[e.Accepted=3]="Accepted",e[e.ConfirmRefusal=4]="ConfirmRefusal",e[e.Pending=5]="Pending",e[e.RefusalFailed=6]="RefusalFailed",e[e.RefusalInProgress=7]="RefusalInProgress",e[e.Refused=8]="Refused",e[e.Unshared=9]="Unshared",e}({});function i(e){return"item"===e.type}function r(e){return"group"===e.type}function o(e){return"collection"===e.type}const s=({status:e})=>[a.AcceptFailed,a.AcceptInProgress,a.AcceptJustSucceeded,a.Unshared].includes(e),l=({status:e})=>e!==a.Refused,c=({status:e})=>[a.AcceptInProgress,a.AcceptFailed,a.ConfirmRefusal,a.Pending,a.RefusalInProgress,a.RefusalFailed].includes(e),d=({status:e})=>e===a.Pending},92959:(e,t,n)=>{"use strict";n.d(t,{g:()=>d});var a=n(96832),i=n(73704),r=n(78346),o=n(8180),s=n(99827),l=n(6210),c=n(26654);const d=({notifications:e,updateNotificationStatus:t,removeSharingNotifications:n})=>{const{sync:d}=(0,o.u)(l.r),{acceptCollectionInvite:p,acceptSharedItemInvite:u,acceptUserGroupInvite:_,refuseCollectionInvite:m,refuseItemGroupInvite:h,refuseUserGroupInvite:g}=(0,o.u)(s.t),b=(0,a.useRef)([]);return(0,a.useMemo)((()=>{const a=(e,n)=>{t(e,n),e.length>0&&b.current.push(window.setTimeout((()=>{t(e,c.Ez.Pending)}),2e3))},o=(e,n)=>{n?(t([e],c.Ez.AcceptJustSucceeded),b.current.push(window.setTimeout((()=>{t([e],c.Ez.Accepted)}),2e3))):a([e],c.Ez.AcceptFailed)},s=(e,n)=>{n?t([e],c.Ez.Refused):a([e],c.Ez.RefusalFailed)};return{acceptPendingItemGroup:async e=>{t([e],c.Ez.AcceptInProgress);const n=await u({itemGroupId:e});(0,r.hx)(n)?o(e,!1):o(e,!0)},acceptPendingCollection:async(e,n=!0)=>{n&&t([e],c.Ez.AcceptInProgress);const a=await p({collectionId:e});(0,r.hx)(a)?o(e,!1):o(e,!0)},acceptPendingUserGroup:async e=>{t([e],c.Ez.AcceptInProgress);const n=await _({userGroupId:e});(0,r.hx)(n)?o(e,!1):o(e,!0)},cancelDeclineNotification:e=>{t([e],c.Ez.Pending)},confirmRefusePendingUserGroup:async e=>{t([e],c.Ez.RefusalInProgress);try{const n=await g({userGroupId:e});(0,r.d6)(n)?t([e],c.Ez.Refused):a([e],c.Ez.RefusalFailed)}catch(t){a([e],c.Ez.RefusalFailed)}},confirmRefusePendingItemGroup:async n=>{if(t([n],c.Ez.RefusalInProgress),void 0!==e.filter(c.ni).find((e=>e.itemGroup.sharedItemId===n)))try{const e=await h({itemGroupId:n});(0,r.d6)(e)?t([n],c.Ez.Refused):a([n],c.Ez.RefusalFailed)}catch(e){a([n],c.Ez.RefusalFailed)}},softDeclineNotification:e=>{t([e],c.Ez.ConfirmRefusal)},refusePendingCollection:async e=>{t([e],c.Ez.RefusalInProgress);const n=await m({collectionId:e});(0,r.hx)(n)?s(e,!1):s(e,!0),d({trigger:i.Trigger.Sharing})},removeNotification:e=>{n([e])}}}),[p,u,_,e,m,h,g,n,d,t])}},80947:(e,t,n)=>{"use strict";n.d(t,{R:()=>c});var a=n(96832),i=n(39378),r=n(48038),o=n(26654),s=n(99827),l=n(24507);const c=()=>{const e=(0,l.k)(s.t,"getInvites"),[t,n]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[p,u]=(0,a.useState)([]),[_,m]=(0,a.useState)([]),h=e.status===r.rq.Loading,g=(0,a.useCallback)((e=>{n((t=>[...t,...e.filter((({id:e})=>!t.some((t=>t.id===e))))]))}),[]),b=(0,a.useCallback)(((e,t,a)=>{n((n=>n.map((n=>!e.includes(n.id)||void 0!==a&&n.status!==a?n:{...n,status:t}))))}),[]),w=(0,a.useCallback)((e=>{d((t=>t.filter((t=>!e.includes(t))))),u((t=>t.filter((t=>!e.includes(t))))),m((t=>t.filter((t=>!e.includes(t))))),n((t=>t.filter((t=>!e.includes(t.id)))))}),[]);return(0,a.useEffect)((()=>{if(e.status===r.rq.Success){const n=e.data.pendingSharedItems,a=n.map((e=>e.sharedItemId));if(!(0,i.isEqual)(c,a)){d(a),g(n.map((e=>({itemGroup:e,status:o.Ez.Pending,id:e.sharedItemId,type:"item"}))));const e=t.filter((({id:e,status:t})=>c.includes(e)&&!a.includes(e)&&(t===o.Ez.Refused||t===o.Ez.RefusalInProgress)));e.length>0&&w(e.map((({id:e})=>e)));const i=t.filter((({id:e,status:t})=>c.includes(e)&&!a.includes(e)&&t!==o.Ez.Accepted&&t!==o.Ez.AcceptJustSucceeded&&t!==o.Ez.AcceptInProgress&&t!==o.Ez.Refused&&t!==o.Ez.RefusalInProgress));i.length>0&&b(i.map((({id:e})=>e)),o.Ez.Unshared)}const r=e.data.pendingUserGroups,s=r.map((e=>e.id));if(!(0,i.isEqual)(p,s)){u(s),g(r.map((e=>({userGroup:e,status:o.Ez.Pending,id:e.id,type:"group"}))));const e=t.filter((({id:e,status:t})=>p.includes(e)&&!s.includes(e)&&(t===o.Ez.Refused||t===o.Ez.RefusalInProgress)));e.length>0&&w(e.map((({id:e})=>e)));const n=t.filter((({id:e,status:t})=>p.includes(e)&&!s.includes(e)&&t!==o.Ez.Accepted&&t!==o.Ez.AcceptJustSucceeded&&t!==o.Ez.AcceptInProgress&&t!==o.Ez.Refused&&t!==o.Ez.RefusalInProgress));n.length>0&&b(n.map((({id:e})=>e)),o.Ez.Unshared)}const l=e.data.pendingCollections,h=l.map((e=>e.id));if(!(0,i.isEqual)(_,h)){m(h),g(l.map((e=>({collection:e,status:o.Ez.Pending,id:e.id,type:"collection"}))));const e=t.filter((({id:e,status:t})=>_.includes(e)&&!h.includes(e)&&(t===o.Ez.Refused||t===o.Ez.RefusalInProgress)));e.length>0&&w(e.map((({id:e})=>e)));const n=t.filter((({id:e,status:t})=>_.includes(e)&&!h.includes(e)&&t!==o.Ez.Accepted&&t!==o.Ez.AcceptJustSucceeded&&t!==o.Ez.AcceptInProgress&&t!==o.Ez.Refused&&t!==o.Ez.RefusalInProgress));n.length>0&&b(n.map((({id:e})=>e)),o.Ez.Unshared)}}}),[t,e,c,p,_,g,w,b]),{isLoading:h,notifications:t,updateNotificationStatus:b,removeSharingNotifications:w}}},79721:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var a=n(88203),i=n(83155),r=n(36351);const o={manager:{label:"webapp_sharing_center_collection_manager",tooltip:"webapp_sharing_center_item_permission_tooltip_collection_manager"},editor:{label:"webapp_sharing_center_collection_editor",tooltip:"webapp_sharing_center_item_permission_tooltip_collection_editor"}},s=({role:e})=>{const{translate:t}=(0,a.Z)(),{label:n,tooltip:s}=o[e];return(0,r.tZ)(i.y,{label:t(n),tooltip:t(s)})}},83155:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var a=n(63847),i=n(47124),r=n(36351);const o=({label:e,tooltip:t})=>(0,r.BX)(a.k,{gap:1,flexWrap:"nowrap",children:[(0,r.tZ)("span",{children:e}),(0,r.tZ)(i.JO,{color:"ds.border.brand.standard.active",name:"FeedbackInfoOutlined","data-testid":"permission-info-icon",size:"small",tooltip:t})]})},88605:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var a=n(13252),i=n(88203),r=n(83155),o=n(36351);const s={PERMISSION:{full:"webapp_sharing_center_item_permission_full",edit:"webapp_sharing_center_item_permission_edit",view:"webapp_sharing_center_item_permission_view",restricted:"webapp_sharing_center_item_permission_restricted"},TOOLTIP:{[a.y2.Credential]:{full:"webapp_sharing_center_item_permission_tooltip_credential_full",edit:"webapp_sharing_center_item_permission_tooltip_credential_edit",view:"webapp_sharing_center_item_permission_tooltip_credential_view",restricted:"webapp_sharing_center_item_permission_tooltip_credential_restricted"},[a.y2.SecureNote]:{full:"webapp_sharing_center_item_permission_tooltip_secure_note_full",edit:"webapp_sharing_center_item_permission_tooltip_secure_note_edit",view:"webapp_sharing_center_item_permission_tooltip_secure_note_view",restricted:"webapp_sharing_center_item_permission_tooltip_secure_note_view"},[a.y2.Secret]:{full:"webapp_sharing_center_item_permission_tooltip_secret_full",edit:"webapp_sharing_center_item_permission_tooltip_secret_edit",view:"webapp_sharing_center_item_permission_tooltip_secret_view",restricted:"webapp_sharing_center_item_permission_tooltip_secret_view"}}},l=({type:e,permission:t})=>{const{translate:n}=(0,i.Z)(),a=s.PERMISSION[t],l=s.TOOLTIP[e][t];return(0,o.tZ)(r.y,{label:n(a),tooltip:n(l)})}},17276:(e,t,n)=>{"use strict";n.d(t,{C:()=>A});var a=n(96832),i=n(63071),r=n(73704),o=n(81012),s=n(88203),l=n(45272),c=n(67678),d=n(31062),p=n(82429),u=n(27637),_=n(59973),m=n(26642),h=n(67986),g=n(53133),b=n(99822),w=n(55357),y=n(85281),f=n(97227),x=n(68014),S=n(7544),v=n(36351);const C=({disabled:e,setIsDeleteDialogOpen:t})=>{const{translate:n}=(0,s.Z)();return(0,v.tZ)(S.h,{disabled:e,leadingIcon:"ActionDeleteOutlined",label:n("collections_delete_button_text"),onSelect:()=>t(!0)})},Z=({disabled:e,setIsEditDialogOpen:t})=>{const{translate:n}=(0,s.Z)();return(0,v.tZ)(S.h,{disabled:e,leadingIcon:"ActionEditOutlined",label:n("_common_action_edit"),onSelect:()=>t(!0)})},k=({disabled:e,onClick:t,badge:n})=>{const{translate:a}=(0,s.Z)();return(0,v.tZ)(S.h,{disabled:e,leadingIcon:"ActionShareOutlined",label:a("_common_action_share"),onSelect:t,badge:n})},I=({disabled:e,onClick:t})=>{const{translate:n}=(0,s.Z)();return(0,v.tZ)(S.h,{disabled:e,leadingIcon:"SharedOutlined",label:n("webapp_sharing_collection_access_dialog_title"),onSelect:t})},E="webapp_collection_action_disabled_editor_title",D="webapp_collection_action_disabled_editor_description",T=({collection:e,setIsDeleteDialogOpen:t,setIsEditDialogOpen:n})=>{var i,S;const{openDialog:T,closeDialog:A}=(0,c.R)(),{translate:N}=(0,s.Z)(),O=(0,_.k)(),P=(0,y.G)(),[L,R]=(0,g.A)(e.id),{canDelete:M,canEdit:B,canShare:z,role:U,sharingDisabledReason:F}=(0,w.n)(e.id),{canShareCollection:X,hasSharingCollectionPaywall:q,isAdmin:H,isStarterTeam:V}=(0,f.Te)(),W=q&&H&&!X,j=V&&!H&&U===u.Yt.Manager,{id:G,spaceId:K,isShared:Y}=e,$=""===K||null===K,Q=(0,a.useCallback)((()=>{if((0,l.Kz)(new r.UserSharingStartEvent({sharingFlowType:r.SharingFlowType.CollectionSharing,collectionId:G,origin:r.Origin.CollectionListViewQuickActionsDropdown})),O){const e=!P&&R===g.z.Complete&&L?(0,b.wu)(G):(0,b.H4)(G);T((0,v.tZ)(h.Z,{sharing:e,onDismiss:A,origin:r.Origin.CollectionLeftHandSideMenuQuickActionsDropdown}))}else T(i||(i=(0,v.tZ)(m.z,{closeDialog:A})))}),[A,G,O,L,R,P,T]),J=!j&&!z||$||R!==g.z.Complete,ee=U!==u.Yt.Manager,te=(0,x.S)(F)?.title,ne=(0,x.S)(F)?.description;return(0,v.BX)(a.Fragment,{children:[!$&&(0,v.tZ)(d.u,{content:(0,v.tZ)(x.V,{tooltipTitle:te?N(te):"",tooltipDescription:ne?N(ne):""}),passThrough:!J||!te&&!ne,wrapTrigger:!0,children:(0,v.tZ)(k,{onClick:Q,disabled:J,badge:W?(0,v.tZ)(p.C,{mood:"brand",intensity:"catchy",label:N("webapp_sidemenu_sharing_collection_upgrade_badge"),layout:"iconLeading",iconName:"PremiumOutlined"}):void 0},"share")}),Y?(0,v.tZ)(I,{onClick:()=>{T(S||(S=(0,v.tZ)(o.Zy,{id:G,onClose:A})))}},"shared-access"):null,(0,v.tZ)(d.u,{content:(0,v.tZ)(x.V,{tooltipTitle:N(E),tooltipDescription:N(D)}),passThrough:!ee,wrapTrigger:!0,children:(0,v.tZ)(Z,{setIsEditDialogOpen:()=>n(!0),disabled:!B},"edit")}),(0,v.tZ)(d.u,{content:(0,v.tZ)(x.V,{tooltipTitle:N(E),tooltipDescription:N(D)}),passThrough:!ee,wrapTrigger:!0,children:(0,v.tZ)(C,{setIsDeleteDialogOpen:()=>t(!0),disabled:!M},"delete")})]})},A=({collection:e,className:t,triggerButton:n})=>{var d;const{openDialog:p,closeDialog:u,isDialogVisible:_}=(0,c.R)(),[m,h]=(0,a.useState)(!1),{translate:g}=(0,s.Z)(),[b,w]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),{id:x,name:S,spaceId:C,isShared:Z}=e;return(0,a.useEffect)((()=>{b&&(0,l.Nc)(r.PageView.CollectionEdit),y&&(0,l.Nc)(r.PageView.CollectionDelete)}),[b,y]),(0,v.BX)(i.h_,{isOpen:m,onOpenChange:()=>!_&&h(!m),children:[(0,v.tZ)(i.sB,{"aria-label":g("webapp_credentials_grid_item_more_actions"),icon:"ActionMoreOutlined",layout:"iconOnly",intensity:"supershy",mood:"brand",size:"medium",className:t,onClick:e=>{e.stopPropagation(),(0,l.Nc)(r.PageView.CollectionQuickActionsDropdown)},...n}),(0,v.tZ)(i.Nv,{children:(0,v.tZ)(T,{collection:e,setIsEditDialogOpen:w,setIsDeleteDialogOpen:f})}),b&&(0,v.tZ)(o.mu,{id:x,name:S,spaceId:C,onClose:()=>w(!1),isShared:Z}),y&&(0,v.tZ)(o.AN,{isShared:Z,id:x,name:S,onClose:()=>f(!1),setIsSharedAccessDialogOpen:()=>{p(d||(d=(0,v.tZ)(o.Zy,{id:x,onClose:u})))}})]})}},19825:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,f:()=>l});var a=n(96832),i=n(36351);const r=(0,a.createContext)({}),o=e=>e<=1200,s=({children:e})=>{const t=(0,a.useRef)(document.documentElement.clientWidth),[n,s]=(0,a.useState)(o(t.current));(0,a.useEffect)((()=>{const e=()=>{const e=document.documentElement.clientWidth,a=e<t.current;t.current=e,a&&o(e)&&!n&&s(!0)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const l={toggleSideMenu:()=>s((e=>!e)),closeSideMenu:()=>s(!0),openSideMenu:()=>s(!1),isSideMenuCollapsed:n};return(0,i.tZ)(r.Provider,{value:l,children:e})},l=()=>(0,a.useContext)(r)},67406:(e,t,n)=>{"use strict";n.d(t,{M:()=>y,e:()=>g});var a=n(96832),i=n(63847),r=n(59115),o=n(75968),s=n(14900),l=n(48038),c=n(88203),d=n(18108),p=n(27636),u=n(80936),_=n(68037),m=n(36351);const h="webapp_form_field_space",g={width:"173px",textAlign:"right",paddingRight:"24px",justifyContent:"flex-end",lineHeight:"20px",fontWeight:"600"},b=({label:e,show:t,children:n})=>t?(0,m.tZ)(_.u,{title:e,additionalSx:{display:"flex",flexDirection:"column",gap:"8px"},children:n}):(0,m.tZ)(a.Fragment,{children:n}),w=({spaceId:e,onChange:t,hideLabel:n,portalTarget:a,labelSx:_={},wrapperSx:g={},defaultSpaceId:w,disabled:y=!1,isUsingNewDesign:f=!1,wrapInContentCard:x,contentCardLabel:S,...v})=>{var C,Z,k,I,E;const{translate:D}=(0,c.Z)(),T=(0,d.E)(),A=D("webapp_form_field_personal_space"),N=(0,u.I)(),O=T.status===l.rq.Success&&null!=(C=T.data.find((t=>t.teamId===e))?.teamId)?C:"",P=f?(()=>{const e={value:"personal",label:A},t=[];return T.status===l.rq.Success&&T.data.length>0&&t.push({value:T.data[0].teamId,label:T.data[0].teamName}),[e,...t]})():(()=>{const e={id:"",name:A,letter:A[0]},t={value:e.id,label:(0,m.BX)(i.k,{alignItems:"center",children:[(0,m.tZ)(p.R,{space:e}),(0,m.tZ)("span",{sx:{marginLeft:2},children:e.name})]})},n=[];if(T.status===l.rq.Success&&T.data.length>0){const e={...T.data[0],id:T.data[0].teamId,name:T.data[0].teamName};n.push({value:e.teamId,label:(0,m.BX)(i.k,{alignItems:"center",children:[(0,m.tZ)(p.R,{space:e}),(0,m.tZ)("span",{sx:{marginLeft:2},children:e.name})]})})}return[t,...n]})();if(!(P.length>1&&N.status===l.rq.Success)||N.isDisabled)return null;if(f){var L,R,M;let e;const n=P.find((e=>e.value===w))?.value,a=null!=(L=P.find((e=>e.value===O))?.value)?L:P[0].value;return(n||a)&&(e=null!=n?n:a),(0,m.tZ)(b,{label:S,show:x,children:(0,m.tZ)("div",{sx:g,children:(0,m.tZ)(r.m,{"data-name":"spaceSelect",id:null!=(R=v.id)?R:"spaceSelect",label:D(h),disabled:N.isDisabled||y,onChange:e=>{t("personal"===e?"":e)},value:e,className:"editPanelIgnoreClickOutside",children:P.map((e=>(0,m.tZ)(o.$,{value:e.value,children:e.label},e.value)))},null!=(M=v.key)?M:"spaceSelect")})})}return(0,m.BX)(i.k,{alignItems:"center",sx:g,children:[n?null:(0,m.tZ)("label",{sx:_,htmlFor:null!=(Z=v.id)?Z:"spaceSelect",children:D(h)}),(0,m.az)(s.qWE,{...v,name:"spaceSelect",menuPortalTarget:a,isSearchable:!1,id:null!=(k=v.id)?k:"spaceSelect",key:null!=(I=v.key)?I:"spaceSelect",placeholder:D("webapp_form_field_space_placeholder"),options:P,value:w?P.find((e=>e.value===w)):void 0!==e?null!=(E=P.find((e=>e.value===O)))?E:P[0]:void 0,onChange:e=>{t(e.value)},isDisabled:y})]})},y=a.memo(w)},9216:(e,t,n)=>{"use strict";n.d(t,{FI:()=>d,dV:()=>p,in:()=>l,xl:()=>c});var a=n(73704),i=n(45272),r=n(80443),o=n(82607);const s=e=>{switch(e){case o.qw.AUTOFILL_DOESNT_WORK:return a.SurveyAnswer.AutofillDidntWorkAsExpected;case o.qw.TECHNICAL_ISSUES:return a.SurveyAnswer.ThereWereTooManyTechnicalIssues;case o.qw.TOO_EXPENSIVE:return a.SurveyAnswer.DashlaneIsTooExpensive;case o.qw.MISSING_FEATURES:return a.SurveyAnswer.DashlaneDoesntHaveTheFeaturesINeed;default:return}},l=(e,t,n)=>{const o=(0,r.pF)(t),l=new a.UserCancelPlanEvent({cancelPlanStep:e,plan:(0,r.YD)(t),planBillingPeriod:o,surveyAnswer:s(n)});(0,i.Kz)(l)},c=e=>{(0,i.Kz)(new a.UserOpenPricingPageEvent({callToAction:e}))},d=e=>{const t=(0,r.pF)(e),n=new a.UserRestartPlanEvent({plan:(0,r.YD)(e),planBillingPeriod:t});(0,i.Kz)(n)},p=(e,t)=>{const n=(0,r.pF)(e);(0,i.Kz)(new a.UserUpdatePaymentMethodEvent({flowStep:t,plan:(0,r.YD)(e),planBillingPeriod:n}))}},65454:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var a=n(51615),i=n.n(a),r=n(52615),o=n.n(r),s=n(2001),l=n.n(s),c=n(56078),d=n.n(c),p=n(36351);const u=e=>{switch(e){case"visa":return(0,p.tZ)(i(),{style:{borderRadius:"3px"}});case"mastercard":return(0,p.tZ)(o(),{style:{borderRadius:"3px"}});case"american express":case"amex":return(0,p.tZ)(l(),{style:{borderRadius:"3px"}});case"discover":return(0,p.tZ)(d(),{style:{borderRadius:"3px"}});default:return null}}},67668:(e,t,n)=>{"use strict";n.d(t,{I:()=>y});var a,i=n(96832),r=n(22522),o=n(20565),s=n(22903),l=n(75017),c=n(29020),d=n(48038),p=n(73704),u=n(83175),_=n(14943),m=n(88203),h=n(75239),g=n(86834),b=n(9216),w=n(36351);const y=({b2b:e,hideTitle:t,hideUpdateButton:n,styles:y})=>{var f,x;const{translate:S}=(0,m.Z)(),v=(0,_.Y)(),[C,Z]=(0,i.useState)(!1),{pollUntilCardUpdate:k}=(0,h.C)({b2c:!e,handleCardUpdate:e=>{e&&v.status===d.rq.Success&&(0,b.dV)(v.data,p.FlowStep.Complete)}}),{loading:I,billingInformation:E}=(0,h.C)({b2c:!e});if(v.status!==d.rq.Success||!v.data||I)return a||(a=(0,w.tZ)(r.Z,{}));const D=null!=(f=v.data?.planType?.includes("ios"))&&f,T=null!=(x=v.data?.planType?.includes("playstore"))&&x,A=E?.last4||D||T;return(0,w.BX)(o.Z,{sx:y,children:[(0,w.BX)("div",{sx:{display:"flex",justifyContent:"space-between"},children:[t?null:(0,w.tZ)(s.X,{as:"h2",children:S("manage_subscription_payment_section_title")}),n||D||T?null:C?(0,w.tZ)(u.J,{b2c:!0,setPaymentLoading:Z}):(0,w.tZ)(l.Q,{onClick:()=>{k(),Z(!0),(0,b.dV)(v.data,p.FlowStep.Start)},isExternal:!0,as:"button",children:S("manage_subscription_payment_section_update_details")})]}),A?(0,w.tZ)(g.I,{b2c:!e,isAppStoreUser:D,isGooglePlayUser:T}):(0,w.tZ)("div",{sx:{marginTop:"8px"},children:(0,w.tZ)(c.n,{color:"ds.text.neutral.quiet",children:S("manage_subscription_payment_section_no_payment")})})]})}},86834:(e,t,n)=>{"use strict";n.d(t,{I:()=>u});var a,i=n(29020),r=n(75017),o=n(59522),s=n(88203),l=n(61605),c=n(75239),d=n(36351),p=n(96832);const u=({b2c:e,isAppStoreUser:t,isGooglePlayUser:n})=>{const{translate:u}=(0,s.Z)(),{last4DigitsFormatted:_,cardSvg:m,isExpired:h,expFormatted:g}=(0,c.C)({b2c:e}),b=t?"manage_subscription_payment_section_desc_apple":"manage_subscription_payment_section_desc_google",w=g?u("manage_subscription_payment_section_expiration_date",{date:g}):null;return(0,d.tZ)("div",{sx:{gap:"8px",display:"flex",flexDirection:"column"},children:t||n?(0,d.BX)(p.Fragment,{children:[(0,d.tZ)(i.n,{color:"ds.text.neutral.quiet",children:u(b)}),(0,d.tZ)(r.Q,{onClick:()=>{(0,l.Yk)(t?o.XP:o.zF,{type:"checkout",action:"goToPayment"})},isExternal:!0,children:u("manage_subscription_learn_more_button")})]}):(0,d.BX)("div",{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[m,(0,d.BX)("div",{children:[(0,d.BX)(i.n,{color:"ds.text.neutral.standard",textStyle:"ds.body.reduced.strong",sx:{display:"flex",gap:"4px"},children:[a||(a=(0,d.tZ)("span",{children:"â¢â¢â¢â¢"})),(0,d.tZ)("span",{"data-testid":"card-last-four",children:_})]}),h?(0,d.tZ)(i.n,{color:"ds.text.danger.standard",textStyle:"ds.body.reduced.strong",children:u("manage_subscription_payment_section_expired_stripe")}):(0,d.tZ)(i.n,{color:"ds.text.neutral.quiet",children:w})]})]})})}},82607:(e,t,n)=>{"use strict";n.d(t,{Dx:()=>r,qw:()=>i,r9:()=>a});let a=function(e){return e.SUBSCRIPTION="subscription",e.CANCEL_CONFIRM="cancelConfirm",e.CANCEL_COMPLETE="cancelComplete",e.CANCEL_FAILURE="cancelFailure",e.CANCEL_PENDING="cancelPending",e.REFUND_COMPLETE="refundComplete",e.REFUND_FAILURE="refundFailure",e.REFUND_PENDING="refundPending",e.INVOICE_LIST="invoiceList",e.LOSS_AVERSION="lossAversion",e}({}),i=function(e){return e.AUTOFILL_DOESNT_WORK="autofillDoesntWork",e.TECHNICAL_ISSUES="technicalIssues",e.TOO_EXPENSIVE="tooExpensive",e.MISSING_FEATURES="missingFeatures",e.OTHER="other",e}({});const r=e=>"string"==typeof e&&Object.values(i).includes(e)},67323:(e,t,n)=>{"use strict";n.d(t,{xd:()=>H,li:()=>A,ah:()=>x,mr:()=>U,fS:()=>O,b8:()=>V,nr:()=>N,v$:()=>j,Uj:()=>u,R:()=>k});var a=n(96832),i=n(14900),r=n(34445),o=n(59522),s=n(88203),l=n(59346),c=n(36351);const d={marginTop:"16px",marginBottom:"18px"},p={marginTop:"24px"},u=({handleClickOnSubmit:e,handleClickOnClose:t,savedValues:n})=>{const[u,_]=(0,a.useState)(n&&n?.savedAuthenticationType?n.savedAuthenticationType:r.fr.DEVICE_REGISTRATION),{translate:m}=(0,s.Z)();return(0,a.useEffect)((()=>{(0,l.bY)()}),[]),(0,c.BX)("div",{sx:{maxWidth:"480px"},children:[(0,c.BX)(i.a7O,{children:[(0,c.tZ)(i.X6q,{size:"small",sx:d,children:m("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_title")}),(0,c.BX)(i.Eep,{onChange:e=>{_(e.target.value)},sx:{display:"flex",flexDirection:"column"},children:[(0,c.tZ)(i.Y8K,{label:m("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_registration_option"),value:r.fr.DEVICE_REGISTRATION,defaultChecked:u===r.fr.DEVICE_REGISTRATION,"data-testid":"two-factor-authentication-mode-dialog-device-registration-option"}),(0,c.tZ)(i.Y8K,{label:m("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_login_option"),value:r.fr.LOGIN,sx:{marginBottom:"20px"},"data-testid":"two-factor-authentication-mode-dialog-login-option",defaultChecked:u===r.fr.LOGIN})]}),(0,c.tZ)(i.rUS,{target:"_blank",rel:"noopener noreferrer",href:o._x,color:i.colors.midGreen00,children:m("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_hc_link")}),u===r.fr.LOGIN?(0,c.tZ)(i.vDh,{severity:"subtle",size:"small",title:m("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_login_info"),sx:p}):null]}),(0,c.tZ)(i.cNS,{primaryButtonTitle:m("_common_action_continue"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>{e({authenticationType:u})},secondaryButtonTitle:m("_common_action_cancel"),secondaryButtonOnClick:t})]})};var _=n(88355),m=n(73704),h=n(57395),g=n(15846),b=n(63847),w=n(94431);const y=({setFieldValue:e,countryCode:t,phoneNumber:n,errorMessage:a,setErrorMessage:r})=>{const{translate:o}=(0,s.Z)();return(0,c.BX)("div",{sx:{maxWidth:"480px"},children:[(0,c.tZ)(i.$N8,{title:(0,c.tZ)("span",{sx:{display:"inline-block",marginBottom:"16px",fontWeight:"500",fontSize:"25px"},children:o("webapp_account_security_settings_two_factor_authentication_turn_on_backup_phone_title")})}),(0,c.tZ)(i.nvN,{color:i.colors.grey00,sx:{marginBottom:"26px"},children:o("webapp_account_security_settings_two_factor_authentication_turn_on_backup_phone_content")}),(0,c.BX)(b.k,{gap:4,flexWrap:"nowrap",children:[(0,c.tZ)(i.PhF,{feedbackId:"select2faBackupPhoneCountryCode","data-testid":"two-factor-authentication-backup-phone-country-code",value:t,label:o("_common_input_label_country_code"),options:w.J,onChange:t=>{const{target:{value:n}}=t;e("countryCode",n)},sx:{width:"auto"}}),(0,c.tZ)("div",{sx:{flex:"1 1 auto"},children:(0,c.tZ)(i.oil,{autoFocus:!0,type:"text","data-testid":"two-factor-authentication-backup-phone-number",fullWidth:!0,label:o("_common_input_label_backup_phone_number"),value:n,onChange:t=>{const{target:{value:n}}=t,a=n.replace(/\D/g,"");e("phoneNumber",a),r?.(void 0)},feedbackType:a?"error":void 0,feedbackText:a})})]})]})},f={GENERIC_ERROR:{message:"webapp_account_security_settings_two_factor_authentication_turn_on_generic_error",log:m.TwoFactorAuthenticationError.UnknownError},[h.KB.PHONE_VALIDATION_FAILED]:{message:"webapp_account_security_settings_two_factor_authentication_turn_on_backup_phone_invalid_format",log:m.TwoFactorAuthenticationError.WrongPhoneFormatError},[g._V.NETWORK_ERROR]:{message:"_common_alert_network_error_message",log:m.TwoFactorAuthenticationError.UnknownError}},x=({handleClickOnSubmit:e,handleClickOnBack:t,error:n,countryCode:r,savedValues:o})=>{const{translate:d}=(0,s.Z)(),[p,u]=(0,a.useState)();(0,a.useEffect)((()=>{(0,l.S9)()}),[]);const m=(0,_.TA)({initialValues:{countryCode:o?.savedCountryCode?o.savedCountryCode:r,phoneNumber:o?.savedPhoneNumber?o.savedPhoneNumber:""},onSubmit:async(t,{setSubmitting:n})=>{n(!0);const{countryCode:a,phoneNumber:i}=t;await e({countryCode:a,phoneNumber:i}),n(!1)}}),{values:{countryCode:h,phoneNumber:g},setFieldValue:b,isSubmitting:w}=m,x=n?.code;(0,a.useEffect)((()=>{if(x&&!w){var e;const t=null!=(e=f[x])?e:f.GENERIC_ERROR;u(t.message),(0,l.BV)(t.log)}}),[x,w]);const S=0===g.length;return(0,c.BX)("form",{onSubmit:m.handleSubmit,children:[(0,c.tZ)(i.a7O,{children:(0,c.tZ)(y,{countryCode:h,phoneNumber:g,errorMessage:p?d(p):void 0,setFieldValue:b,setErrorMessage:u})}),(0,c.tZ)(i.cNS,{primaryButtonTitle:d("_common_action_continue"),primaryButtonProps:{disabled:S,type:"button"},primaryButtonOnClick:()=>m.handleSubmit(),secondaryButtonTitle:d("_common_action_back"),secondaryButtonOnClick:t,secondaryButtonProps:{id:"two-factor-authentication-backup-phone-dialog-back-button"}})]})};var S=n(1056),v=n.n(S),C=n(37332);const Z=({uri:e,seed:t})=>{const{translate:n}=(0,s.Z)();return(0,c.BX)(b.k,{flexDirection:"column",children:[(0,c.tZ)(i.X6q,{sx:{mt:"8px",mb:"8px",fontSize:"25px"},as:"span",children:n("webapp_account_security_settings_two_factor_authentication_qr_code_title")}),(0,c.tZ)(i.nvN,{sx:{mb:"8px"},color:i.colors.grey00,children:n("webapp_account_security_settings_two_factor_authentication_qr_code_description")}),(0,c.tZ)("div",{sx:{alignSelf:"center"},children:(0,c.tZ)(v(),{sx:{mt:"24px",mb:"24px"},renderAs:"svg",size:176,value:e})}),(0,c.tZ)(C.i,{sx:{margin:"8px 0"}}),(0,c.tZ)(i.nvN,{color:i.colors.grey00,bold:!0,children:n("webapp_account_security_settings_two_factor_authentication_qr_code_cant_scan")}),(0,c.tZ)(i.nvN,{sx:{mb:"16px"},color:i.colors.grey00,children:n("webapp_account_security_settings_two_factor_authentication_qr_code_label")}),(0,c.tZ)(i.oil,{fullWidth:!0,defaultValue:t,disabled:!0,sx:{":disabled":{color:i.colors.black}},"data-testid":"two-factor-authentication-qr-code-alternative"})]})},k=({handleClickOnSubmit:e,handleClickOnBack:t,uri:n,seed:r})=>{const{translate:o}=(0,s.Z)();return(0,a.useEffect)((()=>{(0,l.Rf)()}),[]),(0,c.BX)("div",{sx:{maxWidth:"480px"},children:[(0,c.tZ)(i.a7O,{children:(0,c.tZ)(Z,{uri:n,seed:r})}),(0,c.tZ)(i.cNS,{primaryButtonTitle:o("webapp_account_security_settings_two_factor_authentication_qr_code_continue_button"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>e(),secondaryButtonTitle:o("webapp_account_security_settings_two_factor_authentication_qr_code_back_button"),secondaryButtonOnClick:()=>t(),secondaryButtonProps:{id:"two-factor-authentication-qr-code-dialog-back-button"}})]})};var I,E=n(96289),D=n(22958);const T=({backupCodes:e})=>{const{translate:t}=(0,s.Z)();return(0,c.BX)(b.k,{flexDirection:"column",justifyContent:"flex-start",children:[(0,c.tZ)(i.X6q,{sx:{mt:"8px",fontSize:"25px"},as:"span",children:t("webapp_account_security_settings_two_factor_authentication_backup_codes_title1")}),(0,c.tZ)(i.X6q,{sx:{mb:"16px",fontSize:"25px"},as:"span",children:t("webapp_account_security_settings_two_factor_authentication_backup_codes_title2")}),(0,c.tZ)(i.nvN,{sx:{mb:"26px"},color:i.colors.grey00,children:t("webapp_account_security_settings_two_factor_authentication_backup_codes_description")}),(0,c.tZ)(i.j49,{sx:{mb:"6px"},color:i.colors.dashGreen01,children:t("webapp_account_security_settings_two_factor_authentication_backup_codes_list_label")}),(0,c.tZ)(i.Zbd,{sx:{padding:"8px 12px",width:"100%"},children:e?.map(((e,t)=>(0,c.tZ)(i.nvN,{"data-testid":`two-factor-authentication-backup-code-${t}`,children:e},e)))}),(0,c.tZ)(i.zxk,{sx:{margin:"26px 0px"},type:"button",nature:"secondary",onClick:()=>{const t=e?.join("\n");(0,E.W)(t,D.B)},children:(0,c.BX)(b.k,{children:[(0,c.tZ)("div",{sx:{mr:"10px"},children:I||(I=(0,c.tZ)(i._8t,{size:16}))}),t("webapp_account_security_settings_two_factor_authentication_backup_codes_download_button")]})}),(0,c.tZ)(i.bZj,{severity:i.BLW.SUBTLE,size:i.k3y.SMALL,showIcon:!0,children:t("webapp_account_security_settings_two_factor_authentication_backup_codes_info")})]})},A=({handleClickOnSubmit:e,recoveryKeys:t})=>{const{translate:n}=(0,s.Z)();return(0,a.useEffect)((()=>{(0,l.$M)()}),[]),(0,c.BX)("div",{sx:{maxWidth:"480px"},children:[(0,c.tZ)(i.a7O,{children:(0,c.tZ)(T,{backupCodes:t})}),(0,c.tZ)(i.cNS,{primaryButtonTitle:n("webapp_account_security_settings_two_factor_authentication_backup_codes_done_button"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>e()})]})},N=()=>{const{translate:e}=(0,s.Z)();return(0,c.BX)("div",{sx:{maxWidth:"480px"},children:[(0,c.tZ)(i.HoD,{color:i.colors.midGreen00,size:"60px"}),(0,c.tZ)(i.X6q,{size:"small",sx:{marginTop:"24px",color:i.colors.black},children:e("webapp_account_security_settings_two_factor_authentication_disable_preparing_title")}),(0,c.tZ)(i.nvN,{sx:{marginTop:"16px",color:i.colors.grey00},children:e("webapp_account_security_settings_two_factor_authentication_disable_loading_description")}),(0,c.tZ)(i.nvN,{sx:{marginTop:"16px",color:i.colors.grey00},children:e("webapp_account_security_settings_two_factor_authentication_disable_loading_browser_description")})]})},O=()=>{const{translate:e}=(0,s.Z)();return(0,c.BX)("div",{sx:{maxWidth:"480px"},children:[(0,c.tZ)(i.HoD,{color:i.colors.midGreen00,size:"60px"}),(0,c.tZ)(i.X6q,{size:"small",sx:{marginTop:"24px",color:i.colors.black},children:e("webapp_account_security_settings_two_factor_authentication_disable_loading_title")}),(0,c.tZ)(i.nvN,{sx:{marginTop:"16px",color:i.colors.grey00},children:e("webapp_account_security_settings_two_factor_authentication_disable_loading_description")}),(0,c.tZ)(i.nvN,{sx:{marginTop:"16px",color:i.colors.grey00},children:e("webapp_account_security_settings_two_factor_authentication_disable_loading_browser_description")})]})};var P=n(56341);const L=()=>{const{translate:e}=(0,s.Z)(),t=e.markup("webapp_two_factor_authentication_sync_devices_time_infobox_markup",{supportArticleLink:o.fL},{linkTarget:"_blank"});return(0,c.tZ)(i.vDh,{sx:{marginTop:"16px"},severity:"subtle",size:"small",title:t})};var R,M=n(92077);const B=({handleAuthenticatorModeClick:e,code:t,updateAuthenticatorCode:n,errorMessage:r,login:o,showSyncDevicesHelp:l=!1,hideAdditionalActions:d=!1})=>{const{translate:p}=(0,s.Z)(),{routes:u}=(0,M.Xo)();return(0,c.BX)("div",{sx:{maxWidth:"480px",paddingBottom:"1px"},children:[(0,c.tZ)(i.$N8,{title:(0,c.tZ)("span",{sx:{display:"inline-block",marginBottom:"12px",fontWeight:"500"},children:p("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_title")})}),(0,c.tZ)(i.rRH,{autoFocus:!0,maxLength:6,value:t,onChange:n,feedbackType:r?"error":void 0,feedbackText:r?p(r):void 0,"data-testid":"two-factor-authentication-code"}),l?R||(R=(0,c.tZ)(L,{})):null,d?null:(0,c.BX)(a.Fragment,{children:[(0,c.BX)(i.nvN,{sx:{marginTop:"16px",lineHeight:"initial",padding:"4px 0px"},color:P.O.lightTheme.ds.text.inverse.quiet,children:[p("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_content")," ",(0,c.tZ)("button",{type:"button",onClick:e,sx:{fontSize:"15px",fontWeight:500,color:P.O.lightTheme.ds.text.brand.standard,textDecoration:"underline",padding:"0px",background:"none",borderRadius:"4px",border:0,outlineOffset:"3px",outlineColor:P.O.lightTheme.ds.oddity.focus,"&:hover":{textDecoration:"none"},"&:focus":{border:1}},children:p("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_link")})]}),(0,c.BX)(i.nvN,{sx:{lineHeight:"initial",padding:"4px 0px"},color:P.O.lightTheme.ds.text.inverse.quiet,children:[p("webapp_two_factor_authentication_lost_your_phone")," ",(0,c.tZ)(M.OL,{color:"ds.text.brand.standard",to:u.recover2faCodes(o),target:"_blank",rel:"noopener noreferrer",children:p("webapp_two_factor_authentication_reset_2fa")})]})]})]})},z={code:""},U=({handleClickOnSubmit:e,toggleAuthenticationCodeMode:t,handleClickOnBack:n,error:r,hideAdditionalActions:o=!1,secondaryButtonTitle:l,logEvent:d,login:p})=>{const{translate:u}=(0,s.Z)(),[m,h]=(0,a.useState)();(0,a.useEffect)((()=>{d?.()}),[]);const b=(0,_.TA)({initialValues:z,onSubmit:async(t,{setSubmitting:n})=>{n(!0);const{code:a}=t;await e({authenticationCode:a}),n(!1)}}),{values:{code:w},setFieldValue:y,isSubmitting:f}=b,[x,S]=(0,a.useState)(!1),v=(0,a.useRef)();(0,a.useEffect)((()=>{r&&!f?(h(r.message),S(v.current===r.code&&r.code===g._V.OTP_NOT_VALID),v.current=r.code):r||h(void 0)}),[r,f]);const C=6!==w.length;return(0,c.BX)("form",{onSubmit:e=>{e.preventDefault(),b.isSubmitting||b.submitForm()},children:[(0,c.tZ)(i.a7O,{children:(0,c.tZ)(B,{code:w,errorMessage:m,showSyncDevicesHelp:x,handleAuthenticatorModeClick:o?void 0:t,updateAuthenticatorCode:e=>{const{target:{value:t}}=e;y("code",(e=>e.replace(/\D/g,""))(t)),h(void 0),(e=>{6===e.length&&b.submitForm()})(t)},hideAdditionalActions:o,login:p})}),(0,c.tZ)(i.cNS,{primaryButtonTitle:u("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_button"),primaryButtonProps:{disabled:C,type:"button"},primaryButtonOnClick:()=>b.handleSubmit(),secondaryButtonTitle:u(l||"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_cancel"),secondaryButtonOnClick:n})]})};var F=n(31187);const X=({handleAuthenticatorModeClick:e,code:t,updateAuthenticatorCode:n,errorMessage:a,login:r})=>{const{translate:o}=(0,s.Z)(),{routes:l}=(0,M.Xo)();return(0,c.BX)("div",{sx:{maxWidth:"480px"},children:[(0,c.tZ)(i.$N8,{title:(0,c.tZ)("span",{sx:{display:"inline-block",marginBottom:"16px",fontWeight:"500",fontSize:"25px"},children:o("webapp_account_security_settings_two_factor_authentication_backup_code_title")})}),(0,c.BX)(i.nvN,{color:P.O.lightTheme.ds.text.inverse.quiet,sx:{marginBottom:"26px"},children:[o("webapp_two_factor_authentication_use_backup_codes")," "]}),(0,c.tZ)(i.oil,{autoFocus:!0,type:"text","data-testid":"two-factor-authentication-backup-code",fullWidth:!0,label:o("webapp_two_factor_authentication_backup_code_label"),value:t,onChange:n,feedbackType:a?"error":void 0,feedbackText:a?o(a):void 0}),(0,c.BX)(i.nvN,{sx:{marginTop:"16px",lineHeight:"initial",padding:"4px 0px"},color:P.O.lightTheme.ds.text.inverse.quiet,children:[o("webapp_two_factor_authentication_cant_access_your_backup_codes")," ",(0,c.tZ)("button",{type:"button",onClick:e,sx:{fontSize:"15px",fontWeight:500,color:P.O.lightTheme.ds.text.brand.standard,textDecoration:"underline",padding:"0px",background:"none",borderRadius:"4px",border:0,outlineOffset:"3px",outlineColor:P.O.lightTheme.ds.oddity.focus,"&:hover":{textDecoration:"none"},"&:focus":{border:1}},children:o("webapp_two_factor_authentication_use_6_digits_code")})]}),(0,c.BX)(i.nvN,{sx:{lineHeight:"initial",padding:"4px 0px"},color:P.O.lightTheme.ds.text.inverse.quiet,children:[o("webapp_two_factor_authentication_lost_your_backup_codes")," ",(0,c.tZ)(M.OL,{color:"ds.text.brand.standard",to:l.recover2faCodes(r),target:"_blank",rel:"noopener noreferrer",children:o("webapp_two_factor_authentication_reset_2fa")})]})]})},q={code:""},H=({handleClickOnSubmit:e,toggleAuthenticationCodeMode:t,handleClickOnBack:n,error:r,login:o})=>{const{translate:l}=(0,s.Z)(),[d,p]=(0,a.useState)();(0,a.useEffect)((()=>{(0,F.SC)()}),[]);const u=(0,_.TA)({initialValues:q,onSubmit:async(t,{setSubmitting:n})=>{n(!0);const{code:a}=t;await e({authenticationCode:a}),n(!1)}}),{values:{code:m},setFieldValue:h,isSubmitting:g}=u;(0,a.useEffect)((()=>{r&&!g&&p(r.message)}),[r,g]);const b=0===m.length;return(0,c.BX)("form",{onSubmit:u.handleSubmit,children:[(0,c.tZ)(i.a7O,{children:(0,c.tZ)(X,{code:m,errorMessage:d,updateAuthenticatorCode:e=>{const{target:{value:t}}=e;h("code",t),p(void 0)},handleAuthenticatorModeClick:t,login:o})}),(0,c.tZ)(i.cNS,{primaryButtonTitle:l("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_button"),primaryButtonProps:{disabled:b,type:"button"},primaryButtonOnClick:()=>u.handleSubmit(),secondaryButtonTitle:l("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_cancel"),secondaryButtonOnClick:n})]})},V=({handleClickOnClose:e,logEvent:t})=>{const{translate:n}=(0,s.Z)();return(0,a.useEffect)((()=>{t?.(self?.navigator?.onLine?m.TwoFactorAuthenticationError.UnknownError:m.TwoFactorAuthenticationError.UserOfflineError)}),[]),(0,c.BX)("div",{sx:{maxWidth:"480px"},children:[(0,c.tZ)("div",{sx:{transform:"translate(-5px, -5px)"},children:(0,c.tZ)(i.enX,{color:i.colors.midGreen00,size:75})}),(0,c.tZ)(i.X6q,{size:"small",sx:{marginTop:"20px",color:i.colors.black},children:n("webapp_account_security_settings_two_factor_authentication_disable_generic_error_title")}),(0,c.tZ)(i.nvN,{sx:{marginTop:"16px",marginBottom:"24px",color:i.colors.grey00},children:n("webapp_account_security_settings_two_factor_authentication_disable_generic_error_description")}),(0,c.tZ)(i.cNS,{primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonTitle:n("webapp_account_security_settings_two_factor_authentication_disable_generic_error_close"),primaryButtonOnClick:e})]})};var W;const j=({handleClickOnSubmit:e})=>{const{translate:t}=(0,s.Z)();return(0,c.BX)("div",{sx:{maxWidth:"480px"},children:[W||(W=(0,c.tZ)(i.enX,{size:96})),(0,c.tZ)(i.$N8,{title:t("webapp_two_factor_authentication_logout_dialog_title")}),(0,c.tZ)(i.a7O,{children:(0,c.tZ)(i.nvN,{color:i.colors.grey00,children:t("webapp_two_factor_authentication_logout_dialog_description")})}),(0,c.tZ)(i.cNS,{primaryButtonTitle:t("webapp_two_factor_authentication_logout_dialog_action"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>e()})]})}},22958:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});const a="Dashlane - 2FA backup codes.txt"},44754:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var a=n(73704),i=n(15846),r=n(25670);const o="_common_alert_network_error_message",s=e=>(0,r.E)(e)||(e===i._V.BACKUP_CODE_NOT_VALID?{logErrorName:a.TwoFactorAuthenticationError.WrongBackupCodeError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_invalid_security_code"}:e===i._V.NETWORK_ERROR?{logErrorName:a.TwoFactorAuthenticationError.UnknownError,errorMessage:o}:self.navigator?.onLine?{logErrorName:a.TwoFactorAuthenticationError.UnknownError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_generic_error"}:{logErrorName:a.TwoFactorAuthenticationError.UserOfflineError,errorMessage:o})},25670:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var a=n(73704),i=n(15846);const r=e=>{switch(e){case i._V.OTP_NOT_VALID:return{logErrorName:a.TwoFactorAuthenticationError.WrongCodeError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_invalid_security_code"};case i._V.OTP_ALREADY_USED:return{logErrorName:a.TwoFactorAuthenticationError.WrongCodeError,errorMessage:"webapp_login_form_password_fieldset_security_code_error_otp_already_used"};case i._V.OTP_TOO_MANY_ATTEMPTS:return{logErrorName:a.TwoFactorAuthenticationError.UnknownError,errorMessage:"webapp_login_form_password_fieldset_security_code_error_token_too_many_attempts"};default:return}}},78611:(e,t,n)=>{"use strict";n.d(t,{Cw:()=>z,LU:()=>r,Ah:()=>o,BM:()=>U,Tg:()=>F.Tg});var a=n(48038),i=n(5465);function r(){const e=(0,a.qr)({queryConfig:{query:i.C.getTwoFactorAuthenticationDisableStage},liveConfig:{live:i.C.liveTwoFactorAuthenticationDisableStage}},[]);return e.status===a.rq.Success?e.data:null}function o(){const e=(0,a.qr)({queryConfig:{query:i.C.getTwoFactorAuthenticationEnableStage},liveConfig:{live:i.C.liveTwoFactorAuthenticationEnableStage}},[]);return e.status===a.rq.Success?e.data:null}var s=n(96832),l=n(83849),c=n.n(l),d=n(14900),p=n(57395),u=n(86498),_=n(88203),m=n(88093),h=n(37527),g=n(67323),b=n(59346),w=n(73704),y=n(15846),f=n(25670);const x="_common_alert_network_error_message";var S=n(36351);const v={[p.Sc.AUTHENTICATION_TYPE]:{component:g.Uj,showCloseIcon:!0},[p.Sc.BACKUP_PHONE]:{component:g.ah,showCloseIcon:!0},[p.Sc.QR_CODE]:{component:g.R,showCloseIcon:!0},[p.Sc.LOADING]:{component:g.nr,showCloseIcon:!1},[p.Sc.AUTHENTICATION_CODE]:{component:g.mr,showCloseIcon:!0},[p.Sc.FINALIZING_CHANGES]:{component:g.fS,showCloseIcon:!1},[p.Sc.BACKUP_CODES]:{component:g.li,showCloseIcon:!1},[p.Sc.GENERIC_ERROR]:{component:g.b8,showCloseIcon:!0},[p.Sc.LOGOUT_REQUIRED]:{component:g.v$,showCloseIcon:!1}},C=({onDialogClose:e})=>{const{translate:t}=(0,_.Z)(),n=(0,u.V)(),a=o(),i=(0,s.useCallback)(((t=!0)=>{t&&(0,b.l6)(),"function"==typeof e&&e(t)}),[e]),r=a?.stage,l=a?.viewData,g=a?.savedValues;(0,s.useEffect)((()=>(r||(0,m.$x)(),()=>{(0,m.wn)()})),[]),(0,s.useEffect)((()=>{r===p.Sc.SUCCESS&&((0,b.iX)(),n.showAlert(t("webapp_account_security_settings_two_factor_authentication_enable_success"),d.BLW.SUCCESS),i(!1))}),[r]);const C={handleClickOnBack:m.Bb,handleClickOnClose:i,handleClickOnSubmit:m.Rp,savedValues:g,...l};switch(r){case p.Sc.AUTHENTICATION_CODE:if(C.hideAdditionalActions=!0,C.logEvent=b.AQ,C.secondaryButtonTitle="_common_action_back",l?.error){const{errorMessage:e}=(Z=l.error.code,(0,f.E)(Z)||(Z===y._V.NETWORK_ERROR?{logErrorName:w.TwoFactorAuthenticationError.UnknownError,errorMessage:x}:self.navigator?.onLine?{logErrorName:w.TwoFactorAuthenticationError.UnknownError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_on_generic_error"}:{logErrorName:w.TwoFactorAuthenticationError.UserOfflineError,errorMessage:x}));C.error={message:e,code:l.error.code}}break;case p.Sc.GENERIC_ERROR:C.logEvent=b.BV}var Z;return r&&v[r]?(0,S.BX)(d.VqE,{isOpen:!0,modalContentClassName:c()(h.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:v[r].showCloseIcon?t("_common_dialog_dismiss_button"):void 0,onClose:i,children:[l?.currentStep?(0,S.tZ)(d.nvN,{size:"medium",color:d.colors.grey00,children:t("webapp_account_security_settings_two_factor_authentication_stage_header",{stageIndex:l?.currentStep,totalStages:l?.totalSteps})}):null,s.createElement(v[r].component,C)]}):null};var Z=n(34445),k=n(31187),I=n(44754);const E="webapp_account_security_settings_2fa_disable_enforced_by_admin_confirm_dialog_title",D="webapp_account_security_settings_2fa_disable_enforced_by_admin_confirm_dialog_description_markup",T="_common_action_continue",A={marginTop:"16px",color:d.colors.grey00,"p:first-child":{marginBottom:"16px"}};var N=n(44);const O={[p.Qw.CONFIRMATION]:{component:({handleClickOnClose:e,handleClickOnSubmit:t,logEvent:n,isTwoFactorAuthenticationEnforced:a})=>{const{translate:i}=(0,_.Z)();return(0,s.useEffect)((()=>{n?.()}),[]),(0,S.BX)("div",{sx:{maxWidth:"480px"},children:[(0,S.BX)(d.a7O,{children:[(0,S.tZ)(d.X6q,{size:"small",sx:{marginTop:"20px",color:d.colors.black},"data-testid":"two-factor-authentication-disable-confirmation-dialog-title",children:i(a?E:"webapp_account_security_settings_2fa_disable_confirm_dialog_title")}),(0,S.tZ)(d.nvN,{size:"small",as:"div",sx:A,children:a?i.markup(D):i("webapp_account_security_settings_2fa_disable_confirm_dialog_description")})]}),(0,S.tZ)(d.cNS,{primaryButtonTitle:i(a?T:"webapp_account_security_settings_2fa_disable_confirm_dialog_confirm"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>t(),secondaryButtonTitle:i("_common_action_cancel"),secondaryButtonOnClick:()=>e()})]})},componentProps:{logEvent:k.jY},showCloseIcon:!0},[p.Qw.AUTHENTICATION_CODE]:{component:g.mr,componentProps:{logEvent:k.sn},target:p.Qw.BACKUP_CODE,showCloseIcon:!0},[p.Qw.BACKUP_CODE]:{component:g.xd,componentProps:{logEvent:k.SC},target:p.Qw.AUTHENTICATION_CODE,showCloseIcon:!0},[p.Qw.FINALIZING_CHANGES]:{component:g.fS,showCloseIcon:!1},[p.Qw.GENERIC_ERROR]:{component:g.b8,componentProps:{logEvent:k.M6},showCloseIcon:!0},[p.Qw.LOGOUT_REQUIRED]:{component:g.v$,showCloseIcon:!1}},P=({onDialogClose:e})=>{const{translate:t}=(0,_.Z)(),n=r(),a=U(),i=a?.status===Z.dN.READY&&a.isTwoFactorAuthenticationEnforced,o=(0,u.V)(),l=(0,s.useCallback)(((t=!0)=>{t&&(0,k.sK)(),"function"==typeof e&&e()}),[e]),g=n?.stage;(0,s.useEffect)((()=>{g===p.Qw.SUCCESS&&((0,k.N5)(),o.showAlert(t("webapp_account_security_settings_two_factor_authentication_disable_success"),d.BLW.SUCCESS),l(!1))}),[g]),(0,s.useEffect)((()=>(g||(0,m.Ax)(),()=>{(0,m.X7)()})),[]);const b=(0,N.f)();if(g&&O[g]){const e={handleClickOnBack:l,handleClickOnSubmit:m.xi,handleClickOnClose:l,...O[g]?.componentProps};e.login=b;const a=n?.viewData?.error;switch(g){case p.Qw.BACKUP_CODE:case p.Qw.AUTHENTICATION_CODE:if(a){const{logErrorName:t,errorMessage:n}=(0,I.J)(a.code);(0,k.M6)(t),e.error={message:n,code:a.code}}O[g]?.target&&(e.toggleAuthenticationCodeMode=()=>{(0,m.xi)({target:O[g].target})});break;case p.Qw.CONFIRMATION:e.isTwoFactorAuthenticationEnforced=i}return(0,S.tZ)(d.VqE,{isOpen:!0,modalContentClassName:c()(h.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:O[g].showCloseIcon?t("_common_dialog_dismiss_button"):void 0,onClose:l,children:s.createElement(O[g].component,e)})}return null};var L=n(68819),R=n(30894),M=n(67678),B=n(77381);function z(e={}){const{onDialogStateChanged:t,onSuccess:n}=e,{openDialog:a,closeDialog:i}=(0,M.R)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:o}=(0,R.tY)();return{openTwoFactorAuthenticationDisablerDialog:(0,s.useCallback)((()=>{t?.(!0),a(s.createElement(P,{onDialogClose:()=>{i(),t?.(!1)}}))}),[t,a,i]),openTwoFactorAuthenticationEnablerDialog:(0,s.useCallback)((()=>{const e=()=>{a(s.createElement(C,{onDialogClose:e=>{e||n?.(),i(),t?.(!1)}}))};t?.(!0),r?e():o({itemType:L.R.SecuritySettings,options:B.Y,successCallback:e,cancelCallback:()=>{(0,b.l6)(),t?.(!1)}})}),[t,r,a,i,n,o])}}const U=()=>{const e=(0,a.qr)({queryConfig:{query:i.C.getTwoFactorAuthenticationInfo},liveConfig:{live:i.C.liveTwoFactorAuthenticationInfo}},[]);if(e.status===a.rq.Success)return e.data};var F=n(97362)},31187:(e,t,n)=>{"use strict";n.d(t,{M6:()=>s,N5:()=>l,SC:()=>u,jY:()=>d,kG:()=>o,sK:()=>c,sn:()=>p});var a=n(45272),i=n(73704),r=n(27710);const o=r.v.bind(null,i.FlowStep.Start,i.FlowType.Deactivation),s=e=>(0,r.v)(i.FlowStep.Error,i.FlowType.Deactivation,e),l=r.v.bind(null,i.FlowStep.Complete,i.FlowType.Deactivation),c=r.v.bind(null,i.FlowStep.Cancel,i.FlowType.Deactivation),d=a.Nc.bind(null,i.PageView.SettingsSecurityTwoFactorAuthenticationDisable,i.BrowseComponent.MainApp),p=a.Nc.bind(null,i.PageView.SettingsSecurityTwoFactorAuthenticationDisable6DigitsCode,i.BrowseComponent.MainApp),u=a.Nc.bind(null,i.PageView.SettingsSecurityTwoFactorAuthenticationDisableBackupCode,i.BrowseComponent.MainApp)},59346:(e,t,n)=>{"use strict";n.d(t,{$M:()=>m,AQ:()=>_,BV:()=>s,Rf:()=>u,S9:()=>p,bY:()=>d,iX:()=>l,l6:()=>c,wP:()=>o});var a=n(45272),i=n(73704),r=n(27710);const o=r.v.bind(null,i.FlowStep.Start,i.FlowType.Activation),s=e=>(0,r.v)(i.FlowStep.Error,i.FlowType.Activation,e),l=r.v.bind(null,i.FlowStep.Complete,i.FlowType.Activation),c=r.v.bind(null,i.FlowStep.Cancel,i.FlowType.Activation),d=a.Nc.bind(null,i.PageView.SettingsSecurityTwoFactorAuthenticationEnableSecurityLevel,i.BrowseComponent.MainApp),p=a.Nc.bind(null,i.PageView.SettingsSecurityTwoFactorAuthenticationEnableBackupPhoneNumber,i.BrowseComponent.MainApp),u=a.Nc.bind(null,i.PageView.SettingsSecurityTwoFactorAuthenticationEnableQrCode,i.BrowseComponent.MainApp),_=a.Nc.bind(null,i.PageView.SettingsSecurityTwoFactorAuthenticationEnable6DigitsCode,i.BrowseComponent.MainApp),m=a.Nc.bind(null,i.PageView.SettingsSecurityTwoFactorAuthenticationEnableBackupCodes,i.BrowseComponent.MainApp)},27710:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var a=n(45272),i=n(73704);const r=(e,t,n)=>(0,a.Kz)(new i.UserChangeTwoFactorAuthenticationSettingEvent({flowStep:e,flowType:t,errorName:n}))},88093:(e,t,n)=>{"use strict";n.d(t,{Bb:()=>d,xi:()=>o,Rp:()=>c,G7:()=>p,HS:()=>u,UM:()=>_,Ax:()=>i,$x:()=>s,X7:()=>r,wn:()=>l});var a=n(5465);const i=async()=>await a.C.startTwoFactorAuthenticationDisableFlow(null),r=async()=>await a.C.stopTwoFactorAuthenticationDisableFlow(null),o=async(e=null)=>await a.C.continueTwoFactorAuthenticationDisableFlow(e),s=async()=>await a.C.startTwoFactorAuthenticationEnableFlow(null),l=async()=>await a.C.stopTwoFactorAuthenticationEnableFlow(null),c=async(e=null)=>await a.C.continueTwoFactorAuthenticationEnableFlow(e),d=async()=>await a.C.backTwoFactorAuthenticationEnableFlow(null),p=async()=>await a.C.refreshTwoFactorAuthenticationInfo(),u=async()=>await a.C.refreshU2FDevicesList(),_=async(e,t)=>await a.C.removeU2FAuthenticator({authenticationCode:e,keyHandle:t})},97362:(e,t,n)=>{"use strict";n.d(t,{Tg:()=>r,r0:()=>O});var a=n(48038),i=n(5465);const r=()=>{const e=(0,a.qr)({queryConfig:{query:i.C.getU2FDevicesList},liveConfig:{live:i.C.liveU2FDevicesList}},[]);return e.status===a.rq.Success?e.data:[]};var o=n(96832),s=n(14900),l=n(83849),c=n.n(l),d=n(37527),p=n(88203),u=n(36351);const _=({handleClickOnSubmit:e,handleClickOnBack:t})=>{const{translate:n}=(0,p.Z)();return(0,u.BX)("div",{sx:{maxWidth:"576px"},children:[(0,u.tZ)(s.$N8,{title:n("webapp_u2f_remove_authenticator_warning_title")}),(0,u.tZ)(s.a7O,{children:(0,u.BX)(s.nvN,{color:s.colors.dashGreen01,children:[n("webapp_u2f_remove_authenticator_warning_description"),(0,u.tZ)(s.vDh,{severity:"warning",size:"small",title:n("webapp_u2f_remove_authenticator_warning_content"),sx:{marginTop:"15px"}})]})}),(0,u.tZ)(s.cNS,{primaryButtonTitle:n("webapp_u2f_remove_authenticator_warning_button"),primaryButtonOnClick:e,primaryButtonProps:{theme:"warning"},secondaryButtonTitle:n("_common_action_cancel"),secondaryButtonOnClick:t})]})};var m=n(67323),h=n(86498),g=n(88093),b=n(15846),w=n(45272),y=n(73704);const f=(e,t)=>{(0,w.Kz)(new y.UserDeleteU2fAuthenticatorEvent({flowStep:e,errorName:t}))},x=f.bind(null,y.FlowStep.Start),S=f.bind(null,y.FlowStep.Cancel),v=f.bind(null,y.FlowStep.Complete),C=e=>f(y.FlowStep.Error,e);var Z=n(44);const k="webapp_login_form_password_fieldset_security_code_error_otp_already_used",I="webapp_login_form_password_fieldset_security_code_error_token_too_many_attempts",E="_common_alert_network_error_message";var D=function(e){return e[e.WARNING=0]="WARNING",e[e.AUTHENTICATION_CODE=1]="AUTHENTICATION_CODE",e[e.BACKUP_CODE=2]="BACKUP_CODE",e}(D||{});const T={[D.AUTHENTICATION_CODE]:{[b._V.OTP_NOT_VALID]:{message:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_invalid_security_code",logErrorName:y.TwoFactorAuthenticationError.WrongCodeError},[b._V.OTP_ALREADY_USED]:{message:k,logErrorName:y.TwoFactorAuthenticationError.UnknownError},[b._V.OTP_TOO_MANY_ATTEMPTS]:{message:I,logErrorName:y.TwoFactorAuthenticationError.UnknownError},[b._V.NETWORK_ERROR]:{message:E,logErrorName:y.TwoFactorAuthenticationError.UserOfflineError}},[D.BACKUP_CODE]:{[b._V.OTP_NOT_VALID]:{message:"webapp_account_security_settings_two_factor_authentication_backup_code_invalid_security_code",logErrorName:y.TwoFactorAuthenticationError.WrongBackupCodeError},[b._V.OTP_ALREADY_USED]:{message:k,logErrorName:y.TwoFactorAuthenticationError.UnknownError},[b._V.OTP_TOO_MANY_ATTEMPTS]:{message:I,logErrorName:y.TwoFactorAuthenticationError.UnknownError},[b._V.NETWORK_ERROR]:{message:E,logErrorName:y.TwoFactorAuthenticationError.UserOfflineError}},GenericError:{message:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_generic_error",logErrorName:y.TwoFactorAuthenticationError.UnknownError}},A=({onDialogClose:e,keyHandle:t})=>{var n;const a=null!=(n=(0,Z.f)())?n:"",{translate:i}=(0,p.Z)(),r=(0,h.V)(),[l,b]=(0,o.useState)(D.WARNING),[w,y]=(0,o.useState)(),f=()=>{S(),e()},k=()=>(b(D.AUTHENTICATION_CODE),Promise.resolve()),I=async({authenticationCode:n})=>{const a=await(0,g.UM)(n,t);if(!a.success&&a.error){const e=T[l],t=a.error.code;e[t]?(y({message:e[t].message,code:t}),C(e[t].logErrorName)):(y({message:T.GenericError.message,code:t}),C(T.GenericError.logErrorName))}else r.showAlert(i("webapp_u2f_remove_authenticator_success"),s.BLW.SUBTLE),v(),e()},E={handleClickOnBack:f,handleClickOnClose:f},A=()=>{const e=l===D.AUTHENTICATION_CODE?D.BACKUP_CODE:D.AUTHENTICATION_CODE;b(e),y(void 0)},N=(()=>{switch(l){case D.WARNING:return o.createElement(_,{...E,handleClickOnSubmit:k});case D.AUTHENTICATION_CODE:return o.createElement(m.mr,{...E,handleClickOnSubmit:I,toggleAuthenticationCodeMode:A,error:w,login:a});case D.BACKUP_CODE:return o.createElement(m.xd,{...E,handleClickOnSubmit:I,toggleAuthenticationCodeMode:A,error:w,login:a})}})();return(0,o.useEffect)((()=>{x()}),[]),(0,u.tZ)(s.VqE,{isOpen:!0,modalContentClassName:c()(d.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:i("_common_dialog_dismiss_button"),onClose:f,children:N})};var N=n(67678);function O(e={}){const{onDialogStateChanged:t}=e,{openDialog:n,closeDialog:a}=(0,N.R)();return{openU2FRemoveAuthenticatorDialog:(0,o.useCallback)((e=>{t?.(!0),n(o.createElement(A,{onDialogClose:()=>{a(),t?.(!1)},keyHandle:e}))}),[t,n,a])}}},27763:(e,t,n)=>{"use strict";n.d(t,{_:()=>A});var a=n(96832),i=n(88355),r=n(88203),o=n(62264),s=n(29020),l=n(81986),c=n(80610),d=n(5063),p=n(63847),u=n(68999),_=n(81847),m=n(51031),h=n(5465),g=n(10291),b=n(14900),w=n(28455),y=n(36351);const f=({onDismiss:e,onSuccess:t})=>{const{translate:n}=(0,r.Z)();return(0,y.tZ)(w.o,{isOpen:!0,onRequestClose:e,footer:(0,y.tZ)(b.cNS,{intent:"primary",primaryButtonTitle:n("webapp_lock_items_copy"),primaryButtonOnClick:t,secondaryButtonTitle:n("webapp_lock_items_cancel"),secondaryButtonOnClick:e}),title:n("webapp_lock_items_confirm_label"),children:n("webapp_lock_items_confirm_subtitle")})};var x=n(68819),S=n(92386),v=n(79100),C=n(24507),Z=n(14877),k=n(39431);const I={DISMISS:"webapp_lock_items_cancel",CONFIRM:"webapp_lock_items_show",CONFIRM_COPY:"webapp_lock_items_copy",PLACEHOLDER:"webapp_lock_items_password_placeholder",WRONG_PASSWORD:"webapp_lock_items_wrong_password",SHOW_LABEL:"webapp_lock_items_password_show_label",HIDE_LABEL:"webapp_lock_items_password_hide_label",CHECKBOX_LABEL_GLOBAL_SETTING:"webapp_lock_items_require_master_password_never_ask_checkbox_label",CHECKBOX_LABEL_FOR_CREDENTIAL:"webapp_lock_items_require_master_password_never_ask_checkbox_label_for_credential",CHECKBOX_WARNING:"webapp_lock_items_require_master_password_never_ask_checkbox_warning",CHECKBOX_SUCCESS_GLOBAL:"webapp_lock_items_require_master_password_never_ask_checkbox_success_alert",CHECKBOX_SUCCESS_CREDENTIAL:"webapp_lock_items_require_master_password_never_ask_checkbox_success_alert_for_credential"},{Subtitle:E,Confirm:D,Placeholder:T}=x.UnlockRequestCustomizableField,A=({unlockRequest:e,setUnlockRequest:t,requirePasswordGlobalSetting:n=!1})=>{const{options:b}=e,{translate:w}=(0,r.Z)(),{showToast:A}=(0,o.p)(),{handleDismiss:N}=(({unlockRequest:e,setUnlockRequest:t})=>{const{cancelCallback:n}=e;return{handleDismiss:()=>{n?.(),t?.(null)}}})({unlockRequest:e,setUnlockRequest:t}),{verify:O,handleSuccess:P,onSuccessWithLogs:L}=(({unlockRequest:e,setUnlockRequest:t})=>{const{action:n,successCallback:i}=e,[r,o]=(0,a.useState)(!1),s=()=>{o(!1),i?.(),t?.(null)};return{verify:r,handleSuccess:s,onSuccessWithLogs:()=>{n===x.P.Copy&&S.G6()?o(!0):s()}}})({unlockRequest:e,setUnlockRequest:t}),[R,M]=(0,a.useState)(!1),B=(0,a.useCallback)((()=>M(!1)),[]),{data:z,status:U}=(e=>{const{data:t,status:n}=(0,C.k)(Z.L,"query",{ids:e.itemType===x.R.Password?[e.credentialId]:[],vaultItemTypes:[k.U.Credential]},{initialSkip:e.itemType!==x.R.Password});return e.itemType!==x.R.Password?{status:m.rq.Success,data:void 0}:n!==m.rq.Success?{status:n}:{status:n,data:t.credentialsResult.items.at(0)}})(e);if(e.itemType===x.R.Password&&U===m.rq.Loading)return null;if(O)return(0,y.tZ)(f,{onDismiss:N,onSuccess:P});const F=e=>{const t=(0,v.p)(e,b);if(t)return t.translated?t.field:w(t.key);const n=I[e.toUpperCase()];return n?w(n):null},X=F(E);return(0,y.tZ)("div",{children:(0,y.tZ)(i.J9,{initialValues:{password:"",neverAskCheckbox:!1},onSubmit:async t=>{switch((await h.C.unlockProtectedItems(t.password)).status){case _.FI.SUCCESS:if(t.neverAskCheckbox)if(n)await h.C.updateProtectPasswordsSetting(!1),(0,g.a2)(!1),A({description:w(I.CHECKBOX_SUCCESS_GLOBAL)});else if(e.itemType===x.R.Password){var a;await h.C.disableCredentialProtection({credentialId:e.credentialId}),z&&(0,g.ih)(!1,z.id,z.URL,null!=(a=z.spaceId)?a:void 0),A({description:w(I.CHECKBOX_SUCCESS_CREDENTIAL)})}L();break;case _.FI.ERROR:default:M(!0)}},children:({values:t,handleChange:r,isSubmitting:o})=>(0,y.BX)(i.l0,{children:[X?(0,y.tZ)(s.n,{sx:{marginBottom:"27px"},children:X}):null,(0,y.tZ)(l.Z,{name:"password",value:t.password,autoFocus:!0,label:F(T),labelPersists:!1,placeholder:F(T),onChange:e=>{r(e),B()},toggleVisibilityLabel:{hide:w(I.HIDE_LABEL),show:w(I.SHOW_LABEL)},error:R,feedback:R?w(I.WRONG_PASSWORD):void 0}),e.itemType===x.R.Password&&e.showNeverAskOption?(0,y.BX)(a.Fragment,{children:[(0,y.tZ)(c.X,{name:"neverAskCheckbox","data-testid":"neverAskCheckbox",checked:t.neverAskCheckbox,onChange:r,sx:{margin:"12px 0px"},label:w(n?I.CHECKBOX_LABEL_GLOBAL_SETTING:I.CHECKBOX_LABEL_FOR_CREDENTIAL)}),n&&(0,y.tZ)(d.k,{mood:"warning",size:"small",title:w(I.CHECKBOX_WARNING)})]}):null,(0,y.BX)(p.k,{gap:"16px",justifyContent:"flex-end",sx:{maxWidth:"100%",marginTop:"40px"},children:[(0,y.tZ)(u.z,{onClick:N,mood:"neutral",intensity:"quiet",children:w(I.DISMISS)}),(0,y.tZ)(u.z,{id:"protected-items-unlocker-confirm-button",type:"submit",disabled:o||!t.password,children:F(D)})]})]})})})}},77381:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});const a={fieldsKeys:{title:"webapp_lock_items_security_settings_title",subtitle:"webapp_lock_items_security_settings_description",confirm:"webapp_lock_items_security_settings_action"},translated:!1}},79100:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});const a=(e,t)=>{if(t){if(t.translated)return t.fields[e]?{translated:!0,field:t.fields[e]}:void 0;{const n=t.fieldsKeys[e];return n?{translated:!1,key:n}:void 0}}}},85281:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var a=n(48038),i=n(5465),r=n(54350),o=n(96832);function s(){const[e,t]=(0,o.useState)(!1),n=(0,r.Z)(),s=(0,a.qr)({queryConfig:{query:i.C.vaultLockDate},liveConfig:{live:i.C.liveVaultLockDate}},[]),l=n.isMPLessUser||s.status===a.rq.Success&&!s.data,c=s.status===a.rq.Success&&s.data?s.data-Date.now():-1;return(0,o.useEffect)((()=>{if(l)return void t(!0);if(c<0)return void t(!1);t(!0);const e=setTimeout((()=>{t(!1)}),c);return()=>{clearTimeout(e)}}),[c,l]),e}},30894:(e,t,n)=>{"use strict";n.d(t,{D:()=>a.D,P7:()=>s.P,jF:()=>l.jF,tY:()=>i.t,DP:()=>o});var a=n(42024),i=n(3045),r=(n(96832),n(36351));function o(e){return t=>{const n=(0,i.t)();return(0,r.tZ)(e,{...t,...n})}}var s=n(68819),l=n(10291)},10291:(e,t,n)=>{"use strict";n.d(t,{a2:()=>l,ih:()=>o,jF:()=>s,u$:()=>c});var a=n(73704),i=n(13134),r=n(45272);const o=async(e,t,n,o)=>{const s=new i.Y(n).getRootDomain(),l=await(0,a.hashDomain)(s);((e,t,n,i)=>{(0,r.Kz)(new a.AnonymousUpdateCredentialEvent({action:a.Action.Edit,fieldList:[e?a.Field.MpProtectedOn:a.Field.MpProtectedOff],domain:{type:t,id:n},space:i}))})(e,a.DomainType.App,l,o?a.Space.Professional:a.Space.Personal),((e,t,n)=>{(0,r.Kz)(new a.UserUpdateVaultItemEvent({action:a.Action.Edit,fieldsEdited:[a.Field.MpProtectedOn],itemId:t,itemType:a.ItemType.Credential,space:n}))})(0,t,o?a.Space.Professional:a.Space.Personal)},s=()=>{(0,r.Kz)(new a.UserAskAuthenticationEvent({mode:a.Mode.MasterPassword,reason:a.Reason.EditSettings}))},l=e=>{return t=e,void(0,r.Kz)(new a.UserChangeProtectWithMasterPasswordSettingEvent({flowStep:a.FlowStep.Complete,flowType:t?a.FlowType.Activation:a.FlowType.Deactivation,settingLevel:a.SettingLevel.Credentials}));var t},c=()=>s()},42024:(e,t,n)=>{"use strict";n.d(t,{S:()=>g,D:()=>b});var a=n(96832),i=n(48038),r=n(78956),o=n(32197),s=n(88203),l=n(27763),c=n(68819),d=n(79100),p=n(37527),u=n(36351);const _=({unlockRequest:e,setUnlockRequest:t})=>{const{translate:n}=(0,s.Z)(),a=(0,o.q)(),{options:_,cancelCallback:m}=e;return a.status!==i.rq.Success?null:(0,u.tZ)(r.Vq,{isOpen:!0,stackingLevel:2,onClose:()=>{m?.(),t?.(null)},closeActionLabel:"Close",title:(()=>{const e=(0,d.p)(c.UnlockRequestCustomizableField.Title,_);return e?e.translated?e.field:n(e.key):n("webapp_lock_items_label")})(),className:p.Ht,children:(0,u.tZ)(l._,{unlockRequest:e,setUnlockRequest:t,requirePasswordGlobalSetting:a.data})})},m=({unlockRequest:e,setUnlockRequest:t})=>(0,u.tZ)(_,{unlockRequest:e,setUnlockRequest:t});var h=n(85281);const g=(0,a.createContext)({openProtectedItemsUnlocker:()=>{},areProtectedItemsUnlocked:!1,protectedItemsUnlockerShown:!1}),b=({children:e})=>{const[t,n]=(0,a.useState)(null),i=(0,h.G)(),r=null!==t,o=(0,a.useMemo)((()=>({areProtectedItemsUnlocked:i,openProtectedItemsUnlocker:n,protectedItemsUnlockerShown:r})),[i,r]);return(0,u.BX)(g.Provider,{value:o,children:[e,t?(0,u.tZ)(m,{unlockRequest:t,setUnlockRequest:n}):null]})}},68819:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,R:()=>i,UnlockRequestCustomizableField:()=>r});let a=function(e){return e.Show="show",e.Copy="copy",e.CopyVerified="copyVerified",e.Export="export",e}({}),i=function(e){return e.UpdateContactEmail="update-contact-email",e.Password="password",e.SharedItems="shared-items",e.GeneratedPassword="generated-password",e.CreditCard="credit-card",e.Secret="secret",e.SecureNote="secure-note",e.SecureNoteSetting="secure-note-setting",e.Id="id",e.ExportData="export-data",e.BankAccount="bank-account",e.SecuritySettings="security-settings",e}({}),r=function(e){return e.Title="title",e.Subtitle="subtitle",e.Confirm="confirm",e.Placeholder="placeholder",e}({})},3045:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var a=n(96832),i=n(42024);function r(){return a.useContext(i.S)}},63794:(e,t,n)=>{"use strict";n.d(t,{$L:()=>y,JW:()=>a,LN:()=>f,PB:()=>b,Tx:()=>m,Vr:()=>r,Xs:()=>h,Yv:()=>v,ZF:()=>S,_H:()=>d,_K:()=>C,c6:()=>Z,dx:()=>o,fG:()=>c,g9:()=>x,h4:()=>u,lV:()=>g,lh:()=>l,tb:()=>i,vD:()=>_,w6:()=>p,wg:()=>w,zG:()=>s,zI:()=>k});const a="https://www.dashlane.com/download",i="https://blog.dashlane.com",r="https://support.dashlane.com/hc",o=`${r}/articles/360000038180`,s=`${r}/articles/115003106029`,l=`${r}/articles/4516905332370#chatbot`,c="https://support.dashlane.com/hc/articles/360001158385",d="https://support.dashlane.com/hc/articles/360000037900#title1",p="https://support.dashlane.com/hc/articles/360000037900",u="https://support.dashlane.com/hc/articles/202907531",_="https://support.dashlane.com/hc/articles/115003111325",m="https://support.dashlane.com/hc/categories/200958889-Admins",h="https://support.dashlane.com/hc/articles/208140689",g="https://www.dashlane.com/resources#AdminResources",b="https://support.dashlane.com/hc/articles/115005432325-Get-started-with-the-Dashlane-web-app-and-extension#secure",w="https://support.dashlane.com/hc/articles/11004803881490-Set-up-and-use-Dashlane-s-account-recovery-key",y="https://support.dashlane.com/hc/articles/10975547141266-Passwordless-login-for-your-Dashlane-account#secure",f="https://www.dashlane.com/pricing-personal",x="https://support.dashlane.com/hc/categories/360000606579-Get-Started",S="https://www.dashlane.com/resources/category/user-education",v="https://support.dashlane.com/hc/requests/new?req_type=product_idea",C="https://passkeys-directory.dashlane.com",Z="https://www.dashlane.com/book-a-call",k="https://support.dashlane.com/hc/articles/22914322932114-Credential-Risk-Detection-insights"},94431:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,b0:()=>i,lC:()=>o});var a=n(30309);const i={[a.cH.AD]:376,[a.cH.AE]:971,[a.cH.AF]:93,[a.cH.AG]:1268,[a.cH.AI]:1264,[a.cH.AL]:355,[a.cH.AM]:374,[a.cH.AO]:244,[a.cH.AQ]:672,[a.cH.AR]:54,[a.cH.AS]:1684,[a.cH.AT]:43,[a.cH.AU]:61,[a.cH.AW]:297,[a.cH.AX]:358,[a.cH.AZ]:994,[a.cH.BA]:387,[a.cH.BB]:1246,[a.cH.BD]:880,[a.cH.BE]:32,[a.cH.BF]:226,[a.cH.BG]:359,[a.cH.BH]:973,[a.cH.BI]:257,[a.cH.BJ]:229,[a.cH.BL]:590,[a.cH.BM]:1441,[a.cH.BN]:673,[a.cH.BO]:591,[a.cH.BR]:55,[a.cH.BS]:1242,[a.cH.BT]:975,[a.cH.BW]:267,[a.cH.BY]:375,[a.cH.BZ]:501,[a.cH.CA]:1,[a.cH.CC]:61,[a.cH.CD]:243,[a.cH.CF]:236,[a.cH.CG]:242,[a.cH.CH]:41,[a.cH.CI]:225,[a.cH.CK]:682,[a.cH.CL]:56,[a.cH.CM]:237,[a.cH.CN]:86,[a.cH.CO]:57,[a.cH.CR]:506,[a.cH.CU]:53,[a.cH.CV]:238,[a.cH.CX]:61,[a.cH.CY]:357,[a.cH.CZ]:420,[a.cH.DE]:49,[a.cH.DJ]:253,[a.cH.DK]:45,[a.cH.DM]:1767,[a.cH.DO]:1849,[a.cH.DZ]:213,[a.cH.EC]:593,[a.cH.EE]:372,[a.cH.EG]:20,[a.cH.ER]:291,[a.cH.ES]:34,[a.cH.ET]:251,[a.cH.FI]:358,[a.cH.FJ]:679,[a.cH.FK]:500,[a.cH.FM]:691,[a.cH.FO]:298,[a.cH.FR]:33,[a.cH.GA]:241,[a.cH.GB]:44,[a.cH.GD]:1473,[a.cH.GE]:995,[a.cH.GF]:594,[a.cH.GG]:44,[a.cH.GH]:233,[a.cH.GI]:350,[a.cH.GL]:299,[a.cH.GM]:220,[a.cH.GN]:224,[a.cH.GP]:590,[a.cH.GQ]:240,[a.cH.GR]:30,[a.cH.GS]:500,[a.cH.GT]:502,[a.cH.GU]:1671,[a.cH.GW]:245,[a.cH.GY]:595,[a.cH.HK]:852,[a.cH.HN]:504,[a.cH.HR]:385,[a.cH.HT]:509,[a.cH.HU]:36,[a.cH.ID]:62,[a.cH.IE]:353,[a.cH.IL]:972,[a.cH.IM]:44,[a.cH.IN]:91,[a.cH.IO]:246,[a.cH.IQ]:964,[a.cH.IR]:98,[a.cH.IS]:354,[a.cH.IT]:39,[a.cH.JE]:44,[a.cH.JM]:1876,[a.cH.JO]:962,[a.cH.JP]:81,[a.cH.KE]:254,[a.cH.KG]:996,[a.cH.KH]:855,[a.cH.KI]:686,[a.cH.KM]:269,[a.cH.KN]:1869,[a.cH.KP]:850,[a.cH.KR]:82,[a.cH.KW]:965,[a.cH.KY]:345,[a.cH.KZ]:77,[a.cH.LA]:856,[a.cH.LB]:961,[a.cH.LC]:1758,[a.cH.LI]:423,[a.cH.LK]:94,[a.cH.LR]:231,[a.cH.LS]:266,[a.cH.LT]:370,[a.cH.LU]:352,[a.cH.LV]:371,[a.cH.LY]:218,[a.cH.MA]:212,[a.cH.MC]:377,[a.cH.MD]:373,[a.cH.ME]:382,[a.cH.MF]:590,[a.cH.MG]:261,[a.cH.MH]:692,[a.cH.MK]:389,[a.cH.ML]:223,[a.cH.MM]:95,[a.cH.MN]:976,[a.cH.MO]:853,[a.cH.MP]:1670,[a.cH.MQ]:596,[a.cH.MR]:222,[a.cH.MS]:1664,[a.cH.MT]:356,[a.cH.MU]:230,[a.cH.MV]:960,[a.cH.MW]:265,[a.cH.MX]:52,[a.cH.MY]:60,[a.cH.MZ]:258,[a.cH.NA]:264,[a.cH.NC]:687,[a.cH.NE]:227,[a.cH.NF]:672,[a.cH.NG]:234,[a.cH.NI]:505,[a.cH.NL]:31,[a.cH.NO]:47,[a.cH.NP]:977,[a.cH.NR]:674,[a.cH.NU]:683,[a.cH.NZ]:64,[a.cH.OM]:968,[a.cH.PA]:507,[a.cH.PE]:51,[a.cH.PF]:689,[a.cH.PG]:675,[a.cH.PH]:63,[a.cH.PK]:92,[a.cH.PL]:48,[a.cH.PM]:508,[a.cH.PN]:872,[a.cH.PR]:1,[a.cH.PS]:970,[a.cH.PT]:351,[a.cH.PW]:680,[a.cH.PY]:595,[a.cH.QA]:974,[a.cH.RE]:262,[a.cH.RO]:40,[a.cH.RS]:381,[a.cH.RU]:7,[a.cH.RW]:250,[a.cH.SA]:966,[a.cH.SB]:677,[a.cH.SC]:248,[a.cH.SD]:249,[a.cH.SE]:46,[a.cH.SG]:65,[a.cH.SH]:290,[a.cH.SI]:386,[a.cH.SJ]:47,[a.cH.SK]:421,[a.cH.SL]:232,[a.cH.SM]:378,[a.cH.SN]:221,[a.cH.SO]:252,[a.cH.SR]:597,[a.cH.ST]:239,[a.cH.SV]:503,[a.cH.SY]:963,[a.cH.SZ]:268,[a.cH.TC]:1649,[a.cH.TD]:235,[a.cH.TG]:228,[a.cH.TH]:66,[a.cH.TJ]:992,[a.cH.TK]:690,[a.cH.TL]:670,[a.cH.TM]:993,[a.cH.TN]:216,[a.cH.TO]:676,[a.cH.TR]:90,[a.cH.TT]:1868,[a.cH.TV]:688,[a.cH.TW]:886,[a.cH.TZ]:255,[a.cH.UA]:380,[a.cH.UG]:256,[a.cH.US]:1,[a.cH.UY]:598,[a.cH.UZ]:998,[a.cH.VA]:379,[a.cH.VC]:1784,[a.cH.VE]:58,[a.cH.VG]:1284,[a.cH.VI]:1340,[a.cH.VN]:84,[a.cH.VU]:678,[a.cH.WF]:681,[a.cH.WS]:685,[a.cH.XK]:383,[a.cH.YE]:967,[a.cH.YT]:262,[a.cH.ZA]:27,[a.cH.ZM]:260,[a.cH.ZW]:263,[a.cH.TF]:260,[a.cH.EH]:212,[a.cH.UM]:268,[a.cH.BV]:47},r=Object.keys(i).map((e=>({label:`${e} (+${i[e]})`,value:e})));function o(e){return e&&e!==a.cH.NO_TYPE&&e!==a.cH.UNIVERSAL&&e!==a.cH.HM?e:a.cH.US}},92730:(e,t,n)=>{"use strict";n.d(t,{u:()=>i,k:()=>r});var a=n(92077);const i=()=>{const e=(0,a.k6)(),{routes:t}=(0,a.Xo)();return{navigateBack:t=>{e.length>1?e.goBack():(0,a.uX)(t)},routes:t}},r="[-a-zA-Z\\d]{36}"},1146:(e,t,n)=>{"use strict";n.d(t,{L:()=>U});var a=n(96832),i=n(18362),r=n(89923),o=n(76593),s=n(22903),l=n(88203),c=n(48827),d=n(97962),p=n(73704),u=n(63847),_=n(32690),m=n(68999),h=n(80610),g=n(45272),b=n(10051),w=n(65325),y=n(70919),f=n(36351);const x="webapp_vpn_page_credential_email_label",S="webapp_vpn_page_credential_activate_button",v="webapp_vpn_page_credential_activate_email_error",C="webapp_vpn_page_credential_activate_privacy_consent_markup",Z="webapp_vpn_page_credential_activate_missing_consent_tooltip",k=({defaultEmail:e,email:t,setEmail:n,isPrivacyConsentChecked:i,setIsPrivacyConsentChecked:r,disabled:o=!1,onClick:s=(()=>{})})=>{const{translate:c}=(0,l.Z)(),d=(0,a.useRef)(null);(0,a.useEffect)((()=>{(0,g.Nc)(p.PageView.ToolsVpnPrivacyConsent)}),[]),(0,a.useEffect)((()=>{e&&d?.current?.select()}),[e,d]);const[k,I]=(0,a.useState)(!0),[E,D]=(0,a.useState)(!1),T=k&&!o,A=c(v),N=c.markup(C,{privacyPolicyLink:w.kG,serviceTermsLink:w.PN},{linkTarget:y.MF}),O=E&&!i;return(0,f.BX)(u.k,{flexDirection:"column",gap:"16px",sx:{margin:"8px 0px 16px 0px"},children:[(0,f.tZ)(_.s,{label:c(x),required:!0,value:t,onChange:e=>n(e.currentTarget.value),onBlur:e=>{return t=e.target.value,I((0,b.vV)(t));var t},onFocus:e=>e.target.select(),feedback:k?void 0:{text:A},error:!k,ref:d,actions:[(0,f.tZ)(m.z,{onClick:()=>i?s():D(!0),isLoading:!T,children:c(S)},"activateButton")]}),(0,f.tZ)(h.X,{disabled:o,label:N,checked:i,onChange:e=>r(e.currentTarget.checked),sx:{margin:"unset"},feedback:O?{id:c(Z),text:c(Z),type:"error"}:void 0})]})};var I,E=n(14646),D=n(26555);const T={container:{border:"solid 1px ds.border.neutral.quiet.idle",borderRadius:"8px"},header:{padding:"16px",borderRadius:"8px 8px 0px 0px",backgroundColor:"ds.container.agnostic.neutral.quiet"},content:{padding:"8px 16px"}},A=({isActive:e,description:t,children:n})=>{const{translate:a}=(0,l.Z)();return(0,f.BX)("div",{sx:T.container,children:[(0,f.tZ)(E.s,{thumbnail:I||(I=(0,f.tZ)(D.h,{domainURL:"hotspotshield.com"})),title:"dashlane.hotspotshield.com",description:t,badge:{label:a(e?"webapp_vpn_page_credential_card_active":"webapp_vpn_page_credential_card_inactive"),mood:e?"positive":"neutral"},sx:T.header}),(0,f.tZ)(u.k,{flexDirection:"column",gap:"8px",sx:T.content,children:n})]})};var N=n(53092),O=n(72047),P=n(82207),L=n(8365);const R=({email:e,password:t,credentialId:n})=>{const{translate:i}=(0,l.Z)();return(0,f.BX)(a.Fragment,{children:[(0,f.tZ)(N.C,{value:e,label:i("webapp_vpn_page_credential_active_login_label"),id:y.Kf,actions:[(0,f.tZ)(P.m,{data:e,onCopy:(0,L.dL)(n)},"copy")]}),(0,f.tZ)(O.b,{value:t,toggleVisibilityLabel:{hide:i("webapp_vpn_page_credential_active_hide_password"),show:i("webapp_vpn_page_credential_active_show_password")},label:i("webapp_vpn_page_credential_active_password_label"),id:y.TQ,actions:[(0,f.tZ)(P.m,{data:t,onCopy:(0,L._z)(n)},"copy")]})]})},M=({vpnCredential:e,generateCredential:t})=>{const{translate:n}=(0,l.Z)(),r=(0,c.G)(),p=(0,d.f)(),[u,_]=(0,a.useState)(!1),[m,h]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),{isIntermediate:w,isActivated:y,isActivating:x}=(0,o.RQ)(e);(0,a.useEffect)((()=>{var e,t;const n=null!=(e=null!=(t=r?.email)?t:p)?e:"";b(n),h(n)}),[r,p]);const S={defaultEmail:g,email:m,isPrivacyConsentChecked:u,setEmail:h,setIsPrivacyConsentChecked:_},v=e?.status===i.gl.NotFound||e?.status===i.gl.Error,C=x()||e?.status===i.gl.Activating||w(),Z=C?{disabled:!0}:{onClick:()=>t({email:m})};return(0,f.BX)(a.Fragment,{children:[(0,f.tZ)(s.X,{textStyle:"ds.title.section.medium",as:"h2",children:n("webapp_vpn_page_credential_title")}),(0,f.BX)(A,{isActive:y(),description:y()?void 0:n("webapp_vpn_page_credential_enter_email"),children:[v||C?(0,f.tZ)(k,{...S,...Z}):null,y()&&e?.status===i.gl.Activated?(0,f.tZ)(R,{email:e.email,password:e.password,credentialId:e.credentialId}):null]})]})},B="webapp_vpn_page_credential_active_alert_success",z={[i.OG.ServerError]:{key:"webapp_vpn_page_credential_error_alert_error"},[i.OG.AccountAlreadyExistError]:{key:"webapp_vpn_page_credential_activate_email_in_use_error_alert_markup",params:{hotspotSupport:w.En}}},U=({vpnCredential:e})=>{const{translateWithMarkup:t}=(0,r.Y)(),{onActivateVpnAccount:n,onClearVpnAccountErrors:s,onCompleteVpnAccountActivation:l,openActivateVpnSuccessAlert:c,openActivateVpnErrorAlert:d}=(0,o.LZ)();return(0,a.useEffect)((()=>{e&&(e.status===i.gl.Ready&&(c(t(B)),l()),e.status===i.gl.Error&&(d(t(z[e.error])),s()))}),[s,l,c,d,t,e]),(0,f.tZ)(M,{vpnCredential:e,generateCredential:n})}},70919:(e,t,n)=>{"use strict";n.d(t,{Kf:()=>i,MF:()=>a,TQ:()=>r});const a="_blank",i="vpnEmailTextInput",r="vpnPasswordInput"},65325:(e,t,n)=>{"use strict";n.d(t,{En:()=>c,O7:()=>_,PN:()=>s,Xj:()=>i,gF:()=>r,i9:()=>o,kG:()=>l});const a="https://www.dashlane.com/vpn",i="https://www.hotspotshield.com/",r=`${a}/install`,o={Windows:`${r}/windows`,"Mac OS":`${r}/mac`,Linux:`${r}/linux`},s=`${a}/terms`,l=`${a}/privacy-policy`,c=`${a}/support`,d="vpn-faq",p="extension",u=(e,t,n)=>`https://support.dashlane.com/hc/articles/${e}?utmMedium=${t}&amp;utmSource=${n}`,_=(u("360001158385",d,p),u("360000037900",d,p));u("360000045439","vpn",p)},75735:(e,t,n)=>{"use strict";n.d(t,{RQ:()=>g,I:()=>x,LZ:()=>c,BP:()=>b,Qy:()=>p,Hn:()=>_,q4:()=>u.q});var a=n(96832),i=n(62264),r=n(5465);const o=async e=>await r.C.activateVpnAccount(e),s=async()=>await r.C.clearVpnAccountErrors(),l=async()=>await r.C.completeVpnAccountActivation();function c(){const{showToast:e}=(0,i.p)();return{onActivateVpnAccount:(0,a.useCallback)((async e=>{await o(e)}),[]),onClearVpnAccountErrors:()=>s(),onCompleteVpnAccountActivation:()=>l(),openActivateVpnSuccessAlert:(0,a.useCallback)((t=>{e({description:t})}),[e]),openActivateVpnErrorAlert:(0,a.useCallback)((t=>{e({description:t,mood:"danger"})}),[e])}}var d=n(48038);const p=()=>{const e=(0,d.qr)({queryConfig:{query:r.C.getVpnAccount},liveConfig:{live:r.C.liveVpnAccount}},[]);return e.status===d.rq.Success?e.data:null};var u=n(14183);const _=(e,t)=>{const n=(0,u.q)();if(void 0===n?.showVpnPage||void 0===n?.showVpnMenuItem||void 0===n?.showVpnDisabledB2BTooltip||void 0===n?.vpnPaywallInfo)return null;const{showVpnPage:a,showVpnMenuItem:i,vpnPaywallInfo:r,showVpnDisabledB2BTooltip:o}=n;return{showVpnPage:a,showVpnMenuItem:i,vpnPaywallInfo:r,getVpnDisabledNotification:()=>({showNotification:!e&&o,notificationClass:t,title:"webapp_vpn_notification_disabled_for_b2b_title",description:"webapp_vpn_notification_disabled_for_b2b_description"})}};var m=n(18362);let h=function(e){return e.ACTIVATING="activating",e.INITIAL="initial",e.INTERMEDIATE="intermediate",e.ACTIVATED="activated",e}({});const g=e=>{const[t,n]=(0,a.useState)(h.INITIAL),[i,r]=(0,a.useState)();return(0,a.useEffect)((()=>{e?.status===m.gl.Activated&&t===h.INITIAL?n(h.ACTIVATED):e?.status===m.gl.Activating?n(h.ACTIVATING):e?.status===m.gl.NotFound&&n(h.INITIAL)}),[e?.status,t]),(0,a.useEffect)((()=>{if(e?.status===m.gl.Ready&&t===h.ACTIVATING){n(h.INTERMEDIATE);const e=window.setTimeout((()=>{r(e),n(h.ACTIVATED)}),948)}}),[e?.status,t]),(0,a.useEffect)((()=>{i&&window.clearTimeout(i)}),[i]),{isInitial:()=>t===h.INITIAL,isActivating:()=>t===h.ACTIVATING,isActivated:()=>t===h.ACTIVATED,isIntermediate:()=>t===h.INTERMEDIATE}},b=()=>{const e=(0,d.qr)({queryConfig:{query:r.C.getVpnCapabilitySetting}},[]);return e.status===d.rq.Success?e.data:null};var w=n(51031),y=n(80443),f=n(14943);function x(){const e=(0,f.Y)();if(e.status!==w.rq.Success||!e.data)return null;const t=(0,y.wt)(e.data)&&(0,y.MU)(e.data),n=(0,y.f1)(e.data)&&(0,y.MU)(e.data);return t||n}},14183:(e,t,n)=>{"use strict";n.d(t,{j:()=>r,q:()=>s});var a=n(18362),i=n(75735);let r=function(e){return e.B2B="b2b",e.B2C="b2c",e}({});const o=(e,t)=>!!e&&!e.hasVpnEnabled&&e?.vpnDisabledReason===t,s=()=>{const e=(0,i.BP)(),t=(0,i.I)();if(null===t)return null;const n=!!e&&e.hasVpnEnabled,s=o(e,a.Ym.InTeam),l=(o(e,a.Ym.NotPremium)||o(e,a.Ym.NoPayment))&&!t,c=n||l||t;return{showVpnPage:c,showVpnMenuItem:s||c,showVpnDisabledB2BTooltip:s,vpnPageAccessLoading:!e,vpnPaywallInfo:{isVisible:t||l,type:t?r.B2B:l?r.B2C:null}}}},76593:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>a.Hn,LZ:()=>a.LZ,Qy:()=>a.Qy,RQ:()=>a.RQ,Xj:()=>i.Xj}),n(1146);var a=n(75735),i=n(65325)},8365:(e,t,n)=>{"use strict";n.d(t,{_z:()=>s,dL:()=>o,gq:()=>l});var a=n(45272),i=n(73704);const r=(e,t)=>()=>(0,a.Kz)(new i.UserCopyVaultItemFieldEvent({field:e,itemId:t,itemType:i.ItemType.Credential,isProtected:!1})),o=e=>r(i.Field.Email,e),s=e=>r(i.Field.Password,e),l=()=>(0,a.Kz)(new i.UserDownloadVpnClientEvent({}))},23514:(e,t,n)=>{"use strict";n.d(t,{W:()=>u,Y:()=>p});var a=n(10994),i=n(50793),r=n(65995),o=n(51031),s=n(41495),l=n(44554),c=n(40681),d=n(2493);const p=()=>{const{messages:e}=(0,d.L)(s.U.WEB_STORE),t=(0,c.E)(),n=t.status===o.rq.Success?(0,a.Z)(t.data.accountCreationDatetime):null;if(!n)return null;const p=new Date,u=Math.abs((0,i.Z)(p,n))>=40,_=void 0===e.find((e=>e.type===s.U.WEB_STORE)),m=void 0===e.find((e=>{const t=!e.dismissedAt||(0,r.Z)(new Date,e.dismissedAt)<6;return e.type===s.U.WEB_STORE&&t}));return(_||m)&&u?()=>(0,l.Hv)({type:s.U.WEB_STORE}):null},u=async()=>{await(0,l.ql)({type:s.U.WEB_STORE})}},73917:(e,t,n)=>{"use strict";n.d(t,{q:()=>c,w:()=>l});var a=n(96832),i=n(9882),r=n(98049),o=n(36351);const s=(0,a.createContext)({}),l=({children:e,dispatchGlobal:t})=>{const[n,l]=(0,a.useState)(!1),c=(0,i.a)(t),d=(0,a.useCallback)((()=>l(!0)),[]),p=(0,a.useCallback)((()=>l(!1)),[]),u=(0,a.useMemo)((()=>({openLogoutDialog:d,closeLogoutDialog:p,isLogoutDialogOpen:n})),[n,d,p]),_=(0,a.useCallback)((()=>{p(),c()}),[p,c]);return(0,o.BX)(s.Provider,{value:u,children:[e,(0,o.tZ)(r.vb,{isOpen:n,onDismiss:p,onLogout:_})]})},c=()=>(0,a.useContext)(s)},71844:(e,t,n)=>{"use strict";function a(){return void 0!==window?.PublicKeyCredential&&"function"==typeof window.PublicKeyCredential}function i(){return a()?PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable():Promise.resolve(!1)}function r(){return!1}n.d(t,{FI:()=>i,Sq:()=>r,_U:()=>a})},62340:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,G:()=>r});var a=n(10352),i=n(88558);const r=async e=>{const t=await(async e=>{var t;const n={rp:e.rp,user:{...e.user,id:(i=e.user.id,(new TextEncoder).encode(i))},challenge:(0,a.N)(e.challenge),timeout:e.timeout,pubKeyCredParams:e.pubKeyCredParams,authenticatorSelection:e.authenticatorSelection,excludeCredentials:(null!=(t=e.excludeCredentials)?t:[]).map((e=>({id:(0,a.N)(e.id),type:e.type})))};var i;const r=await navigator.credentials.create({publicKey:n});if(!r)throw new Error("WebAuthn attestation could not be completed as credential cannot be created");return r})(e),n=t.response,r={id:t.id,type:t.type,rawId:(0,i.K)(t.rawId),response:{clientDataJSON:(0,i.K)(n.clientDataJSON),attestationObject:(0,i.K)(n.attestationObject)}};return"function"==typeof n.getTransports&&(r.transports=n.getTransports()),r};async function o(e,t){const n=await async function(e,t){var n;const i={challenge:(0,a.N)(e.challenge),allowCredentials:(null!=(n=e.allowCredentials)?n:[]).map((e=>({id:(0,a.N)(e.id),type:e.type}))),userVerification:e.userVerification,rpId:e.rpId,timeout:e.timeout},r=await navigator.credentials.get({publicKey:i,signal:t});if(!r)throw new Error("WebAuthn assertion could not be completed as credential cannot be created");return r}(e,t),r=n.response;return{id:n.id,type:n.type,rawId:(0,i.K)(n.rawId),response:{authenticatorData:(0,i.K)(r.authenticatorData),clientDataJSON:(0,i.K)(r.clientDataJSON),signature:(0,i.K)(r.signature)},clientExtensionResults:n.getClientExtensionResults()}}},18250:(e,t,n)=>{"use strict";n.d(t,{_U:()=>l._U,pM:()=>s.p,rV:()=>P,$_:()=>O,dG:()=>M});var a=n(96832),i=n(5465);const r=async()=>await i.C.disableWebAuthnAuthentication();var o=n(91652),s=n(62340),l=n(71844);var c=n(18789);const d=async e=>await i.C.removeWebAuthnAuthenticator({credentialId:e}),p=async e=>{const{isMasterPasswordValid:t}=await i.C.checkIfMasterPasswordIsValid({masterPassword:e});if(!t)throw new Error("Master password is not valid");return t};var u=n(83849),_=n.n(u),m=n(78956),h=n(47124),g=n(22903),b=n(29020),w=n(81986),y=n(88203),f=n(37527);const x="icon--mUbeHPFKev";var S=n(36351);var v=function(e){return e.WRONG_PASSWORD_ERROR="wrong_password",e}(v||{});const C=({onValidateMasterPassword:e,onRemoveAuthenticator:t,onDismiss:n})=>{const{translate:i}=(0,y.Z)(),[r,o]=(0,a.useState)(""),[s,l]=(0,a.useState)(null),c=async a=>{a.preventDefault(),r&&await(async t=>{try{return await e(t),l(null),!0}catch(e){return l(v.WRONG_PASSWORD_ERROR),!1}})(r)&&(await t(),n())};return(0,S.BX)(m.Vq,{title:"",isOpen:!0,onClose:n,actions:{primary:{children:i("webapp_account_security_settings_passwordless_disable_button_remove"),disabled:!r||null!==s,onClick:c},secondary:{children:i("webapp_account_security_settings_passwordless_disable_button_cancel"),onClick:n}},closeActionLabel:i("_common_dialog_dismiss_button"),dialogClassName:_()(f.Ht),"aria-describedby":"disableDialogBody",children:[(0,S.tZ)("div",{className:x,children:(0,S.tZ)(h.JO,{name:"FeedbackFailOutlined",style:{height:"62px",width:"62px"},color:"ds.text.danger.quiet"})}),(0,S.tZ)(g.X,{as:"h2",children:i("webapp_account_security_settings_passwordless_disable_title")}),(0,S.tZ)(b.n,{id:"disableDialogBody",color:"ds.text.neutral.quiet",sx:{marginBottom:"18px"},children:i("webapp_account_security_settings_passwordless_disable_description")}),(0,S.tZ)("form",{onSubmit:c,children:(0,S.tZ)(w.Z,{label:i("webapp_account_security_settings_passwordless_disable_master_password"),onChange:e=>{const t=e.target.value;l(null),o(t)},toggleVisibilityLabel:{show:i("webapp_account_security_settings_passwordless_disable_master_password_show"),hide:i("webapp_account_security_settings_passwordless_disable_master_password_hide")},placeholder:i("webapp_account_security_settings_passwordless_disable_master_password_placeholder"),value:r,error:s===v.WRONG_PASSWORD_ERROR,feedback:{text:s===v.WRONG_PASSWORD_ERROR?i("webapp_account_security_settings_passwordless_disable_master_password_error"):""}})})]})};var Z,k=n(14900);const I=({onDone:e})=>{const{translate:t}=(0,y.Z)();return(0,S.BX)(k.VqE,{modalContentClassName:_()(f.Ht),isOpen:!0,closeIconName:t("_common_dialog_dismiss_button"),onClose:e,ariaLabelledby:"errorDialogTitle",ariaDescribedby:"errorDialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,children:[(0,S.tZ)("div",{className:x,children:Z||(Z=(0,S.tZ)(k.enX,{size:60,"aria-hidden":"true"}))}),(0,S.tZ)(k.$N8,{title:t("webapp_account_security_settings_passwordless_error_title")}),(0,S.tZ)(k.a7O,{children:(0,S.tZ)(k.nvN,{id:"errorDialogBody",children:t.markup("webapp_account_security_settings_passwordless_error_description_markup",{utmSource:"extension",utmMedium:"account"},{linkTarget:"_blank"})})}),(0,S.tZ)(k.cNS,{primaryButtonTitle:t("webapp_account_security_settings_passwordless_error_button_done"),primaryButtonOnClick:e,primaryButtonProps:{type:"button"}})]})};var E=function(e){return e.NONE="NONE",e.DISABLE="DISABLE",e.ERROR="ERROR",e}(E||{});const D=({credentialId:e,onDialogClose:t})=>{var n,i;const[r,o]=(0,a.useState)(E.NONE);(0,a.useEffect)((()=>{o(E.DISABLE)}),[]);const s=(0,a.useCallback)((()=>{o(E.NONE),"function"==typeof t&&t()}),[t]),l=(0,a.useCallback)((async()=>{try{await d(e)}catch{o(E.ERROR)}}),[e]);return(0,S.tZ)((()=>{switch(r){case E.DISABLE:return n||(n=(0,S.tZ)(C,{onValidateMasterPassword:p,onRemoveAuthenticator:l,onDismiss:s}));case E.ERROR:return i||(i=(0,S.tZ)(I,{onDone:s}));case E.NONE:default:return null}}),{})};var T=n(68819),A=n(30894),N=n(67678);function O(e={}){const{onDialogStateChanged:t}=e,{areProtectedItemsUnlocked:n,openProtectedItemsUnlocker:i}=(0,A.tY)(),{openDialog:o,closeDialog:s}=(0,N.R)(),l=(0,a.useCallback)((()=>{const e=()=>{o(a.createElement(H,{onDialogClose:()=>{s(),t?.(!1)}}))};t?.(!0),n?e():i({itemType:T.R.SecuritySettings,successCallback:e,cancelCallback:()=>{t?.(!1)}})}),[o,s,n,i]),c=(0,a.useCallback)((()=>{const e=r;n?e():i({itemType:T.R.SecuritySettings,successCallback:e})}),[n,i]),p=(0,a.useCallback)((async e=>{await d(e)}),[]);return{openWebAuthnEnablerDialog:l,openWebAuthnDisablerDialog:c,openWebAuthnRemoveLastAuthenticatorDialog:(0,a.useCallback)((e=>{t?.(!0),o(a.createElement(D,{credentialId:e,onDialogClose:()=>{s(),t?.(!1)}}))}),[o,s]),onRemoveWebAuthnAuthenticator:p}}const P=()=>{const[e,t]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{const e=await(0,l.FI)();t(e)})()}),[]),e};var L=n(48038);const R=()=>{const e=(0,L.qr)({queryConfig:{query:i.C.getWebAuthnAuthenticationOptedIn},liveConfig:{live:i.C.liveWebAuthnAuthenticationOptedIn}},[]);return e.status===L.rq.Success&&e.data};function M(){const e=R(),t=((0,a.useEffect)((()=>{i.C.refreshWebAuthnAuthenticators()}),[]),(0,L.qr)({queryConfig:{query:i.C.getWebAuthnAuthenticators},liveConfig:{live:i.C.liveWebAuthnAuthenticators}},[]));return{optedIn:e,authenticators:t.status===L.rq.Success&&t.data||void 0}}var B,z=n(5063);const U=({userHasWebAuthnPlatformAuthenticator:e,onAddAuthenticator:t,onDismiss:n})=>{const{translate:a}=(0,y.Z)(),i=e?"webapp_account_security_settings_passwordless_enable_all_authenticators_title_biometrics":"webapp_account_security_settings_passwordless_enable_noplatform_title",r=e?"webapp_account_security_settings_passwordless_enable_all_authenticators_description":"webapp_account_security_settings_passwordless_enable_noplatform_description",o=e?"webapp_account_security_settings_passwordless_enable_all_authenticators_button_add":"webapp_account_security_settings_passwordless_enable_noplaftorm_button_add";return(0,S.BX)(m.Vq,{title:"",isOpen:!0,onClose:n,actions:{primary:{children:a(o),onClick:t},secondary:{children:a("webapp_account_security_settings_passwordless_enable_button_cancel"),onClick:n}},closeActionLabel:a("_common_dialog_dismiss_button"),dialogClassName:f.Ht,"aria-describedby":"enableDialogBody",children:[(0,S.tZ)("div",{className:x,children:B||(B=(0,S.tZ)(k.oie,{size:60,"aria-hidden":"true"}))}),(0,S.tZ)(g.X,{as:"h2",children:a(i)}),(0,S.tZ)(b.n,{id:"enableDialogBody",color:"ds.text.neutral.quiet",sx:{marginBottom:"18px"},children:a(r)}),(0,S.tZ)(z.k,{title:a("webapp_account_security_settings_passwordless_enable_all_authenticators_information_tip")})]})};var F;const X=({userHasWebAuthnPlatformAuthenticator:e,onDone:t})=>{const{translate:n}=(0,y.Z)(),a=e?"webapp_account_security_settings_passwordless_confirm_enable_all_authenticators_title":"webapp_account_security_settings_passwordless_confirm_enable_noplatform_title",i=e?"webapp_account_security_settings_passwordless_confirm_enable_all_authenticators_description_markup":"webapp_account_security_settings_passwordless_confirm_enable_noplatform_description_markup";return(0,S.BX)(m.Vq,{title:"",isOpen:!0,onClose:t,actions:{primary:{children:n("webapp_account_security_settings_passwordless_confirm_enable_button_done"),onClick:t}},closeActionLabel:n("_common_dialog_dismiss_button"),dialogClassName:f.Ht,"aria-describedby":"confirmEnableDialogBody",children:[(0,S.tZ)("div",{className:x,children:F||(F=(0,S.tZ)(k.rE2,{size:60,"aria-hidden":"true"}))}),(0,S.BX)(g.X,{as:"h2",children:[" ",n(a)]}),(0,S.tZ)(b.n,{id:"confirmEnableDialogBody",color:"ds.text.neutral.quiet",children:n.markup(i)})]})};var q=function(e){return e.NONE="NONE",e.ENABLE="ENABLE",e.CONFIRM_ENABLE="CONFIRM_ENABLE",e.ERROR="ERROR",e}(q||{});const H=({onDialogClose:e})=>{var t,n,r;const[d,p]=(0,a.useState)(),[u,_]=(0,a.useState)(q.NONE),m=P();(0,a.useEffect)((()=>{(async()=>{try{const e=await(async()=>{const e=(0,c.Me)();if(!e)throw new Error("WebAuthn Authentication Enable cannot be started as extension Id is missing");const t=await i.C.initEnableWebAuthnAuthentication({relyingPartyId:e});if(!t.success)throw new Error("WebAuthn Authentication Enable cannot be completed as init was not possible");return t})();p(e),_(q.ENABLE)}catch{_(q.ERROR)}})()}),[]);const h=(0,a.useCallback)((()=>{_(q.NONE),"function"==typeof e&&e()}),[e]),g=(0,a.useCallback)((async()=>{try{await(async e=>{if(!e||!e.success)throw new Error("WebAuthn authentication - Init Enable Result missing");const{publicKeyOptions:t,webAuthnType:n}=e.response;let a;switch(n){case o.vz.CREATE:a=await(async e=>{const t=await(0,s.G)(e),n=(0,l.Sq)(),a=o.vz.CREATE;return{success:(await i.C.enableWebAuthnAuthentication({authenticationType:a,credential:t,isRoaming:n})).success,data:{authenticationType:a,isRoaming:n}}})(t);break;case o.vz.GET:a=await(async e=>{const t=await(0,s.p)(e),n=o.vz.GET;return{success:(await i.C.enableWebAuthnAuthentication({authenticationType:n,credential:t})).success,data:{authenticationType:n}}})(t);break;default:a={success:!1}}if(!a.success)throw new Error("WebAuthn authentication - Enable call on Carbon failed");return a})(d),p(void 0),_(q.CONFIRM_ENABLE)}catch{_(q.ERROR)}}),[d]);return(0,S.tZ)((()=>{switch(u){case q.ENABLE:return t||(t=(0,S.tZ)(U,{userHasWebAuthnPlatformAuthenticator:m,onAddAuthenticator:g,onDismiss:h}));case q.CONFIRM_ENABLE:return n||(n=(0,S.tZ)(X,{onDone:h,userHasWebAuthnPlatformAuthenticator:m}));case q.ERROR:return r||(r=(0,S.tZ)(I,{onDone:h}));case q.NONE:default:return null}}),{})}},32070:e=>{e.exports={"--dashlane-credentials-grid-collapsing-duration":"300"}},85462:e=>{e.exports={"--dashlane-credentials-website-icon-border":"hsl(0, 0%, 73%)","--dashlane-credentials-header-height":"72px","--dashlane-credentials-table-header-height":"60px","--sidemenu-collapsed-width":"48px","--sidemenu-uncollapsed-min-width":"320px","--sidemenu-uncollapsed-max-width":"400px","--sidemenu-transition-duration":"500ms","--account-panel-width":"360px","--account-panel-animation-duration":"200ms","--account-panel-animation-easing":"ease-out","--edit-panel-width":"640px","--edit-panel-animation-duration-appear":"200ms","--edit-panel-animation-duration-enter":"200ms","--edit-panel-animation-duration-leave":"200ms","--edit-panel-animation-easing":"linear","--edit-panel-close-action-labels-spacing":"4px","--edit-panel-actions-animation-easing":"ease","--transition-duration-fast":"200ms","--transition-duration-slow":"300ms","--transition-duration-arriving":"400ms","--transition-duration-leaving":"350ms","--exponent-in-easing":"cubic-bezier(0.87, 0, 0.93, 0.5)","--exponent-out-easing":"cubic-bezier(0.03, 0.85, 0.34, 1)","--exponent-in-out-easing":"cubic-bezier(0.43, 0.01, 0, 1)","--bounce-in-easing":"cubic-bezier(0.175, 0.885, 0.32, 1.45)","--box-shadow-values":"0 16px 32px rgba(0, 0, 0, 0.32)","--icon-size-default":"40px"}},2001:(e,t,n)=>{var a=n(96832);function i(e){return a.createElement("svg",e,[a.createElement("defs",{key:0},a.createElement("radialGradient",{cx:"25.967%",cy:"20.752%",fx:"25.967%",fy:"20.752%",r:"62.196%",id:"a"},[a.createElement("stop",{stopColor:"#72C7EF",offset:"0%",key:0}),a.createElement("stop",{stopColor:"#1997D5",offset:"100%",key:1})])),a.createElement("g",{fill:"none",fillRule:"evenodd",key:1},[a.createElement("path",{fill:"url(#a)",d:"M0 0h40v30H0z",key:0}),a.createElement("path",{d:"m3.606 11.774-.77-1.888-.764 1.888h1.534Zm16.949-.751a1.036 1.036 0 0 1-.556.097h-1.373v-1.051h1.384c.182-.015.365.015.533.085a.43.43 0 0 1 .236.419.485.485 0 0 1-.224.45Zm9.741.751-.777-1.888-.773 1.888h1.55ZM12.14 13.82h-1.15v-3.715L9.36 13.82h-.993l-1.634-3.715v3.715h-2.29l-.426-1.056h-2.34l-.438 1.056H.017L2.03 9.08H3.7l1.909 4.485V9.08h1.834l1.47 3.213 1.352-3.213h1.871v4.736l.004.002Zm4.593 0h-3.759V9.08h3.755v.986h-2.631v.857h2.567v.972h-2.567v.945h2.631l.004.978Zm5.297-3.462a1.334 1.334 0 0 1-.792 1.263c.217.08.41.218.556.399.16.235.186.445.186.868v.93h-1.135v-.597c0-.286.027-.694-.177-.923-.164-.167-.414-.203-.82-.203h-1.222v1.723h-1.124V9.081h2.586c.567 0 .993.016 1.362.228.368.211.58.52.58 1.048Zm1.798 3.462h-1.147V9.08h1.147v4.738Zm13.307 0h-1.599l-2.127-3.555v3.555h-2.293l-.434-1.058h-2.339l-.425 1.056h-1.315c-.546 0-1.238-.121-1.63-.524-.391-.403-.6-.947-.6-1.809 0-.703.123-1.344.606-1.857.363-.378.932-.553 1.702-.553h1.088v1.015H26.71c-.41 0-.641.061-.866.285-.191.2-.323.572-.323 1.073 0 .502.1.873.31 1.113.172.187.487.244.782.244h.505l1.577-3.723h1.684l1.91 4.485V9.08H34l1.976 3.299V9.081h1.152v4.736l.006.002Zm-37.13.93h1.921l.433-1.052h.969l.425 1.052h3.779v-.805l.338.807h1.96l.338-.82v.816h9.393V13.02h.181c.128 0 .165.016.165.229v1.498h4.857v-.401c.56.28 1.179.418 1.804.403h2.044l.437-1.052h.968l.426 1.052h3.938v-1l.595 1h3.156V8.137h-3.12v.78l-.443-.78h-3.204v.78l-.4-.78h-4.33c-.724 0-1.36.102-1.874.386v-.386h-2.989v.386c-.328-.286-.773-.386-1.277-.386H9.591L8.86 9.851l-.752-1.714H4.67v.78l-.372-.78H1.362L0 11.28v3.466l.006.003Zm39.988 3.491h-2.05a.774.774 0 0 0-.455.086.37.37 0 0 0-.165.342.357.357 0 0 0 .246.352c.14.043.286.06.432.053l.609.017c.614.016 1.025.122 1.277.382.04.034.075.074.104.117l.002-1.349Zm-.002 3.125c-.272.401-.805.605-1.524.605h-2.17v-1.015h2.161c.214 0 .365-.029.455-.117a.417.417 0 0 0 .134-.309.39.39 0 0 0-.142-.313.564.564 0 0 0-.396-.106c-1.055-.035-2.371.033-2.371-1.465 0-.687.432-1.41 1.612-1.41h2.24v-.943h-2.074c-.628 0-1.083.151-1.407.387v-.387h-3.08c-.493 0-1.07.123-1.344.387v-.387H26.59v.387c-.437-.317-1.176-.387-1.516-.387H21.45v.387c-.346-.337-1.115-.387-1.584-.387H15.81l-.928 1.011-.87-1.011H7.954v6.61h5.945l.956-1.027.9 1.027h3.666V21.35h.36c.487.007 1.06-.013 1.56-.233v1.784h3.023V21.18h.142c.186 0 .204.007.204.195v1.527h9.193c.583 0 1.193-.15 1.53-.428v.428h2.91c.606 0 1.198-.085 1.648-.304v-1.231h.001Zm-4.486-1.893c.218.228.336.516.336 1 0 1.018-.632 1.494-1.766 1.494H31.89v-1.016h2.18a.656.656 0 0 0 .46-.117.421.421 0 0 0-.008-.621.588.588 0 0 0-.4-.106c-1.051-.036-2.368.033-2.368-1.466 0-.687.426-1.41 1.607-1.41h2.254v1.009h-2.058a.756.756 0 0 0-.451.086.398.398 0 0 0 .077.694c.141.043.289.06.436.053l.606.017c.611.017 1.03.123 1.281.383Zm-10.143-.286a1.07 1.07 0 0 1-.555.097h-1.359V18.22h1.385c.183-.017.367.013.536.086a.45.45 0 0 1 .232.428.512.512 0 0 1-.235.446l-.004.007Zm.68.59c.216.078.407.215.55.397.158.232.181.447.185.865v.938h-1.134v-.593c0-.285.027-.707-.182-.927-.165-.17-.414-.21-.824-.21h-1.189v1.73h-1.135v-4.743h2.596c.568 0 .983.026 1.353.225.38.206.607.617.578 1.051a1.328 1.328 0 0 1-.796 1.26l-.003.007Zm1.418-2.536h3.751v.98h-2.627v.858h2.568v.967h-2.568v.943h2.633v.982h-3.753l-.004-4.73Zm-7.58 2.182h-1.452v-1.206h1.466c.405 0 .688.167.688.582 0 .414-.27.624-.701.624Zm-2.57 2.12-1.727-1.93 1.726-1.869v3.799Zm-4.458-.556h-2.764v-.943h2.468v-.967h-2.468v-.857h2.818l1.23 1.38-1.284 1.387Zm8.937-2.19c0 1.316-.975 1.587-1.958 1.587h-1.403v1.589h-2.185L14.858 20.4l-1.438 1.572H8.967v-4.739h4.52l1.384 1.553 1.43-1.553h3.591c.894 0 1.895.249 1.895 1.56l.002.003Z",fill:"#FFF",key:1})])])}i.defaultProps={width:"40",height:"30"},e.exports=i,i.default=i},56078:(e,t,n)=>{var a=n(96832);function i(e){return a.createElement("svg",e,[a.createElement("g",{clipPath:"url(#a)",key:0},[a.createElement("path",{d:"m16 24 20-6v6H16Z",fill:"#FD6020",key:0}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.607 8.996c1.094 0 1.695.506 1.695 1.461.055.73-.437 1.349-1.093 1.461l1.476 2.08h-1.148l-1.258-2.024h-.11v2.024h-.928V8.995h1.366ZM30.17 11.3h.273c.602 0 .875-.281.875-.787 0-.45-.273-.73-.875-.73h-.273V11.3Zm-4.154 2.697h2.624v-.842h-1.695v-1.35h1.64v-.842h-1.64V9.839h1.695v-.843h-2.624v5.002Zm-2.733-1.63-1.258-3.371h-.983l2.022 5.114h.492l2.023-5.114h-.984l-1.312 3.372Zm-11.099-.842c0 1.405 1.094 2.585 2.46 2.585.438 0 .82-.112 1.203-.281v-1.124c-.273.337-.656.562-1.093.562-.875 0-1.586-.674-1.586-1.574v-.112A1.664 1.664 0 0 1 14.7 9.839c.437 0 .875.225 1.148.562V9.277c-.328-.225-.765-.281-1.148-.281-1.421-.113-2.515 1.068-2.515 2.529Zm-1.694-.618c-.547-.225-.71-.338-.71-.619.054-.337.327-.618.655-.562.273 0 .547.169.765.394l.493-.675c-.383-.337-.875-.562-1.367-.562-.766-.056-1.422.562-1.476 1.35v.055c0 .675.273 1.068 1.148 1.35.218.055.437.168.656.28a.594.594 0 0 1 .273.506c0 .393-.328.73-.656.73h-.055a1.08 1.08 0 0 1-.984-.674l-.601.618c.328.618.984.956 1.64.956.875.056 1.585-.619 1.64-1.518v-.168c-.054-.675-.328-1.012-1.421-1.461Zm-3.17 3.09h.929v-5h-.93v5.002ZM3 8.995h1.64c1.312.056 2.35 1.18 2.296 2.53 0 .73-.328 1.404-.875 1.91-.492.393-1.093.618-1.694.562H3V8.994Zm1.204 4.16c.437.057.93-.112 1.257-.393.328-.337.492-.787.492-1.292 0-.45-.164-.9-.492-1.237-.328-.28-.82-.45-1.257-.393H3.93v3.316h.274Z",fill:"#000",key:1}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.976 8.8c-1.4 0-2.576 1.151-2.576 2.648 0 1.44 1.12 2.648 2.576 2.706 1.456.057 2.576-1.152 2.632-2.648-.056-1.497-1.176-2.706-2.632-2.706Z",fill:"#FD6020",key:2})]),a.createElement("path",{d:"M2 1h32v-2H2v2Zm33 1v20h2V2h-2Zm-1 21H2v2h32v-2ZM1 22V2h-2v20h2Zm1 1a1 1 0 0 1-1-1h-2a3 3 0 0 0 3 3v-2Zm33-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2ZM34 1a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2ZM2-1a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1v-2Z",fill:"#000",fillOpacity:".1",key:1}),a.createElement("defs",{key:2},a.createElement("clipPath",{id:"a"},a.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h32a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2Z",fill:"#fff"})))])}i.defaultProps={width:"36",height:"24",fill:"none"},e.exports=i,i.default=i},52615:(e,t,n)=>{var a=n(96832);function i(e){return a.createElement("svg",e,[a.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h32a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2Z",fill:"#000",key:0}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.18 17.358a7.106 7.106 0 0 1-4.596 1.672c-3.912 0-7.084-3.134-7.084-7s3.172-7 7.084-7c1.754 0 3.358.63 4.596 1.672a7.107 7.107 0 0 1 4.595-1.672c3.912 0 7.084 3.134 7.084 7s-3.172 7-7.084 7a7.106 7.106 0 0 1-4.595-1.672Z",fill:"#ED0006",key:1}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.18 17.358a6.95 6.95 0 0 0 2.489-5.328 6.951 6.951 0 0 0-2.49-5.328 7.107 7.107 0 0 1 4.596-1.672c3.912 0 7.084 3.134 7.084 7s-3.172 7-7.084 7a7.106 7.106 0 0 1-4.595-1.672Z",fill:"#F9A000",key:2}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.18 17.358a6.95 6.95 0 0 0 2.489-5.328 6.95 6.95 0 0 0-2.49-5.328 6.95 6.95 0 0 0-2.488 5.328 6.95 6.95 0 0 0 2.489 5.328Z",fill:"#FF5E00",key:3})])}i.defaultProps={width:"36",height:"24",fill:"none"},e.exports=i,i.default=i},51615:(e,t,n)=>{var a=n(96832);function i(e){return a.createElement("svg",e,[a.createElement("path",{fill:"#1434cb",d:"M0 0h40v30H0z",key:0}),a.createElement("path",{fill:"#fff",fillRule:"nonzero",d:"m19.83 9.548-2.339 10.933h-2.828l2.34-10.933h2.827Zm11.899 7.059 1.488-4.105.857 4.105h-2.345Zm3.155 3.874H37.5L35.217 9.548h-2.414c-.543 0-1.001.316-1.204.802l-4.244 10.131h2.97l.589-1.633h3.629l.341 1.633Zm-7.381-3.57c.012-2.885-3.99-3.044-3.963-4.333.009-.392.382-.809 1.2-.916.405-.053 1.522-.094 2.788.489l.497-2.318a7.602 7.602 0 0 0-2.646-.485c-2.795 0-4.762 1.486-4.779 3.614-.018 1.574 1.404 2.452 2.476 2.975 1.102.536 1.472.88 1.468 1.359-.008.734-.88 1.057-1.694 1.07-1.421.022-2.246-.385-2.904-.69l-.512 2.395c.66.303 1.88.568 3.145.581 2.971 0 4.914-1.468 4.924-3.741M15.789 9.548l-4.582 10.933h-2.99l-2.255-8.725c-.137-.538-.256-.734-.672-.961-.68-.369-1.802-.714-2.79-.929l.067-.318h4.812c.614 0 1.165.408 1.305 1.115l1.19 6.326 2.944-7.441h2.971Z",key:1})])}i.defaultProps={width:"40",height:"30",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"}},e.exports=i,i.default=i},77873:(e,t,n)=>{var a=n(96832);function i(e){return a.createElement("svg",e,[a.createElement("rect",{width:"48",height:"32",rx:"4",key:0}),a.createElement("path",{d:"M6 19a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm11 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm17 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-9 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-16.5 5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1Zm12 3h-19a.5.5 0 0 0 0 1h19a.5.5 0 0 0 0-1Z",fill:"#fff",fillOpacity:".6",key:1})])}i.defaultProps={width:"48",height:"32",fill:"#F29100"},e.exports=i,i.default=i},84997:(e,t,n)=>{var a=n(96832);function i(e){return a.createElement("svg",e,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.5 31h-30V9h30v22Zm-3-12v9h-24v-9h5.357l-3-3H8.5v-4h24v4H16.857v3H32.5Z",fill:"#fff"}))}i.defaultProps={width:"41",height:"40",fill:"none"},e.exports=i,i.default=i},20860:(e,t,n)=>{var a=n(96832);function i(e){return a.createElement("svg",e,[a.createElement("rect",{width:"48",height:"32",rx:"4",fill:"#F5F5F5",key:0}),a.createElement("rect",{x:".5",y:".5",width:"47",height:"31",rx:"3.5",stroke:"#191919",strokeOpacity:".1",key:1}),a.createElement("path",{d:"M6 19a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm11 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm17 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-9 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-16.5 5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1Zm12 3h-19a.5.5 0 0 0 0 1h19a.5.5 0 0 0 0-1Z",fill:"#191919",fillOpacity:".1",key:2})])}i.defaultProps={width:"48",height:"32",fill:"none"},e.exports=i,i.default=i},52805:(e,t,n)=>{var a=n(96832);function i(e){return a.createElement("svg",e,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.018 7.248c0-.54-.287-1.101-.774-1.54C10.76 5.271 10.122 5 9.51 5c-.65 0-1.293.217-1.762.582-.463.36-.74.848-.735 1.414v.007L7 9h7v6H5V9h1.54L6 8.997 6.012 7c-.006-.932.461-1.693 1.121-2.207C7.788 4.283 8.65 4 9.509 4c.895 0 1.763.387 2.405.965.64.578 1.104 1.39 1.104 2.283v1.744h-1V7.248ZM13 10H6v4h5l1 1h1.006v-1H13v-4Z",fill:"#0E353D"}))}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},31926:(e,t,n)=>{var a=n(96832);function i(e){return a.createElement("svg",e,[a.createElement("path",{d:"M8.833 9.99a1.5 1.5 0 0 1 0-2.98c.168-.358.394-.681.667-.96a2.5 2.5 0 1 0 0 4.9 3.508 3.508 0 0 1-.667-.96Z",fill:"#0E353D",key:0}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15h8s-.021-.45-.27-1c-.396-.873-1.365-2-3.73-2-2.366 0-3.334 1.127-3.73 2-.25.55-.27 1-.27 1Zm1.425-1c.338-.45 1.03-1 2.575-1 1.545 0 2.237.55 2.575 1h-5.15Z",fill:"#0E353D",key:1}),a.createElement("path",{d:"M5.237 14c.31-.784 1.027-1.774 2.671-1.967a4.782 4.782 0 0 0-.602.798 5.094 5.094 0 0 0-.263.496c-.34.193-.55.443-.693.673h.433a5.635 5.635 0 0 0-.207.954L6.57 15H5s.019-.45.237-1ZM13.5 8.5c0 .371-.135.71-.358.972l.709.709a2.5 2.5 0 1 0-.767.573L12.3 9.97a1.5 1.5 0 1 1 1.2-1.47Z",fill:"#0E353D",key:2})])}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},13134:(e,t,n)=>{"use strict";n.d(t,{Y:()=>_});var a=n(97143),i=n(11590),r=n(2509);const o=/^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$/,s=e=>o.test(e),l=e=>e.startsWith("["),c=e=>e.length>1?e.slice(0,-1).join("."):"",d=/^[A-Za-z+\-.]+:\/\//,p=e=>d.test(e),u=e=>""!==e;class _{getRootDomain(){const e=this.appendETLD(this.rootDomainName);return this.isUnicode?(0,i.xX)(e):e}getRootDomainName(){return this.isUnicode?(0,i.xX)(this.rootDomainName):this.rootDomainName}getSubdomain(){return this.isUnicode?(0,i.xX)(this.subdomain):this.subdomain}getSubdomainWithoutLeadingWww(){return this.isUnicode?(0,i.xX)(this.subdomainWithoutLeadingWww):this.subdomainWithoutLeadingWww}getHostname(){return this.isUnicode?(0,i.xX)(this.hostname):this.hostname}getHost(){return this.isUnicode?(0,i.xX)(this.host):this.host}getETLD(){return this.isUnicode?(0,i.xX)(this.etld):this.etld}getPIIStrippedURL(){if(this.isUnicode){const e=this.piiStrippedURL.split("://");return`${e[0]}://${(0,i.xX)(e[1])}`}return this.piiStrippedURL}getSearch(){return this.isUnicode?(0,i.xX)(this.search):this.search}getPathname(){return this.pathname}isUrlValid(e={}){const{IPv4Allowed:t=!0,IPv6Allowed:n=!0,mustBeHttpOrHttps:a=!1,requireEtld:i=!1}=e;return!(!t&&s(this.hostname))&&!(!n&&l(this.hostname))&&!(a&&!this.hasHTTPProtocol)&&!(i&&!u(this.etld))&&(this.hasHTTPProtocol||u(this.etld)||this.isUrlIP())}hasHTTPLikeProtocol(){return this.hasHTTPProtocol}getUrlWithFallbackHttpsProtocol(){return this.isUnicode?(0,i.xX)(this.userInputWithProtocol):this.userInputWithProtocol}isUrlIP(){return s(this.hostname)||l(this.hostname)}constructor(e){(0,a._)(this,"etld",void 0),(0,a._)(this,"hasHTTPProtocol",void 0),(0,a._)(this,"hostname",void 0),(0,a._)(this,"host",void 0),(0,a._)(this,"isUnicode",void 0),(0,a._)(this,"pathname",void 0),(0,a._)(this,"piiStrippedURL",void 0),(0,a._)(this,"rootDomainName",void 0),(0,a._)(this,"search",void 0),(0,a._)(this,"subdomain",void 0),(0,a._)(this,"subdomainWithoutLeadingWww",void 0),(0,a._)(this,"userInput",void 0),(0,a._)(this,"userInputWithProtocol",void 0),(0,a._)(this,"appendETLD",(e=>this.etld?`${e}.${this.etld}`:e));const t=(e=>{const t={hash:"",host:"",hostname:"",href:"",origin:"",password:"",pathname:"",port:"",protocol:"",search:"",username:"",userInput:"",userInputWithProtocol:""},n=e;if(!(e=e.trim()))return t;p(e)||(e=`https://${e}`);try{const t=new URL((e=>e.endsWith(".")?e.slice(0,-1):e)(e));return{hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,password:t.password,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search,username:t.username,userInput:n,userInputWithProtocol:e}}catch(e){return t}})(e="string"==typeof e?e:"");this.isUnicode=e!==(0,i.H9)(e),this.hostname=t.hostname,this.host=t.host,this.pathname=t.pathname,this.piiStrippedURL=(e=>{if(!e)return"";if(!["http:","https:"].includes(e.protocol))return e.href;try{return(p(e.userInput)?e.origin:e.origin.split("://")[1])+(()=>{if("/"!==e.pathname)return e.pathname;const t=e.userInput.split(e.host);return t.length>1&&t[1].startsWith("/")?e.pathname:""})()+e.hash}catch(e){return""}})(t),this.search=t.search,this.hasHTTPProtocol=(e=>e.startsWith("http://")||e.startsWith("https://"))(e);const{etld:n,mainDomain:o,subdomain:d,subdomainWithoutLeadingWww:u}=!(_=this.hostname)||(e=>e.startsWith(".")||e.endsWith("."))(_)?{etld:"",mainDomain:"",subdomain:"",subdomainWithoutLeadingWww:""}:"localhost"===_?{etld:"",mainDomain:_,subdomain:"",subdomainWithoutLeadingWww:""}:s(_)?(e=>({etld:"",mainDomain:e,subdomain:"",subdomainWithoutLeadingWww:""}))(_):l(_)?(e=>({etld:"",mainDomain:e.slice(1,-1),subdomain:"",subdomainWithoutLeadingWww:""}))(_):(e=>{const t=function(e){if(!e)return"";const t=function(e){const t=[];let n=e.split(".");for(;1!==n.length;)n=n.slice(1),t.push(n.join("."));return t}(e);if(0===t.length)return"";if(r.x.exception.has(e))return t[0];for(let e=0;e<t.length;e++){const n=t[e];if(r.x.exception.has(n))return t[e+1];if(r.x.basic.has(n))return n;const a=t[e+1];if(r.x.wildcard.has(a))return n}return""}(e),n=((e,t)=>(t&&(e=e.slice(0,-t.length-1)),e))(e,t).split("."),a=(e=>e.length>1&&"www"===e[0]?e.slice(1):e)(n);return{etld:t,mainDomain:a[a.length-1]?a[a.length-1]:"",subdomain:c(n),subdomainWithoutLeadingWww:c(a)}})(_);var _;this.etld=n,this.rootDomainName=o,this.subdomain=d,this.subdomainWithoutLeadingWww=u,this.userInput=t.userInput,this.userInputWithProtocol=t.userInputWithProtocol}}}}]);