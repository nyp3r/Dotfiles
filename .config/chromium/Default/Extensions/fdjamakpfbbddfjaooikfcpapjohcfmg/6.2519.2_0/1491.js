"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[1491],{52204:(e,t,a)=>{a.r(t),a.d(t,{PaymentCardAddPanel:()=>V});var n,r=a(96832),i=a(73704),o=a(14900),s=a(78346),d=a(8180),l=a(14877),m=a(53214),c=a(39431),u=a(86498),p=a(88203),_=a(45272),g=a(92077),y=a(76376),h=a(42670),w=a(19122),C=a(10679),S=a(63520),b=a(94138),I=a(36351);const N="_common_generic_error",V=()=>{const[e,t]=(0,r.useState)(!1),[a,V]=(0,r.useState)(!1),{translate:f}=(0,p.Z)(),{routes:P}=(0,y.Xo)(),{showAlert:E}=(0,u.V)(),{createVaultItem:R}=(0,d.u)(l.L),{currentSpaceId:v}=(0,w.fV)(),[B,L]=(0,r.useState)(),[Z,k]=(0,r.useState)({itemName:"",cardNumber:"",ownerName:"",securityCode:"",expireMonth:"",expireYear:(new Date).getFullYear().toString(),color:m.X.Blue1,spaceId:null!=v?v:"",note:""}),{openDialog:x,shouldShowFrozenStateDialog:D}=(0,h.Ub)();(0,r.useEffect)((()=>{(0,_.Nc)(i.PageView.ItemCreditCardCreate)}),[]),(0,r.useEffect)((()=>{D&&x()}),[D]);const U=()=>{(0,_.Nc)(i.PageView.ItemPaymentList),(0,g.uX)(P.userPayments)};return(0,I.tZ)(S.zI,{isUsingNewDesign:!0,isViewingExistingItem:!1,itemHasBeenEdited:e,onNavigateOut:U,submitPending:a,onSubmit:async()=>{if(a)return;const e=(0,C.u)(Z);if(!e.isValid)return L(e.errorSet);V(!0);try{const e=await R({vaultItemType:c.U.PaymentCard,content:Z});(0,s.d6)(e)?(E(Z.itemName?f("webapp_payment_edition_name_save_alert",{paymentCard:Z.itemName}):f("webapp_payment_edition_generic_save_alert"),o.BLW.SUCCESS),U()):(E(f(N),o.BLW.ERROR),V(!1))}catch(e){E(f(N),o.BLW.ERROR),V(!1)}},formId:"add_paymentcard_panel",header:(0,I.tZ)(S.V9,{icon:n||(n=(0,I.tZ)(b.A,{type:"payment-card",size:"xlarge"})),title:f("webapp_payment_edition_header_add_payment_card")}),children:(0,I.tZ)(C.gd,{paymentCardContent:Z,onValueChanged:e=>{k((t=>({...t,...e}))),t(!0)},errors:B})})}}}]);