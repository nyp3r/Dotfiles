/*! For license information please see popup-vendors-ab28add5.js.LICENSE.txt */
(globalThis.webpackChunk_dashlane_popup=globalThis.webpackChunk_dashlane_popup||[]).push([[808],{36861:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ENTRY_PROVIDER_WATERMARK=e.CATCH_WATERMARK=e.CONTROLLER_WATERMARK=e.INJECTABLE_WATERMARK=e.VERSION_METADATA=e.SSE_METADATA=e.RESPONSE_PASSTHROUGH_METADATA=e.REDIRECT_METADATA=e.HEADERS_METADATA=e.MODULE_PATH=e.HTTP_CODE_METADATA=e.RENDER_METADATA=e.ENHANCER_KEY_TO_SUBTYPE_MAP=e.EXCEPTION_FILTERS_METADATA=e.INTERCEPTORS_METADATA=e.GUARDS_METADATA=e.PIPES_METADATA=e.FILTER_CATCH_EXCEPTIONS=e.CUSTOM_ROUTE_ARGS_METADATA=e.ROUTE_ARGS_METADATA=e.METHOD_METADATA=e.SCOPE_OPTIONS_METADATA=e.OPTIONAL_PROPERTY_DEPS_METADATA=e.PROPERTY_DEPS_METADATA=e.OPTIONAL_DEPS_METADATA=e.SELF_DECLARED_DEPS_METADATA=e.PARAMTYPES_METADATA=e.PATH_METADATA=e.HOST_METADATA=e.GLOBAL_MODULE_METADATA=e.MODULE_METADATA=void 0,e.MODULE_METADATA={IMPORTS:"imports",PROVIDERS:"providers",CONTROLLERS:"controllers",EXPORTS:"exports"},e.GLOBAL_MODULE_METADATA="__module:global__",e.HOST_METADATA="host",e.PATH_METADATA="path",e.PARAMTYPES_METADATA="design:paramtypes",e.SELF_DECLARED_DEPS_METADATA="self:paramtypes",e.OPTIONAL_DEPS_METADATA="optional:paramtypes",e.PROPERTY_DEPS_METADATA="self:properties_metadata",e.OPTIONAL_PROPERTY_DEPS_METADATA="optional:properties_metadata",e.SCOPE_OPTIONS_METADATA="scope:options",e.METHOD_METADATA="method",e.ROUTE_ARGS_METADATA="__routeArguments__",e.CUSTOM_ROUTE_ARGS_METADATA="__customRouteArgs__",e.FILTER_CATCH_EXCEPTIONS="__filterCatchExceptions__",e.PIPES_METADATA="__pipes__",e.GUARDS_METADATA="__guards__",e.INTERCEPTORS_METADATA="__interceptors__",e.EXCEPTION_FILTERS_METADATA="__exceptionFilters__",e.ENHANCER_KEY_TO_SUBTYPE_MAP={[e.GUARDS_METADATA]:"guard",[e.INTERCEPTORS_METADATA]:"interceptor",[e.PIPES_METADATA]:"pipe",[e.EXCEPTION_FILTERS_METADATA]:"filter"},e.RENDER_METADATA="__renderTemplate__",e.HTTP_CODE_METADATA="__httpCode__",e.MODULE_PATH="__module_path__",e.HEADERS_METADATA="__headers__",e.REDIRECT_METADATA="__redirect__",e.RESPONSE_PASSTHROUGH_METADATA="__responsePassthrough__",e.SSE_METADATA="__sse__",e.VERSION_METADATA="__version__",e.INJECTABLE_WATERMARK="__injectable__",e.CONTROLLER_WATERMARK="__controller__",e.CATCH_WATERMARK="__catch__",e.ENTRY_PROVIDER_WATERMARK="__entryProvider__"},64520:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyDecorators=void 0,e.applyDecorators=function(...t){return(e,r,s)=>{for(const i of t)e instanceof Function&&!s?i(e):i(e,r,s)}}},43327:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bind=void 0,e.Bind=function(...t){return(e,r,s)=>(t.forEach(((t,s)=>t(e,r,s))),s)}},58045:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Catch=void 0;const s=r(36861);e.Catch=function(...t){return e=>{Reflect.defineMetadata(s.CATCH_WATERMARK,!0,e),Reflect.defineMetadata(s.FILTER_CATCH_EXCEPTIONS,t,e)}}},26357:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Controller=void 0;const s=r(36861),i=r(92889);e.Controller=function(t){const[e,r,n,o]=(0,i.isUndefined)(t)?["/",void 0,void 0,void 0]:(0,i.isString)(t)||Array.isArray(t)?[t,void 0,void 0,void 0]:[t.path||"/",t.host,{scope:t.scope,durable:t.durable},Array.isArray(t.version)?Array.from(new Set(t.version)):t.version];return t=>{Reflect.defineMetadata(s.CONTROLLER_WATERMARK,!0,t),Reflect.defineMetadata(s.PATH_METADATA,e,t),Reflect.defineMetadata(s.HOST_METADATA,r,t),Reflect.defineMetadata(s.SCOPE_OPTIONS_METADATA,n,t),Reflect.defineMetadata(s.VERSION_METADATA,o,t)}}},35971:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dependencies=e.flatten=void 0;const s=r(36861);function i(t){const e=[].concat(...t);return e.some(Array.isArray)?i(e):e}e.flatten=i,e.Dependencies=(...t)=>{const e=i(t);return t=>{Reflect.defineMetadata(s.PARAMTYPES_METADATA,e,t)}}},41619:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UseFilters=void 0;const s=r(36861),i=r(28132),n=r(92889),o=r(9526);e.UseFilters=(...t)=>function(...t){return(e,r,a)=>{const l=t=>t&&((0,n.isFunction)(t)||(0,n.isFunction)(t.catch));return a?((0,o.validateEach)(e.constructor,t,l,"@UseFilters","filter"),(0,i.extendArrayMetadata)(s.EXCEPTION_FILTERS_METADATA,t,a.value),a):((0,o.validateEach)(e,t,l,"@UseFilters","filter"),(0,i.extendArrayMetadata)(s.EXCEPTION_FILTERS_METADATA,t,e),e)}}(...t)},55713:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(43327),e),s.__exportStar(r(58045),e),s.__exportStar(r(26357),e),s.__exportStar(r(35971),e),s.__exportStar(r(41619),e),s.__exportStar(r(63217),e),s.__exportStar(r(61698),e),s.__exportStar(r(67807),e),s.__exportStar(r(94028),e),s.__exportStar(r(54223),e),s.__exportStar(r(15983),e),s.__exportStar(r(89744),e),s.__exportStar(r(64520),e),s.__exportStar(r(30825),e)},63217:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Inject=void 0;const s=r(36861),i=r(92889);e.Inject=function(t){const e=arguments.length>0;return(r,n,o)=>{let a=t||Reflect.getMetadata("design:type",r,n);if(a||e||(a=Reflect.getMetadata(s.PARAMTYPES_METADATA,r,n)?.[o]),!(0,i.isUndefined)(o)){let t=Reflect.getMetadata(s.SELF_DECLARED_DEPS_METADATA,r)||[];return t=[...t,{index:o,param:a}],void Reflect.defineMetadata(s.SELF_DECLARED_DEPS_METADATA,t,r)}let l=Reflect.getMetadata(s.PROPERTY_DEPS_METADATA,r.constructor)||[];l=[...l,{key:n,type:a}],Reflect.defineMetadata(s.PROPERTY_DEPS_METADATA,l,r.constructor)}}},61698:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mixin=e.Injectable=void 0;const s=r(1797),i=r(36861);function n(t){return e=>{Reflect.defineMetadata(i.INJECTABLE_WATERMARK,!0,e),Reflect.defineMetadata(i.SCOPE_OPTIONS_METADATA,t,e)}}e.Injectable=n,e.mixin=function(t){return Object.defineProperty(t,"name",{value:(0,s.uid)(21)}),n()(t),t}},67807:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Optional=void 0;const s=r(36861),i=r(92889);e.Optional=function(){return(t,e,r)=>{if(!(0,i.isUndefined)(r)){const e=Reflect.getMetadata(s.OPTIONAL_DEPS_METADATA,t)||[];return void Reflect.defineMetadata(s.OPTIONAL_DEPS_METADATA,[...e,r],t)}const n=Reflect.getMetadata(s.OPTIONAL_PROPERTY_DEPS_METADATA,t.constructor)||[];Reflect.defineMetadata(s.OPTIONAL_PROPERTY_DEPS_METADATA,[...n,e],t.constructor)}}},94028:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMetadata=void 0,e.SetMetadata=(t,e)=>{const r=(r,s,i)=>i?(Reflect.defineMetadata(t,e,i.value),i):(Reflect.defineMetadata(t,e,r),r);return r.KEY=t,r}},54223:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UseGuards=void 0;const s=r(36861),i=r(28132),n=r(92889),o=r(9526);e.UseGuards=function(...t){return(e,r,a)=>{const l=t=>t&&((0,n.isFunction)(t)||(0,n.isFunction)(t.canActivate));return a?((0,o.validateEach)(e.constructor,t,l,"@UseGuards","guard"),(0,i.extendArrayMetadata)(s.GUARDS_METADATA,t,a.value),a):((0,o.validateEach)(e,t,l,"@UseGuards","guard"),(0,i.extendArrayMetadata)(s.GUARDS_METADATA,t,e),e)}}},15983:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UseInterceptors=void 0;const s=r(36861),i=r(28132),n=r(92889),o=r(9526);e.UseInterceptors=function(...t){return(e,r,a)=>{const l=t=>t&&((0,n.isFunction)(t)||(0,n.isFunction)(t.intercept));return a?((0,o.validateEach)(e.constructor,t,l,"@UseInterceptors","interceptor"),(0,i.extendArrayMetadata)(s.INTERCEPTORS_METADATA,t,a.value),a):((0,o.validateEach)(e,t,l,"@UseInterceptors","interceptor"),(0,i.extendArrayMetadata)(s.INTERCEPTORS_METADATA,t,e),e)}}},89744:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UsePipes=void 0;const s=r(36861),i=r(28132),n=r(92889),o=r(9526);e.UsePipes=function(...t){return(e,r,a)=>a?((0,i.extendArrayMetadata)(s.PIPES_METADATA,t,a.value),a):((0,o.validateEach)(e,t,(t=>t&&((0,n.isFunction)(t)||(0,n.isFunction)(t.transform))),"@UsePipes","pipe"),(0,i.extendArrayMetadata)(s.PIPES_METADATA,t,e),e)}},30825:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Version=void 0;const s=r(36861);e.Version=function(t){return Array.isArray(t)&&(t=Array.from(new Set(t))),(e,r,i)=>(Reflect.defineMetadata(s.VERSION_METADATA,t,i.value),i)}},18104:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createParamDecorator=void 0;const s=r(1797),i=r(36861),n=r(69878),o=r(92889);e.createParamDecorator=function(t,e=[]){const r=(0,s.uid)(21);return(s,...a)=>(l,c,u)=>{const h=Reflect.getMetadata(i.ROUTE_ARGS_METADATA,l.constructor,c)||{},p=(0,o.isNil)(s)||!((d=s)&&((0,o.isFunction)(d)&&d.prototype&&(0,o.isFunction)(d.prototype.transform)||(0,o.isFunction)(d.transform)));var d;const f=p?s:void 0,m=p?a:[s,...a];Reflect.defineMetadata(i.ROUTE_ARGS_METADATA,(0,n.assignCustomParameterMetadata)(h,r,u,t,f,...m),l.constructor,c),e.forEach((t=>t(l,c,u)))}}},9622:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Header=void 0;const s=r(36861),i=r(28132);e.Header=function(t,e){return(r,n,o)=>((0,i.extendArrayMetadata)(s.HEADERS_METADATA,[{name:t,value:e}],o.value),o)}},73061:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpCode=void 0;const s=r(36861);e.HttpCode=function(t){return(e,r,i)=>(Reflect.defineMetadata(s.HTTP_CODE_METADATA,t,i.value),i)}},14830:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(14227),e),s.__exportStar(r(47565),e),s.__exportStar(r(73061),e),s.__exportStar(r(18104),e),s.__exportStar(r(2304),e),s.__exportStar(r(9622),e),s.__exportStar(r(16700),e),s.__exportStar(r(55498),e)},16700:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Redirect=void 0;const s=r(36861);e.Redirect=function(t="",e){return(r,i,n)=>(Reflect.defineMetadata(s.REDIRECT_METADATA,{statusCode:e,url:t},n.value),n)}},2304:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Render=void 0;const s=r(36861);e.Render=function(t){return(e,r,i)=>(Reflect.defineMetadata(s.RENDER_METADATA,t,i.value),i)}},14227:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Search=e.All=e.Head=e.Options=e.Patch=e.Put=e.Delete=e.Get=e.Post=e.RequestMapping=void 0;const s=r(36861),i=r(25705),n={[s.PATH_METADATA]:"/",[s.METHOD_METADATA]:i.RequestMethod.GET};e.RequestMapping=(t=n)=>{const e=t[s.PATH_METADATA],r=e&&e.length?e:"/",o=t[s.METHOD_METADATA]||i.RequestMethod.GET;return(t,e,i)=>(Reflect.defineMetadata(s.PATH_METADATA,r,i.value),Reflect.defineMetadata(s.METHOD_METADATA,o,i.value),i)};const o=t=>r=>(0,e.RequestMapping)({[s.PATH_METADATA]:r,[s.METHOD_METADATA]:t});e.Post=o(i.RequestMethod.POST),e.Get=o(i.RequestMethod.GET),e.Delete=o(i.RequestMethod.DELETE),e.Put=o(i.RequestMethod.PUT),e.Patch=o(i.RequestMethod.PATCH),e.Options=o(i.RequestMethod.OPTIONS),e.Head=o(i.RequestMethod.HEAD),e.All=o(i.RequestMethod.ALL),e.Search=o(i.RequestMethod.SEARCH)},47565:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Res=e.Req=e.HostParam=e.Param=e.RawBody=e.Body=e.Query=e.Headers=e.UploadedFiles=e.UploadedFile=e.Session=e.Ip=e.Next=e.Response=e.Request=e.assignMetadata=void 0;const s=r(36861),i=r(26096),n=r(92889);function o(t,e,r,s,...i){return{...t,[`${e}:${r}`]:{index:r,data:s,pipes:i}}}function a(t){return e=>(r,i,n)=>{const a=Reflect.getMetadata(s.ROUTE_ARGS_METADATA,r.constructor,i)||{};Reflect.defineMetadata(s.ROUTE_ARGS_METADATA,o(a,t,n,e),r.constructor,i)}}e.assignMetadata=o;const l=t=>(e,...r)=>(i,a,l)=>{const c=Reflect.getMetadata(s.ROUTE_ARGS_METADATA,i.constructor,a)||{},u=(0,n.isNil)(e)||(0,n.isString)(e),h=u?e:void 0,p=u?r:[e,...r];Reflect.defineMetadata(s.ROUTE_ARGS_METADATA,o(c,t,l,h,...p),i.constructor,a)};e.Request=a(i.RouteParamtypes.REQUEST),e.Response=t=>(e,r,n)=>(t?.passthrough&&Reflect.defineMetadata(s.RESPONSE_PASSTHROUGH_METADATA,t?.passthrough,e.constructor,r),a(i.RouteParamtypes.RESPONSE)()(e,r,n)),e.Next=a(i.RouteParamtypes.NEXT),e.Ip=a(i.RouteParamtypes.IP),e.Session=a(i.RouteParamtypes.SESSION),e.UploadedFile=function(t,...e){return l(i.RouteParamtypes.FILE)(t,...e)},e.UploadedFiles=function(...t){return l(i.RouteParamtypes.FILES)(void 0,...t)},e.Headers=a(i.RouteParamtypes.HEADERS),e.Query=function(t,...e){return l(i.RouteParamtypes.QUERY)(t,...e)},e.Body=function(t,...e){return l(i.RouteParamtypes.BODY)(t,...e)},e.RawBody=function(...t){return l(i.RouteParamtypes.RAW_BODY)(void 0,...t)},e.Param=function(t,...e){return l(i.RouteParamtypes.PARAM)(t,...e)},e.HostParam=function(t){return a(i.RouteParamtypes.HOST)(t)},e.Req=e.Request,e.Res=e.Response},55498:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sse=void 0;const s=r(36861),i=r(25705);e.Sse=function(t){return(e,r,n)=>(t=t&&t.length?t:"/",Reflect.defineMetadata(s.PATH_METADATA,t,n.value),Reflect.defineMetadata(s.METHOD_METADATA,i.RequestMethod.GET,n.value),Reflect.defineMetadata(s.SSE_METADATA,!0,n.value),n)}},26146:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(55713),e),s.__exportStar(r(84430),e),s.__exportStar(r(14830),e)},71338:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Global=void 0;const s=r(36861);e.Global=function(){return t=>{Reflect.defineMetadata(s.GLOBAL_MODULE_METADATA,!0,t)}}},84430:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(71338),e),s.__exportStar(r(22155),e)},22155:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Module=void 0;const s=r(23668);e.Module=function(t){const e=Object.keys(t);return(0,s.validateModuleKeys)(e),e=>{for(const r in t)t.hasOwnProperty(r)&&Reflect.defineMetadata(r,t[r],e)}}},13839:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.HttpStatus=void 0,function(t){t[t.CONTINUE=100]="CONTINUE",t[t.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",t[t.PROCESSING=102]="PROCESSING",t[t.EARLYHINTS=103]="EARLYHINTS",t[t.OK=200]="OK",t[t.CREATED=201]="CREATED",t[t.ACCEPTED=202]="ACCEPTED",t[t.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",t[t.NO_CONTENT=204]="NO_CONTENT",t[t.RESET_CONTENT=205]="RESET_CONTENT",t[t.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",t[t.AMBIGUOUS=300]="AMBIGUOUS",t[t.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",t[t.FOUND=302]="FOUND",t[t.SEE_OTHER=303]="SEE_OTHER",t[t.NOT_MODIFIED=304]="NOT_MODIFIED",t[t.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",t[t.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",t[t.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",t[t.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",t[t.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",t[t.CONFLICT=409]="CONFLICT",t[t.GONE=410]="GONE",t[t.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",t[t.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",t[t.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",t[t.URI_TOO_LONG=414]="URI_TOO_LONG",t[t.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",t[t.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",t[t.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",t[t.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",t[t.MISDIRECTED=421]="MISDIRECTED",t[t.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",t[t.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",t[t.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",t[t.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t[t.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"}(r||(e.HttpStatus=r={}))},74233:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(25705),e),s.__exportStar(r(13839),e),s.__exportStar(r(50475),e),s.__exportStar(r(85233),e)},25705:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.RequestMethod=void 0,function(t){t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.PUT=2]="PUT",t[t.DELETE=3]="DELETE",t[t.PATCH=4]="PATCH",t[t.ALL=5]="ALL",t[t.OPTIONS=6]="OPTIONS",t[t.HEAD=7]="HEAD",t[t.SEARCH=8]="SEARCH"}(r||(e.RequestMethod=r={}))},26096:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.RouteParamtypes=void 0,function(t){t[t.REQUEST=0]="REQUEST",t[t.RESPONSE=1]="RESPONSE",t[t.NEXT=2]="NEXT",t[t.BODY=3]="BODY",t[t.QUERY=4]="QUERY",t[t.PARAM=5]="PARAM",t[t.HEADERS=6]="HEADERS",t[t.SESSION=7]="SESSION",t[t.FILE=8]="FILE",t[t.FILES=9]="FILES",t[t.HOST=10]="HOST",t[t.IP=11]="IP",t[t.RAW_BODY=12]="RAW_BODY"}(r||(e.RouteParamtypes=r={}))},50475:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ShutdownSignal=void 0,function(t){t.SIGHUP="SIGHUP",t.SIGINT="SIGINT",t.SIGQUIT="SIGQUIT",t.SIGILL="SIGILL",t.SIGTRAP="SIGTRAP",t.SIGABRT="SIGABRT",t.SIGBUS="SIGBUS",t.SIGFPE="SIGFPE",t.SIGSEGV="SIGSEGV",t.SIGUSR2="SIGUSR2",t.SIGTERM="SIGTERM"}(r||(e.ShutdownSignal=r={}))},85233:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.VersioningType=void 0,function(t){t[t.URI=0]="URI",t[t.HEADER=1]="HEADER",t[t.MEDIA_TYPE=2]="MEDIA_TYPE",t[t.CUSTOM=3]="CUSTOM"}(r||(e.VersioningType=r={}))},47244:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BadGatewayException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Bad Gateway"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.BAD_GATEWAY),s.HttpStatus.BAD_GATEWAY,n)}}e.BadGatewayException=n},35578:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BadRequestException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Bad Request"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.BAD_REQUEST),s.HttpStatus.BAD_REQUEST,n)}}e.BadRequestException=n},30060:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConflictException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Conflict"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.CONFLICT),s.HttpStatus.CONFLICT,n)}}e.ConflictException=n},23814:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ForbiddenException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Forbidden"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.FORBIDDEN),s.HttpStatus.FORBIDDEN,n)}}e.ForbiddenException=n},77467:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GatewayTimeoutException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Gateway Timeout"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.GATEWAY_TIMEOUT),s.HttpStatus.GATEWAY_TIMEOUT,n)}}e.GatewayTimeoutException=n},91471:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GoneException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Gone"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.GONE),s.HttpStatus.GONE,n)}}e.GoneException=n},18406:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpVersionNotSupportedException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="HTTP Version Not Supported"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.HTTP_VERSION_NOT_SUPPORTED),s.HttpStatus.HTTP_VERSION_NOT_SUPPORTED,n)}}e.HttpVersionNotSupportedException=n},29847:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpException=void 0;const s=r(92889);class i extends Error{constructor(t,e,r){super(),this.response=t,this.status=e,this.options=r,this.initMessage(),this.initName(),this.initCause()}initCause(){this.options?.cause&&(this.cause=this.options.cause)}initMessage(){(0,s.isString)(this.response)?this.message=this.response:(0,s.isObject)(this.response)&&(0,s.isString)(this.response.message)?this.message=this.response.message:this.constructor&&(this.message=this.constructor.name.match(/[A-Z][a-z]+|[0-9]+/g)?.join(" ")??"Error")}initName(){this.name=this.constructor.name}getResponse(){return this.response}getStatus(){return this.status}static createBody(t,e,r){return t?(0,s.isString)(t)||Array.isArray(t)?{message:t,error:e,statusCode:r}:t:{message:e,statusCode:r}}static getDescriptionFrom(t){return(0,s.isString)(t)?t:t?.description}static getHttpExceptionOptionsFrom(t){return(0,s.isString)(t)?{}:t}static extractDescriptionAndOptionsFrom(t){return{description:(0,s.isString)(t)?t:t?.description,httpExceptionOptions:(0,s.isString)(t)?{}:t}}}e.HttpException=i},48533:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImATeapotException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="I'm a teapot"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.I_AM_A_TEAPOT),s.HttpStatus.I_AM_A_TEAPOT,n)}}e.ImATeapotException=n},49029:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(35578),e),s.__exportStar(r(29847),e),s.__exportStar(r(52290),e),s.__exportStar(r(79910),e),s.__exportStar(r(37627),e),s.__exportStar(r(23814),e),s.__exportStar(r(97751),e),s.__exportStar(r(23492),e),s.__exportStar(r(30060),e),s.__exportStar(r(91471),e),s.__exportStar(r(34512),e),s.__exportStar(r(15747),e),s.__exportStar(r(29091),e),s.__exportStar(r(14491),e),s.__exportStar(r(25971),e),s.__exportStar(r(18406),e),s.__exportStar(r(47244),e),s.__exportStar(r(53948),e),s.__exportStar(r(77467),e),s.__exportStar(r(48533),e),s.__exportStar(r(39455),e),s.__exportStar(r(35378),e)},14491:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalServerErrorException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Internal Server Error"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.INTERNAL_SERVER_ERROR),s.HttpStatus.INTERNAL_SERVER_ERROR,n)}}e.InternalServerErrorException=n},79910:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MethodNotAllowedException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Method Not Allowed"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.METHOD_NOT_ALLOWED),s.HttpStatus.METHOD_NOT_ALLOWED,n)}}e.MethodNotAllowedException=n},35378:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MisdirectedException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Misdirected"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.MISDIRECTED),s.HttpStatus.MISDIRECTED,n)}}e.MisdirectedException=n},97751:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotAcceptableException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Not Acceptable"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.NOT_ACCEPTABLE),s.HttpStatus.NOT_ACCEPTABLE,n)}}e.NotAcceptableException=n},37627:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotFoundException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Not Found"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.NOT_FOUND),s.HttpStatus.NOT_FOUND,n)}}e.NotFoundException=n},25971:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotImplementedException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Not Implemented"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.NOT_IMPLEMENTED),s.HttpStatus.NOT_IMPLEMENTED,n)}}e.NotImplementedException=n},34512:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PayloadTooLargeException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Payload Too Large"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.PAYLOAD_TOO_LARGE),s.HttpStatus.PAYLOAD_TOO_LARGE,n)}}e.PayloadTooLargeException=n},39455:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreconditionFailedException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Precondition Failed"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.PRECONDITION_FAILED),s.HttpStatus.PRECONDITION_FAILED,n)}}e.PreconditionFailedException=n},23492:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequestTimeoutException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Request Timeout"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.REQUEST_TIMEOUT),s.HttpStatus.REQUEST_TIMEOUT,n)}}e.RequestTimeoutException=n},53948:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceUnavailableException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Service Unavailable"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.SERVICE_UNAVAILABLE),s.HttpStatus.SERVICE_UNAVAILABLE,n)}}e.ServiceUnavailableException=n},52290:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnauthorizedException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Unauthorized"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.UNAUTHORIZED),s.HttpStatus.UNAUTHORIZED,n)}}e.UnauthorizedException=n},29091:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnprocessableEntityException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Unprocessable Entity"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.UNPROCESSABLE_ENTITY),s.HttpStatus.UNPROCESSABLE_ENTITY,n)}}e.UnprocessableEntityException=n},15747:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnsupportedMediaTypeException=void 0;const s=r(13839),i=r(29847);class n extends i.HttpException{constructor(t,e="Unsupported Media Type"){const{description:r,httpExceptionOptions:n}=i.HttpException.extractDescriptionAndOptionsFrom(e);super(i.HttpException.createBody(t,r,s.HttpStatus.UNSUPPORTED_MEDIA_TYPE),s.HttpStatus.UNSUPPORTED_MEDIA_TYPE,n)}}e.UnsupportedMediaTypeException=n},29832:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(3937),e)},3937:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StreamableFile=void 0;const s=r(96704),i=r(80911),n=r(74233),o=r(92889),a=r(48650);e.StreamableFile=class{constructor(t,e={}){this.options=e,this.logger=new a.Logger("StreamableFile"),this.handleError=(t,e)=>{e.destroyed||(e.headersSent?e.end():(e.statusCode=n.HttpStatus.BAD_REQUEST,e.send(t.message)))},this.logError=t=>{this.logger.error(t.message,t.stack)},i.types.isUint8Array(t)?(this.stream=new s.Readable,this.stream.push(t),this.stream.push(null),this.options.length??=t.length):t.pipe&&(0,o.isFunction)(t.pipe)&&(this.stream=t)}getStream(){return this.stream}getHeaders(){const{type:t="application/octet-stream",disposition:e,length:r}=this.options;return{type:t,disposition:e,length:r}}get errorHandler(){return this.handleError}setErrorHandler(t){return this.handleError=t,this}get errorLogger(){return this.logError}setErrorLogger(t){return this.logError=t,this}}},76301:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION_NEUTRAL=e.Scope=void 0;const s=r(491);r(72964),s.__exportStar(r(26146),e),s.__exportStar(r(74233),e),s.__exportStar(r(49029),e),s.__exportStar(r(29832),e);var i=r(21680);Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"VERSION_NEUTRAL",{enumerable:!0,get:function(){return i.VERSION_NEUTRAL}}),s.__exportStar(r(59949),e),s.__exportStar(r(30136),e),s.__exportStar(r(15712),e),s.__exportStar(r(48650),e),s.__exportStar(r(37845),e)},46239:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},73999:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},754:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},17690:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},57413:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},15637:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},10332:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},73664:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},30127:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},12475:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},64066:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},45405:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},29096:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},16431:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},54949:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},51390:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},91080:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(51390),e),s.__exportStar(r(36783),e),s.__exportStar(r(78530),e),s.__exportStar(r(5546),e),s.__exportStar(r(84),e)},36783:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},78530:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5546:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},84:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},47929:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6535:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},34395:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},26465:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(47929),e),s.__exportStar(r(6535),e),s.__exportStar(r(34395),e),s.__exportStar(r(64331),e),s.__exportStar(r(87213),e)},64331:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},87213:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},21680:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(46239),e),s.__exportStar(r(73999),e),s.__exportStar(r(754),e),s.__exportStar(r(17690),e),s.__exportStar(r(57413),e),s.__exportStar(r(15637),e),s.__exportStar(r(10332),e),s.__exportStar(r(73664),e),s.__exportStar(r(30127),e),s.__exportStar(r(12475),e),s.__exportStar(r(64066),e),s.__exportStar(r(45405),e),s.__exportStar(r(29096),e),s.__exportStar(r(16431),e),s.__exportStar(r(54949),e),s.__exportStar(r(91080),e),s.__exportStar(r(26465),e),s.__exportStar(r(44104),e),s.__exportStar(r(4711),e),s.__exportStar(r(22044),e),s.__exportStar(r(52176),e),s.__exportStar(r(94945),e),s.__exportStar(r(8924),e),s.__exportStar(r(97674),e),s.__exportStar(r(92458),e),s.__exportStar(r(74285),e),s.__exportStar(r(52948),e),s.__exportStar(r(67554),e),s.__exportStar(r(49453),e)},44104:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},4711:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},22044:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(26145),e),s.__exportStar(r(32898),e),s.__exportStar(r(22565),e),s.__exportStar(r(29518),e)},26145:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},32898:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},22565:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},29518:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},23359:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},25383:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},52176:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(23359),e),s.__exportStar(r(25383),e),s.__exportStar(r(73304),e),s.__exportStar(r(25499),e),s.__exportStar(r(97279),e),s.__exportStar(r(39552),e),s.__exportStar(r(24467),e),s.__exportStar(r(89189),e)},73304:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},25499:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},97279:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},39552:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},24467:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},89189:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},94945:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},8924:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},97674:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},92458:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},74285:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.Scope=void 0,function(t){t[t.DEFAULT=0]="DEFAULT",t[t.TRANSIENT=1]="TRANSIENT",t[t.REQUEST=2]="REQUEST"}(r||(e.Scope=r={}))},52948:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},67554:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION_NEUTRAL=void 0,e.VERSION_NEUTRAL=Symbol("VERSION_NEUTRAL")},49453:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},53617:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurableModuleBuilder=void 0;const s=r(4380),i=r(67906),n=r(51885),o=r(68254);class a{constructor(t={},e){this.options=t,this.logger=new s.Logger(a.name),e&&(this.staticMethodKey=e.staticMethodKey,this.factoryClassMethodKey=e.factoryClassMethodKey,this.transformModuleDefinition=e.transformModuleDefinition,this.extras=e.extras)}setExtras(t,e=(t=>t)){const r=new a(this.options,this);return r.extras=t,r.transformModuleDefinition=e,r}setClassMethodName(t){const e=new a(this.options,this);return e.staticMethodKey=t,e}setFactoryMethodName(t){const e=new a(this.options,this);return e.factoryClassMethodKey=t,e}build(){return this.staticMethodKey??=n.DEFAULT_METHOD_KEY,this.factoryClassMethodKey??=n.DEFAULT_FACTORY_CLASS_METHOD_KEY,this.options.optionsInjectionToken??=this.options.moduleName?this.constructInjectionTokenString():(0,o.generateOptionsInjectionToken)(),this.transformModuleDefinition??=t=>t,{ConfigurableModuleClass:this.createConfigurableModuleCls(),MODULE_OPTIONS_TOKEN:this.options.optionsInjectionToken,ASYNC_OPTIONS_TYPE:this.createTypeProxy("ASYNC_OPTIONS_TYPE"),OPTIONS_TYPE:this.createTypeProxy("OPTIONS_TYPE")}}constructInjectionTokenString(){return`${this.options.moduleName.trim().split(/(?=[A-Z])/).join("_").toUpperCase()}_MODULE_OPTIONS`}createConfigurableModuleCls(){const t=this,e=this.staticMethodKey+n.ASYNC_METHOD_SUFFIX;class r{static[t.staticMethodKey](e){const r=[{provide:t.options.optionsInjectionToken,useValue:this.omitExtras(e,t.extras)}];return t.options.alwaysTransient&&r.push({provide:n.CONFIGURABLE_MODULE_ID,useValue:(0,i.randomStringGenerator)()}),t.transformModuleDefinition({module:this,providers:r},{...t.extras,...e})}static[e](e){const r=this.createAsyncProviders(e);return t.options.alwaysTransient&&r.push({provide:n.CONFIGURABLE_MODULE_ID,useValue:(0,i.randomStringGenerator)()}),t.transformModuleDefinition({module:this,imports:e.imports||[],providers:r},{...t.extras,...e})}static omitExtras(t,e){if(!e)return t;const r={},s=Object.keys(e);return Object.keys(t).filter((t=>!s.includes(t))).forEach((e=>{r[e]=t[e]})),r}static createAsyncProviders(t){return t.useExisting||t.useFactory?t.inject&&t.provideInjectionTokensFrom?[this.createAsyncOptionsProvider(t),...(0,o.getInjectionProviders)(t.provideInjectionTokensFrom,t.inject)]:[this.createAsyncOptionsProvider(t)]:[this.createAsyncOptionsProvider(t),{provide:t.useClass,useClass:t.useClass}]}static createAsyncOptionsProvider(e){return e.useFactory?{provide:t.options.optionsInjectionToken,useFactory:e.useFactory,inject:e.inject||[]}:{provide:t.options.optionsInjectionToken,useFactory:async e=>await e[t.factoryClassMethodKey](),inject:[e.useExisting||e.useClass]}}}return r}createTypeProxy(t){return new Proxy({},{get:()=>{throw new Error(`"${t}" is not supposed to be used as a value.`)}})}}e.ConfigurableModuleBuilder=a},51885:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONFIGURABLE_MODULE_ID=e.ASYNC_METHOD_SUFFIX=e.DEFAULT_FACTORY_CLASS_METHOD_KEY=e.DEFAULT_METHOD_KEY=void 0,e.DEFAULT_METHOD_KEY="register",e.DEFAULT_FACTORY_CLASS_METHOD_KEY="create",e.ASYNC_METHOD_SUFFIX="Async",e.CONFIGURABLE_MODULE_ID="CONFIGURABLE_MODULE_ID"},59949:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(53617),e),s.__exportStar(r(12061),e)},56538:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},77148:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},82905:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},12061:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(56538),e),s.__exportStar(r(77148),e),s.__exportStar(r(82905),e)},5412:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateOptionsInjectionToken=void 0;const s=r(67906);e.generateOptionsInjectionToken=function(){return`CONFIGURABLE_MODULE_OPTIONS[${(0,s.randomStringGenerator)()}]`}},3617:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInjectionProviders=void 0;const r=t=>{return e=t,e?.token&&!e?.prototype?t.token:t;var e};e.getInjectionProviders=function(t,e){const s=[];let i=e.map(r);for(;i.length>0;){const e=(t??[]).filter((t=>!s.includes(t)&&(i.includes(t)||i.includes(t?.provide))));s.push(...e),i=e.filter((t=>t?.inject)).flatMap((t=>t.inject)).map(r)}return s}},68254:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(5412),e),s.__exportStar(r(3617),e)},13861:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultValuePipe=void 0;const s=r(491),i=r(61698),n=r(92889);let o=class{constructor(t){this.defaultValue=t}transform(t,e){return(0,n.isNil)(t)||(0,n.isNumber)(t)&&isNaN(t)?this.defaultValue:t}};e.DefaultValuePipe=o,e.DefaultValuePipe=o=s.__decorate([(0,i.Injectable)(),s.__metadata("design:paramtypes",[Object])],o)},19565:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileTypeValidator=void 0;const s=r(26006);class i extends s.FileValidator{buildErrorMessage(){return`Validation failed (expected type is ${this.validationOptions.fileType})`}isValid(t){return!this.validationOptions||!!t&&"mimetype"in t&&!!t.mimetype.match(this.validationOptions.fileType)}}e.FileTypeValidator=i},26006:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileValidator=void 0,e.FileValidator=class{constructor(t){this.validationOptions=t}}},35167:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(19565),e),s.__exportStar(r(26006),e),s.__exportStar(r(45789),e),s.__exportStar(r(7214),e),s.__exportStar(r(91453),e),s.__exportStar(r(5165),e)},45789:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MaxFileSizeValidator=void 0;const s=r(26006);class i extends s.FileValidator{buildErrorMessage(){return"message"in this.validationOptions?"function"==typeof this.validationOptions.message?this.validationOptions.message(this.validationOptions.maxSize):this.validationOptions.message:`Validation failed (expected size is less than ${this.validationOptions.maxSize})`}isValid(t){return!this.validationOptions||!t||"size"in t&&t.size<this.validationOptions.maxSize}}e.MaxFileSizeValidator=i},7214:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5165:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseFilePipeBuilder=void 0;const s=r(19565),i=r(45789),n=r(91453);e.ParseFilePipeBuilder=class{constructor(){this.validators=[]}addMaxSizeValidator(t){return this.addValidator(new i.MaxFileSizeValidator(t))}addFileTypeValidator(t){return this.addValidator(new s.FileTypeValidator(t))}addValidator(t){return this.validators.push(t),this}build(t){const e=new n.ParseFilePipe({...t,validators:this.validators});return this.validators=[],e}}},91453:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseFilePipe=void 0;const s=r(491),i=r(55713),n=r(74233),o=r(39063),a=r(92889);let l=class{constructor(t={}){const{exceptionFactory:e,errorHttpStatusCode:r=n.HttpStatus.BAD_REQUEST,validators:s=[],fileIsRequired:i}=t;this.exceptionFactory=e||(t=>new o.HttpErrorByCode[r](t)),this.validators=s,this.fileIsRequired=i??!0}async transform(t){const e=this.thereAreNoFilesIn(t);if(e&&this.fileIsRequired)throw this.exceptionFactory("File is required");return!e&&this.validators.length&&await this.validateFilesOrFile(t),t}async validateFilesOrFile(t){Array.isArray(t)?await Promise.all(t.map((t=>this.validate(t)))):await this.validate(t)}thereAreNoFilesIn(t){const e=Array.isArray(t)&&(0,a.isEmpty)(t),r=(0,a.isObject)(t)&&(0,a.isEmpty)(Object.keys(t));return(0,a.isUndefined)(t)||e||r}async validate(t){for(const e of this.validators)await this.validateOrThrow(t,e);return t}async validateOrThrow(t,e){if(!await e.isValid(t)){const r=e.buildErrorMessage(t);throw this.exceptionFactory(r)}}getValidators(){return this.validators}};e.ParseFilePipe=l,e.ParseFilePipe=l=s.__decorate([(0,i.Injectable)(),s.__param(0,(0,i.Optional)()),s.__metadata("design:paramtypes",[Object])],l)},30136:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(13861),e),s.__exportStar(r(96865),e),s.__exportStar(r(29504),e),s.__exportStar(r(79956),e),s.__exportStar(r(26342),e),s.__exportStar(r(62049),e),s.__exportStar(r(66174),e),s.__exportStar(r(72930),e),s.__exportStar(r(35167),e)},96865:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseArrayPipe=void 0;const s=r(491),i=r(61698),n=r(67807),o=r(13839),a=r(39063),l=r(92889),c=r(72930),u="Validation failed (parsable array expected)";let h=class{constructor(t={}){this.options=t,this.validationPipe=new c.ValidationPipe({transform:!0,validateCustomDecorators:!0,...t});const{exceptionFactory:e,errorHttpStatusCode:r=o.HttpStatus.BAD_REQUEST}=t;this.exceptionFactory=e||(t=>new a.HttpErrorByCode[r](t))}async transform(t,e){if(!t&&!this.options.optional)throw this.exceptionFactory(u);if((0,l.isNil)(t)&&this.options.optional)return t;if(!Array.isArray(t)){if(!(0,l.isString)(t))throw this.exceptionFactory(u);try{t=t.trim().split(this.options.separator||",")}catch{throw this.exceptionFactory(u)}}if(this.options.items){const e={metatype:this.options.items,type:"query"},r=this.isExpectedTypePrimitive(),s=(t,s)=>{if(this.options.items!==String)try{t=JSON.parse(t)}catch{}return r?this.validatePrimitive(t,s):this.validationPipe.transform(t,e)};if(!1===this.options.stopAtFirstError){let e=[];const r=t;for(let t=0;t<r.length;t++)try{r[t]=await s(r[t])}catch(r){let s;if(r.getResponse){const e=r.getResponse();s=Array.isArray(e.message)?e.message.map((e=>`[${t}] ${e}`)):`[${t}] ${e.message}`}else s=r;e=e.concat(s)}if(e.length>0)throw this.exceptionFactory(e);return r}t=await Promise.all(t.map(s))}return t}isExpectedTypePrimitive(){return[Boolean,Number,String].includes(this.options.items)}validatePrimitive(t,e){if(this.options.items===Number){const r=null!==t&&""!==t?+t:NaN;if(isNaN(r))throw this.exceptionFactory(((0,l.isUndefined)(e)?"":`[${e}] `)+"item must be a number");return r}if(this.options.items===String){if(!(0,l.isString)(t))return`${t}`}else if(this.options.items===Boolean&&"boolean"!=typeof t)throw this.exceptionFactory(((0,l.isUndefined)(e)?"":`[${e}] `)+"item must be a boolean value");return t}};e.ParseArrayPipe=h,e.ParseArrayPipe=h=s.__decorate([(0,i.Injectable)(),s.__param(0,(0,n.Optional)()),s.__metadata("design:paramtypes",[Object])],h)},29504:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseBoolPipe=void 0;const s=r(491),i=r(61698),n=r(67807),o=r(13839),a=r(39063),l=r(92889);let c=class{constructor(t){this.options=t,t=t||{};const{exceptionFactory:e,errorHttpStatusCode:r=o.HttpStatus.BAD_REQUEST}=t;this.exceptionFactory=e||(t=>new a.HttpErrorByCode[r](t))}async transform(t,e){if((0,l.isNil)(t)&&this.options?.optional)return t;if(this.isTrue(t))return!0;if(this.isFalse(t))return!1;throw this.exceptionFactory("Validation failed (boolean string is expected)")}isTrue(t){return!0===t||"true"===t}isFalse(t){return!1===t||"false"===t}};e.ParseBoolPipe=c,e.ParseBoolPipe=c=s.__decorate([(0,i.Injectable)(),s.__param(0,(0,n.Optional)()),s.__metadata("design:paramtypes",[Object])],c)},62049:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseEnumPipe=void 0;const s=r(491),i=r(55713),n=r(76301),o=r(39063),a=r(92889);let l=class{constructor(t,e){if(this.enumType=t,this.options=e,!t)throw new Error('"ParseEnumPipe" requires "enumType" argument specified (to validate input values).');e=e||{};const{exceptionFactory:r,errorHttpStatusCode:s=n.HttpStatus.BAD_REQUEST}=e;this.exceptionFactory=r||(t=>new o.HttpErrorByCode[s](t))}async transform(t,e){if((0,a.isNil)(t)&&this.options?.optional)return t;if(!this.isEnum(t))throw this.exceptionFactory("Validation failed (enum string is expected)");return t}isEnum(t){return Object.keys(this.enumType).map((t=>this.enumType[t])).includes(t)}};e.ParseEnumPipe=l,e.ParseEnumPipe=l=s.__decorate([(0,i.Injectable)(),s.__param(1,(0,i.Optional)()),s.__metadata("design:paramtypes",[Object,Object])],l)},26342:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseFloatPipe=void 0;const s=r(491),i=r(55713),n=r(76301),o=r(39063),a=r(92889);let l=class{constructor(t){this.options=t,t=t||{};const{exceptionFactory:e,errorHttpStatusCode:r=n.HttpStatus.BAD_REQUEST}=t;this.exceptionFactory=e||(t=>new o.HttpErrorByCode[r](t))}async transform(t,e){if((0,a.isNil)(t)&&this.options?.optional)return t;if(!this.isNumeric(t))throw this.exceptionFactory("Validation failed (numeric string is expected)");return parseFloat(t)}isNumeric(t){return["string","number"].includes(typeof t)&&!isNaN(parseFloat(t))&&isFinite(t)}};e.ParseFloatPipe=l,e.ParseFloatPipe=l=s.__decorate([(0,i.Injectable)(),s.__param(0,(0,i.Optional)()),s.__metadata("design:paramtypes",[Object])],l)},79956:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseIntPipe=void 0;const s=r(491),i=r(61698),n=r(67807),o=r(13839),a=r(39063),l=r(92889);let c=class{constructor(t){this.options=t,t=t||{};const{exceptionFactory:e,errorHttpStatusCode:r=o.HttpStatus.BAD_REQUEST}=t;this.exceptionFactory=e||(t=>new a.HttpErrorByCode[r](t))}async transform(t,e){if((0,l.isNil)(t)&&this.options?.optional)return t;if(!this.isNumeric(t))throw this.exceptionFactory("Validation failed (numeric string is expected)");return parseInt(t,10)}isNumeric(t){return["string","number"].includes(typeof t)&&/^-?\d+$/.test(t)&&isFinite(t)}};e.ParseIntPipe=c,e.ParseIntPipe=c=s.__decorate([(0,i.Injectable)(),s.__param(0,(0,n.Optional)()),s.__metadata("design:paramtypes",[Object])],c)},66174:(t,e,r)=>{"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.ParseUUIDPipe=void 0;const i=r(491),n=r(61698),o=r(67807),a=r(13839),l=r(39063),c=r(92889);let u=s=class{constructor(t){this.options=t,t=t||{};const{exceptionFactory:e,errorHttpStatusCode:r=a.HttpStatus.BAD_REQUEST,version:s}=t;this.version=s,this.exceptionFactory=e||(t=>new l.HttpErrorByCode[r](t))}async transform(t,e){if((0,c.isNil)(t)&&this.options?.optional)return t;if(!this.isUUID(t,this.version))throw this.exceptionFactory(`Validation failed (uuid${this.version?` v ${this.version}`:""} is expected)`);return t}isUUID(t,e="all"){if(!(0,c.isString)(t))throw this.exceptionFactory("The value passed as UUID is not a string");const r=s.uuidRegExps[e];return r?.test(t)}};e.ParseUUIDPipe=u,u.uuidRegExps={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},e.ParseUUIDPipe=u=s=i.__decorate([(0,n.Injectable)(),i.__param(0,(0,o.Optional)()),i.__metadata("design:paramtypes",[Object])],u)},72930:(t,e,r)=>{"use strict";var s=r(15313).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.ValidationPipe=void 0;const i=r(491),n=r(73073),o=r(80911),a=r(26146),l=r(55713),c=r(13839),u=r(39063),h=r(91344),p=r(92889);let d={},f={},m=class{constructor(t){t=t||{};const{transform:e,disableErrorMessages:r,errorHttpStatusCode:s,expectedType:i,transformOptions:n,validateCustomDecorators:o,...a}=t;this.validatorOptions={forbidUnknownValues:!1,...a},this.isTransformEnabled=!!e,this.transformOptions=n,this.isDetailedOutputDisabled=r,this.validateCustomDecorators=o||!1,this.errorHttpStatusCode=s||c.HttpStatus.BAD_REQUEST,this.expectedType=i,this.exceptionFactory=t.exceptionFactory||this.createExceptionFactory(),d=this.loadValidator(t.validatorPackage),f=this.loadTransformer(t.transformerPackage)}loadValidator(t){return t??(0,h.loadPackage)("class-validator","ValidationPipe",(()=>r(Object(function(){var t=new Error("Cannot find module 'class-validator'");throw t.code="MODULE_NOT_FOUND",t}()))))}loadTransformer(t){return t??(0,h.loadPackage)("class-transformer","ValidationPipe",(()=>r(Object(function(){var t=new Error("Cannot find module 'class-transformer'");throw t.code="MODULE_NOT_FOUND",t}()))))}async transform(t,e){this.expectedType&&(e={...e,metatype:this.expectedType});const r=e.metatype;if(!r||!this.toValidate(e))return this.isTransformEnabled?this.transformPrimitive(t,e):t;const s=t,i=(t=this.toEmptyIfNil(t))!==s,n=this.isPrimitive(t);this.stripProtoKeys(t);let o=f.plainToClass(r,t,this.transformOptions);const a=o,l=o.constructor!==r;l&&!n?o.constructor=r:l&&(o={constructor:r});const c=await this.validate(o,this.validatorOptions);if(c.length>0)throw await this.exceptionFactory(c);return n&&(o=a),this.isTransformEnabled?o:i?s:Object.keys(this.validatorOptions).length>1?f.classToPlain(o,this.transformOptions):t}createExceptionFactory(){return(t=[])=>{if(this.isDetailedOutputDisabled)return new u.HttpErrorByCode[this.errorHttpStatusCode];const e=this.flattenValidationErrors(t);return new u.HttpErrorByCode[this.errorHttpStatusCode](e)}}toValidate(t){const{metatype:e,type:r}=t;return!("custom"===r&&!this.validateCustomDecorators)&&(![String,Boolean,Number,Array,Object,s,Date].some((t=>e===t))&&!(0,p.isNil)(e))}transformPrimitive(t,e){if(!e.data)return t;const{type:r,metatype:s}=e;if("param"!==r&&"query"!==r)return t;if(s===Boolean){if((0,p.isUndefined)(t))return;return!0===t||"true"===t}return s===Number?+t:t}toEmptyIfNil(t){return(0,p.isNil)(t)?{}:t}stripProtoKeys(t){if(null!=t&&"object"==typeof t&&!o.types.isTypedArray(t))if(Array.isArray(t))for(const e of t)this.stripProtoKeys(e);else{delete t.__proto__;for(const e in t)this.stripProtoKeys(t[e])}}isPrimitive(t){return["number","boolean","string"].includes(typeof t)}validate(t,e){return d.validate(t,e)}flattenValidationErrors(t){return(0,n.iterate)(t).map((t=>this.mapChildrenToValidationErrors(t))).flatten().filter((t=>!!t.constraints)).map((t=>Object.values(t.constraints))).flatten().toArray()}mapChildrenToValidationErrors(t,e){if(!t.children||!t.children.length)return[t];const r=[];e=e?`${e}.${t.property}`:t.property;for(const s of t.children)s.children&&s.children.length&&r.push(...this.mapChildrenToValidationErrors(s,e)),r.push(this.prependConstraintsWithParentProp(e,s));return r}prependConstraintsWithParentProp(t,e){const r={};for(const s in e.constraints)r[s]=`${t}.${e.constraints[s]}`;return{...e,constraints:r}}};e.ValidationPipe=m,e.ValidationPipe=m=i.__decorate([(0,l.Injectable)(),i.__param(0,(0,a.Optional)()),i.__metadata("design:paramtypes",[Object])],m)},74868:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLASS_SERIALIZER_OPTIONS=void 0,e.CLASS_SERIALIZER_OPTIONS="class_serializer:options"},28601:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassSerializerInterceptor=void 0;const s=r(491),i=r(3343),n=r(55713),o=r(29832),a=r(91344),l=r(92889),c=r(74868);let u={},h=class{constructor(t,e={}){this.reflector=t,this.defaultOptions=e,u=e?.transformerPackage??(0,a.loadPackage)("class-transformer","ClassSerializerInterceptor",(()=>r(Object(function(){var t=new Error("Cannot find module 'class-transformer'");throw t.code="MODULE_NOT_FOUND",t}())))),e?.transformerPackage||r(Object(function(){var t=new Error("Cannot find module 'class-transformer'");throw t.code="MODULE_NOT_FOUND",t}()))}intercept(t,e){const r=this.getContextOptions(t),s={...this.defaultOptions,...r};return e.handle().pipe((0,i.map)((t=>this.serialize(t,s))))}serialize(t,e){return!(0,l.isObject)(t)||t instanceof o.StreamableFile?t:Array.isArray(t)?t.map((t=>this.transformToPlain(t,e))):this.transformToPlain(t,e)}transformToPlain(t,e){if(!t)return t;if(!e.type)return u.classToPlain(t,e);if(t instanceof e.type)return u.classToPlain(t,e);const r=u.plainToClass(e.type,t);return u.classToPlain(r,e)}getContextOptions(t){return this.reflector.getAllAndOverride(c.CLASS_SERIALIZER_OPTIONS,[t.getHandler(),t.getClass()])}};e.ClassSerializerInterceptor=h,e.ClassSerializerInterceptor=h=s.__decorate([(0,n.Injectable)(),s.__param(0,(0,n.Inject)("Reflector")),s.__param(1,(0,n.Optional)()),s.__metadata("design:paramtypes",[Object,Object])],h)},77163:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},98385:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(50907),e)},50907:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SerializeOptions=void 0;const s=r(26146),i=r(74868);e.SerializeOptions=t=>(0,s.SetMetadata)(i.CLASS_SERIALIZER_OPTIONS,t)},15712:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(28601),e),s.__exportStar(r(98385),e),s.__exportStar(r(77163),e)},77798:(t,e,r)=>{"use strict";var s,i=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleLogger=void 0;const n=r(491),o=r(55713),a=r(5836),l=r(92889),c=r(28288),u=["log","error","warn","debug","verbose","fatal"],h=new Intl.DateTimeFormat(void 0,{year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",day:"2-digit",month:"2-digit"});let p=s=class{constructor(t,e={}){this.context=t,this.options=e,e.logLevels||(e.logLevels=u),t&&(this.originalContext=t)}log(t,...e){if(!this.isLevelEnabled("log"))return;const{messages:r,context:s}=this.getContextAndMessagesToPrint([t,...e]);this.printMessages(r,s,"log")}error(t,...e){if(!this.isLevelEnabled("error"))return;const{messages:r,context:s,stack:i}=this.getContextAndStackAndMessagesToPrint([t,...e]);this.printMessages(r,s,"error","stderr"),this.printStackTrace(i)}warn(t,...e){if(!this.isLevelEnabled("warn"))return;const{messages:r,context:s}=this.getContextAndMessagesToPrint([t,...e]);this.printMessages(r,s,"warn")}debug(t,...e){if(!this.isLevelEnabled("debug"))return;const{messages:r,context:s}=this.getContextAndMessagesToPrint([t,...e]);this.printMessages(r,s,"debug")}verbose(t,...e){if(!this.isLevelEnabled("verbose"))return;const{messages:r,context:s}=this.getContextAndMessagesToPrint([t,...e]);this.printMessages(r,s,"verbose")}fatal(t,...e){if(!this.isLevelEnabled("fatal"))return;const{messages:r,context:s}=this.getContextAndMessagesToPrint([t,...e]);this.printMessages(r,s,"fatal")}setLogLevels(t){this.options||(this.options={}),this.options.logLevels=t}setContext(t){this.context=t}resetContext(){this.context=this.originalContext}isLevelEnabled(t){const e=this.options?.logLevels;return(0,c.isLogLevelEnabled)(t,e)}getTimestamp(){return h.format(Date.now())}printMessages(t,e="",r="log",s){t.forEach((t=>{const n=this.formatPid(i.pid),o=this.formatContext(e),a=this.updateAndGetTimestampDiff(),l=r.toUpperCase().padStart(7," "),c=this.formatMessage(r,t,n,l,o,a);i[s??"stdout"].write(c)}))}formatPid(t){return`[Nest] ${t}  - `}formatContext(t){return t?(0,a.yellow)(`[${t}] `):""}formatMessage(t,e,r,s,i,n){const o=this.stringifyMessage(e,t);return r=this.colorize(r,t),s=this.colorize(s,t),`${r}${this.getTimestamp()} ${s} ${i}${o}${n}\n`}stringifyMessage(t,e){return(0,l.isFunction)(t)?Function.prototype.toString.call(t).startsWith("class ")?this.stringifyMessage(t.name,e):this.stringifyMessage(t(),e):(0,l.isPlainObject)(t)||Array.isArray(t)?`${this.colorize("Object:",e)}\n${JSON.stringify(t,((t,e)=>"bigint"==typeof e?e.toString():e),2)}\n`:this.colorize(t,e)}colorize(t,e){return this.getColorByLogLevel(e)(t)}printStackTrace(t){t&&i.stderr.write(`${t}\n`)}updateAndGetTimestampDiff(){const t=s.lastTimestampAt&&this.options?.timestamp?this.formatTimestampDiff(Date.now()-s.lastTimestampAt):"";return s.lastTimestampAt=Date.now(),t}formatTimestampDiff(t){return(0,a.yellow)(` +${t}ms`)}getContextAndMessagesToPrint(t){if(t?.length<=1)return{messages:t,context:this.context};const e=t[t.length-1];return(0,l.isString)(e)?{context:e,messages:t.slice(0,t.length-1)}:{messages:t,context:this.context}}getContextAndStackAndMessagesToPrint(t){if(2===t.length)return this.isStackFormat(t[1])?{messages:[t[0]],stack:t[1],context:this.context}:{messages:[t[0]],context:t[1]};const{messages:e,context:r}=this.getContextAndMessagesToPrint(t);if(e?.length<=1)return{messages:e,context:r};const s=e[e.length-1];return(0,l.isString)(s)||(0,l.isUndefined)(s)?{stack:s,messages:e.slice(0,e.length-1),context:r}:{messages:e,context:r}}isStackFormat(t){return!(!(0,l.isString)(t)&&!(0,l.isUndefined)(t))&&/^(.)+\n\s+at .+:\d+:\d+/.test(t)}getColorByLogLevel(t){switch(t){case"debug":return a.clc.magentaBright;case"warn":return a.clc.yellow;case"error":return a.clc.red;case"verbose":return a.clc.cyanBright;case"fatal":return a.clc.bold;default:return a.clc.green}}};e.ConsoleLogger=p,e.ConsoleLogger=p=s=n.__decorate([(0,o.Injectable)(),n.__param(0,(0,o.Optional)()),n.__param(1,(0,o.Optional)()),n.__metadata("design:paramtypes",[String,Object])],p)},48650:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(77798),e),s.__exportStar(r(4380),e)},4380:(t,e,r)=>{"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;const i=r(491),n=r(55713),o=r(92889),a=r(77798),l=r(28288),c=new a.ConsoleLogger,u=new Intl.DateTimeFormat(void 0,{year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",day:"2-digit",month:"2-digit"});let h=s=class{constructor(t,e={}){this.context=t,this.options=e}get localInstance(){return s.staticInstanceRef===c||s.staticInstanceRef instanceof s&&Object.getPrototypeOf(s.staticInstanceRef).constructor===s?this.registerLocalInstanceRef():s.staticInstanceRef}error(t,...e){e=this.context?(e.length?e:[void 0]).concat(this.context):e,this.localInstance?.error(t,...e)}log(t,...e){e=this.context?e.concat(this.context):e,this.localInstance?.log(t,...e)}warn(t,...e){e=this.context?e.concat(this.context):e,this.localInstance?.warn(t,...e)}debug(t,...e){e=this.context?e.concat(this.context):e,this.localInstance?.debug?.(t,...e)}verbose(t,...e){e=this.context?e.concat(this.context):e,this.localInstance?.verbose?.(t,...e)}fatal(t,...e){e=this.context?e.concat(this.context):e,this.localInstance?.fatal?.(t,...e)}static error(t,...e){this.staticInstanceRef?.error(t,...e)}static log(t,...e){this.staticInstanceRef?.log(t,...e)}static warn(t,...e){this.staticInstanceRef?.warn(t,...e)}static debug(t,...e){this.staticInstanceRef?.debug?.(t,...e)}static verbose(t,...e){this.staticInstanceRef?.verbose?.(t,...e)}static fatal(t,...e){this.staticInstanceRef?.fatal?.(t,...e)}static flush(){this.isBufferAttached=!1,this.logBuffer.forEach((t=>t.methodRef(...t.arguments))),this.logBuffer=[]}static attachBuffer(){this.isBufferAttached=!0}static detachBuffer(){this.isBufferAttached=!1}static getTimestamp(){return u.format(Date.now())}static overrideLogger(t){if(Array.isArray(t))return s.logLevels=t,this.staticInstanceRef?.setLogLevels(t);if((0,o.isObject)(t)){if(t instanceof s&&t.constructor!==s){const t='Using the "extends Logger" instruction is not allowed in Nest v9. Please, use "extends ConsoleLogger" instead.';throw this.staticInstanceRef.error(t),new Error(t)}this.staticInstanceRef=t}else this.staticInstanceRef=void 0}static isLevelEnabled(t){const e=s.logLevels;return(0,l.isLogLevelEnabled)(t,e)}registerLocalInstanceRef(){return this.localInstanceRef||(this.localInstanceRef=new a.ConsoleLogger(this.context,{timestamp:this.options?.timestamp,logLevels:s.logLevels})),this.localInstanceRef}};e.Logger=h,h.logBuffer=new Array,h.staticInstanceRef=c,h.WrapBuffer=(t,e,r)=>{const i=r.value;r.value=function(...t){if(!s.isBufferAttached)return i.call(this,...t);s.logBuffer.push({methodRef:i.bind(this),arguments:t})}},i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h.prototype,"error",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h.prototype,"log",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h.prototype,"warn",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h.prototype,"debug",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h.prototype,"verbose",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h.prototype,"fatal",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h,"error",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h,"log",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h,"warn",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h,"debug",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h,"verbose",null),i.__decorate([h.WrapBuffer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object,Object]),i.__metadata("design:returntype",void 0)],h,"fatal",null),e.Logger=h=s=i.__decorate([(0,n.Injectable)(),i.__param(0,(0,n.Optional)()),i.__param(1,(0,n.Optional)()),i.__metadata("design:paramtypes",[String,Object])],h)},28288:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(33544),e)},33544:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLogLevelEnabled=void 0;const r={verbose:0,debug:1,log:2,warn:3,error:4,fatal:5};e.isLogLevelEnabled=function(t,e){if(!e||Array.isArray(e)&&0===e?.length)return!1;if(e.includes(t))return!0;const s=e.map((t=>r[t])).sort(((t,e)=>e-t))?.[0];return r[t]>=s}},69878:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignCustomParameterMetadata=void 0;const s=r(36861);e.assignCustomParameterMetadata=function(t,e,r,i,n,...o){return{...t,[`${e}${s.CUSTOM_ROUTE_ARGS_METADATA}:${r}`]:{index:r,factory:i,data:n,pipes:o}}}},5836:(t,e,r)=>{"use strict";var s=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.yellow=e.clc=void 0;const i=t=>e=>s.env.NO_COLOR?e:t(e);e.clc={bold:i((t=>`[1m${t}[0m`)),green:i((t=>`[32m${t}[39m`)),yellow:i((t=>`[33m${t}[39m`)),red:i((t=>`[31m${t}[39m`)),magentaBright:i((t=>`[95m${t}[39m`)),cyanBright:i((t=>`[96m${t}[39m`))},e.yellow=i((t=>`[38;5;3m${t}[39m`))},28132:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extendArrayMetadata=void 0,e.extendArrayMetadata=function(t,e,r){const s=[...Reflect.getMetadata(t,r)||[],...e];Reflect.defineMetadata(t,s,r)}},88632:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forwardRef=void 0,e.forwardRef=t=>({forwardRef:t})},39063:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpErrorByCode=void 0;const s=r(74233),i=r(49029);e.HttpErrorByCode={[s.HttpStatus.BAD_GATEWAY]:i.BadGatewayException,[s.HttpStatus.BAD_REQUEST]:i.BadRequestException,[s.HttpStatus.CONFLICT]:i.ConflictException,[s.HttpStatus.FORBIDDEN]:i.ForbiddenException,[s.HttpStatus.GATEWAY_TIMEOUT]:i.GatewayTimeoutException,[s.HttpStatus.GONE]:i.GoneException,[s.HttpStatus.I_AM_A_TEAPOT]:i.ImATeapotException,[s.HttpStatus.INTERNAL_SERVER_ERROR]:i.InternalServerErrorException,[s.HttpStatus.METHOD_NOT_ALLOWED]:i.MethodNotAllowedException,[s.HttpStatus.NOT_ACCEPTABLE]:i.NotAcceptableException,[s.HttpStatus.NOT_FOUND]:i.NotFoundException,[s.HttpStatus.NOT_IMPLEMENTED]:i.NotImplementedException,[s.HttpStatus.PAYLOAD_TOO_LARGE]:i.PayloadTooLargeException,[s.HttpStatus.PRECONDITION_FAILED]:i.PreconditionFailedException,[s.HttpStatus.REQUEST_TIMEOUT]:i.RequestTimeoutException,[s.HttpStatus.SERVICE_UNAVAILABLE]:i.ServiceUnavailableException,[s.HttpStatus.UNAUTHORIZED]:i.UnauthorizedException,[s.HttpStatus.UNPROCESSABLE_ENTITY]:i.UnprocessableEntityException,[s.HttpStatus.UNSUPPORTED_MEDIA_TYPE]:i.UnsupportedMediaTypeException}},37845:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(88632),e)},91344:(t,e,r)=>{"use strict";var s=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.loadPackage=void 0;const i=r(4380),n=new i.Logger("PackageLoader");e.loadPackage=function(t,e,o){try{return o?o():r(59318)(t)}catch(r){n.error(`The "${a=t}" package is missing. Please, make sure to install this library ($ npm install ${a}) to take advantage of ${e}.`),i.Logger.flush(),s.exit(1)}var a}},67906:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringGenerator=void 0;const s=r(1797);e.randomStringGenerator=()=>(0,s.uid)(21)},31207:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectExceptionFilterMetadata=void 0,e.selectExceptionFilterMetadata=(t,e)=>t.find((({exceptionMetatypes:t})=>!t.length||t.some((t=>e instanceof t))))},92889:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSymbol=e.isEmpty=e.isNil=e.isConstructor=e.isNumber=e.isString=e.isFunction=e.stripEndSlash=e.normalizePath=e.addLeadingSlash=e.isPlainObject=e.isObject=e.isUndefined=void 0,e.isUndefined=t=>void 0===t,e.isObject=t=>!(0,e.isNil)(t)&&"object"==typeof t,e.isPlainObject=t=>{if(!(0,e.isObject)(t))return!1;const r=Object.getPrototypeOf(t);if(null===r)return!0;const s=Object.prototype.hasOwnProperty.call(r,"constructor")&&r.constructor;return"function"==typeof s&&s instanceof s&&Function.prototype.toString.call(s)===Function.prototype.toString.call(Object)},e.addLeadingSlash=t=>t&&"string"==typeof t?"/"!==t.charAt(0)?"/"+t:t:"",e.normalizePath=t=>t?t.startsWith("/")?("/"+t.replace(/\/+$/,"")).replace(/\/+/g,"/"):"/"+t.replace(/\/+$/,""):"/",e.stripEndSlash=t=>"/"===t[t.length-1]?t.slice(0,t.length-1):t,e.isFunction=t=>"function"==typeof t,e.isString=t=>"string"==typeof t,e.isNumber=t=>"number"==typeof t,e.isConstructor=t=>"constructor"===t,e.isNil=t=>(0,e.isUndefined)(t)||null===t,e.isEmpty=t=>!(t&&t.length>0),e.isSymbol=t=>"symbol"==typeof t},9526:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateEach=e.InvalidDecoratorItemException=void 0;class r extends Error{constructor(t,e,r){const s=`Invalid ${e} passed to ${t}() decorator (${r}).`;super(s),this.msg=s}what(){return this.msg}}e.InvalidDecoratorItemException=r,e.validateEach=function(t,e,s,i,n){if(!t||!t.name)return!0;if(e.some((t=>!s(t))))throw new r(i,n,t.name);return!0}},23668:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateModuleKeys=e.INVALID_MODULE_CONFIG_MESSAGE=void 0;const s=r(36861);e.INVALID_MODULE_CONFIG_MESSAGE=(t,e)=>`Invalid property '${e}' passed into the @Module() decorator.`;const i=[s.MODULE_METADATA.IMPORTS,s.MODULE_METADATA.EXPORTS,s.MODULE_METADATA.CONTROLLERS,s.MODULE_METADATA.PROVIDERS];e.validateModuleKeys=function(t){t.forEach((t=>{if(!i.includes(t))throw new Error(e.INVALID_MODULE_CONFIG_MESSAGE`${t}`)}))}},59318:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=59318,t.exports=e},28556:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractHttpAdapter=void 0,e.AbstractHttpAdapter=class{constructor(t){this.instance=t}async init(){}use(...t){return this.instance.use(...t)}get(...t){return this.instance.get(...t)}post(...t){return this.instance.post(...t)}head(...t){return this.instance.head(...t)}delete(...t){return this.instance.delete(...t)}put(...t){return this.instance.put(...t)}patch(...t){return this.instance.patch(...t)}all(...t){return this.instance.all(...t)}search(...t){return this.instance.search(...t)}options(...t){return this.instance.options(...t)}listen(t,e,r){return this.instance.listen(t,e,r)}getHttpServer(){return this.httpServer}setHttpServer(t){this.httpServer=t}setInstance(t){this.instance=t}getInstance(){return this.instance}}},86402:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(28556),e)},63192:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplicationConfig=void 0,e.ApplicationConfig=class{constructor(t=null){this.ioAdapter=t,this.globalPrefix="",this.globalPrefixOptions={},this.globalPipes=[],this.globalFilters=[],this.globalInterceptors=[],this.globalGuards=[],this.globalRequestPipes=[],this.globalRequestFilters=[],this.globalRequestInterceptors=[],this.globalRequestGuards=[]}setGlobalPrefix(t){this.globalPrefix=t}getGlobalPrefix(){return this.globalPrefix}setGlobalPrefixOptions(t){this.globalPrefixOptions=t}getGlobalPrefixOptions(){return this.globalPrefixOptions}setIoAdapter(t){this.ioAdapter=t}getIoAdapter(){return this.ioAdapter}addGlobalPipe(t){this.globalPipes.push(t)}useGlobalPipes(...t){this.globalPipes=this.globalPipes.concat(t)}getGlobalFilters(){return this.globalFilters}addGlobalFilter(t){this.globalFilters.push(t)}useGlobalFilters(...t){this.globalFilters=this.globalFilters.concat(t)}getGlobalPipes(){return this.globalPipes}getGlobalInterceptors(){return this.globalInterceptors}addGlobalInterceptor(t){this.globalInterceptors.push(t)}useGlobalInterceptors(...t){this.globalInterceptors=this.globalInterceptors.concat(t)}getGlobalGuards(){return this.globalGuards}addGlobalGuard(t){this.globalGuards.push(t)}useGlobalGuards(...t){this.globalGuards=this.globalGuards.concat(t)}addGlobalRequestInterceptor(t){this.globalRequestInterceptors.push(t)}getGlobalRequestInterceptors(){return this.globalRequestInterceptors}addGlobalRequestPipe(t){this.globalRequestPipes.push(t)}getGlobalRequestPipes(){return this.globalRequestPipes}addGlobalRequestFilter(t){this.globalRequestFilters.push(t)}getGlobalRequestFilters(){return this.globalRequestFilters}addGlobalRequestGuard(t){this.globalRequestGuards.push(t)}getGlobalRequestGuards(){return this.globalRequestGuards}enableVersioning(t){Array.isArray(t.defaultVersion)&&(t.defaultVersion=Array.from(new Set(t.defaultVersion))),this.versioningOptions=t}getVersioning(){return this.versioningOptions}}},48875:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ENHANCER_TOKEN_TO_SUBTYPE_MAP=e.APP_FILTER=e.APP_GUARD=e.APP_PIPE=e.APP_INTERCEPTOR=e.MESSAGES=void 0,e.MESSAGES={APPLICATION_START:"Starting Nest application...",APPLICATION_READY:"Nest application successfully started",MICROSERVICE_READY:"Nest microservice successfully started",UNKNOWN_EXCEPTION_MESSAGE:"Internal server error",ERROR_DURING_SHUTDOWN:"Error happened during shutdown",CALL_LISTEN_FIRST:"app.listen() needs to be called before calling app.getUrl()"},e.APP_INTERCEPTOR="APP_INTERCEPTOR",e.APP_PIPE="APP_PIPE",e.APP_GUARD="APP_GUARD",e.APP_FILTER="APP_FILTER",e.ENHANCER_TOKEN_TO_SUBTYPE_MAP={[e.APP_GUARD]:"guard",[e.APP_INTERCEPTOR]:"interceptor",[e.APP_PIPE]:"pipe",[e.APP_FILTER]:"filter"}},77116:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiscoverableMetaHostCollection=void 0;class r{static addClassMetaHostLink(t,e){this.metaHostLinks.set(t,e)}static inspectProvider(t,e){return this.inspectInstanceWrapper(t,e,this.providersByMetaKey)}static inspectController(t,e){return this.inspectInstanceWrapper(t,e,this.controllersByMetaKey)}static insertByMetaKey(t,e,r){if(r.has(t))r.get(t).add(e);else{const s=new Set;s.add(e),r.set(t,s)}}static getProvidersByMetaKey(t,e){const r=this.providersByMetaKey.get(t);return r?.get(e)??new Set}static getControllersByMetaKey(t,e){const r=this.controllersByMetaKey.get(t);return r?.get(e)??new Set}static inspectInstanceWrapper(t,e,s){const i=r.getMetaKeyByInstanceWrapper(e);if(!i)return;let n;s.has(t)?n=s.get(t):(n=new Map,s.set(t,n)),this.insertByMetaKey(i,e,n)}static getMetaKeyByInstanceWrapper(t){return this.metaHostLinks.get(t.metatype||t.inject?t.instance?.constructor??t.metatype:t.metatype)}}e.DiscoverableMetaHostCollection=r,r.metaHostLinks=new Map,r.providersByMetaKey=new WeakMap,r.controllersByMetaKey=new WeakMap},34485:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiscoveryModule=void 0;const s=r(491),i=r(76301),n=r(9058),o=r(59229);let a=class{};e.DiscoveryModule=a,e.DiscoveryModule=a=s.__decorate([(0,i.Module)({providers:[n.MetadataScanner,o.DiscoveryService],exports:[n.MetadataScanner,o.DiscoveryService]})],a)},59229:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiscoveryService=void 0;const s=r(491),i=r(76301),n=r(1797),o=r(60163),a=r(77116);let l=class{constructor(t){this.modulesContainer=t}static createDecorator(){const t=(0,n.uid)(21),e=e=>(r,s,n)=>{n||a.DiscoverableMetaHostCollection.addClassMetaHostLink(r,t),(0,i.SetMetadata)(t,e??{})(r,s,n)};return e.KEY=t,e}getProviders(t={},e=this.getModules(t)){if("metadataKey"in t){const e=a.DiscoverableMetaHostCollection.getProvidersByMetaKey(this.modulesContainer,t.metadataKey);return Array.from(e)}const r=e.map((t=>[...t.providers.values()]));return(0,i.flatten)(r)}getControllers(t={},e=this.getModules(t)){if("metadataKey"in t){const e=a.DiscoverableMetaHostCollection.getControllersByMetaKey(this.modulesContainer,t.metadataKey);return Array.from(e)}const r=e.map((t=>[...t.controllers.values()]));return(0,i.flatten)(r)}getMetadataByDecorator(t,e,r){if(r)return Reflect.getMetadata(t.KEY,e.instance[r]);const s=e.instance?.constructor??e.metatype;return Reflect.getMetadata(t.KEY,s)}getModules(t={}){return"include"in t?this.includeWhitelisted(t.include):[...this.modulesContainer.values()]}includeWhitelisted(t){return[...this.modulesContainer.values()].filter((({metatype:e})=>t.some((t=>t===e))))}};e.DiscoveryService=l,e.DiscoveryService=l=s.__decorate([(0,i.Injectable)(),s.__metadata("design:paramtypes",[o.ModulesContainer])],l)},91801:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(34485),e),s.__exportStar(r(59229),e)},87390:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionHandler=void 0;const s=r(44213),i=r(4380);class n{handle(t){t instanceof s.RuntimeException?n.logger.error(t.what(),t.stack):n.logger.error(t.message,t.stack)}}e.ExceptionHandler=n,n.logger=new i.Logger(n.name)},35229:(t,e,r)=>{"use strict";var s=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionsZone=void 0;const i=r(76301),n=r(87390),o=()=>s.exit(1);class a{static run(t,e=o,r){try{t()}catch(t){this.exceptionHandler.handle(t),r&&i.Logger.flush(),e(t)}}static async asyncRun(t,e=o,r){try{await t()}catch(t){this.exceptionHandler.handle(t),r&&i.Logger.flush(),e(t)}}}e.ExceptionsZone=a,a.exceptionHandler=new n.ExceptionHandler},54079:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CircularDependencyException=void 0;const s=r(44213);class i extends s.RuntimeException{constructor(t){super(`A circular dependency has been detected${t?` inside ${t}`:""}. Please, make sure that each side of a bidirectional relationships are decorated with "forwardRef()". Note that circular relationships between custom providers (e.g., factories) are not supported since functions cannot be called more than once.`)}}e.CircularDependencyException=i},71874:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(54079),e),s.__exportStar(r(44213),e),s.__exportStar(r(67510),e),s.__exportStar(r(95577),e),s.__exportStar(r(99287),e),s.__exportStar(r(48812),e),s.__exportStar(r(49108),e),s.__exportStar(r(50089),e)},5272:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidClassModuleException=void 0;const s=r(63152),i=r(44213);class n extends i.RuntimeException{constructor(t,e){super((0,s.USING_INVALID_CLASS_AS_A_MODULE_MESSAGE)(t,e))}}e.InvalidClassModuleException=n},95577:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidClassScopeException=void 0;const s=r(92889),i=r(63152),n=r(44213);class o extends n.RuntimeException{constructor(t){let e=(0,s.isFunction)(t)?t.name:t;e=e&&e.toString(),super(i.INVALID_CLASS_SCOPE_MESSAGE`${e}`)}}e.InvalidClassScopeException=o},99287:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidClassException=void 0;const s=r(63152),i=r(44213);class n extends i.RuntimeException{constructor(t){super(s.INVALID_CLASS_MESSAGE`${t}`)}}e.InvalidClassException=n},40823:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidExceptionFilterException=void 0;const s=r(44213),i=r(63152);class n extends s.RuntimeException{constructor(){super(i.INVALID_EXCEPTION_FILTER)}}e.InvalidExceptionFilterException=n},14276:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidMiddlewareException=void 0;const s=r(63152),i=r(44213);class n extends i.RuntimeException{constructor(t){super(s.INVALID_MIDDLEWARE_MESSAGE`${t}`)}}e.InvalidMiddlewareException=n},12634:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidModuleException=void 0;const s=r(63152),i=r(44213);class n extends i.RuntimeException{constructor(t,e,r){super((0,s.INVALID_MODULE_MESSAGE)(t,e,r))}}e.InvalidModuleException=n},44213:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RuntimeException=void 0;class r extends Error{constructor(t=""){super(t)}what(){return this.message}}e.RuntimeException=r},63813:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndefinedDependencyException=void 0;const s=r(63152),i=r(44213);class n extends i.RuntimeException{constructor(t,e,r){super((0,s.UNKNOWN_DEPENDENCIES_MESSAGE)(t,e,r))}}e.UndefinedDependencyException=n},50089:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndefinedForwardRefException=void 0;const s=r(63152),i=r(44213);class n extends i.RuntimeException{constructor(t){super((0,s.UNDEFINED_FORWARDREF_MESSAGE)(t))}}e.UndefinedForwardRefException=n},75823:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndefinedModuleException=void 0;const s=r(44213),i=r(63152);class n extends s.RuntimeException{constructor(t,e,r){super((0,i.UNDEFINED_MODULE_MESSAGE)(t,e,r))}}e.UndefinedModuleException=n},77968:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnknownDependenciesException=void 0;const s=r(63152),i=r(44213);class n extends i.RuntimeException{constructor(t,e,r,i){super((0,s.UNKNOWN_DEPENDENCIES_MESSAGE)(t,e,r)),this.type=t,this.context=e,this.metadata=i,this.moduleRef=r&&{id:r.id}}}e.UnknownDependenciesException=n},67510:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnknownElementException=void 0;const s=r(44213);class i extends s.RuntimeException{constructor(t){super(`Nest could not find ${(t=t&&t.toString())||"given"} element (this provider does not exist in the current context)`)}}e.UnknownElementException=i},48812:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnknownExportException=void 0;const s=r(63152),i=r(44213);class n extends i.RuntimeException{constructor(t,e){super((0,s.UNKNOWN_EXPORT_MESSAGE)(t,e))}}e.UnknownExportException=n},49108:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnknownModuleException=void 0;const s=r(44213);class i extends s.RuntimeException{constructor(t){super(`Nest could not select the given module (${t?`"${t}"`:"it"} does not exist in current context).`)}}e.UnknownModuleException=i},38530:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnknownRequestMappingException=void 0;const s=r(44213),i=r(63152);class n extends s.RuntimeException{constructor(t){super((0,i.UNKNOWN_REQUEST_MAPPING)(t))}}e.UnknownRequestMappingException=n},63152:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MICROSERVICES_PACKAGE_NOT_FOUND_EXCEPTION=e.INVALID_EXCEPTION_FILTER=e.UNHANDLED_RUNTIME_EXCEPTION=e.INVALID_MIDDLEWARE_CONFIGURATION=e.UNKNOWN_REQUEST_MAPPING=e.INVALID_CLASS_SCOPE_MESSAGE=e.INVALID_CLASS_MESSAGE=e.UNKNOWN_EXPORT_MESSAGE=e.UNDEFINED_MODULE_MESSAGE=e.USING_INVALID_CLASS_AS_A_MODULE_MESSAGE=e.INVALID_MODULE_MESSAGE=e.UNDEFINED_FORWARDREF_MESSAGE=e.INVALID_MIDDLEWARE_MESSAGE=e.UNKNOWN_DEPENDENCIES_MESSAGE=void 0;const s=r(92889),i=t=>t?.forwardRef?t.forwardRef()?.name:t?.module?t.module?.name:t?.name,n=(t,e,r=!0)=>i(t)||(0,s.isSymbol)(t)&&t.toString()||(t?r?`"${t}"`:t:void 0)||e,o=t=>(t||[]).map(i).join(" -> ");e.UNKNOWN_DEPENDENCIES_MESSAGE=(t,e,r)=>{const{index:o,name:a,dependencies:l,key:c}=e,u=(t=>t&&i(t.metatype)||"current")(r),h=n(a,"dependency"),p="current"!==u?`\n\nPotential solutions:\n- Is ${u} a valid NestJS module?\n- If ${h} is a provider, is it part of the current ${u}?\n- If ${h} is exported from a separate @Module, is that module imported within ${u}?\n  @Module({\n    imports: [ /* the Module containing ${h} */ ]\n  })\n`:`\n\nPotential solutions:\n- If ${h} is a provider, is it part of the current Module?\n- If ${h} is exported from a separate @Module, is that module imported within Module?\n  @Module({\n    imports: [ /* the Module containing ${h} */ ]\n  })\n`;let d=`Nest can't resolve dependencies of the ${t.toString()}`;if((0,s.isNil)(o))return d+=`. Please make sure that the "${c.toString()}" property is available in the current context.${p}`,d;const f=(l||[]).map((t=>n(t,"+",!1)));return f[o]="?",d+=" (",d+=f.join(", "),d+=`). Please make sure that the argument ${h} at index [${o}] is available in the ${u} context.`,d+=p,d},e.INVALID_MIDDLEWARE_MESSAGE=(t,e)=>`The middleware doesn't provide the 'use' method (${e})`,e.UNDEFINED_FORWARDREF_MESSAGE=t=>`Nest cannot create the module instance. Often, this is because of a circular dependency between modules. Use forwardRef() to avoid it.\n\n(Read more: https://docs.nestjs.com/fundamentals/circular-dependency)\nScope [${o(t)}]\n`,e.INVALID_MODULE_MESSAGE=(t,e,r)=>{const s=t?.name||"module";return`Nest cannot create the ${s} instance.\nReceived an unexpected value at index [${e}] of the ${s} "imports" array.\n\nScope [${o(r)}]`},e.USING_INVALID_CLASS_AS_A_MODULE_MESSAGE=(t,e)=>`Classes annotated with @Injectable(), @Catch(), and @Controller() decorators must not appear in the "imports" array of a module.\nPlease remove ${`"${i(t)}"`||"that class"} (including forwarded occurrences, if any) from all of the "imports" arrays.\n\nScope [${o(e)}]\n`,e.UNDEFINED_MODULE_MESSAGE=(t,e,r)=>{const s=t?.name||"module";return`Nest cannot create the ${s} instance.\nThe module at index [${e}] of the ${s} "imports" array is undefined.\n\nPotential causes:\n- A circular dependency between modules. Use forwardRef() to avoid it. Read more: https://docs.nestjs.com/fundamentals/circular-dependency\n- The module at index [${e}] is of type "undefined". Check your import statements and the type of the module.\n\nScope [${o(r)}]`},e.UNKNOWN_EXPORT_MESSAGE=(t="item",e)=>`Nest cannot export a provider/module that is not a part of the currently processed module (${e}). Please verify whether the exported ${t=(0,s.isSymbol)(t)?t.toString():t} is available in this particular context.\n\nPossible Solutions:\n- Is ${t} part of the relevant providers/imports within ${e}?\n`,e.INVALID_CLASS_MESSAGE=(t,e)=>`ModuleRef cannot instantiate class (${e} is not constructable).`,e.INVALID_CLASS_SCOPE_MESSAGE=(t,e)=>`${e||"This class"} is marked as a scoped provider. Request and transient-scoped providers can't be used in combination with "get()" method. Please, use "resolve()" instead.`,e.UNKNOWN_REQUEST_MAPPING=t=>{const e=t.name;return e?`An invalid controller has been detected. "${e}" does not have the @Controller() decorator but it is being listed in the "controllers" array of some module.`:"An invalid controller has been detected. Perhaps, one of your controllers is missing the @Controller() decorator."},e.INVALID_MIDDLEWARE_CONFIGURATION="An invalid middleware configuration has been passed inside the module 'configure()' method.",e.UNHANDLED_RUNTIME_EXCEPTION="Unhandled Runtime Exception.",e.INVALID_EXCEPTION_FILTER="Invalid exception filters (@UseFilters()).",e.MICROSERVICES_PACKAGE_NOT_FOUND_EXCEPTION="Unable to load @nestjs/microservices package. (Please make sure that it's already installed.)"},9878:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseExceptionFilterContext=void 0;const s=r(36861),i=r(92889),n=r(73073),o=r(45644),a=r(75240);class l extends o.ContextCreator{constructor(t){super(),this.container=t}createConcreteContext(t,e=a.STATIC_CONTEXT,r){return(0,i.isEmpty)(t)?[]:(0,n.iterate)(t).filter((t=>t&&((0,i.isFunction)(t.catch)||t.name))).map((t=>this.getFilterInstance(t,e,r))).filter((t=>!!t)).map((t=>({func:t.catch.bind(t),exceptionMetatypes:this.reflectCatchExceptions(t)}))).toArray()}getFilterInstance(t,e=a.STATIC_CONTEXT,r){if(t.catch)return t;const s=this.getInstanceByMetatype(t);if(!s)return null;const i=s.getInstanceByContextId(this.getContextId(e,s),r);return i&&i.instance}getInstanceByMetatype(t){if(!this.moduleContext)return;const e=this.container.getModules().get(this.moduleContext);return e?e.injectables.get(t):void 0}reflectCatchExceptions(t){const e=Object.getPrototypeOf(t);return Reflect.getMetadata(s.FILTER_CATCH_EXCEPTIONS,e.constructor)||[]}}e.BaseExceptionFilterContext=l},77685:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseExceptionFilter=void 0;const s=r(491),i=r(76301),n=r(92889),o=r(48875),a=r(6165);class l{constructor(t){this.applicationRef=t}catch(t,e){const r=this.applicationRef||this.httpAdapterHost&&this.httpAdapterHost.httpAdapter;if(!(t instanceof i.HttpException))return this.handleUnknownError(t,e,r);const s=t.getResponse(),o=(0,n.isObject)(s)?s:{statusCode:t.getStatus(),message:s},a=e.getArgByIndex(1);r.isHeadersSent(a)?r.end(a):r.reply(a,o,t.getStatus())}handleUnknownError(t,e,r){const s=this.isHttpError(t)?{statusCode:t.statusCode,message:t.message}:{statusCode:i.HttpStatus.INTERNAL_SERVER_ERROR,message:o.MESSAGES.UNKNOWN_EXCEPTION_MESSAGE},n=e.getArgByIndex(1);return r.isHeadersSent(n)?r.end(n):r.reply(n,s,s.statusCode),this.isExceptionObject(t)?l.logger.error(t.message,t.stack):l.logger.error(t)}isExceptionObject(t){return(0,n.isObject)(t)&&!!t.message}isHttpError(t){return t?.statusCode&&t?.message}}e.BaseExceptionFilter=l,l.logger=new i.Logger("ExceptionsHandler"),s.__decorate([(0,i.Optional)(),(0,i.Inject)(),s.__metadata("design:type",a.HttpAdapterHost)],l.prototype,"httpAdapterHost",void 0)},52460:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionsHandler=void 0;const s=r(92889),i=r(31207),n=r(77685),o=r(40823);class a extends n.BaseExceptionFilter{constructor(){super(...arguments),this.filters=[]}next(t,e){this.invokeCustomFilters(t,e)||super.catch(t,e)}setCustomFilters(t){if(!Array.isArray(t))throw new o.InvalidExceptionFilterException;this.filters=t}invokeCustomFilters(t,e){if((0,s.isEmpty)(this.filters))return!1;const r=(0,i.selectExceptionFilterMetadata)(this.filters,t);return r&&r.func(t,e),!!r}}e.ExceptionsHandler=a},96519:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalExceptionFilterContext=void 0;const s=r(36861),i=r(92889),n=r(75240),o=r(9878),a=r(13434),l=r(73073);class c extends o.BaseExceptionFilterContext{constructor(t,e){super(t),this.config=e}create(t,e,r,o=n.STATIC_CONTEXT,l){this.moduleContext=r;const c=new a.ExternalExceptionsHandler,u=this.createContext(t,e,s.EXCEPTION_FILTERS_METADATA,o,l);return(0,i.isEmpty)(u)||c.setCustomFilters(u.reverse()),c}getGlobalMetadata(t=n.STATIC_CONTEXT,e){if(!this.config)return[];const r=this.config.getGlobalFilters();if(t===n.STATIC_CONTEXT&&!e)return r;const s=this.config.getGlobalRequestFilters(),i=(0,l.iterate)(s).map((r=>r.getInstanceByContextId(t,e))).filter((t=>!!t)).map((t=>t.instance)).toArray();return r.concat(i)}}e.ExternalExceptionFilterContext=c},87828:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalExceptionFilter=void 0;const s=r(76301);class i{catch(t,e){throw t instanceof Error&&!(t instanceof s.HttpException)&&i.logger.error(t.message,t.stack),t}}e.ExternalExceptionFilter=i,i.logger=new s.Logger("ExceptionsHandler")},13434:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalExceptionsHandler=void 0;const s=r(92889),i=r(31207),n=r(87828),o=r(40823);class a extends n.ExternalExceptionFilter{constructor(){super(...arguments),this.filters=[]}next(t,e){return this.invokeCustomFilters(t,e)||super.catch(t,e)}setCustomFilters(t){if(!Array.isArray(t))throw new o.InvalidExceptionFilterException;this.filters=t}invokeCustomFilters(t,e){if((0,s.isEmpty)(this.filters))return null;const r=(0,i.selectExceptionFilterMetadata)(this.filters,t);return r?r.func(t,e):null}}e.ExternalExceptionsHandler=a},86271:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(77685),e)},53390:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FORBIDDEN_MESSAGE=void 0,e.FORBIDDEN_MESSAGE="Forbidden resource"},94720:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GuardsConsumer=void 0;const s=r(92889),i=r(18948),n=r(68809);e.GuardsConsumer=class{async tryActivate(t,e,r,i,n){if(!t||(0,s.isEmpty)(t))return!0;const o=this.createContext(e,r,i);o.setType(n);for(const e of t){const t=e.canActivate(o);if(!await this.pickResult(t))return!1}return!0}createContext(t,e,r){return new n.ExecutionContextHost(t,e.constructor,r)}async pickResult(t){return t instanceof i.Observable?(0,i.lastValueFrom)(t):t}}},62061:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GuardsContextCreator=void 0;const s=r(36861),i=r(92889),n=r(73073),o=r(45644),a=r(75240);class l extends o.ContextCreator{constructor(t,e){super(),this.container=t,this.config=e}create(t,e,r,i=a.STATIC_CONTEXT,n){return this.moduleContext=r,this.createContext(t,e,s.GUARDS_METADATA,i,n)}createConcreteContext(t,e=a.STATIC_CONTEXT,r){return(0,i.isEmpty)(t)?[]:(0,n.iterate)(t).filter((t=>t&&(t.name||t.canActivate))).map((t=>this.getGuardInstance(t,e,r))).filter((t=>t&&(0,i.isFunction)(t.canActivate))).toArray()}getGuardInstance(t,e=a.STATIC_CONTEXT,r){if(t.canActivate)return t;const s=this.getInstanceByMetatype(t);if(!s)return null;const i=s.getInstanceByContextId(this.getContextId(e,s),r);return i&&i.instance}getInstanceByMetatype(t){if(!this.moduleContext)return;const e=this.container.getModules().get(this.moduleContext);return e?e.injectables.get(t):void 0}getGlobalMetadata(t=a.STATIC_CONTEXT,e){if(!this.config)return[];const r=this.config.getGlobalGuards();if(t===a.STATIC_CONTEXT&&!e)return r;const s=this.config.getGlobalRequestGuards(),i=(0,n.iterate)(s).map((r=>r.getInstanceByContextId(this.getContextId(t,r),e))).filter((t=>!!t)).map((t=>t.instance)).toArray();return r.concat(i)}}e.GuardsContextCreator=l},51025:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(53390),e),s.__exportStar(r(94720),e),s.__exportStar(r(62061),e)},45644:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextCreator=void 0;const s=r(75240);e.ContextCreator=class{createContext(t,e,r,i=s.STATIC_CONTEXT,n){const o=this.getGlobalMetadata&&this.getGlobalMetadata(i,n),a=this.reflectClassMetadata(t,r),l=this.reflectMethodMetadata(e,r);return[...this.createConcreteContext(o||[],i,n),...this.createConcreteContext(a,i,n),...this.createConcreteContext(l,i,n)]}reflectClassMetadata(t,e){const r=Object.getPrototypeOf(t);return Reflect.getMetadata(e,r.constructor)}reflectMethodMetadata(t,e){return Reflect.getMetadata(e,t)}getContextId(t,e){return t.getParent?t.getParent({token:e.token,isTreeDurable:e.isDependencyTreeDurable()}):t}}},93308:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextIdFactory=e.createContextId=void 0;const s=r(92889),i=r(10894);function n(){return{id:Math.random()}}e.createContextId=n;class o{static create(){return n()}static getByRequest(t,e=["raw"]){if(!t)return o.create();if(t[i.REQUEST_CONTEXT_ID])return t[i.REQUEST_CONTEXT_ID];for(const r of e)if(t[r]?.[i.REQUEST_CONTEXT_ID])return t[r][i.REQUEST_CONTEXT_ID];if(!this.strategy)return o.create();const r=n(),s=this.strategy.attach(r,t);return this.isContextIdResolverWithPayload(s)?(r.getParent=s.resolve,r.payload=s.payload):r.getParent=s,r}static apply(t){this.strategy=t}static isContextIdResolverWithPayload(t){return(0,s.isObject)(t)}}e.ContextIdFactory=o},7527:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextUtils=void 0;const s=r(36861),i=r(92889),n=r(68809);e.ContextUtils=class{mapParamType(t){return t.split(":")[0]}reflectCallbackParamtypes(t,e){return Reflect.getMetadata(s.PARAMTYPES_METADATA,t,e)}reflectCallbackMetadata(t,e,r){return Reflect.getMetadata(r,t.constructor,e)}reflectPassthrough(t,e){return Reflect.getMetadata(s.RESPONSE_PASSTHROUGH_METADATA,t.constructor,e)}getArgumentsLength(t,e){return t.length?Math.max(...t.map((t=>e[t].index)))+1:0}createNullArray(t){const e=new Array(t);for(let r=0;r<t;++r)e[r]=void 0;return e}mergeParamsMetatypes(t,e){return e?t.map((t=>({...t,metatype:e[t.index]}))):t}getCustomFactory(t,e,r){return(0,i.isFunction)(t)?(...s)=>t(e,r(s)):()=>null}getContextFactory(t,e,r){const s=e&&e.constructor;return e=>{const i=new n.ExecutionContextHost(e,s,r);return i.setType(t),i}}}},68809:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExecutionContextHost=void 0,e.ExecutionContextHost=class{constructor(t,e=null,r=null){this.args=t,this.constructorRef=e,this.handler=r,this.contextType="http"}setType(t){t&&(this.contextType=t)}getType(){return this.contextType}getClass(){return this.constructorRef}getHandler(){return this.handler}getArgs(){return this.args}getArgByIndex(t){return this.args[t]}switchToRpc(){return Object.assign(this,{getData:()=>this.getArgByIndex(0),getContext:()=>this.getArgByIndex(1)})}switchToHttp(){return Object.assign(this,{getRequest:()=>this.getArgByIndex(0),getResponse:()=>this.getArgByIndex(1),getNext:()=>this.getArgByIndex(2)})}switchToWs(){return Object.assign(this,{getClient:()=>this.getArgByIndex(0),getData:()=>this.getArgByIndex(1),getPattern:()=>this.getArgByIndex(this.getArgs().length-1)})}}},14634:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalContextCreator=void 0;const s=r(76301),i=r(36861),n=r(92889),o=r(18948),a=r(96519),l=r(53390),c=r(51025),u=r(75240),h=r(46176),p=r(19870),d=r(7527),f=r(50217),m=r(7991);class g{constructor(t,e,r,s,i,n,o,a){this.guardsContextCreator=t,this.guardsConsumer=e,this.interceptorsContextCreator=r,this.interceptorsConsumer=s,this.modulesContainer=i,this.pipesContextCreator=n,this.pipesConsumer=o,this.filtersContextCreator=a,this.contextUtils=new d.ContextUtils,this.externalErrorProxy=new f.ExternalErrorProxy,this.handlerMetadataStorage=new m.HandlerMetadataStorage}static fromContainer(t){const e=new c.GuardsContextCreator(t,t.applicationConfig),r=new c.GuardsConsumer,s=new h.InterceptorsContextCreator(t,t.applicationConfig),i=new h.InterceptorsConsumer,n=new p.PipesContextCreator(t,t.applicationConfig),o=new p.PipesConsumer,l=new a.ExternalExceptionFilterContext(t,t.applicationConfig),u=new g(e,r,s,i,t.getModules(),n,o,l);return u.container=t,u}create(t,e,r,s,i,n=u.STATIC_CONTEXT,o,a={interceptors:!0,guards:!0,filters:!0},l="http"){const c=this.getContextModuleKey(t.constructor),{argsLength:h,paramtypes:p,getParamsMetadata:d}=this.getMetadata(t,r,s,i,l),f=this.pipesContextCreator.create(t,e,c,n,o),m=this.guardsContextCreator.create(t,e,c,n,o),g=this.filtersContextCreator.create(t,e,c,n,o),y=a.interceptors?this.interceptorsContextCreator.create(t,e,c,n,o):[],v=d(c,n,o),_=v?this.contextUtils.mergeParamsMetatypes(v,p):[],E=a.guards?this.createGuardsFn(m,t,e,l):null,b=this.createPipesFn(f,_),A=async(...r)=>{const s=this.contextUtils.createNullArray(h);E&&await E(r);const i=await this.interceptorsConsumer.intercept(y,r,t,e,((r,...s)=>async()=>b?(await b(r,...s),e.apply(t,r)):e.apply(t,s))(s,...r),l);return this.transformToResult(i)};return a.filters?this.externalErrorProxy.createProxy(A,g,l):A}getMetadata(t,e,r,s,i){const n=this.handlerMetadataStorage.get(t,e);if(n)return n;const o=this.contextUtils.reflectCallbackMetadata(t,e,r||"")||{},a=Object.keys(o),l=this.contextUtils.getArgumentsLength(a,o),c=this.contextUtils.reflectCallbackParamtypes(t,e),h=this.contextUtils.getContextFactory(i,t,t[e]),p={argsLength:l,paramtypes:c,getParamsMetadata:(t,e=u.STATIC_CONTEXT,r)=>s?this.exchangeKeysForValues(a,o,t,s,e,r,h):null};return this.handlerMetadataStorage.set(t,e,p),p}getContextModuleKey(t){if(!t)return"";const e=this.modulesContainer.entries();for(const[r,s]of e)if(s.hasProvider(t))return r;return""}exchangeKeysForValues(t,e,r,s,n=u.STATIC_CONTEXT,o,a=this.contextUtils.getContextFactory("http")){return this.pipesContextCreator.setModuleContext(r),t.map((t=>{const{index:r,data:l,pipes:c}=e[t],u=this.pipesContextCreator.createConcreteContext(c,n,o),h=this.contextUtils.mapParamType(t);if(t.includes(i.CUSTOM_ROUTE_ARGS_METADATA)){const{factory:s}=e[t];return{index:r,extractValue:this.contextUtils.getCustomFactory(s,l,a),type:h,data:l,pipes:u}}const p=Number(h);return{index:r,extractValue:(...t)=>s.exchangeKeyForValue(p,l,t),type:p,data:l,pipes:u}}))}createPipesFn(t,e){return e.length?async(r,...s)=>{await Promise.all(e.map((async e=>{const{index:i,extractValue:n,type:o,data:a,metatype:l,pipes:c}=e,u=n(...s);r[i]=await this.getParamValue(u,{metatype:l,type:o,data:a},t.concat(c))})))}:null}async getParamValue(t,{metatype:e,type:r,data:s},i){return(0,n.isEmpty)(i)?t:this.pipesConsumer.apply(t,{metatype:e,type:r,data:s},i)}async transformToResult(t){return(0,o.isObservable)(t)?(0,o.lastValueFrom)(t):t}createGuardsFn(t,e,r,i){return t.length?async n=>{if(!await this.guardsConsumer.tryActivate(t,n,e,r,i))throw new s.ForbiddenException(l.FORBIDDEN_MESSAGE)}:null}registerRequestProvider(t,e){this.container.registerRequestProvider(t,e)}}e.ExternalContextCreator=g},50217:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalErrorProxy=void 0;const s=r(68809);e.ExternalErrorProxy=class{createProxy(t,e,r){return async(...i)=>{try{return await t(...i)}catch(t){const n=new s.ExecutionContextHost(i);return n.setType(r),e.next(t,n)}}}}},150:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClassScope=void 0;const s=r(36861);e.getClassScope=function(t){const e=Reflect.getMetadata(s.SCOPE_OPTIONS_METADATA,t);return e&&e.scope}},7991:(t,e,r)=>{"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.HandlerMetadataStorage=e.HANDLER_METADATA_SYMBOL=void 0;const i=r(75240);e.HANDLER_METADATA_SYMBOL=Symbol.for("handler_metadata:cache"),e.HandlerMetadataStorage=class{constructor(){this[s]=new Map}set(t,r,s){const i=this.getMetadataKey(t,r);this[e.HANDLER_METADATA_SYMBOL].set(i,s)}get(t,r){const s=this.getMetadataKey(t,r);return this[e.HANDLER_METADATA_SYMBOL].get(s)}getMetadataKey(t,e){const r=t.constructor;return(r&&(r[i.CONTROLLER_ID_KEY]||r.name))+e}},s=e.HANDLER_METADATA_SYMBOL},6165:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpAdapterHost=void 0,e.HttpAdapterHost=class{set httpAdapter(t){this._httpAdapter=t}get httpAdapter(){return this._httpAdapter}}},29574:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(93308),e),s.__exportStar(r(14634),e),s.__exportStar(r(6165),e)},41119:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDurable=void 0;const s=r(36861);e.isDurable=function(t){const e=Reflect.getMetadata(s.SCOPE_OPTIONS_METADATA,t);return e&&e.durable}},88301:(t,e,r)=>{"use strict";var s=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.loadAdapter=void 0;const i=r(76301),n=new i.Logger("PackageLoader");e.loadAdapter=function(t,e,i){try{return i?i():r(5630)(t)}catch(r){n.error(((t,e)=>`No driver (${e}) has been selected. In order to take advantage of the default driver, please, ensure to install the "${t}" package ($ npm install ${t}).`)(t,e)),s.exit(1)}}},56002:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_EXECUTION_CONTEXT=e.VERSIONED_CONTROLLER_MAPPING_MESSAGE=e.CONTROLLER_MAPPING_MESSAGE=e.VERSIONED_ROUTE_MAPPED_MESSAGE=e.ROUTE_MAPPED_MESSAGE=e.MODULE_INIT_MESSAGE=void 0;const s=r(25705),i=r(67554);e.MODULE_INIT_MESSAGE=(t,e)=>`${e} dependencies initialized`,e.ROUTE_MAPPED_MESSAGE=(t,e)=>`Mapped {${t}, ${s.RequestMethod[e]}} route`,e.VERSIONED_ROUTE_MAPPED_MESSAGE=(t,e,r)=>{const n=(Array.isArray(r)?r:[r]).map((t=>t===i.VERSION_NEUTRAL?"Neutral":t)).join(",");return`Mapped {${t}, ${s.RequestMethod[e]}} (version: ${n}) route`},e.CONTROLLER_MAPPING_MESSAGE=(t,e)=>`${t} {${e}}:`,e.VERSIONED_CONTROLLER_MAPPING_MESSAGE=(t,e,r)=>`${t} {${e}} (version: ${(Array.isArray(r)?r:[r]).map((t=>t===i.VERSION_NEUTRAL?"Neutral":t)).join(",")}):`,e.INVALID_EXECUTION_CONTEXT=(t,e)=>`Calling ${t} is not allowed in this context. Your current execution context is "${e}".`},23755:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optionalRequire=void 0,e.optionalRequire=function(t,e){try{return e?e():r(5630)(t)}catch(t){return{}}}},26939:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rethrow=void 0,e.rethrow=t=>{throw t}},24564:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouterMethodFactory=void 0;const s=r(25705),i={[s.RequestMethod.GET]:"get",[s.RequestMethod.POST]:"post",[s.RequestMethod.PUT]:"put",[s.RequestMethod.DELETE]:"delete",[s.RequestMethod.PATCH]:"patch",[s.RequestMethod.ALL]:"all",[s.RequestMethod.OPTIONS]:"options",[s.RequestMethod.HEAD]:"head",[s.RequestMethod.SEARCH]:"search"};e.RouterMethodFactory=class{get(t,e){return t[i[e]]||t.use}}},5630:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=5630,t.exports=e},45441:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callBeforeAppShutdownHook=void 0;const s=r(92889),i=r(73073),n=r(62888);function o(t){return(0,s.isFunction)(t.beforeApplicationShutdown)}function a(t,e){return(0,i.iterate)(t).filter((t=>!(0,s.isNil)(t))).filter(o).map((async t=>t.beforeApplicationShutdown(e))).toArray()}e.callBeforeAppShutdownHook=async function(t,e){const r=t.getNonAliasProviders(),[s,i]=r.shift(),l=[...t.controllers,...r,...t.injectables,...t.middlewares],c=(0,n.getNonTransientInstances)(l);await Promise.all(a(c,e));const u=(0,n.getTransientInstances)(l);await Promise.all(a(u,e));const h=i.instance;h&&o(h)&&i.isDependencyTreeStatic()&&await h.beforeApplicationShutdown(e)}},52686:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(57860),e),s.__exportStar(r(60426),e),s.__exportStar(r(78164),e),s.__exportStar(r(12133),e),s.__exportStar(r(45441),e)},57860:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callModuleBootstrapHook=void 0;const s=r(92889),i=r(73073),n=r(62888);function o(t){return(0,s.isFunction)(t.onApplicationBootstrap)}function a(t){return(0,i.iterate)(t).filter((t=>!(0,s.isNil)(t))).filter(o).map((async t=>t.onApplicationBootstrap())).toArray()}e.callModuleBootstrapHook=async function(t){const e=t.getNonAliasProviders(),[r,s]=e.shift(),i=[...t.controllers,...e,...t.injectables,...t.middlewares],l=(0,n.getNonTransientInstances)(i);await Promise.all(a(l));const c=(0,n.getTransientInstances)(i);await Promise.all(a(c));const u=s.instance;u&&o(u)&&s.isDependencyTreeStatic()&&await u.onApplicationBootstrap()}},60426:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callAppShutdownHook=void 0;const s=r(92889),i=r(73073),n=r(62888);function o(t){return(0,s.isFunction)(t.onApplicationShutdown)}function a(t,e){return(0,i.iterate)(t).filter((t=>!(0,s.isNil)(t))).filter(o).map((async t=>t.onApplicationShutdown(e))).toArray()}e.callAppShutdownHook=async function(t,e){const r=t.getNonAliasProviders(),[s,i]=r.shift(),l=[...t.controllers,...r,...t.injectables,...t.middlewares],c=(0,n.getNonTransientInstances)(l);await Promise.all(a(c,e));const u=(0,n.getTransientInstances)(l);await Promise.all(a(u,e));const h=i.instance;h&&o(h)&&i.isDependencyTreeStatic()&&await h.onApplicationShutdown(e)}},78164:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callModuleDestroyHook=void 0;const s=r(92889),i=r(73073),n=r(62888);function o(t){return(0,s.isFunction)(t.onModuleDestroy)}function a(t){return(0,i.iterate)(t).filter((t=>!(0,s.isNil)(t))).filter(o).map((async t=>t.onModuleDestroy())).toArray()}e.callModuleDestroyHook=async function(t){const e=t.getNonAliasProviders(),[r,s]=e.shift(),i=[...t.controllers,...e,...t.injectables,...t.middlewares],l=(0,n.getNonTransientInstances)(i);await Promise.all(a(l));const c=(0,n.getTransientInstances)(i);await Promise.all(a(c));const u=s.instance;u&&o(u)&&s.isDependencyTreeStatic()&&await u.onModuleDestroy()}},12133:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callModuleInitHook=void 0;const s=r(92889),i=r(73073),n=r(62888);function o(t){return(0,s.isFunction)(t.onModuleInit)}function a(t){return(0,i.iterate)(t).filter((t=>!(0,s.isNil)(t))).filter(o).map((async t=>t.onModuleInit())).toArray()}e.callModuleInitHook=async function(t){const e=t.getNonAliasProviders(),[r,s]=e.shift(),i=[...t.controllers,...e,...t.injectables,...t.middlewares],l=(0,n.getNonTransientInstances)(i);await Promise.all(a(l));const c=(0,n.getTransientInstances)(i);await Promise.all(a(c));const u=s.instance;u&&o(u)&&s.isDependencyTreeStatic()&&await u.onModuleInit()}},40284:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NestFactory=e.APP_PIPE=e.APP_INTERCEPTOR=e.APP_GUARD=e.APP_FILTER=void 0;const s=r(491);r(72964),s.__exportStar(r(86402),e),s.__exportStar(r(63192),e);var i=r(48875);Object.defineProperty(e,"APP_FILTER",{enumerable:!0,get:function(){return i.APP_FILTER}}),Object.defineProperty(e,"APP_GUARD",{enumerable:!0,get:function(){return i.APP_GUARD}}),Object.defineProperty(e,"APP_INTERCEPTOR",{enumerable:!0,get:function(){return i.APP_INTERCEPTOR}}),Object.defineProperty(e,"APP_PIPE",{enumerable:!0,get:function(){return i.APP_PIPE}}),s.__exportStar(r(91801),e),s.__exportStar(r(86271),e),s.__exportStar(r(29574),e),s.__exportStar(r(33892),e),s.__exportStar(r(28811),e),s.__exportStar(r(9058),e),s.__exportStar(r(76141),e),s.__exportStar(r(39175),e),s.__exportStar(r(8721),e);var n=r(69677);Object.defineProperty(e,"NestFactory",{enumerable:!0,get:function(){return n.NestFactory}}),s.__exportStar(r(99495),e),s.__exportStar(r(23138),e),s.__exportStar(r(67784),e)},23035:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractInstanceResolver=void 0;const s=r(76301),i=r(71874);e.AbstractInstanceResolver=class{find(t,e){const r=this.instanceLinksHost.get(t,e),n=({wrapperRef:e})=>{if(e.scope===s.Scope.REQUEST||e.scope===s.Scope.TRANSIENT)throw new i.InvalidClassScopeException(t);return e.instance};return Array.isArray(r)?r.map(n):n(r)}async resolvePerContext(t,e,r,s){const n=s?.strict?this.instanceLinksHost.get(t,{moduleId:e.id,each:s.each}):this.instanceLinksHost.get(t,{each:s.each}),o=async e=>{const{wrapperRef:n,collection:o}=e;if(n.isDependencyTreeStatic()&&!n.isTransient)return this.get(t,{strict:s.strict});const a=n.instance||{constructor:t},l=await this.injector.loadPerContext(a,n.host,o,r,n);if(!l)throw new i.UnknownElementException;return l};return Array.isArray(n)?Promise.all(n.map((t=>o(t)))):o(n)}}},84233:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModuleCompiler=void 0;const s=r(90276);e.ModuleCompiler=class{constructor(t=new s.ModuleTokenFactory){this.moduleTokenFactory=t}async compile(t){const{type:e,dynamicMetadata:r}=this.extractMetadata(await t);return{type:e,dynamicMetadata:r,token:this.moduleTokenFactory.create(e,r)}}extractMetadata(t){if(!this.isDynamicModule(t))return{type:t?.forwardRef?t.forwardRef():t};const{module:e,...r}=t;return{type:e,dynamicMetadata:r}}isDynamicModule(t){return!!t.module}}},75240:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STATIC_CONTEXT=e.CONTROLLER_ID_KEY=void 0,e.CONTROLLER_ID_KEY="CONTROLLER_ID",e.STATIC_CONTEXT=Object.freeze({id:1})},19547:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NestContainer=void 0;const s=r(36861),i=r(77116),n=r(71874),o=r(73231),a=r(1139),l=r(10894),c=r(84233),u=r(77609),h=r(66233),p=r(12694),d=r(90276),f=r(60163);e.NestContainer=class{constructor(t=undefined){this._applicationConfig=t,this.globalModules=new Set,this.moduleTokenFactory=new d.ModuleTokenFactory,this.moduleCompiler=new c.ModuleCompiler(this.moduleTokenFactory),this.modules=new f.ModulesContainer,this.dynamicModulesMetadata=new Map,this.internalProvidersStorage=new h.InternalProvidersStorage,this._serializedGraph=new a.SerializedGraph}get serializedGraph(){return this._serializedGraph}get applicationConfig(){return this._applicationConfig}setHttpAdapter(t){this.internalProvidersStorage.httpAdapter=t,this.internalProvidersStorage.httpAdapterHost&&(this.internalProvidersStorage.httpAdapterHost.httpAdapter=t)}getHttpAdapterRef(){return this.internalProvidersStorage.httpAdapter}getHttpAdapterHostRef(){return this.internalProvidersStorage.httpAdapterHost}async addModule(t,e){if(!t)throw new n.UndefinedForwardRefException(e);const{type:r,dynamicMetadata:s,token:i}=await this.moduleCompiler.compile(t);return this.modules.has(i)?{moduleRef:this.modules.get(i),inserted:!0}:{moduleRef:await this.setModule({token:i,type:r,dynamicMetadata:s},e),inserted:!0}}async replaceModule(t,e,r){if(!t||!e)throw new n.UndefinedForwardRefException(r);const{token:s}=await this.moduleCompiler.compile(t),{type:i,dynamicMetadata:o}=await this.moduleCompiler.compile(e);return{moduleRef:await this.setModule({token:s,type:i,dynamicMetadata:o},r),inserted:!1}}async setModule({token:t,dynamicMetadata:e,type:r},s){const i=new p.Module(r,this);i.token=t,i.initOnPreview=this.shouldInitOnPreview(r),this.modules.set(t,i);const n=[].concat(s,r);return await this.addDynamicMetadata(t,e,n),this.isGlobalModule(r,e)&&(i.isGlobal=!0,this.addGlobalModule(i)),i}async addDynamicMetadata(t,e,r){if(!e)return;this.dynamicModulesMetadata.set(t,e);const{imports:s}=e;await this.addDynamicModules(s,r)}async addDynamicModules(t,e){t&&await Promise.all(t.map((t=>this.addModule(t,e))))}isGlobalModule(t,e){return!(!e||!e.global)||!!Reflect.getMetadata(s.GLOBAL_MODULE_METADATA,t)}addGlobalModule(t){this.globalModules.add(t)}getModules(){return this.modules}getModuleCompiler(){return this.moduleCompiler}getModuleByKey(t){return this.modules.get(t)}getInternalCoreModuleRef(){return this.internalCoreModule}async addImport(t,e){if(!this.modules.has(e))return;const r=this.modules.get(e),{token:s}=await this.moduleCompiler.compile(t),i=this.modules.get(s);r.addImport(i)}addProvider(t,e,r){const s=this.modules.get(e);if(!t)throw new n.CircularDependencyException(s?.metatype.name);if(!s)throw new n.UnknownModuleException;const o=s.addProvider(t,r),a=s.getProviderByKey(o);return i.DiscoverableMetaHostCollection.inspectProvider(this.modules,a),o}addInjectable(t,e,r,s){if(!this.modules.has(e))throw new n.UnknownModuleException;return this.modules.get(e).addInjectable(t,r,s)}addExportedProvider(t,e){if(!this.modules.has(e))throw new n.UnknownModuleException;this.modules.get(e).addExportedProvider(t)}addController(t,e){if(!this.modules.has(e))throw new n.UnknownModuleException;const r=this.modules.get(e);r.addController(t);const s=r.controllers.get(t);i.DiscoverableMetaHostCollection.inspectController(this.modules,s)}clear(){this.modules.clear()}replace(t,e){this.modules.forEach((r=>r.replace(t,e)))}bindGlobalScope(){this.modules.forEach((t=>this.bindGlobalsToImports(t)))}bindGlobalsToImports(t){this.globalModules.forEach((e=>this.bindGlobalModuleToModule(t,e)))}bindGlobalModuleToModule(t,e){t!==e&&t!==this.internalCoreModule&&t.addImport(e)}getDynamicMetadataByToken(t,e){const r=this.dynamicModulesMetadata.get(t);return e?r?.[e]??[]:r}registerCoreModuleRef(t){this.internalCoreModule=t,this.modules[u.InternalCoreModule.name]=t}getModuleTokenFactory(){return this.moduleTokenFactory}registerRequestProvider(t,e){this.internalCoreModule.getProviderByKey(l.REQUEST).setInstanceByContextId(e,{instance:t,isResolved:!0})}shouldInitOnPreview(t){return o.InitializeOnPreviewAllowlist.has(t)}}},95104:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFactoryProvider=e.isValueProvider=e.isClassProvider=void 0;const s=r(92889);e.isClassProvider=function(t){return Boolean(t?.useClass)},e.isValueProvider=function(t){const e=t?.useValue;return!(0,s.isUndefined)(e)},e.isFactoryProvider=function(t){return Boolean(t.useFactory)}},47576:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SilentLogger=void 0;const s=r(76301),i=()=>{};class n extends s.Logger{constructor(){super(...arguments),this.log=i,this.error=i,this.warn=i,this.debug=i,this.verbose=i,this.fatal=i,this.setLogLevels=i}}e.SilentLogger=n},62888:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNonTransientInstances=e.getTransientInstances=void 0;const s=r(73073);e.getTransientInstances=function(t){return(0,s.iterate)(t).filter((([t,e])=>e.isDependencyTreeStatic())).map((([t,e])=>e.getStaticTransientInstances())).flatten().filter((t=>!!t)).map((({instance:t})=>t)).toArray()},e.getNonTransientInstances=function(t){return(0,s.iterate)(t).filter((([t,e])=>e.isDependencyTreeStatic()&&!e.isTransient)).map((([t,{instance:e}])=>e)).toArray()}},33892:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(19547),e),s.__exportStar(r(43363),e),s.__exportStar(r(40557),e),s.__exportStar(r(21442),e),s.__exportStar(r(60163),e)},22612:(t,e,r)=>{"use strict";var s=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.Injector=void 0;const i=r(76301),n=r(36861),o=r(5836),a=r(92889),l=r(73073),c=r(31579),u=r(71874),h=r(44213),p=r(63813),d=r(77968),f=r(75240),m=r(43363),g=r(86956),y=r(57034);e.Injector=class{constructor(t){this.options=t,this.logger=new i.Logger("InjectorLogger")}loadPrototype({token:t},e,r=f.STATIC_CONTEXT){if(!e)return;const s=e.get(t),i=s.createPrototype(r);if(i){const r=new g.InstanceWrapper({...s,instance:i});e.set(t,r)}}async loadInstance(t,e,r,s=f.STATIC_CONTEXT,i){const n=this.getInquirerId(i),o=t.getInstanceByContextId(this.getContextId(s,t),n);if(o.isPending){const e=t.settlementSignal;if(i&&e?.isCycle(i.id))throw new u.CircularDependencyException(`"${t.name}"`);return o.donePromise.then((t=>{if(t)throw t}))}const l=this.applySettlementSignal(o,t),c=t.token||t.name,{inject:p}=t,d=e.get(c);if((0,a.isUndefined)(d))throw new h.RuntimeException;if(o.isResolved)return l.complete();try{const e=this.getNowTimestamp(),n=async n=>{const o=await this.resolveProperties(t,r,p,s,t,i),a=await this.instantiateClass(n,t,d,s,i);this.applyProperties(a,o),t.initTime=this.getNowTimestamp()-e,l.complete()};await this.resolveConstructorParams(t,r,p,n,s,t,i)}catch(t){throw l.error(t),t}}async loadMiddleware(t,e,r,s=f.STATIC_CONTEXT,i){const{metatype:n,token:o}=t,l=e.get(o);(0,a.isUndefined)(l.instance)&&(l.instance=Object.create(n.prototype),await this.loadInstance(t,e,r,s,i||t))}async loadController(t,e,r=f.STATIC_CONTEXT){const s=e.controllers;await this.loadInstance(t,s,e,r,t),await this.loadEnhancersPerContext(t,r,t)}async loadInjectable(t,e,r=f.STATIC_CONTEXT,s){const i=e.injectables;await this.loadInstance(t,i,e,r,s)}async loadProvider(t,e,r=f.STATIC_CONTEXT,s){const i=e.providers;await this.loadInstance(t,i,e,r,s),await this.loadEnhancersPerContext(t,r,t)}applySettlementSignal(t,e){const r=new y.SettlementSignal;return t.donePromise=r.asPromise(),t.isPending=!0,e.settlementSignal=r,r}async resolveConstructorParams(t,e,r,s,i=f.STATIC_CONTEXT,n,o){let l=this.getInquirerId(n);const c=t.getCtorMetadata();if(c&&i!==f.STATIC_CONTEXT)return s(await this.loadCtorMetadata(c,i,n,o));const u=!(0,a.isNil)(r),[h,p]=u?this.getFactoryProviderDependencies(t):this.getClassDependencies(t);let d=!0;const m=await Promise.all(h.map((async(r,s)=>{try{if(this.isInquirer(r,o))return o&&o.instance;n?.isTransient&&o&&(n=o,l=this.getInquirerId(o));const a=await this.resolveSingleParam(t,r,{index:s,dependencies:h},e,i,n,s),c=a.getInstanceByContextId(this.getContextId(i,a),l);return c.isResolved||a.forwardRef||(d=!1),c?.instance}catch(t){if(!p.includes(s))throw t;return}})));d&&await s(m)}getClassDependencies(t){const e=t.metatype;return[this.reflectConstructorParams(e),this.reflectOptionalParams(e)]}getFactoryProviderDependencies(t){const e=[];return[t.inject?.map?.(((t,r)=>"object"!=typeof t?t:(t=>!(0,a.isUndefined)(t.token)&&!(0,a.isUndefined)(t.optional))(t)?(t.optional&&e.push(r),t?.token):t)),e]}reflectConstructorParams(t){const e=[...Reflect.getMetadata(n.PARAMTYPES_METADATA,t)||[]];return this.reflectSelfParams(t).forEach((({index:t,param:r})=>e[t]=r)),e}reflectOptionalParams(t){return Reflect.getMetadata(n.OPTIONAL_DEPS_METADATA,t)||[]}reflectSelfParams(t){return Reflect.getMetadata(n.SELF_DECLARED_DEPS_METADATA,t)||[]}async resolveSingleParam(t,e,r,s,i=f.STATIC_CONTEXT,n,o){if((0,a.isUndefined)(e))throw this.logger.log("Nest encountered an undefined dependency. This may be due to a circular import or a missing dependency declaration."),new p.UndefinedDependencyException(t.name,r,s);const l=this.resolveParamToken(t,e);return this.resolveComponentInstance(s,l,r,t,i,n,o)}resolveParamToken(t,e){return e.forwardRef?(t.forwardRef=!0,e.forwardRef()):e}async resolveComponentInstance(t,e,r,s,i=f.STATIC_CONTEXT,n,o){this.printResolvingDependenciesLog(e,n),this.printLookingForProviderLog(e,t);const a=t.providers,l=await this.lookupComponent(a,t,{...r,name:e},s,i,n,o);return this.resolveComponentHost(t,l,i,n)}async resolveComponentHost(t,e,r=f.STATIC_CONTEXT,s){const i=this.getInquirerId(s),n=e.getInstanceByContextId(this.getContextId(r,e),i);if(n.isResolved||e.forwardRef?n.isResolved||!e.forwardRef||r===f.STATIC_CONTEXT&&!i||n.donePromise&&n.donePromise.then((()=>this.loadProvider(e,t,r,s))):(s?.settlementSignal?.insertRef(e.id),await this.loadProvider(e,e.host??t,r,s)),e.async){const t=e.getInstanceByContextId(this.getContextId(r,e),i);t.instance=await t.instance,e.setInstanceByContextId(r,t,i)}return e}async lookupComponent(t,e,r,s,i=f.STATIC_CONTEXT,n,o){const a=s.token||s.name,{name:l}=r;if(s&&a===l)throw new d.UnknownDependenciesException(s.name,r,e,{id:s.id});if(t.has(l)){const r=t.get(l);return this.printFoundInModuleLog(l,e),this.addDependencyMetadata(o,s,r),r}return this.lookupComponentInParentModules(r,e,s,i,n,o)}async lookupComponentInParentModules(t,e,r,s=f.STATIC_CONTEXT,i,n){const o=await this.lookupComponentInImports(e,t.name,r,[],s,i,n);if((0,a.isNil)(o))throw new d.UnknownDependenciesException(r.name,t,e,{id:r.id});return o}async lookupComponentInImports(t,e,r,s=[],i=f.STATIC_CONTEXT,n,o,a){let l=null,c=[...(t.imports||new Set).values()].filter((t=>t));if(a){const e=t.exports;c=c.filter((t=>e.has(t.metatype)))}for(const t of c){if(s.includes(t.id))continue;this.printLookingForProviderLog(e,t),s.push(t.id);const{providers:a,exports:c}=t;if(!c.has(e)||!a.has(e)){const a=await this.lookupComponentInImports(t,e,r,s,i,n,o,!0);if(a)return this.addDependencyMetadata(o,r,a),a;continue}this.printFoundInModuleLog(e,t),l=a.get(e),this.addDependencyMetadata(o,r,l);const u=this.getInquirerId(n);if(!l.getInstanceByContextId(this.getContextId(i,l),u).isResolved&&!l.forwardRef){r.settlementSignal?.insertRef(l.id),await this.loadProvider(l,t,i,r);break}}return l}async resolveProperties(t,e,r,s=f.STATIC_CONTEXT,i,n){if(!(0,a.isNil)(r))return[];const o=t.getPropertiesMetadata();if(o&&s!==f.STATIC_CONTEXT)return this.loadPropertiesMetadata(o,s,i);const l=this.reflectProperties(t.metatype),c=await Promise.all(l.map((async r=>{try{const o={key:r.key,name:r.name};if(this.isInquirer(r.name,n))return n&&n.instance;const a=await this.resolveSingleParam(t,r.name,o,e,s,i,r.key);if(!a)return;const l=this.getInquirerId(i);return a.getInstanceByContextId(this.getContextId(s,a),l).instance}catch(t){if(!r.isOptional)throw t;return}})));return l.map(((t,e)=>({...t,instance:c[e]})))}reflectProperties(t){const e=Reflect.getMetadata(n.PROPERTY_DEPS_METADATA,t)||[],r=Reflect.getMetadata(n.OPTIONAL_PROPERTY_DEPS_METADATA,t)||[];return e.map((t=>({...t,name:t.type,isOptional:r.includes(t.key)})))}applyProperties(t,e){(0,a.isObject)(t)&&(0,l.iterate)(e).filter((t=>!(0,a.isNil)(t.instance))).forEach((e=>t[e.key]=e.instance))}async instantiateClass(t,e,r,s=f.STATIC_CONTEXT,i){const{metatype:n,inject:o}=e,l=this.getInquirerId(i),c=r.getInstanceByContextId(this.getContextId(s,r),l),u=e.isStatic(s,i)||e.isInRequestScope(s,i)||e.isLazyTransient(s,i)||e.isExplicitlyRequested(s,i);if(this.options?.preview&&!e.host?.initOnPreview)return c.isResolved=!0,c.instance;if((0,a.isNil)(o)&&u)c.instance=e.forwardRef?Object.assign(c.instance,new n(...t)):new n(...t);else if(u){const e=r.metatype(...t);c.instance=await e}return c.isResolved=!0,c.instance}async loadPerContext(t,e,r,s,i){if(!i){const e=t.constructor;i=r.get(e)}await this.loadInstance(i,r,e,s,i),await this.loadEnhancersPerContext(i,s,i);const n=i.getInstanceByContextId(this.getContextId(s,i),i.id);return n&&n.instance}async loadEnhancersPerContext(t,e,r){const s=t.getEnhancersMetadata()||[];await Promise.all(s.map((t=>{const s=t.host;return this.loadInstance(t,s.injectables,s,e,r)})))}async loadCtorMetadata(t,e,r,s){const i=await Promise.all(t.map((async t=>this.resolveScopedComponentHost(t,e,r,s)))),n=this.getInquirerId(r);return i.map((t=>t?.getInstanceByContextId(this.getContextId(e,t),n).instance))}async loadPropertiesMetadata(t,e,r){const s=await Promise.all(t.map((async({wrapper:t,key:s})=>({key:s,host:await this.resolveComponentHost(t.host,t,e,r)})))),i=this.getInquirerId(r);return s.map((({key:t,host:r})=>({key:t,name:t,instance:r.getInstanceByContextId(this.getContextId(e,r),i).instance})))}getInquirerId(t){return t&&t.id}resolveScopedComponentHost(t,e,r,s){return this.isInquirerRequest(t,s)?s:this.resolveComponentHost(t.host,t,e,r)}isInquirerRequest(t,e){return t.isTransient&&t.name===m.INQUIRER&&e}isInquirer(t,e){return t===m.INQUIRER&&e}addDependencyMetadata(t,e,r){(0,a.isSymbol)(t)||(0,a.isString)(t)?e.addPropertiesMetadata(t,r):e.addCtorMetadata(t,r)}getTokenName(t){return(0,a.isFunction)(t)?t.name:t.toString()}printResolvingDependenciesLog(t,e){if(!this.isDebugMode())return;const r=this.getTokenName(t),s=(e?.name&&e.name.toString?.())??"unknown",i=s===r,n=`Resolving dependency ${o.clc.cyanBright(r)}${o.clc.green(" in the ")}${o.clc.yellow(s)}${o.clc.green(" provider "+(i?"(alias)":""))}`;this.logger.log(n)}printLookingForProviderLog(t,e){if(!this.isDebugMode())return;const r=this.getTokenName(t),s=e?.metatype?.name??"unknown";this.logger.log(`Looking for ${o.clc.cyanBright(r)}${o.clc.green(" in ")}${o.clc.magentaBright(s)}`)}printFoundInModuleLog(t,e){if(!this.isDebugMode())return;const r=this.getTokenName(t),s=e?.metatype?.name??"unknown";this.logger.log(`Found ${o.clc.cyanBright(r)}${o.clc.green(" in ")}${o.clc.magentaBright(s)}`)}isDebugMode(){return!!s.env.NEST_DEBUG}getContextId(t,e){return t.getParent?t.getParent({token:e.token,isTreeDurable:e.isDependencyTreeDurable()}):t}getNowTimestamp(){return c.performance.now()}}},43363:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(43785),e)},43785:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INQUIRER=void 0,e.INQUIRER="INQUIRER"},82848:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inquirerProvider=void 0;const s=r(76301),i=r(43785);e.inquirerProvider={provide:i.INQUIRER,scope:s.Scope.TRANSIENT,useFactory:()=>{}}},20743:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstanceLinksHost=void 0;const s=r(92889),i=r(67510);e.InstanceLinksHost=class{constructor(t){this.container=t,this.instanceLinks=new Map,this.initialize()}get(t,e={}){const r=this.instanceLinks.get(t);if(!r)throw new i.UnknownElementException(this.getInstanceNameByToken(t));if(e.each)return r;const s=e.moduleId?r.find((t=>t.moduleId===e.moduleId)):r[r.length-1];if(!s)throw new i.UnknownElementException(this.getInstanceNameByToken(t));return s}initialize(){this.container.getModules().forEach((t=>{const{providers:e,injectables:r,controllers:s}=t;e.forEach(((e,r)=>this.addLink(e,r,t,"providers"))),r.forEach(((e,r)=>this.addLink(e,r,t,"injectables"))),s.forEach(((e,r)=>this.addLink(e,r,t,"controllers")))}))}addLink(t,e,r,s){const i={moduleId:r.id,wrapperRef:t,collection:r[s],token:e},n=this.instanceLinks.get(e);n?n.push(i):this.instanceLinks.set(e,[i])}getInstanceNameByToken(t){return(0,s.isFunction)(t)?t?.name:t}}},4981:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstanceLoader=void 0;const s=r(76301),i=r(56002),n=r(77609);class o{constructor(t,e,r,i=new s.Logger(o.name,{timestamp:!0})){this.container=t,this.injector=e,this.graphInspector=r,this.logger=i}setLogger(t){this.logger=t}async createInstancesOfDependencies(t=this.container.getModules()){this.createPrototypes(t);try{await this.createInstances(t)}catch(e){throw this.graphInspector.inspectModules(t),this.graphInspector.registerPartial(e),e}this.graphInspector.inspectModules(t)}createPrototypes(t){t.forEach((t=>{this.createPrototypesOfProviders(t),this.createPrototypesOfInjectables(t),this.createPrototypesOfControllers(t)}))}async createInstances(t){await Promise.all([...t.values()].map((async t=>{await this.createInstancesOfProviders(t),await this.createInstancesOfInjectables(t),await this.createInstancesOfControllers(t);const{name:e}=t;this.isModuleWhitelisted(e)&&this.logger.log(i.MODULE_INIT_MESSAGE`${e}`)})))}createPrototypesOfProviders(t){const{providers:e}=t;e.forEach((t=>this.injector.loadPrototype(t,e)))}async createInstancesOfProviders(t){const{providers:e}=t,r=[...e.values()];await Promise.all(r.map((async e=>{await this.injector.loadProvider(e,t),this.graphInspector.inspectInstanceWrapper(e,t)})))}createPrototypesOfControllers(t){const{controllers:e}=t;e.forEach((t=>this.injector.loadPrototype(t,e)))}async createInstancesOfControllers(t){const{controllers:e}=t,r=[...e.values()];await Promise.all(r.map((async e=>{await this.injector.loadController(e,t),this.graphInspector.inspectInstanceWrapper(e,t)})))}createPrototypesOfInjectables(t){const{injectables:e}=t;e.forEach((t=>this.injector.loadPrototype(t,e)))}async createInstancesOfInjectables(t){const{injectables:e}=t,r=[...e.values()];await Promise.all(r.map((async e=>{await this.injector.loadInjectable(e,t),this.graphInspector.inspectInstanceWrapper(e,t)})))}isModuleWhitelisted(t){return t!==n.InternalCoreModule.name}}e.InstanceLoader=o},86956:(t,e,r)=>{"use strict";var s,i=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.InstanceWrapper=e.INSTANCE_ID_SYMBOL=e.INSTANCE_METADATA_SYMBOL=void 0;const n=r(76301),o=r(5836),a=r(67906),l=r(92889),c=r(73073),u=r(19290),h=r(75240),p=r(95104);e.INSTANCE_METADATA_SYMBOL=Symbol.for("instance_metadata:cache"),e.INSTANCE_ID_SYMBOL=Symbol.for("instance_metadata:id");class d{constructor(t={}){this.isAlias=!1,this.scope=n.Scope.DEFAULT,this.values=new WeakMap,this[s]={},this.initialize(t),this[e.INSTANCE_ID_SYMBOL]=t[e.INSTANCE_ID_SYMBOL]??this.generateUuid()}get id(){return this[e.INSTANCE_ID_SYMBOL]}set instance(t){this.values.set(h.STATIC_CONTEXT,{instance:t})}get instance(){return this.getInstanceByContextId(h.STATIC_CONTEXT).instance}get isNotMetatype(){return!this.metatype||this.isFactory}get isFactory(){return this.metatype&&!(0,l.isNil)(this.inject)}get isTransient(){return this.scope===n.Scope.TRANSIENT}getInstanceByContextId(t,e){if(this.scope===n.Scope.TRANSIENT&&e)return this.getInstanceByInquirerId(t,e);return this.values.get(t)||this.cloneStaticInstance(t)}getInstanceByInquirerId(t,e){let r=this.transientMap.get(e);r||(r=new WeakMap,this.transientMap.set(e,r));return r.get(t)||this.cloneTransientInstance(t,e)}setInstanceByContextId(t,e,r){if(this.scope===n.Scope.TRANSIENT&&r)return this.setInstanceByInquirerId(t,r,e);this.values.set(t,e)}setInstanceByInquirerId(t,e,r){let s=this.transientMap.get(e);s||(s=new WeakMap,this.transientMap.set(e,s)),s.set(t,r)}addCtorMetadata(t,r){this[e.INSTANCE_METADATA_SYMBOL].dependencies||(this[e.INSTANCE_METADATA_SYMBOL].dependencies=[]),this[e.INSTANCE_METADATA_SYMBOL].dependencies[t]=r}getCtorMetadata(){return this[e.INSTANCE_METADATA_SYMBOL].dependencies}addPropertiesMetadata(t,r){this[e.INSTANCE_METADATA_SYMBOL].properties||(this[e.INSTANCE_METADATA_SYMBOL].properties=[]),this[e.INSTANCE_METADATA_SYMBOL].properties.push({key:t,wrapper:r})}getPropertiesMetadata(){return this[e.INSTANCE_METADATA_SYMBOL].properties}addEnhancerMetadata(t){this[e.INSTANCE_METADATA_SYMBOL].enhancers||(this[e.INSTANCE_METADATA_SYMBOL].enhancers=[]),this[e.INSTANCE_METADATA_SYMBOL].enhancers.push(t)}getEnhancersMetadata(){return this[e.INSTANCE_METADATA_SYMBOL].enhancers}isDependencyTreeDurable(t=[]){if(!(0,l.isUndefined)(this.isTreeDurable))return this.isTreeDurable;if(this.scope===n.Scope.REQUEST)return this.isTreeDurable=void 0!==this.durable&&this.durable,this.isTreeDurable&&this.printIntrospectedAsDurable(),this.isTreeDurable;if(this.isDependencyTreeStatic())return!1;const e=this.introspectDepsAttribute(((t,e)=>t.some((t=>!t.isDependencyTreeStatic()&&!t.isDependencyTreeDurable(e)))),t);return this.isTreeDurable=!e,this.isTreeDurable&&this.printIntrospectedAsDurable(),this.isTreeDurable}introspectDepsAttribute(t,r=[]){if(r.includes(this[e.INSTANCE_ID_SYMBOL]))return!1;r=r.concat(this[e.INSTANCE_ID_SYMBOL]);const{dependencies:s,properties:i,enhancers:n}=this[e.INSTANCE_METADATA_SYMBOL];let o=!!s&&t(s,r);return o||!i&&!n?o:(o=!!i&&t(i.map((t=>t.wrapper)),r),o||!n?o:!!n&&t(n,r))}isDependencyTreeStatic(t=[]){return(0,l.isUndefined)(this.isTreeStatic)?this.scope===n.Scope.REQUEST?(this.isTreeStatic=!1,this.printIntrospectedAsRequestScoped(),this.isTreeStatic):(this.isTreeStatic=!this.introspectDepsAttribute(((t,e)=>t.some((t=>!t.isDependencyTreeStatic(e)))),t),this.isTreeStatic||this.printIntrospectedAsRequestScoped(),this.isTreeStatic):this.isTreeStatic}cloneStaticInstance(t){const e=this.getInstanceByContextId(h.STATIC_CONTEXT);if(this.isDependencyTreeStatic())return e;const r={...e,instance:void 0,isResolved:!1,isPending:!1};return this.isNewable()&&(r.instance=Object.create(this.metatype.prototype)),this.setInstanceByContextId(t,r),r}cloneTransientInstance(t,e){const r={...this.getInstanceByContextId(h.STATIC_CONTEXT),instance:void 0,isResolved:!1,isPending:!1};return this.isNewable()&&(r.instance=Object.create(this.metatype.prototype)),this.setInstanceByInquirerId(t,e,r),r}createPrototype(t){const e=this.getInstanceByContextId(t);if(this.isNewable()&&!e.isResolved)return Object.create(this.metatype.prototype)}isInRequestScope(t,e){return!this.isDependencyTreeStatic()&&t!==h.STATIC_CONTEXT&&(!this.isTransient||this.isTransient&&!!e)}isLazyTransient(t,e){const r=e&&!e.isDependencyTreeStatic();return this.isDependencyTreeStatic()&&t!==h.STATIC_CONTEXT&&this.isTransient&&r}isExplicitlyRequested(t,e){const r=e===this;return this.isDependencyTreeStatic()&&t!==h.STATIC_CONTEXT&&(r||e&&e.scope===n.Scope.TRANSIENT)}isStatic(t,e){const r=e&&!e.isDependencyTreeStatic(),s=this.isTransient&&!r;return this.isDependencyTreeStatic()&&t===h.STATIC_CONTEXT&&(!this.isTransient||s&&!!e&&!e.isTransient)}getStaticTransientInstances(){if(!this.transientMap)return[];const t=[...this.transientMap.values()];return(0,c.iterate)(t).map((t=>t.get(h.STATIC_CONTEXT))).filter((t=>!!t)).toArray()}mergeWith(t){(0,p.isValueProvider)(t)?(this.metatype=null,this.inject=null,this.scope=n.Scope.DEFAULT,this.setInstanceByContextId(h.STATIC_CONTEXT,{instance:t.useValue,isResolved:!0,isPending:!1})):(0,p.isClassProvider)(t)?(this.inject=null,this.metatype=t.useClass):(0,p.isFactoryProvider)(t)&&(this.metatype=t.useFactory,this.inject=t.inject||[])}isNewable(){return(0,l.isNil)(this.inject)&&this.metatype&&this.metatype.prototype}initialize(t){const{instance:e,isResolved:r,...s}=t;Object.assign(this,s),this.setInstanceByContextId(h.STATIC_CONTEXT,{instance:e,isResolved:r}),this.scope===n.Scope.TRANSIENT&&(this.transientMap=new Map)}printIntrospectedAsRequestScoped(){this.isDebugMode()&&"REQUEST"!==this.name&&(0,l.isString)(this.name)&&d.logger.log(`${o.clc.cyanBright(this.name)}${o.clc.green(" introspected as ")}${o.clc.magentaBright("request-scoped")}`)}printIntrospectedAsDurable(){this.isDebugMode()&&(0,l.isString)(this.name)&&d.logger.log(`${o.clc.cyanBright(this.name)}${o.clc.green(" introspected as ")}${o.clc.magentaBright("durable")}`)}isDebugMode(){return!!i.env.NEST_DEBUG}generateUuid(){let t=this.name?.toString()??this.token?.toString();return t+=this.host?.name??"",t?u.UuidFactory.get(t):(0,a.randomStringGenerator)()}}e.InstanceWrapper=d,s=e.INSTANCE_METADATA_SYMBOL,d.logger=new n.Logger(d.name)},44701:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalCoreModuleFactory=void 0;const s=r(76301),i=r(14634),n=r(6165),o=r(1139),a=r(22612),l=r(4981),c=r(40557),u=r(60163),h=r(77609);e.InternalCoreModuleFactory=class{static create(t,e,r,p,d,f){return h.InternalCoreModule.register([{provide:i.ExternalContextCreator,useFactory:()=>i.ExternalContextCreator.fromContainer(t)},{provide:u.ModulesContainer,useFactory:()=>t.getModules()},{provide:n.HttpAdapterHost,useFactory:()=>p},{provide:c.LazyModuleLoader,useFactory:()=>{const i=new s.Logger(c.LazyModuleLoader.name,{timestamp:!1}),n=new a.Injector,o=new l.InstanceLoader(t,n,d,i);return new c.LazyModuleLoader(e,o,r,t.getModules(),f)}},{provide:o.SerializedGraph,useFactory:()=>t.serializedGraph}])}}},77609:(t,e,r)=>{"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.InternalCoreModule=void 0;const i=r(491),n=r(76301),o=r(93887),a=r(67784),l=r(82848),c={provide:a.Reflector.name,useExisting:a.Reflector};let u=s=class{static register(t){return{module:s,providers:[...t],exports:[...t.map((t=>t.provide))]}}};e.InternalCoreModule=u,e.InternalCoreModule=u=s=i.__decorate([(0,n.Global)(),(0,n.Module)({providers:[a.Reflector,c,o.requestProvider,l.inquirerProvider],exports:[a.Reflector,c,o.requestProvider,l.inquirerProvider]})],u)},66233:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalProvidersStorage=void 0;const s=r(6165);e.InternalProvidersStorage=class{constructor(){this._httpAdapterHost=new s.HttpAdapterHost}get httpAdapterHost(){return this._httpAdapterHost}get httpAdapter(){return this._httpAdapter}set httpAdapter(t){this._httpAdapter=t}}},40557:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LazyModuleLoader=void 0;const s=r(47576),i=r(21442);e.LazyModuleLoader=class{constructor(t,e,r,s,i){this.dependenciesScanner=t,this.instanceLoader=e,this.moduleCompiler=r,this.modulesContainer=s,this.moduleOverrides=i}async load(t,e){this.registerLoggerConfiguration(e);const r=await t(),s=await this.dependenciesScanner.scanForModules({moduleDefinition:r,overrides:this.moduleOverrides,lazy:!0});if(0===s.length){const{token:t}=await this.moduleCompiler.compile(r),e=this.modulesContainer.get(t);return e&&this.getTargetModuleRef(e)}const i=this.createLazyModulesContainer(s);await this.dependenciesScanner.scanModulesForDependencies(i),await this.instanceLoader.createInstancesOfDependencies(i);const[n]=s;return this.getTargetModuleRef(n)}registerLoggerConfiguration(t){!1===t?.logger&&this.instanceLoader.setLogger(new s.SilentLogger)}createLazyModulesContainer(t){return t=Array.from(new Set(t)),new Map(t.map((t=>[t.token,t])))}getTargetModuleRef(t){return t.getProviderByKey(i.ModuleRef).instance}}},21442:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModuleRef=void 0;const s=r(76301),i=r(150),n=r(41119),o=r(23035),a=r(22612),l=r(20743),c=r(86956);class u extends o.AbstractInstanceResolver{get instanceLinksHost(){return this._instanceLinksHost||(this._instanceLinksHost=new l.InstanceLinksHost(this.container)),this._instanceLinksHost}constructor(t){super(),this.container=t,this.injector=new a.Injector}introspect(t){const{wrapperRef:e}=this.instanceLinksHost.get(t);let r=s.Scope.DEFAULT;return e.isDependencyTreeStatic()?e.isTransient&&(r=s.Scope.TRANSIENT):r=s.Scope.REQUEST,{scope:r}}registerRequestByContextId(t,e){this.container.registerRequestProvider(t,e)}async instantiateClass(t,e,r){const s=new c.InstanceWrapper({name:t&&t.name,metatype:t,isResolved:!1,scope:(0,i.getClassScope)(t),durable:(0,n.isDurable)(t),host:e});return new Promise((async(i,n)=>{try{const n=async n=>{const o=await this.injector.resolveProperties(s,e,void 0,r),a=new t(...n);this.injector.applyProperties(a,o),i(a)};await this.injector.resolveConstructorParams(s,e,void 0,n,r)}catch(t){n(t)}}))}}e.ModuleRef=u},90276:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModuleTokenFactory=void 0;const s=r(76301),i=r(67906),n=r(92889),o=r(69678),a=r(4329),l=r(31579),c="class ",u=c.length;class h{constructor(){this.moduleTokenCache=new Map,this.moduleIdsCache=new WeakMap,this.logger=new s.Logger(h.name,{timestamp:!0})}create(t,e){const r=this.getModuleId(t);if(!e)return this.getStaticModuleToken(r,this.getModuleName(t));const s={id:r,module:this.getModuleName(t),dynamic:e},i=l.performance.now(),n=this.getStringifiedOpaqueToken(s),o=l.performance.now()-i;if(o>10){const t=o.toFixed(2);this.logger.warn(`The module "${s.module}" is taking ${t}ms to serialize, this may be caused by larger objects statically assigned to the module. More details: https://github.com/nestjs/nest/issues/12738`)}return this.hashString(n)}getStaticModuleToken(t,e){const r=`${t}_${e}`;if(this.moduleTokenCache.has(r))return this.moduleTokenCache.get(r);const s=this.hashString(r);return this.moduleTokenCache.set(r,s),s}getStringifiedOpaqueToken(t){return t?(0,a.default)(t,this.replacer):""}getModuleId(t){let e=this.moduleIdsCache.get(t);return e||(e=(0,i.randomStringGenerator)(),this.moduleIdsCache.set(t,e),e)}getModuleName(t){return t.name}hashString(t){return(0,o.createHash)("sha256").update(t).digest("hex")}replacer(t,e){if((0,n.isFunction)(e)){const t=e.toString();return t.slice(0,u)===c?e.name:t}return(0,n.isSymbol)(e)?e.toString():e}}e.ModuleTokenFactory=h},12694:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Module=void 0;const s=r(36861),i=r(67906),n=r(92889),o=r(73073),a=r(63192),l=r(71874),c=r(93308),u=r(150),h=r(41119),p=r(19290),d=r(75240),f=r(86956),m=r(21442);e.Module=class{constructor(t,e){this._metatype=t,this.container=e,this._imports=new Set,this._providers=new Map,this._injectables=new Map,this._middlewares=new Map,this._controllers=new Map,this._entryProviderKeys=new Set,this._exports=new Set,this._distance=0,this._initOnPreview=!1,this._isGlobal=!1,this.addCoreProviders(),this._id=this.generateUuid()}get id(){return this._id}get token(){return this._token}set token(t){this._token=t}get name(){return this.metatype.name}get isGlobal(){return this._isGlobal}set isGlobal(t){this._isGlobal=t}get initOnPreview(){return this._initOnPreview}set initOnPreview(t){this._initOnPreview=t}get providers(){return this._providers}get middlewares(){return this._middlewares}get imports(){return this._imports}get injectables(){return this._injectables}get controllers(){return this._controllers}get entryProviders(){return Array.from(this._entryProviderKeys).map((t=>this.providers.get(t)))}get exports(){return this._exports}get instance(){if(!this._providers.has(this._metatype))throw new l.RuntimeException;return this._providers.get(this._metatype).instance}get metatype(){return this._metatype}get distance(){return this._distance}set distance(t){this._distance=t}addCoreProviders(){this.addModuleAsProvider(),this.addModuleRef(),this.addApplicationConfig()}addModuleRef(){const t=this.createModuleReferenceType();this._providers.set(m.ModuleRef,new f.InstanceWrapper({token:m.ModuleRef,name:m.ModuleRef.name,metatype:m.ModuleRef,isResolved:!0,instance:new t,host:this}))}addModuleAsProvider(){this._providers.set(this._metatype,new f.InstanceWrapper({token:this._metatype,name:this._metatype.name,metatype:this._metatype,isResolved:!1,instance:null,host:this}))}addApplicationConfig(){this._providers.set(a.ApplicationConfig,new f.InstanceWrapper({token:a.ApplicationConfig,name:a.ApplicationConfig.name,isResolved:!0,instance:this.container.applicationConfig,host:this}))}addInjectable(t,e,r){if(this.isCustomProvider(t))return this.addCustomProvider(t,this._injectables,e);let s=this.injectables.get(t);if(s||(s=new f.InstanceWrapper({token:t,name:t.name,metatype:t,instance:null,isResolved:!1,scope:(0,u.getClassScope)(t),durable:(0,h.isDurable)(t),subtype:e,host:this}),this._injectables.set(t,s)),r){const t=this._controllers.get(r)||this._providers.get(r);t&&t.addEnhancerMetadata(s)}return s}addProvider(t,e){return this.isCustomProvider(t)?(this.isEntryProvider(t.provide)&&this._entryProviderKeys.add(t.provide),this.addCustomProvider(t,this._providers,e)):(this._providers.set(t,new f.InstanceWrapper({token:t,name:t.name,metatype:t,instance:null,isResolved:!1,scope:(0,u.getClassScope)(t),durable:(0,h.isDurable)(t),host:this})),this.isEntryProvider(t)&&this._entryProviderKeys.add(t),t)}isCustomProvider(t){return!(0,n.isNil)(t.provide)}addCustomProvider(t,e,r){return this.isCustomClass(t)?this.addCustomClass(t,e,r):this.isCustomValue(t)?this.addCustomValue(t,e,r):this.isCustomFactory(t)?this.addCustomFactory(t,e,r):this.isCustomUseExisting(t)&&this.addCustomUseExisting(t,e,r),t.provide}isCustomClass(t){return!(0,n.isUndefined)(t.useClass)}isCustomValue(t){return(0,n.isObject)(t)&&Object.prototype.hasOwnProperty.call(t,"useValue")}isCustomFactory(t){return!(0,n.isUndefined)(t.useFactory)}isCustomUseExisting(t){return!(0,n.isUndefined)(t.useExisting)}isDynamicModule(t){return t&&t.module}addCustomClass(t,e,r){let{scope:s,durable:i}=t;const{useClass:o}=t;(0,n.isUndefined)(s)&&(s=(0,u.getClassScope)(o)),(0,n.isUndefined)(i)&&(i=(0,h.isDurable)(o));const a=t.provide;e.set(a,new f.InstanceWrapper({token:a,name:o?.name||o,metatype:o,instance:null,isResolved:!1,scope:s,durable:i,host:this,subtype:r}))}addCustomValue(t,e,r){const{useValue:s,provide:i}=t;e.set(i,new f.InstanceWrapper({token:i,name:i?.name||i,metatype:null,instance:s,isResolved:!0,async:s instanceof Promise,host:this,subtype:r}))}addCustomFactory(t,e,r){const{useFactory:s,inject:i,scope:n,durable:o,provide:a}=t;e.set(a,new f.InstanceWrapper({token:a,name:a?.name||a,metatype:s,instance:null,isResolved:!1,inject:i||[],scope:n,durable:o,host:this,subtype:r}))}addCustomUseExisting(t,e,r){const{useExisting:s,provide:i}=t;e.set(i,new f.InstanceWrapper({token:i,name:i?.name||i,metatype:t=>t,instance:null,isResolved:!1,inject:[s],host:this,isAlias:!0,subtype:r}))}addExportedProvider(t){const e=t=>this._exports.add(this.validateExportedProvider(t));if(this.isCustomProvider(t))return this.addCustomExportedProvider(t);if((0,n.isString)(t)||(0,n.isSymbol)(t))return e(t);if(this.isDynamicModule(t)){const{module:r}=t;return e(r)}e(t)}addCustomExportedProvider(t){const e=t.provide;if((0,n.isString)(e)||(0,n.isSymbol)(e))return this._exports.add(this.validateExportedProvider(e));this._exports.add(this.validateExportedProvider(e))}validateExportedProvider(t){if(this._providers.has(t))return t;if(!(0,o.iterate)(this._imports.values()).filter((t=>!!t)).map((({metatype:t})=>t)).filter((t=>!!t)).toArray().includes(t)){const{name:e}=this.metatype,r=(0,n.isFunction)(t)?t.name:t;throw new l.UnknownExportException(r,e)}return t}addController(t){this._controllers.set(t,new f.InstanceWrapper({token:t,name:t.name,metatype:t,instance:null,isResolved:!1,scope:(0,u.getClassScope)(t),durable:(0,h.isDurable)(t),host:this})),this.assignControllerUniqueId(t)}assignControllerUniqueId(t){Object.defineProperty(t,d.CONTROLLER_ID_KEY,{enumerable:!1,writable:!1,configurable:!0,value:(0,i.randomStringGenerator)()})}addImport(t){this._imports.add(t)}addRelatedModule(t){this._imports.add(t)}replace(t,e){return e.isProvider&&this.hasProvider(t)?this._providers.get(t).mergeWith({provide:t,...e}):!e.isProvider&&this.hasInjectable(t)?this._injectables.get(t).mergeWith({provide:t,...e}):void 0}hasProvider(t){return this._providers.has(t)}hasInjectable(t){return this._injectables.has(t)}getProviderByKey(t){return this._providers.get(t)}getProviderById(t){return Array.from(this._providers.values()).find((e=>e.id===t))}getControllerById(t){return Array.from(this._controllers.values()).find((e=>e.id===t))}getInjectableById(t){return Array.from(this._injectables.values()).find((e=>e.id===t))}getMiddlewareById(t){return Array.from(this._middlewares.values()).find((e=>e.id===t))}getNonAliasProviders(){return[...this._providers].filter((([t,e])=>!e.isAlias))}createModuleReferenceType(){const t=this;return class extends m.ModuleRef{constructor(){super(t.container)}get(e,r={}){return r.strict??=!0,r.each??=!1,this.find(e,r.strict?{moduleId:t.id,each:r.each}:r)}resolve(e,r=(0,c.createContextId)(),s={}){return s.strict??=!0,s.each??=!1,this.resolvePerContext(e,t,r,s)}async create(e,r){if(!(e&&(0,n.isFunction)(e)&&e.prototype))throw new l.InvalidClassException(e);return this.instantiateClass(e,t,r)}}}isEntryProvider(t){return"function"==typeof t&&!!Reflect.getMetadata(s.ENTRY_PROVIDER_WATERMARK,t)}generateUuid(){const t=this.name?.toString()??this.token?.toString();return t?p.UuidFactory.get(`M__${t}`):(0,i.randomStringGenerator)()}}},60163:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModulesContainer=void 0;const s=r(1797);class i extends Map{constructor(){super(...arguments),this._applicationId=(0,s.uid)(21)}get applicationId(){return this._applicationId}getById(t){return Array.from(this.values()).find((e=>e.id===t))}}e.ModulesContainer=i},57034:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SettlementSignal=void 0,e.SettlementSignal=class{constructor(){this._refs=new Set,this.completed=!1,this.settledPromise=new Promise((t=>{this.settleFn=t}))}complete(){this.completed=!0,this.settleFn()}error(t){this.completed=!0,this.settleFn(t)}asPromise(){return this.settledPromise}insertRef(t){this._refs.add(t)}isCycle(t){return!this.completed&&this._refs.has(t)}}},51873:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeterministicUuidRegistry=void 0;class r{static get(t,e=0){const r=e?this.hashCode(`${t}_${e}`):this.hashCode(t);return this.registry.has(r)?this.get(t,e+1):(this.registry.set(r,!0),r)}static clear(){this.registry.clear()}static hashCode(t){let e=0;for(let r=0;r<t.length;r++)e=Math.imul(31,e)+t.charCodeAt(r)|0;return e.toString()}}e.DeterministicUuidRegistry=r,r.registry=new Map},51234:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphInspector=void 0;const s=r(77968),i=r(51873),n=r(50831);e.GraphInspector=class{constructor(t){this.container=t,this.enhancersMetadataCache=new Array,this.graph=t.serializedGraph}inspectModules(t=this.container.getModules()){for(const e of t.values())this.insertModuleNode(e),this.insertClassNodes(e),this.insertModuleToModuleEdges(e);this.enhancersMetadataCache.forEach((t=>this.insertEnhancerEdge(t))),i.DeterministicUuidRegistry.clear()}registerPartial(t){this.graph.status="partial",t instanceof s.UnknownDependenciesException?this.graph.metadata={cause:{type:"unknown-dependencies",context:t.context,moduleId:t.moduleRef?.id,nodeId:t.metadata?.id}}:this.graph.metadata={cause:{type:"unknown",error:t}},n.PartialGraphHost.register(this.graph)}inspectInstanceWrapper(t,e){const r=t.getCtorMetadata();r?.forEach(((r,s)=>this.insertClassToClassEdge(t,r,e,s,"constructor")));const s=t.getPropertiesMetadata();s?.forEach((({key:r,wrapper:s})=>this.insertClassToClassEdge(t,s,e,r,"property")))}insertEnhancerMetadataCache(t){this.enhancersMetadataCache.push(t)}insertOrphanedEnhancer(t){this.graph.insertOrphanedEnhancer({...t,ref:t.ref?.constructor?.name??"Object"})}insertAttachedEnhancer(t){const e=this.graph.getNodeById(t.id);e.metadata.global=!0,this.graph.insertAttachedEnhancer(e.id)}insertEntrypointDefinition(t,e){t={...t,id:`${t.classNodeId}_${t.methodName}`},this.graph.insertEntrypoint(t,e)}insertClassNode(t,e,r){this.graph.insertNode({id:e.id,label:e.name,parent:t.id,metadata:{type:r,internal:e.metatype===t.metatype,sourceModuleName:t.name,durable:e.isDependencyTreeDurable(),static:e.isDependencyTreeStatic(),scope:e.scope,transient:e.isTransient,exported:t.exports.has(e.token),token:e.token,subtype:e.subtype,initTime:e.initTime}})}insertModuleNode(t){const e=this.container.getDynamicMetadataByToken(t.token),r={id:t.id,label:t.name,metadata:{type:"module",global:t.isGlobal,dynamic:!!e,internal:"InternalCoreModule"===t.name}};this.graph.insertNode(r)}insertModuleToModuleEdges(t){for(const e of t.imports)this.graph.insertEdge({source:t.id,target:e.id,metadata:{type:"module-to-module",sourceModuleName:t.name,targetModuleName:e.name}})}insertEnhancerEdge(t){const e=this.container.getModuleByKey(t.moduleToken),r=e.controllers.get(t.classRef)??e.providers.get(t.classRef),s=this.graph.getNodeById(r.id),i=s.metadata.enhancers??[];if(t.enhancerInstanceWrapper)this.insertClassToClassEdge(r,t.enhancerInstanceWrapper,e,void 0,"decorator"),i.push({id:t.enhancerInstanceWrapper.id,methodKey:t.methodKey,subtype:t.subtype});else{const e=t.enhancerRef.constructor?.name??t.enhancerRef.name;i.push({name:e,methodKey:t.methodKey,subtype:t.subtype})}s.metadata.enhancers=i}insertClassToClassEdge(t,e,r,s,i){this.graph.insertEdge({source:t.id,target:e.id,metadata:{type:"class-to-class",sourceModuleName:r.name,sourceClassName:t.name,targetClassName:e.name,sourceClassToken:t.token,targetClassToken:e.token,targetModuleName:e.host?.name,keyOrIndex:s,injectionType:i}})}insertClassNodes(t){t.providers.forEach((e=>this.insertClassNode(t,e,"provider"))),t.injectables.forEach((e=>this.insertClassNode(t,e,"injectable"))),t.controllers.forEach((e=>this.insertClassNode(t,e,"controller")))}}},28811:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(51234),e),s.__exportStar(r(73231),e),s.__exportStar(r(50831),e),s.__exportStar(r(1139),e)},73231:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializeOnPreviewAllowlist=void 0;class r{static add(t){this.allowlist.set(t,!0)}static has(t){return this.allowlist.has(t)}}e.InitializeOnPreviewAllowlist=r,r.allowlist=new WeakMap},61169:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopGraphInspector=void 0;const s=r(51234),i=()=>{};e.NoopGraphInspector=new Proxy(s.GraphInspector.prototype,{get:()=>i})},50831:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartialGraphHost=void 0,e.PartialGraphHost=class{static toJSON(){return this.partialGraph?.toJSON()}static toString(){return this.partialGraph?.toString()}static register(t){this.partialGraph=t}}},1139:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SerializedGraph=void 0;const s=r(63192),i=r(14634),n=r(6165),o=r(43785),a=r(40557),l=r(21442),c=r(60163),u=r(10894),h=r(75955),p=r(51873);class d{constructor(){this.nodes=new Map,this.edges=new Map,this.entrypoints=new Map,this.extras={orphanedEnhancers:[],attachedEnhancers:[]},this._status="complete"}set status(t){this._status=t}set metadata(t){this._metadata=t}insertNode(t){return"provider"===t.metadata.type&&d.INTERNAL_PROVIDERS.includes(t.metadata.token)&&(t.metadata={...t.metadata,internal:!0}),this.nodes.has(t.id)?this.nodes.get(t.id):(this.nodes.set(t.id,t),t)}insertEdge(t){"class-to-class"===t.metadata.type&&(d.INTERNAL_PROVIDERS.includes(t.metadata.sourceClassToken)||d.INTERNAL_PROVIDERS.includes(t.metadata.targetClassToken))&&(t.metadata={...t.metadata,internal:!0});const e=t.id??this.generateUuidByEdgeDefinition(t),r={...t,id:e};return this.edges.set(e,r),r}insertEntrypoint(t,e){this.entrypoints.has(e)?this.entrypoints.get(e).push(t):this.entrypoints.set(e,[t])}insertOrphanedEnhancer(t){this.extras.orphanedEnhancers.push(t)}insertAttachedEnhancer(t){this.extras.attachedEnhancers.push({nodeId:t})}getNodeById(t){return this.nodes.get(t)}toJSON(){const t={nodes:Object.fromEntries(this.nodes),edges:Object.fromEntries(this.edges),entrypoints:Object.fromEntries(this.entrypoints),extras:this.extras};return this._status&&(t.status=this._status),this._metadata&&(t.metadata=this._metadata),t}toString(){return JSON.stringify(this.toJSON(),((t,e)=>"symbol"==typeof e?e.toString():"function"==typeof e?e.name??"Function":e),2)}generateUuidByEdgeDefinition(t){return p.DeterministicUuidRegistry.get(JSON.stringify(t))}}e.SerializedGraph=d,d.INTERNAL_PROVIDERS=[s.ApplicationConfig,l.ModuleRef,n.HttpAdapterHost,a.LazyModuleLoader,i.ExternalContextCreator,c.ModulesContainer,h.Reflector,d,n.HttpAdapterHost.name,h.Reflector.name,u.REQUEST,o.INQUIRER]},19290:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UuidFactory=e.UuidFactoryMode=void 0;const s=r(67906),i=r(51873);var n;!function(t){t.Random="random",t.Deterministic="deterministic"}(n||(e.UuidFactoryMode=n={}));class o{static set mode(t){this._mode=t}static get(t=""){return this._mode===n.Deterministic?i.DeterministicUuidRegistry.get(t):(0,s.randomStringGenerator)()}}e.UuidFactory=o,o._mode=n.Random},46176:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(69959),e),s.__exportStar(r(39913),e)},69959:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InterceptorsConsumer=void 0;const s=r(92889),i=r(21804),n=r(18948),o=r(3343),a=r(68809);e.InterceptorsConsumer=class{async intercept(t,e,r,a,l,c){if((0,s.isEmpty)(t))return l();const u=this.createContext(e,r,a);u.setType(c);const h=async(e=0)=>{if(e>=t.length)return(0,n.defer)(i.AsyncResource.bind((()=>this.transformDeferred(l))));const r={handle:()=>(0,n.from)(h(e+1)).pipe((0,o.mergeAll)())};return t[e].intercept(u,r)};return(0,n.defer)((()=>h())).pipe((0,o.mergeAll)())}createContext(t,e,r){return new a.ExecutionContextHost(t,e.constructor,r)}transformDeferred(t){return(0,n.from)(t()).pipe((0,o.switchMap)((t=>t instanceof Promise||t instanceof n.Observable?t:Promise.resolve(t))))}}},39913:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InterceptorsContextCreator=void 0;const s=r(36861),i=r(92889),n=r(73073),o=r(45644),a=r(75240);class l extends o.ContextCreator{constructor(t,e){super(),this.container=t,this.config=e}create(t,e,r,i=a.STATIC_CONTEXT,n){return this.moduleContext=r,this.createContext(t,e,s.INTERCEPTORS_METADATA,i,n)}createConcreteContext(t,e=a.STATIC_CONTEXT,r){return(0,i.isEmpty)(t)?[]:(0,n.iterate)(t).filter((t=>t&&(t.name||t.intercept))).map((t=>this.getInterceptorInstance(t,e,r))).filter((t=>t&&(0,i.isFunction)(t.intercept))).toArray()}getInterceptorInstance(t,e=a.STATIC_CONTEXT,r){if(t.intercept)return t;const s=this.getInstanceByMetatype(t);if(!s)return null;const i=s.getInstanceByContextId(this.getContextId(e,s),r);return i&&i.instance}getInstanceByMetatype(t){if(!this.moduleContext)return;const e=this.container.getModules().get(this.moduleContext);return e?e.injectables.get(t):void 0}getGlobalMetadata(t=a.STATIC_CONTEXT,e){if(!this.config)return[];const r=this.config.getGlobalInterceptors();if(t===a.STATIC_CONTEXT&&!e)return r;const s=this.config.getGlobalRequestInterceptors(),i=(0,n.iterate)(s).map((r=>r.getInstanceByContextId(this.getContextId(t,r),e))).filter((t=>!!t)).map((t=>t.instance)).toArray();return r.concat(i)}}e.InterceptorsContextCreator=l},9058:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataScanner=void 0;const s=r(92889);e.MetadataScanner=class{constructor(){this.cachedScannedPrototypes=new Map}scanFromPrototype(t,e,r){if(!e)return[];const i=new Map,n=[];do{for(const t of Object.getOwnPropertyNames(e)){if(i.has(t))continue;i.set(t,!0);const o=Object.getOwnPropertyDescriptor(e,t);if(o.set||o.get||(0,s.isConstructor)(t)||!(0,s.isFunction)(e[t]))continue;const a=r(t);(0,s.isNil)(a)||n.push(a)}}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return n}*getAllFilteredMethodNames(t){yield*this.getAllMethodNames(t)}getAllMethodNames(t){if(!t)return[];if(this.cachedScannedPrototypes.has(t))return this.cachedScannedPrototypes.get(t);const e=new Map,r=[];this.cachedScannedPrototypes.set(t,r);do{for(const i of Object.getOwnPropertyNames(t)){if(e.has(i))continue;e.set(i,!0);const n=Object.getOwnPropertyDescriptor(t,i);n.set||n.get||(0,s.isConstructor)(i)||!(0,s.isFunction)(t[i])||r.push(i)}}while((t=Reflect.getPrototypeOf(t))&&t!==Object.prototype);return r}}},40951:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MiddlewareBuilder=void 0;const s=r(35971),i=r(92889),n=r(73073),o=r(60079);class a{constructor(t,e,r){this.routesMapper=t,this.httpAdapter=e,this.routeInfoPathExtractor=r,this.middlewareCollection=new Set}apply(...t){return new a.ConfigProxy(this,(0,s.flatten)(t),this.routeInfoPathExtractor)}build(){return[...this.middlewareCollection]}getHttpAdapter(){return this.httpAdapter}}e.MiddlewareBuilder=a,a.ConfigProxy=class{constructor(t,e,r){this.builder=t,this.middleware=e,this.routeInfoPathExtractor=r,this.excludedRoutes=[]}getExcludedRoutes(){return this.excludedRoutes}exclude(...t){return this.excludedRoutes=[...this.excludedRoutes,...this.getRoutesFlatList(t).reduce(((t,e)=>{for(const r of this.routeInfoPathExtractor.extractPathFrom(e))t.push({...e,path:r});return t}),[])],this}forRoutes(...t){const{middlewareCollection:e}=this.builder,r=this.getRoutesFlatList(t),s=this.removeOverlappedRoutes(r),i={middleware:(0,o.filterMiddleware)(this.middleware,this.excludedRoutes,this.builder.getHttpAdapter()),forRoutes:s};return e.add(i),this.builder}getRoutesFlatList(t){const{routesMapper:e}=this.builder;return(0,n.iterate)(t).map((t=>e.mapRouteToRouteInfo(t))).flatten().toArray()}removeOverlappedRoutes(t){const e=/(:[^\/]*)/g,r=t.filter((t=>t.path.includes(":"))).map((t=>({method:t.method,path:t.path,regex:new RegExp("^("+t.path.replace(e,"([^/]*)")+")$","g")})));return t.filter((t=>void 0===r.find((e=>{if(t.method!==e.method)return!1;const r=(0,i.stripEndSlash)(t.path);return r!==e.path&&e.regex.test(r)}))))}}},77559:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MiddlewareContainer=void 0;const s=r(150),i=r(41119),n=r(86956);e.MiddlewareContainer=class{constructor(t){this.container=t,this.middleware=new Map,this.configurationSets=new Map}getMiddlewareCollection(t){if(!this.middleware.has(t)){const e=this.container.getModuleByKey(t);this.middleware.set(t,e.middlewares)}return this.middleware.get(t)}getConfigurations(){return this.configurationSets}insertConfig(t,e){const r=this.getMiddlewareCollection(e),o=this.getTargetConfig(e),a=t=>{const e=t;r.set(e,new n.InstanceWrapper({scope:(0,s.getClassScope)(t),durable:(0,i.isDurable)(t),name:e?.name??e,metatype:t,token:e}))};(t||[]).forEach((t=>{[].concat(t.middleware).map(a),o.add(t)}))}getTargetConfig(t){return this.configurationSets.has(t)||this.configurationSets.set(t,new Set),this.configurationSets.get(t)}}},76141:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(40951),e)},10673:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MiddlewareModule=void 0;const s=r(76301),i=r(25705),n=r(92889),o=r(14276),a=r(44213),l=r(93308),c=r(68809),u=r(75240),h=r(10894),p=r(44281),d=r(44601),f=r(13568),m=r(40951),g=r(81640),y=r(24492),v=r(72972);class _{constructor(){this.routerProxy=new d.RouterProxy,this.exceptionFiltersCache=new WeakMap,this.logger=new s.Logger(_.name)}async register(t,e,r,s,i,n,o){this.appOptions=o;const a=e.getHttpAdapterRef();this.routerExceptionFilter=new p.RouterExceptionFilters(e,r,a),this.routesMapper=new v.RoutesMapper(e,r),this.resolver=new g.MiddlewareResolver(t,s),this.routeInfoPathExtractor=new y.RouteInfoPathExtractor(r),this.injector=s,this.container=e,this.httpAdapter=i,this.graphInspector=n;const l=e.getModules();await this.resolveMiddleware(t,l)}async resolveMiddleware(t,e){const r=[...e.entries()];await Promise.all(r.map((async([e,r])=>{await this.loadConfiguration(t,r,e),await this.resolver.resolveInstances(r,e)})))}async loadConfiguration(t,e,r){const{instance:s}=e;if(!s.configure)return;const i=new m.MiddlewareBuilder(this.routesMapper,this.httpAdapter,this.routeInfoPathExtractor);try{await s.configure(i)}catch(t){if(!this.appOptions.preview)throw t;const r=`Warning! "${e.name}" module exposes a "configure" method that throws an exception in the preview mode (possibly due to missing dependencies). Note: you can ignore this message, just be aware that some of those conditional middlewares will not be reflected in your graph.`;this.logger.warn(r)}if(!(i instanceof m.MiddlewareBuilder))return;const n=i.build();t.insertConfig(n,r)}async registerMiddleware(t,e){const r=async(r,s)=>{for(const i of s)await this.registerMiddlewareConfig(t,i,r,e)},s=[...t.getConfigurations().entries()].sort((([t],[e])=>this.container.getModuleByKey(t).distance-this.container.getModuleByKey(e).distance));for(const[t,e]of s)await r(t,[...e])}async registerMiddlewareConfig(t,e,r,s){const{forRoutes:i}=e;for(const n of i)await this.registerRouteMiddleware(t,n,e,r,s)}async registerRouteMiddleware(t,e,r,s,o){const l=[].concat(r.middleware),c=this.container.getModuleByKey(s);for(const r of l){const l=t.getMiddlewareCollection(s),u=l.get(r);if((0,n.isUndefined)(u))throw new a.RuntimeException;if(u.isTransient)return;this.graphInspector.insertClassNode(c,u,"middleware");const h={type:"middleware",methodName:"use",className:u.name,classNodeId:u.id,metadata:{key:e.path,path:e.path,requestMethod:i.RequestMethod[e.method]??"ALL",version:e.version}};this.graphInspector.insertEntrypointDefinition(h,u.id),await this.bindHandler(u,o,e,c,l)}}async bindHandler(t,e,r,s,i){const{instance:a,metatype:l}=t;if((0,n.isUndefined)(a?.use))throw new o.InvalidMiddlewareException(l.name);if(t.isDependencyTreeStatic()){const t=await this.createProxy(a);return this.registerHandler(e,r,t)}const u=t.isDependencyTreeDurable();await this.registerHandler(e,r,(async(t,e,r)=>{try{const n=this.getContextId(t,u),o=await this.injector.loadPerContext(a,s,i,n);return(await this.createProxy(o,n))(t,e,r)}catch(s){let i=this.exceptionFiltersCache.get(a.use);i||(i=this.routerExceptionFilter.create(a,a.use,void 0),this.exceptionFiltersCache.set(a.use,i));const n=new c.ExecutionContextHost([t,e,r]);i.next(s,n)}}))}async createProxy(t,e=u.STATIC_CONTEXT){const r=this.routerExceptionFilter.create(t,t.use,void 0,e),s=t.use.bind(t);return this.routerProxy.createProxy(s,r)}async registerHandler(t,e,r){const{method:s}=e,n=this.routeInfoPathExtractor.extractPathsFrom(e),o=(0,f.isRequestMethodAll)(s),a=i.RequestMethod[s],l=await t.createMiddlewareFactory(s),c=o?r:(e,s,i)=>t.getRequestMethod(e)===a?r(e,s,i):i(),u=[];n.some((t=>t.match(/^\/?$/)))?u.push("/"):u.push(...n),u.forEach((t=>l(t,c)))}getContextId(t,e){const r=l.ContextIdFactory.getByRequest(t);if(!t[h.REQUEST_CONTEXT_ID]){Object.defineProperty(t,h.REQUEST_CONTEXT_ID,{value:r,enumerable:!1,writable:!1,configurable:!1});const s=e?r.payload:t;this.container.registerRequestProvider(s,r)}return r}}e.MiddlewareModule=_},81640:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MiddlewareResolver=void 0,e.MiddlewareResolver=class{constructor(t,e){this.middlewareContainer=t,this.injector=e}async resolveInstances(t,e){const r=this.middlewareContainer.getMiddlewareCollection(e);await Promise.all([...r.values()].map((async e=>this.resolveMiddlewareInstance(e,r,t))))}async resolveMiddlewareInstance(t,e,r){await this.injector.loadMiddleware(t,e,r)}}},24492:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouteInfoPathExtractor=void 0;const s=r(76301),i=r(92889),n=r(13568),o=r(86996);e.RouteInfoPathExtractor=class{constructor(t){this.applicationConfig=t,this.routePathFactory=new o.RoutePathFactory(t),this.prefixPath=(0,i.stripEndSlash)((0,i.addLeadingSlash)(this.applicationConfig.getGlobalPrefix())),this.excludedGlobalPrefixRoutes=this.applicationConfig.getGlobalPrefixOptions().exclude,this.versioningConfig=this.applicationConfig.getVersioning()}extractPathsFrom({path:t,method:e,version:r}){const s=this.extractVersionPathFrom(r);if(this.isAWildcard(t)){const e=s.length>0?s.map((e=>[this.prefixPath+e+"$",this.prefixPath+e+(0,i.addLeadingSlash)(t)])).flat():this.prefixPath?[this.prefixPath+"$",this.prefixPath+(0,i.addLeadingSlash)(t)]:[(0,i.addLeadingSlash)(t)];return Array.isArray(this.excludedGlobalPrefixRoutes)?[...e,...this.excludedGlobalPrefixRoutes.map((t=>s+(0,i.addLeadingSlash)(t.path)))]:e}return this.extractNonWildcardPathsFrom({path:t,method:e,version:r})}extractPathFrom(t){return this.isAWildcard(t.path)&&!t.version?[(0,i.addLeadingSlash)(t.path)]:this.extractNonWildcardPathsFrom(t)}isAWildcard(t){return["*","/*","/*/","(.*)","/(.*)"].includes(t)}extractNonWildcardPathsFrom({path:t,method:e,version:r}){const s=this.extractVersionPathFrom(r);return Array.isArray(this.excludedGlobalPrefixRoutes)&&(0,n.isRouteExcluded)(this.excludedGlobalPrefixRoutes,t,e)?s.length?s.map((e=>e+(0,i.addLeadingSlash)(t))):[(0,i.addLeadingSlash)(t)]:s.length?s.map((e=>this.prefixPath+e+(0,i.addLeadingSlash)(t))):[this.prefixPath+(0,i.addLeadingSlash)(t)]}extractVersionPathFrom(t){if(!t||this.versioningConfig?.type!==s.VersioningType.URI)return[];const e=this.routePathFactory.getVersionPrefix(this.versioningConfig);return Array.isArray(t)?t.map((t=>(0,i.addLeadingSlash)(e+t.toString()))):[(0,i.addLeadingSlash)(e+t.toString())]}}},72972:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RoutesMapper=void 0;const s=r(36861),i=r(21680),n=r(92889),o=r(9058),a=r(35838),l=r(82633);e.RoutesMapper=class{constructor(t,e){this.container=t,this.applicationConfig=e,this.pathsExplorer=new a.PathsExplorer(new o.MetadataScanner)}mapRouteToRouteInfo(t){if((0,n.isString)(t))return this.getRouteInfoFromPath(t);const e=this.getRoutePath(t);return this.isRouteInfo(e,t)?this.getRouteInfoFromObject(t):this.getRouteInfoFromController(t,e)}getRouteInfoFromPath(t){return[{path:(0,n.addLeadingSlash)(t),method:-1}]}getRouteInfoFromObject(t){const e={path:(0,n.addLeadingSlash)(t.path),method:t.method};return t.version&&(e.version=t.version),[e]}getRouteInfoFromController(t,e){const r=this.pathsExplorer.scanForPaths(Object.create(t),t.prototype),s=this.getVersionMetadata(t),o=this.applicationConfig.getVersioning(),a=this.getHostModuleOfController(t),l=this.getModulePath(a?.metatype),c=(t,e)=>t.concat(e),u=t=>t===i.VERSION_NEUTRAL?void 0:t,h=(t,e)=>t.path?.flatMap((r=>{let i=l??"";i+=this.normalizeGlobalPath(e)+(0,n.addLeadingSlash)(r);const a={path:i,method:t.requestMethod},c=t.version??s;if(c&&o){if("string"!=typeof c&&Array.isArray(c))return c.map((t=>({...a,version:u(t)})));a.version=u(c)}return a}));return[].concat(e).map((t=>r.map((e=>h(e,t))).reduce(c,[]))).reduce(c,[])}isRouteInfo(t,e){return(0,n.isUndefined)(t)}normalizeGlobalPath(t){const e=(0,n.addLeadingSlash)(t);return"/"===e?"":e}getRoutePath(t){return Reflect.getMetadata(s.PATH_METADATA,t)}getHostModuleOfController(t){if(!t)return;const e=this.container.getModules(),r=l.targetModulesByContainer.get(e);return r?Array.from(e.values()).filter((t=>r.has(t))).find((({controllers:e})=>e.has(t))):void 0}getModulePath(t){if(!t)return;const e=this.container.getModules();return Reflect.getMetadata(s.MODULE_PATH+e.applicationId,t)??Reflect.getMetadata(s.MODULE_PATH,t)}getVersionMetadata(t){const e=this.applicationConfig.getVersioning();if(e)return Reflect.getMetadata(s.VERSION_METADATA,t)??e.defaultVersion}}},60079:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isMiddlewareRouteExcluded=e.assignToken=e.isMiddlewareClass=e.mapToClass=e.filterMiddleware=e.mapToExcludeRoute=void 0;const s=r(76301),i=r(92889),n=r(73073),o=r(43943),a=r(1797),l=r(13568);function c(t){const e=t.toString();if("class"===e.substring(0,5))return!0;const r=e.split(" ");return"function"===r[0]&&/[A-Z]/.test(r[1]?.[0])&&(0,i.isFunction)(t.prototype?.use)}function u(t,e=(0,a.uid)(21)){return Object.defineProperty(t,"name",{value:e}),t}function h(t,e,r){if(e.length<=0)return!1;const i=r.getRequestMethod(t),n=r.getRequestUrl(t),o=n&&n.indexOf("?"),a=o>=0?n.slice(0,o):n;return(0,l.isRouteExcluded)(e,a,s.RequestMethod[i])}e.mapToExcludeRoute=t=>t.map((t=>(0,i.isString)(t)?{path:t,requestMethod:s.RequestMethod.ALL,pathRegex:o((0,i.addLeadingSlash)(t))}:{path:t.path,requestMethod:t.method,pathRegex:o((0,i.addLeadingSlash)(t.path))})),e.filterMiddleware=(t,r,s)=>{const o=(0,e.mapToExcludeRoute)(r);return(0,n.iterate)([]).concat(t).filter(i.isFunction).map((t=>(0,e.mapToClass)(t,o,s))).toArray()},e.mapToClass=(t,e,r)=>c(t)?e.length<=0?t:u(class extends t{use(...t){const[s,i,n]=t;return h(s,e,r)?n():super.use(...t)}},t.name):u(class{constructor(){this.use=(...s)=>{const[i,n,o]=s;return h(i,e,r)?o():t(...s)}}}),e.isMiddlewareClass=c,e.assignToken=u,e.isMiddlewareRouteExcluded=h},8721:(t,e,r)=>{"use strict";var s=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.NestApplicationContext=void 0;const i=r(76301),n=r(92889),o=r(73073),a=r(48875),l=r(71874),c=r(93308),u=r(52686),h=r(23035),p=r(84233),d=r(22612),f=r(20743);class m extends h.AbstractInstanceResolver{get instanceLinksHost(){return this._instanceLinksHost||(this._instanceLinksHost=new f.InstanceLinksHost(this.container)),this._instanceLinksHost}constructor(t,e={},r=null,s=new Array){super(),this.container=t,this.appOptions=e,this.contextModule=r,this.scope=s,this.isInitialized=!1,this.logger=new i.Logger(m.name,{timestamp:!0}),this.shouldFlushLogsOnOverride=!1,this.activeShutdownSignals=new Array,this.moduleCompiler=new p.ModuleCompiler,this.injector=new d.Injector,this.appOptions.preview&&this.printInPreviewModeWarning()}selectContextModule(){const t=this.container.getModules().values();this.contextModule=t.next().value}select(t){const e=this.container.getModules(),r=this.contextModule.metatype,s=this.scope.concat(r),i=this.container.getModuleTokenFactory(),{type:n,dynamicMetadata:o}=this.moduleCompiler.extractMetadata(t),a=i.create(n,o),c=e.get(a);if(!c)throw new l.UnknownModuleException(n.name);return new m(this.container,this.appOptions,c,s)}get(t,e={strict:!1}){return e&&e.strict?this.find(t,{moduleId:this.contextModule?.id,each:e.each}):this.find(t,e)}resolve(t,e=(0,c.createContextId)(),r={strict:!1}){return this.resolvePerContext(t,this.contextModule,e,r)}registerRequestByContextId(t,e){this.container.registerRequestProvider(t,e)}async init(){return this.isInitialized||(await this.callInitHook(),await this.callBootstrapHook(),this.isInitialized=!0),this}async close(t){await this.callDestroyHook(),await this.callBeforeShutdownHook(t),await this.dispose(),await this.callShutdownHook(t),this.unsubscribeFromProcessSignals()}useLogger(t){i.Logger.overrideLogger(t),this.shouldFlushLogsOnOverride&&this.flushLogs()}flushLogs(){i.Logger.flush()}flushLogsOnOverride(){this.shouldFlushLogsOnOverride=!0}enableShutdownHooks(t=[]){return t=(0,n.isEmpty)(t)?Object.keys(i.ShutdownSignal).map((t=>i.ShutdownSignal[t])):Array.from(new Set(t)),t=(0,o.iterate)(t).map((t=>t.toString().toUpperCase().trim())).filter((t=>!this.activeShutdownSignals.includes(t))).toArray(),this.listenToShutdownSignals(t),this}async dispose(){return Promise.resolve()}listenToShutdownSignals(t){let e=!1;const r=async n=>{try{if(e)return;e=!0,await this.callDestroyHook(),await this.callBeforeShutdownHook(n),await this.dispose(),await this.callShutdownHook(n),t.forEach((t=>s.removeListener(t,r))),s.kill(s.pid,n)}catch(t){i.Logger.error(a.MESSAGES.ERROR_DURING_SHUTDOWN,t?.stack,m.name),s.exit(1)}};this.shutdownCleanupRef=r,t.forEach((t=>{this.activeShutdownSignals.push(t),s.on(t,r)}))}unsubscribeFromProcessSignals(){this.shutdownCleanupRef&&this.activeShutdownSignals.forEach((t=>{s.removeListener(t,this.shutdownCleanupRef)}))}async callInitHook(){const t=this.getModulesToTriggerHooksOn();for(const e of t)await(0,u.callModuleInitHook)(e)}async callDestroyHook(){const t=this.getModulesToTriggerHooksOn();for(const e of t)await(0,u.callModuleDestroyHook)(e)}async callBootstrapHook(){const t=this.getModulesToTriggerHooksOn();for(const e of t)await(0,u.callModuleBootstrapHook)(e)}async callShutdownHook(t){const e=this.getModulesToTriggerHooksOn();for(const r of e)await(0,u.callAppShutdownHook)(r,t)}async callBeforeShutdownHook(t){const e=this.getModulesToTriggerHooksOn();for(const r of e)await(0,u.callBeforeAppShutdownHook)(r,t)}assertNotInPreviewMode(t){if(this.appOptions.preview){const e=`Calling the "${t}" in the preview mode is not supported.`;throw this.logger.error(e),new Error(e)}}getModulesToTriggerHooksOn(){if(this._moduleRefsForHooksByDistance)return this._moduleRefsForHooksByDistance;const t=this.container.getModules(),e=Array.from(t.values()).sort(((t,e)=>e.distance-t.distance));return this._moduleRefsForHooksByDistance=this.appOptions?.preview?e.filter((t=>t.initOnPreview)):e,this._moduleRefsForHooksByDistance}printInPreviewModeWarning(){this.logger.warn("------------------------------------------------"),this.logger.warn("Application is running in the PREVIEW mode!"),this.logger.warn("Providers/controllers will not be instantiated."),this.logger.warn("------------------------------------------------")}}e.NestApplicationContext=m},39175:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NestApplication=void 0;const s=r(76301),i=r(4380),n=r(91344),o=r(92889),a=r(73073),l=r(71544),c=r(63192),u=r(48875),h=r(23755),p=r(22612),d=r(77559),f=r(10673),m=r(60079),g=r(8721),y=r(56267),{SocketModule:v}=(0,h.optionalRequire)("@nestjs/websockets/socket-module",(()=>r(Object(function(){var t=new Error("Cannot find module '@nestjs/websockets/socket-module'");throw t.code="MODULE_NOT_FOUND",t}())))),{MicroservicesModule:_}=(0,h.optionalRequire)("@nestjs/microservices/microservices-module",(()=>r(Object(function(){var t=new Error("Cannot find module '@nestjs/microservices/microservices-module'");throw t.code="MODULE_NOT_FOUND",t}()))));class E extends g.NestApplicationContext{constructor(t,e,r,s,n={}){super(t,n),this.httpAdapter=e,this.config=r,this.graphInspector=s,this.logger=new i.Logger(E.name,{timestamp:!0}),this.middlewareContainer=new d.MiddlewareContainer(this.container),this.microservicesModule=_&&new _,this.socketModule=v&&new v,this.microservices=[],this.isListening=!1,this.selectContextModule(),this.registerHttpServer(),this.injector=new p.Injector({preview:this.appOptions.preview}),this.middlewareModule=new f.MiddlewareModule,this.routesResolver=new y.RoutesResolver(this.container,this.config,this.injector,this.graphInspector)}async dispose(){this.socketModule&&await this.socketModule.close(),this.microservicesModule&&await this.microservicesModule.close(),this.httpAdapter&&await this.httpAdapter.close(),await Promise.all((0,a.iterate)(this.microservices).map((async t=>{t.setIsTerminated(!0),await t.close()})))}getHttpAdapter(){return this.httpAdapter}registerHttpServer(){this.httpServer=this.createServer()}getUnderlyingHttpServer(){return this.httpAdapter.getHttpServer()}applyOptions(){if(this.appOptions&&this.appOptions.cors)return(0,o.isObject)(this.appOptions.cors)||(0,o.isFunction)(this.appOptions.cors)?this.enableCors(this.appOptions.cors):this.enableCors()}createServer(){return this.httpAdapter.initHttpServer(this.appOptions),this.httpAdapter.getHttpServer()}async registerModules(){this.registerWsModule(),this.microservicesModule&&(this.microservicesModule.register(this.container,this.graphInspector,this.config,this.appOptions),this.microservicesModule.setupClients(this.container)),await this.middlewareModule.register(this.middlewareContainer,this.container,this.config,this.injector,this.httpAdapter,this.graphInspector,this.appOptions)}registerWsModule(){this.socketModule&&this.socketModule.register(this.container,this.config,this.graphInspector,this.appOptions,this.httpServer)}async init(){return this.isInitialized||(this.applyOptions(),await(this.httpAdapter?.init()),this.appOptions&&!1!==this.appOptions.bodyParser&&this.registerParserMiddleware(),await this.registerModules(),await this.registerRouter(),await this.callInitHook(),await this.registerRouterHooks(),await this.callBootstrapHook(),this.isInitialized=!0,this.logger.log(u.MESSAGES.APPLICATION_READY)),this}registerParserMiddleware(){const t=this.config.getGlobalPrefix(),e=!!this.appOptions?.rawBody;this.httpAdapter.registerParserMiddleware(t,e)}async registerRouter(){await this.registerMiddleware(this.httpAdapter);const t=this.config.getGlobalPrefix(),e=(0,o.addLeadingSlash)(t);this.routesResolver.resolve(this.httpAdapter,e)}async registerRouterHooks(){this.routesResolver.registerNotFoundHandler(),this.routesResolver.registerExceptionHandler()}connectMicroservice(t,e={}){const{NestMicroservice:s}=(0,n.loadPackage)("@nestjs/microservices","NestFactory",(()=>r(Object(function(){var t=new Error("Cannot find module '@nestjs/microservices'");throw t.code="MODULE_NOT_FOUND",t}())))),{inheritAppConfig:i}=e,o=i?this.config:new c.ApplicationConfig,a=new s(this.container,t,this.graphInspector,o);return a.registerListeners(),a.setIsInitialized(!0),a.setIsInitHookCalled(!0),this.microservices.push(a),a}getMicroservices(){return this.microservices}getHttpServer(){return this.httpServer}async startAllMicroservices(){return this.assertNotInPreviewMode("startAllMicroservices"),await Promise.all(this.microservices.map((t=>t.listen()))),this}use(...t){return this.httpAdapter.use(...t),this}useBodyParser(...t){if(!("useBodyParser"in this.httpAdapter))return this.logger.warn("Your HTTP Adapter does not support `.useBodyParser`."),this;const[e,...r]=t,s=!!this.appOptions.rawBody;return this.httpAdapter.useBodyParser(e,s,...r),this}enableCors(t){this.httpAdapter.enableCors(t)}enableVersioning(t={type:s.VersioningType.URI}){return this.config.enableVersioning(t),this}async listen(t,...e){return this.assertNotInPreviewMode("listen"),!this.isInitialized&&await this.init(),new Promise(((r,s)=>{const i=t=>{this.logger.error(t?.toString?.()),s(t)};this.httpServer.once("error",i);const n=(0,o.isFunction)(e[e.length-1]),a=n?e.slice(0,e.length-1):e;this.httpAdapter.listen(t,...a,((...t)=>{if((this.appOptions?.autoFlushLogs??1)&&this.flushLogs(),t[0]instanceof Error)return s(t[0]);this.httpServer.address()&&(this.httpServer.removeListener("error",i),this.isListening=!0,r(this.httpServer)),n&&e[e.length-1](...t)}))}))}async getUrl(){return new Promise(((t,e)=>{if(!this.isListening)return this.logger.error(u.MESSAGES.CALL_LISTEN_FIRST),void e(u.MESSAGES.CALL_LISTEN_FIRST);const r=this.httpServer.address();t(this.formatAddress(r))}))}formatAddress(t){if((0,o.isString)(t)){if("win32"===(0,l.platform)())return t;const e=encodeURIComponent(t);return`${this.getProtocol()}+unix://${e}`}let e=this.host();return t&&"IPv6"===t.family?e="::"===e?"[::1]":`[${e}]`:"0.0.0.0"===e&&(e="127.0.0.1"),`${this.getProtocol()}://${e}:${t.port}`}setGlobalPrefix(t,e){if(this.config.setGlobalPrefix(t),e){const t=e?.exclude?(0,m.mapToExcludeRoute)(e.exclude):[];this.config.setGlobalPrefixOptions({...e,exclude:t})}return this}useWebSocketAdapter(t){return this.config.setIoAdapter(t),this}useGlobalFilters(...t){return this.config.useGlobalFilters(...t),t.forEach((t=>this.graphInspector.insertOrphanedEnhancer({subtype:"filter",ref:t}))),this}useGlobalPipes(...t){return this.config.useGlobalPipes(...t),t.forEach((t=>this.graphInspector.insertOrphanedEnhancer({subtype:"pipe",ref:t}))),this}useGlobalInterceptors(...t){return this.config.useGlobalInterceptors(...t),t.forEach((t=>this.graphInspector.insertOrphanedEnhancer({subtype:"interceptor",ref:t}))),this}useGlobalGuards(...t){return this.config.useGlobalGuards(...t),t.forEach((t=>this.graphInspector.insertOrphanedEnhancer({subtype:"guard",ref:t}))),this}useStaticAssets(t,e){return this.httpAdapter.useStaticAssets&&this.httpAdapter.useStaticAssets(t,e),this}setBaseViewsDir(t){return this.httpAdapter.setBaseViewsDir&&this.httpAdapter.setBaseViewsDir(t),this}setViewEngine(t){return this.httpAdapter.setViewEngine&&this.httpAdapter.setViewEngine(t),this}host(){const t=this.httpServer.address();if(!(0,o.isString)(t))return t&&t.address}getProtocol(){return this.appOptions&&this.appOptions.httpsOptions?"https":"http"}async registerMiddleware(t){await this.middlewareModule.registerMiddleware(this.middlewareContainer,t)}}e.NestApplication=E},69677:(t,e,r)=>{"use strict";var s=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.NestFactory=e.NestFactoryStatic=void 0;const i=r(4380),n=r(91344),o=r(92889),a=r(63192),l=r(48875),c=r(35229),u=r(88301),h=r(26939),p=r(19547),d=r(22612),f=r(4981),m=r(51234),g=r(61169),y=r(19290),v=r(9058),_=r(39175),E=r(8721),b=r(11470);class A{constructor(){this.logger=new i.Logger("NestFactory",{timestamp:!0}),this.abortOnError=!0,this.autoFlushLogs=!1}async create(t,e,r){const[s,i]=this.isHttpServer(e)?[e,r]:[this.createHttpAdapter(),e],n=new a.ApplicationConfig,o=new p.NestContainer(n),l=this.createGraphInspector(i,o);this.setAbortOnError(e,r),this.registerLoggerConfiguration(i),await this.initialize(t,o,l,n,i,s);const c=new _.NestApplication(o,s,n,l,i),u=this.createNestInstance(c);return this.createAdapterProxy(u,s)}async createMicroservice(t,e){const{NestMicroservice:s}=(0,n.loadPackage)("@nestjs/microservices","NestFactory",(()=>r(Object(function(){var t=new Error("Cannot find module '@nestjs/microservices'");throw t.code="MODULE_NOT_FOUND",t}())))),i=new a.ApplicationConfig,o=new p.NestContainer(i),l=this.createGraphInspector(e,o);return this.setAbortOnError(e),this.registerLoggerConfiguration(e),await this.initialize(t,o,l,i,e),this.createNestInstance(new s(o,e,l,i))}async createApplicationContext(t,e){const r=new a.ApplicationConfig,s=new p.NestContainer(r),i=this.createGraphInspector(e,s);this.setAbortOnError(e),this.registerLoggerConfiguration(e),await this.initialize(t,s,i,r,e);const n=s.getModules().values().next().value,o=this.createNestInstance(new E.NestApplicationContext(s,e,n));return this.autoFlushLogs&&o.flushLogsOnOverride(),o.init()}createNestInstance(t){return this.createProxy(t)}async initialize(t,e,r,s=new a.ApplicationConfig,i={},n=null){y.UuidFactory.mode=i.snapshot?y.UuidFactoryMode.Deterministic:y.UuidFactoryMode.Random;const o=new d.Injector({preview:i.preview}),u=new f.InstanceLoader(e,o,r),p=new v.MetadataScanner,m=new b.DependenciesScanner(e,p,r,s);e.setHttpAdapter(n);const g=!1===this.abortOnError?h.rethrow:void 0;await(n?.init());try{this.logger.log(l.MESSAGES.APPLICATION_START),await c.ExceptionsZone.asyncRun((async()=>{await m.scan(t),await u.createInstancesOfDependencies(),m.applyApplicationProviders()}),g,this.autoFlushLogs)}catch(t){this.handleInitializationError(t)}}handleInitializationError(t){this.abortOnError&&s.abort(),(0,h.rethrow)(t)}createProxy(t){const e=this.createExceptionProxy();return new Proxy(t,{get:e,set:e})}createExceptionProxy(){return(t,e)=>{if(e in t)return(0,o.isFunction)(t[e])?this.createExceptionZone(t,e):t[e]}}createExceptionZone(t,e){const r=!1===this.abortOnError?h.rethrow:void 0;return(...s)=>{let i;return c.ExceptionsZone.run((()=>{i=t[e](...s)}),r,this.autoFlushLogs),i}}registerLoggerConfiguration(t){if(!t)return;const{logger:e,bufferLogs:r,autoFlushLogs:s}=t;!0===e||(0,o.isNil)(e)||i.Logger.overrideLogger(e),r&&i.Logger.attachBuffer(),this.autoFlushLogs=s??!0}createHttpAdapter(t){const{ExpressAdapter:e}=(0,u.loadAdapter)("@nestjs/platform-express","HTTP",(()=>r(Object(function(){var t=new Error("Cannot find module '@nestjs/platform-express'");throw t.code="MODULE_NOT_FOUND",t}()))));return new e(t)}isHttpServer(t){return!(!t||!t.patch)}setAbortOnError(t,e){this.abortOnError=this.isHttpServer(t)?!(e&&!1===e.abortOnError):!(t&&!1===t.abortOnError)}createAdapterProxy(t,e){const r=new Proxy(t,{get:(t,s)=>{const i=t=>t instanceof Promise?t.then(i):t instanceof _.NestApplication?r:t;return!(s in t)&&s in e?(...t)=>{const r=this.createExceptionZone(e,s)(...t);return i(r)}:(0,o.isFunction)(t[s])?(...e)=>{const r=t[s](...e);return i(r)}:t[s]}});return r}createGraphInspector(t,e){return t?.snapshot?new m.GraphInspector(e):g.NoopGraphInspector}}e.NestFactoryStatic=A,e.NestFactory=new A},19870:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(8576),e),s.__exportStar(r(64049),e),s.__exportStar(r(75102),e)},8576:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParamsTokenFactory=void 0;const s=r(26096);e.ParamsTokenFactory=class{exchangeEnumForString(t){switch(t){case s.RouteParamtypes.BODY:return"body";case s.RouteParamtypes.PARAM:return"param";case s.RouteParamtypes.QUERY:return"query";default:return"custom"}}}},64049:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PipesConsumer=void 0;const s=r(8576);e.PipesConsumer=class{constructor(){this.paramsTokenFactory=new s.ParamsTokenFactory}async apply(t,{metatype:e,type:r,data:s},i){const n=this.paramsTokenFactory.exchangeEnumForString(r);return this.applyPipes(t,{metatype:e,type:n,data:s},i)}async applyPipes(t,{metatype:e,type:r,data:s},i){return i.reduce((async(t,i)=>{const n=await t;return i.transform(n,{metatype:e,type:r,data:s})}),Promise.resolve(t))}}},75102:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PipesContextCreator=void 0;const s=r(36861),i=r(92889),n=r(73073),o=r(45644),a=r(75240);class l extends o.ContextCreator{constructor(t,e){super(),this.container=t,this.config=e}create(t,e,r,i=a.STATIC_CONTEXT,n){return this.moduleContext=r,this.createContext(t,e,s.PIPES_METADATA,i,n)}createConcreteContext(t,e=a.STATIC_CONTEXT,r){return(0,i.isEmpty)(t)?[]:(0,n.iterate)(t).filter((t=>t&&(t.name||t.transform))).map((t=>this.getPipeInstance(t,e,r))).filter((t=>t&&t.transform&&(0,i.isFunction)(t.transform))).toArray()}getPipeInstance(t,e=a.STATIC_CONTEXT,r){if(t.transform)return t;const s=this.getInstanceByMetatype(t);if(!s)return null;const i=s.getInstanceByContextId(this.getContextId(e,s),r);return i&&i.instance}getInstanceByMetatype(t){if(!this.moduleContext)return;const e=this.container.getModules().get(this.moduleContext);return e?e.injectables.get(t):void 0}getGlobalMetadata(t=a.STATIC_CONTEXT,e){if(!this.config)return[];const r=this.config.getGlobalPipes();if(t===a.STATIC_CONTEXT&&!e)return r;const s=this.config.getGlobalRequestPipes(),i=(0,n.iterate)(s).map((r=>r.getInstanceByContextId(this.getContextId(t,r),e))).filter((t=>!!t)).map((t=>t.instance)).toArray();return r.concat(i)}setModuleContext(t){this.moduleContext=t}}e.PipesContextCreator=l},19164:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignToObject=void 0,e.assignToObject=function(t,e){return Object.defineProperties(t,Object.keys(e).reduce(((t,r)=>(t[r]=Object.getOwnPropertyDescriptor(e,r),t)),Object.create(null))),t}},1996:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REPL_INITIALIZED_MESSAGE=void 0,e.REPL_INITIALIZED_MESSAGE="REPL initialized"},99495:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(94195),e)},52228:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DebugReplFn=void 0;const s=r(5836),i=r(12816);class n extends i.ReplFunction{constructor(){super(...arguments),this.fnDefinition={name:"debug",description:'Print all registered modules as a list together with their controllers and providers.\nIf the argument is passed in, for example, "debug(MyModule)" then it will only print components of this specific module.',signature:"(moduleCls?: ClassRef | string) => void"}}action(t){if(this.ctx.writeToStdout("\n"),t){const e="function"==typeof t?t.name:t,r=this.ctx.debugRegistry[e];if(!r)return this.logger.error(`"${e}" has not been found in the modules registry`);this.printCtrlsAndProviders(e,r)}else Object.keys(this.ctx.debugRegistry).forEach((t=>{this.printCtrlsAndProviders(t,this.ctx.debugRegistry[t])}));this.ctx.writeToStdout("\n")}printCtrlsAndProviders(t,e){this.ctx.writeToStdout(`${s.clc.green(t)}:\n`),this.printCollection("controllers",e.controllers),this.printCollection("providers",e.providers)}printCollection(t,e){const r=Object.keys(e);r.length<=0||(this.ctx.writeToStdout(` ${s.clc.yellow(`- ${t}`)}:\n`),r.forEach((t=>this.ctx.writeToStdout(`  ${s.clc.green("◻")} ${t}\n`))))}}e.DebugReplFn=n},67437:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetReplFn=void 0;const s=r(12816);class i extends s.ReplFunction{constructor(){super(...arguments),this.fnDefinition={name:"get",signature:"(token: InjectionToken) => any",description:"Retrieves an instance of either injectable or controller, otherwise, throws exception.",aliases:["$"]}}action(t){return this.ctx.app.get(t)}}e.GetReplFn=i},73245:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpReplFn=void 0;const s=r(73073),i=r(5836),n=r(12816);class o extends n.ReplFunction{constructor(){super(...arguments),this.fnDefinition={name:"help",signature:"() => void",description:"Display all available REPL native functions."}}action(){const t=(0,s.iterate)(this.ctx.nativeFunctions).map((([,t])=>t.fnDefinition)).toArray().sort(((t,e)=>t.name<e.name?-1:1));this.ctx.writeToStdout(`You can call ${i.clc.bold(".help")} on any function listed below (e.g.: ${i.clc.bold("help.help")}):\n\n`+t.map(o.buildHelpMessage).join("\n")+"\n")}}e.HelpReplFn=o,o.buildHelpMessage=({name:t,description:e})=>i.clc.cyanBright(t)+(e?` ${i.clc.bold("-")} ${e}`:"")},44891:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(73245),e),s.__exportStar(r(67437),e),s.__exportStar(r(67837),e),s.__exportStar(r(31233),e),s.__exportStar(r(52228),e),s.__exportStar(r(13705),e)},13705:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MethodsReplFn=void 0;const s=r(5836),i=r(9058),n=r(12816);class o extends n.ReplFunction{constructor(){super(...arguments),this.fnDefinition={name:"methods",description:"Display all public methods available on a given provider or controller.",signature:"(token: ClassRef | string) => void"},this.metadataScanner=new i.MetadataScanner}action(t){const e="function"!=typeof t?Object.getPrototypeOf(this.ctx.app.get(t)):t?.prototype,r=this.metadataScanner.getAllMethodNames(e);this.ctx.writeToStdout("\n"),this.ctx.writeToStdout(`${s.clc.green("Methods")}:\n`),r.forEach((t=>this.ctx.writeToStdout(` ${s.clc.yellow("◻")} ${t}\n`))),this.ctx.writeToStdout("\n")}}e.MethodsReplFn=o},67837:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolveReplFn=void 0;const s=r(12816);class i extends s.ReplFunction{constructor(){super(...arguments),this.fnDefinition={name:"resolve",description:"Resolves transient or request-scoped instance of either injectable or controller, otherwise, throws exception.",signature:"(token: InjectionToken, contextId: any) => Promise<any>"}}action(t,e){return this.ctx.app.resolve(t,e)}}e.ResolveReplFn=i},31233:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectReplFn=void 0;const s=r(12816);class i extends s.ReplFunction{constructor(){super(...arguments),this.fnDefinition={name:"select",description:"Allows navigating through the modules tree, for example, to pull out a specific instance from the selected module.",signature:"(token: DynamicModule | ClassRef) => INestApplicationContext"}}action(t){return this.ctx.app.select(t)}}e.SelectReplFn=i},77100:(t,e,r)=>{"use strict";var s=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.ReplContext=void 0;const i=r(76301),n=r(63192),o=r(33892),a=r(77609),l=r(44891);class c{constructor(t,e){this.app=t,this.logger=new i.Logger(c.name),this.debugRegistry={},this.globalScope=Object.create(null),this.nativeFunctions=new Map,this.container=t.container,this.initializeContext(),this.initializeNativeFunctions(e||[])}writeToStdout(t){s.stdout.write(t)}initializeContext(){this.container.getModules().forEach((t=>{let e=t.metatype.name;e!==a.InternalCoreModule.name&&(this.globalScope[e]&&(e+=` (${t.token})`),this.introspectCollection(t,e,"providers"),this.introspectCollection(t,e,"controllers"),Object.defineProperty(this.globalScope,e,{value:t.metatype,configurable:!1,enumerable:!0}))}))}introspectCollection(t,e,r){const s={};t[r].forEach((({token:e})=>{const r=this.stringifyToken(e);r!==n.ApplicationConfig.name&&r!==t.metatype.name&&(this.globalScope[r]||Object.defineProperty(this.globalScope,r,{value:e,configurable:!1,enumerable:!0}),r!==o.ModuleRef.name&&(s[r]=e))})),this.debugRegistry[e]={...this.debugRegistry?.[e],[r]:s}}stringifyToken(t){return"string"!=typeof t?"function"==typeof t?t.name:t?.toString():`"${t}"`}addNativeFunction(t){const e=new t(this),r=[e];return this.nativeFunctions.set(e.fnDefinition.name,e),e.fnDefinition.aliases?.forEach((t=>{const s=Object.create(e);s.fnDefinition={name:t,description:s.fnDefinition.description,signature:s.fnDefinition.signature},this.nativeFunctions.set(t,s),r.push(s)})),r}registerFunctionIntoGlobalScope(t){this.globalScope[t.fnDefinition.name]=t.action.bind(t);const e=this.globalScope[t.fnDefinition.name];Object.defineProperty(e,"help",{enumerable:!1,configurable:!1,get:()=>this.writeToStdout(t.makeHelpMessage())})}initializeNativeFunctions(t){[l.HelpReplFn,l.GetReplFn,l.ResolveReplFn,l.SelectReplFn,l.DebugReplFn,l.MethodsReplFn].concat(t).forEach((t=>{this.addNativeFunction(t).forEach((t=>{this.registerFunctionIntoGlobalScope(t)}))}))}}e.ReplContext=c},12816:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplFunction=void 0;const s=r(5836);e.ReplFunction=class{constructor(t){this.ctx=t,this.logger=t.logger}makeHelpMessage(){const{description:t,name:e,signature:r}=this.fnDefinition,i=`${e}${r}`;return`${s.clc.yellow(t)}\n${s.clc.magentaBright("Interface:")} ${s.clc.bold(i)}\n`}}},78885:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplLogger=void 0;const s=r(76301),i=r(39175),n=r(3066),o=r(56267);class a extends s.ConsoleLogger{log(t,e){if(!a.ignoredContexts.includes(e))return super.log.apply(this,Array.from(arguments))}}e.ReplLogger=a,a.ignoredContexts=[o.RoutesResolver.name,n.RouterExplorer.name,i.NestApplication.name]},71247:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defineDefaultCommandsOnRepl=void 0,e.defineDefaultCommandsOnRepl=function(t){t.defineCommand("help",{help:"Show REPL options",action(t){if(this.clearBufferedCommand(),t){const e=this.commands[t]||this.context[t],r=e?.help;r&&this.output.write(`${r}\n`)}else!function(t){Object.keys(t.commands).sort().forEach((e=>{const r=t.commands[e];r&&t.output.write(`${e}\t${r.help||""}\n`)}))}(this),this.output.write("\n\n"),this.context.help(),this.output.write("\nPress Ctrl+C to abort current expression, Ctrl+D to exit the REPL\n");this.displayPrompt()}})}},94195:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.repl=void 0;const s=r(76301),i=r(5836),n=r(69677),o=r(19164),a=r(1996),l=r(77100),c=r(78885),u=r(71247);e.repl=async function(t,e={}){const h=await n.NestFactory.createApplicationContext(t,{abortOnError:!1,logger:new c.ReplLogger});await h.init();const p=new l.ReplContext(h);s.Logger.log(a.REPL_INITIALIZED_MESSAGE);const d=(await Promise.resolve().then((()=>r(Object(function(){var t=new Error("Cannot find module 'repl'");throw t.code="MODULE_NOT_FOUND",t}()))))).start({prompt:i.clc.green("> "),ignoreUndefined:!0,...e});return(0,o.assignToObject)(d.context,p.globalScope),(0,u.defineDefaultCommandsOnRepl)(d),d}},23138:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouterModule=void 0;const s=r(491);s.__exportStar(r(32085),e),s.__exportStar(r(93406),e);var i=r(82633);Object.defineProperty(e,"RouterModule",{enumerable:!0,get:function(){return i.RouterModule}})},32085:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(88847),e)},88847:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},35838:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PathsExplorer=void 0;const s=r(36861),i=r(92889);e.PathsExplorer=class{constructor(t){this.metadataScanner=t}scanForPaths(t,e){const r=(0,i.isUndefined)(e)?Object.getPrototypeOf(t):e;return this.metadataScanner.getAllMethodNames(r).reduce(((e,s)=>{const i=this.exploreMethodMetadata(t,r,s);return i&&e.push(i),e}),[])}exploreMethodMetadata(t,e,r){const n=t[r],o=e[r],a=Reflect.getMetadata(s.PATH_METADATA,o);if((0,i.isUndefined)(a))return null;const l=Reflect.getMetadata(s.METHOD_METADATA,o),c=Reflect.getMetadata(s.VERSION_METADATA,o);return{path:(0,i.isString)(a)?[(0,i.addLeadingSlash)(a)]:a.map((t=>(0,i.addLeadingSlash)(t))),requestMethod:l,targetCallback:n,methodName:r,version:c}}}},93406:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REQUEST=void 0;var s=r(10894);Object.defineProperty(e,"REQUEST",{enumerable:!0,get:function(){return s.REQUEST}})},10894:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REQUEST_CONTEXT_ID=e.REQUEST=void 0,e.REQUEST="REQUEST",e.REQUEST_CONTEXT_ID=Symbol("REQUEST_CONTEXT_ID")},93887:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.requestProvider=void 0;const s=r(76301),i=r(10894);e.requestProvider={provide:i.REQUEST,scope:s.Scope.REQUEST,useFactory:()=>{}}},63300:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouteParamsFactory=void 0;const s=r(26096);e.RouteParamsFactory=class{exchangeKeyForValue(t,e,{req:r,res:i,next:n}){switch(t){case s.RouteParamtypes.NEXT:return n;case s.RouteParamtypes.REQUEST:return r;case s.RouteParamtypes.RESPONSE:return i;case s.RouteParamtypes.BODY:return e&&r.body?r.body[e]:r.body;case s.RouteParamtypes.RAW_BODY:return r.rawBody;case s.RouteParamtypes.PARAM:return e?r.params[e]:r.params;case s.RouteParamtypes.HOST:const t=r.hosts||{};return e?t[e]:t;case s.RouteParamtypes.QUERY:return e?r.query[e]:r.query;case s.RouteParamtypes.HEADERS:return e?r.headers[e.toLowerCase()]:r.headers;case s.RouteParamtypes.SESSION:return r.session;case s.RouteParamtypes.FILE:return r[e||"file"];case s.RouteParamtypes.FILES:return r.files;case s.RouteParamtypes.IP:return r.ip;default:return null}}}},86996:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RoutePathFactory=void 0;const s=r(76301),i=r(92889),n=r(13568);e.RoutePathFactory=class{constructor(t){this.applicationConfig=t}create(t,e){let r=[""];const n=this.getVersion(t);if(n&&t.versioningOptions?.type===s.VersioningType.URI){const e=this.getVersionPrefix(t.versioningOptions);Array.isArray(n)?r=(0,s.flatten)(r.map((t=>n.map((r=>r===s.VERSION_NEUTRAL?t:`${t}/${e}${r}`))))):n!==s.VERSION_NEUTRAL&&(r=r.map((t=>`${t}/${e}${n}`)))}return r=this.appendToAllIfDefined(r,t.modulePath),r=this.appendToAllIfDefined(r,t.ctrlPath),r=this.appendToAllIfDefined(r,t.methodPath),t.globalPrefix&&(r=r.map((r=>this.isExcludedFromGlobalPrefix(r,e,n,t.versioningOptions)?r:(0,i.stripEndSlash)(t.globalPrefix||"")+r))),r.map((t=>(0,i.addLeadingSlash)(t||"/"))).map((t=>"/"!==t?(0,i.stripEndSlash)(t):t))}getVersion(t){return t.methodVersion||t.controllerVersion}getVersionPrefix(t){if(t.type===s.VersioningType.URI){if(!1===t.prefix)return"";if(void 0!==t.prefix)return t.prefix}return"v"}appendToAllIfDefined(t,e){if(!e)return t;const r=(t,e)=>(0,i.stripEndSlash)(t)+(0,i.addLeadingSlash)(e);if(Array.isArray(e)){const i=t.map((t=>e.map((e=>r(t,e)))));return(0,s.flatten)(i)}return t.map((t=>r(t,e)))}isExcludedFromGlobalPrefix(t,e,r,o){if((0,i.isUndefined)(e))return!1;const a=this.applicationConfig.getGlobalPrefixOptions().exclude;return r&&r!==s.VERSION_NEUTRAL&&o?.type===s.VersioningType.URI&&(t=this.truncateVersionPrefixFromPath(t,r,o)),Array.isArray(a)&&(0,n.isRouteExcluded)(a,t,e)}truncateVersionPrefixFromPath(t,e,r){if("string"!=typeof e)return e.forEach((e=>{"string"==typeof e&&(t=this.truncateVersionPrefixFromPath(t,e,r))})),t;const s=`/${this.getVersionPrefix(r)}${e}`;return t.startsWith(s)?t.replace(s,""):t}}},44281:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouterExceptionFilters=void 0;const s=r(36861),i=r(92889),n=r(9878),o=r(52460),a=r(75240),l=r(73073);class c extends n.BaseExceptionFilterContext{constructor(t,e,r){super(t),this.config=e,this.applicationRef=r}create(t,e,r,n=a.STATIC_CONTEXT,l){this.moduleContext=r;const c=new o.ExceptionsHandler(this.applicationRef),u=this.createContext(t,e,s.EXCEPTION_FILTERS_METADATA,n,l);return(0,i.isEmpty)(u)||c.setCustomFilters(u.reverse()),c}getGlobalMetadata(t=a.STATIC_CONTEXT,e){const r=this.config.getGlobalFilters();if(t===a.STATIC_CONTEXT&&!e)return r;const s=this.config.getGlobalRequestFilters(),i=(0,l.iterate)(s).map((r=>r.getInstanceByContextId(t,e))).filter((t=>!!t)).map((t=>t.instance)).toArray();return r.concat(i)}}e.RouterExceptionFilters=c},75283:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouterExecutionContext=void 0;const s=r(76301),i=r(36861),n=r(26096),o=r(92889),a=r(51025),l=r(7527),c=r(7991),u=r(75240),h=r(36525);e.RouterExecutionContext=class{constructor(t,e,r,s,i,n,o,a){this.paramsFactory=t,this.pipesContextCreator=e,this.pipesConsumer=r,this.guardsContextCreator=s,this.guardsConsumer=i,this.interceptorsContextCreator=n,this.interceptorsConsumer=o,this.applicationRef=a,this.handlerMetadataStorage=new c.HandlerMetadataStorage,this.contextUtils=new l.ContextUtils,this.responseController=new h.RouterResponseController(a)}create(t,e,r,s,i,n=u.STATIC_CONTEXT,o){const a="http",{argsLength:l,fnHandleResponse:c,paramtypes:h,getParamsMetadata:p,httpStatusCode:d,responseHeaders:f,hasCustomHeaders:m}=this.getMetadata(t,e,r,s,i,a),g=this.contextUtils.mergeParamsMetatypes(p(s,n,o),h),y=this.pipesContextCreator.create(t,e,s,n,o),v=this.guardsContextCreator.create(t,e,s,n,o),_=this.interceptorsContextCreator.create(t,e,s,n,o),E=this.createGuardsFn(v,t,e,a),b=this.createPipesFn(y,g);return async(r,s,i)=>{const n=this.contextUtils.createNullArray(l);E&&await E([r,s,i]),this.responseController.setStatus(s,d),m&&this.responseController.setHeaders(s,f);const o=await this.interceptorsConsumer.intercept(_,[r,s,i],t,e,((r,s,i,n)=>async()=>(b&&await b(r,s,i,n),e.apply(t,r)))(n,r,s,i),a);await c(o,s,r)}}getMetadata(t,e,r,s,n,a){const l=this.handlerMetadataStorage.get(t,r);if(l)return l;const c=this.contextUtils.reflectCallbackMetadata(t,r,i.ROUTE_ARGS_METADATA)||{},h=Object.keys(c),p=this.contextUtils.getArgumentsLength(h,c),d=this.contextUtils.reflectCallbackParamtypes(t,r),f=this.contextUtils.getContextFactory(a,t,e),m=(t,e=u.STATIC_CONTEXT,r)=>this.exchangeKeysForValues(h,c,t,e,r,f),g=m(s),y=this.isResponseHandled(t,r,g),v=this.reflectRedirect(e),_=this.createHandleResponseFn(e,y,v),E=this.reflectHttpStatusCode(e)||this.responseController.getStatusByMethod(n),b=this.reflectResponseHeaders(e),A={argsLength:p,fnHandleResponse:_,paramtypes:d,getParamsMetadata:m,httpStatusCode:E,hasCustomHeaders:!(0,o.isEmpty)(b),responseHeaders:b};return this.handlerMetadataStorage.set(t,r,A),A}reflectRedirect(t){return Reflect.getMetadata(i.REDIRECT_METADATA,t)}reflectHttpStatusCode(t){return Reflect.getMetadata(i.HTTP_CODE_METADATA,t)}reflectRenderTemplate(t){return Reflect.getMetadata(i.RENDER_METADATA,t)}reflectResponseHeaders(t){return Reflect.getMetadata(i.HEADERS_METADATA,t)||[]}reflectSse(t){return Reflect.getMetadata(i.SSE_METADATA,t)}exchangeKeysForValues(t,e,r,s=u.STATIC_CONTEXT,n,o){return this.pipesContextCreator.setModuleContext(r),t.map((t=>{const{index:r,data:a,pipes:l}=e[t],c=this.pipesContextCreator.createConcreteContext(l,s,n),u=this.contextUtils.mapParamType(t);if(t.includes(i.CUSTOM_ROUTE_ARGS_METADATA)){const{factory:s}=e[t];return{index:r,extractValue:this.contextUtils.getCustomFactory(s,a,o),type:u,data:a,pipes:c}}const h=Number(u);return{index:r,extractValue:(t,e,r)=>this.paramsFactory.exchangeKeyForValue(h,a,{req:t,res:e,next:r}),type:h,data:a,pipes:c}}))}async getParamValue(t,{metatype:e,type:r,data:s},i){return(0,o.isEmpty)(i)?t:this.pipesConsumer.apply(t,{metatype:e,type:r,data:s},i)}isPipeable(t){return t===n.RouteParamtypes.BODY||t===n.RouteParamtypes.RAW_BODY||t===n.RouteParamtypes.QUERY||t===n.RouteParamtypes.PARAM||t===n.RouteParamtypes.FILE||t===n.RouteParamtypes.FILES||(0,o.isString)(t)}createGuardsFn(t,e,r,i){return t.length?async n=>{if(!await this.guardsConsumer.tryActivate(t,n,e,r,i))throw new s.ForbiddenException(a.FORBIDDEN_MESSAGE)}:null}createPipesFn(t,e){return e.length?async(r,s,i,n)=>{await Promise.all(e.map((async e=>{const{index:o,extractValue:a,type:l,data:c,metatype:u,pipes:h}=e,p=a(s,i,n);r[o]=this.isPipeable(l)?await this.getParamValue(p,{metatype:u,type:l,data:c},t.concat(h)):p})))}:null}createHandleResponseFn(t,e,r,s){const i=this.reflectRenderTemplate(t);return i?async(t,e)=>await this.responseController.render(t,e,i):r&&(0,o.isString)(r.url)?async(t,e)=>{await this.responseController.redirect(t,e,r)}:this.reflectSse(t)?(t,e,r)=>{this.responseController.sse(t,e.raw||e,r.raw||r,{additionalHeaders:e.getHeaders?.()})}:async(t,r)=>(t=await this.responseController.transformToResult(t),!e&&await this.responseController.apply(t,r,s),r)}isResponseHandled(t,e,r){const s=r.some((({type:t})=>t===n.RouteParamtypes.RESPONSE||t===n.RouteParamtypes.NEXT)),i=this.contextUtils.reflectPassthrough(t,e);return s&&!i}}},3066:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouterExplorer=void 0;const s=r(36861),i=r(74233),n=r(49029),o=r(4380),a=r(92889),l=r(43943),c=r(38530),u=r(51025),h=r(93308),p=r(68809),d=r(56002),f=r(24564),m=r(75240),g=r(46176),y=r(19870),v=r(35838),_=r(10894),E=r(63300),b=r(75283);class A{constructor(t,e,r,s,i,n,a,l){this.container=e,this.injector=r,this.routerProxy=s,this.exceptionsFilter=i,this.routePathFactory=a,this.graphInspector=l,this.routerMethodFactory=new f.RouterMethodFactory,this.logger=new o.Logger(A.name,{timestamp:!0}),this.exceptionFiltersCache=new WeakMap,this.pathsExplorer=new v.PathsExplorer(t);const c=new E.RouteParamsFactory,h=new y.PipesContextCreator(e,n),p=new y.PipesConsumer,d=new u.GuardsContextCreator(e,n),m=new u.GuardsConsumer,_=new g.InterceptorsContextCreator(e,n),x=new g.InterceptorsConsumer;this.executionContextCreator=new b.RouterExecutionContext(c,h,p,d,m,_,x,e.getHttpAdapterRef())}explore(t,e,r,s,i){const{instance:n}=t,o=this.pathsExplorer.scanForPaths(n);this.applyPathsToRouterProxy(r,o,t,e,i,s)}extractRouterPath(t){const e=Reflect.getMetadata(s.PATH_METADATA,t);if((0,a.isUndefined)(e))throw new c.UnknownRequestMappingException(t);return Array.isArray(e)?e.map((t=>(0,a.addLeadingSlash)(t))):[(0,a.addLeadingSlash)(e)]}applyPathsToRouterProxy(t,e,r,s,i,n){(e||[]).forEach((e=>{const{version:o}=e;i.methodVersion=o,this.applyCallbackToRouter(t,e,r,s,i,n)}))}applyCallbackToRouter(t,e,r,s,n,o){const{path:a,requestMethod:l,targetCallback:c,methodName:u}=e,{instance:h}=r,p=this.routerMethodFactory.get(t,l).bind(t),f=r.isDependencyTreeStatic()?this.createCallbackProxy(h,c,u,s,l):this.createRequestScopedHandler(r,l,this.container.getModuleByKey(s),s,u),m=(n.methodVersion||n.controllerVersion)&&n.versioningOptions;let g=this.applyHostFilter(o,f);a.forEach((e=>{m&&n.versioningOptions.type!==i.VersioningType.URI&&(g=this.applyVersionFilter(t,n,g)),n.methodPath=e,this.routePathFactory.create(n,l).forEach((t=>{const e={type:"http-endpoint",methodName:u,className:r.name,classNodeId:r.id,metadata:{key:t,path:t,requestMethod:i.RequestMethod[l],methodVersion:n.methodVersion,controllerVersion:n.controllerVersion}};this.copyMetadataToCallback(c,g),p(t,g),this.graphInspector.insertEntrypointDefinition(e,r.id)})),this.routePathFactory.create({...n,versioningOptions:void 0},l).forEach((t=>{if(m){const e=this.routePathFactory.getVersion(n);this.logger.log((0,d.VERSIONED_ROUTE_MAPPED_MESSAGE)(t,l,e))}else this.logger.log((0,d.ROUTE_MAPPED_MESSAGE)(t,l))}))}))}applyHostFilter(t,e){if(!t)return e;const r=this.container.getHttpAdapterRef(),s=(Array.isArray(t)?t:[t]).map((t=>{const e=[];return{regexp:l(t,e),keys:e}})),i=Array.isArray(t)?`HTTP adapter does not support filtering on hosts: ["${t.join('", "')}"]`:`HTTP adapter does not support filtering on host: "${t}"`;return(t,o,a)=>{t.hosts={};const l=r.getRequestHostname(t)||"";for(const r of s){const s=l.match(r.regexp);if(s){if(r.keys.length>0)r.keys.forEach(((e,r)=>t.hosts[e.name]=s[r+1]));else if(r.regexp&&s.groups)for(const e in s.groups)t.hosts[e]=s.groups[e];return e(t,o,a)}}if(!a)throw new n.InternalServerErrorException(i);return a()}}applyVersionFilter(t,e,r){const s=this.routePathFactory.getVersion(e);return t.applyVersionFilter(r,s,e.versioningOptions)}createCallbackProxy(t,e,r,s,i,n=m.STATIC_CONTEXT,o){const a=this.executionContextCreator.create(t,e,r,s,i,n,o),l=this.exceptionsFilter.create(t,e,s,n,o);return this.routerProxy.createProxy(a,l)}createRequestScopedHandler(t,e,r,s,i){const{instance:n}=t,o=r.controllers,a=t.isDependencyTreeDurable();return async(l,c,u)=>{try{const h=this.getContextId(l,a),p=await this.injector.loadPerContext(n,r,o,h);await this.createCallbackProxy(p,p[i],i,s,e,h,t.id)(l,c,u)}catch(t){let e=this.exceptionFiltersCache.get(n[i]);e||(e=this.exceptionsFilter.create(n,n[i],s),this.exceptionFiltersCache.set(n[i],e));const r=new p.ExecutionContextHost([l,c,u]);e.next(t,r)}}}getContextId(t,e){const r=h.ContextIdFactory.getByRequest(t);if(!t[_.REQUEST_CONTEXT_ID]){Object.defineProperty(t,_.REQUEST_CONTEXT_ID,{value:r,enumerable:!1,writable:!1,configurable:!1});const s=e?r.payload:t;this.container.registerRequestProvider(s,r)}return r}copyMetadataToCallback(t,e){for(const r of Reflect.getMetadataKeys(t))Reflect.defineMetadata(r,Reflect.getMetadata(r,t),e)}}e.RouterExplorer=A},82633:(t,e,r)=>{"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.RouterModule=e.targetModulesByContainer=e.ROUTES=void 0;const i=r(491),n=r(76301),o=r(36861),a=r(92889),l=r(60163),c=r(13568);e.ROUTES=Symbol("ROUTES"),e.targetModulesByContainer=new WeakMap;let u=s=class{constructor(t,e){this.modulesContainer=t,this.routes=e,this.routes=this.deepCloneRoutes(e),this.initialize()}static register(t){return{module:s,providers:[{provide:e.ROUTES,useValue:t}]}}deepCloneRoutes(t){return t.map((t=>"function"==typeof t?t:t.children?{...t,children:this.deepCloneRoutes(t.children)}:{...t}))}initialize(){(0,c.flattenRoutePaths)(this.routes).forEach((t=>{const e=(0,a.normalizePath)(t.path);this.registerModulePathMetadata(t.module,e),this.updateTargetModulesCache(t.module)}))}registerModulePathMetadata(t,e){Reflect.defineMetadata(o.MODULE_PATH+this.modulesContainer.applicationId,e,t)}updateTargetModulesCache(t){let r;e.targetModulesByContainer.has(this.modulesContainer)?r=e.targetModulesByContainer.get(this.modulesContainer):(r=new WeakSet,e.targetModulesByContainer.set(this.modulesContainer,r));const s=Array.from(this.modulesContainer.values()).find((e=>e?.metatype===t));s&&r.add(s)}};e.RouterModule=u,e.RouterModule=u=s=i.__decorate([(0,n.Module)({}),i.__param(1,(0,n.Inject)(e.ROUTES)),i.__metadata("design:paramtypes",[l.ModulesContainer,Array])],u)},44601:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouterProxy=void 0;const s=r(68809);e.RouterProxy=class{createProxy(t,e){return async(r,i,n)=>{try{await t(r,i,n)}catch(t){const o=new s.ExecutionContextHost([r,i,n]);return e.next(t,o),i}}}createExceptionLayerProxy(t,e){return async(r,i,n,o)=>{try{await t(r,i,n,o)}catch(t){const r=new s.ExecutionContextHost([i,n,o]);return e.next(t,r),n}}}}},36525:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RouterResponseController=void 0;const s=r(76301),i=r(92889),n=r(18948),o=r(3343),a=r(83244);class l{constructor(t){this.applicationRef=t,this.logger=new s.Logger(l.name)}async apply(t,e,r){return this.applicationRef.reply(e,t,r)}async redirect(t,e,r){const i=await this.transformToResult(t),n=i&&i.statusCode?i.statusCode:r.statusCode?r.statusCode:s.HttpStatus.FOUND,o=i&&i.url?i.url:r.url;this.applicationRef.redirect(e,n,o)}async render(t,e,r){const s=await this.transformToResult(t);return this.applicationRef.render(e,r,s)}async transformToResult(t){return(0,n.isObservable)(t)?(0,n.lastValueFrom)(t):t}getStatusByMethod(t){return t===s.RequestMethod.POST?s.HttpStatus.CREATED:s.HttpStatus.OK}setHeaders(t,e){e.forEach((({name:e,value:r})=>this.applicationRef.setHeader(t,e,"function"==typeof r?r():r)))}setStatus(t,e){this.applicationRef.status(t,e)}sse(t,e,r,s){if(e.writableEnded)return;this.assertObservable(t);const l=new a.SseStream(r);l.pipe(e,s);const c=t.pipe((0,o.map)((t=>(0,i.isObject)(t)?t:{data:t})),(0,o.concatMap)((t=>new Promise((e=>l.writeMessage(t,(()=>e())))))),(0,o.catchError)((t=>{const e=t instanceof Error?t.message:t;return l.writeMessage({type:"error",data:e},(t=>{t&&this.logger.error(t)})),n.EMPTY}))).subscribe({complete:()=>{e.end()}});r.on("close",(()=>{c.unsubscribe(),l.writableEnded||l.end()}))}assertObservable(t){if(!(0,n.isObservable)(t))throw new ReferenceError("You must return an Observable stream to use Server-Sent Events (SSE).")}}e.RouterResponseController=l},56267:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RoutesResolver=void 0;const s=r(76301),i=r(36861),n=r(4380),o=r(56002),a=r(9058),l=r(86996),c=r(44281),u=r(3066),h=r(44601);class p{constructor(t,e,r,s){this.container=t,this.applicationConfig=e,this.injector=r,this.logger=new n.Logger(p.name,{timestamp:!0}),this.routerProxy=new h.RouterProxy;const i=t.getHttpAdapterRef();this.routerExceptionsFilter=new c.RouterExceptionFilters(t,e,i),this.routePathFactory=new l.RoutePathFactory(this.applicationConfig);const o=new a.MetadataScanner;this.routerExplorer=new u.RouterExplorer(o,this.container,this.injector,this.routerProxy,this.routerExceptionsFilter,this.applicationConfig,this.routePathFactory,s)}resolve(t,e){this.container.getModules().forEach((({controllers:r,metatype:s},i)=>{const n=this.getModulePathMetadata(s);this.registerRouters(r,i,e,n,t)}))}registerRouters(t,e,r,s,i){t.forEach((t=>{const{metatype:n}=t,a=this.getHostMetadata(n),l=this.routerExplorer.extractRouterPath(n),c=this.getVersionMetadata(n),u=n.name;l.forEach((n=>{const l=this.routePathFactory.create({ctrlPath:n,modulePath:s,globalPrefix:r});c?l.forEach((t=>{const e=(0,o.VERSIONED_CONTROLLER_MAPPING_MESSAGE)(u,t,c);this.logger.log(e)})):l.forEach((t=>{const e=(0,o.CONTROLLER_MAPPING_MESSAGE)(u,t);this.logger.log(e)}));const h=this.applicationConfig.getVersioning(),p={ctrlPath:n,modulePath:s,globalPrefix:r,controllerVersion:c,versioningOptions:h};this.routerExplorer.explore(t,e,i,a,p)}))}))}registerNotFoundHandler(){const t=this.container.getHttpAdapterRef(),e=(e,r)=>{const i=t.getRequestMethod(e),n=t.getRequestUrl(e);throw new s.NotFoundException(`Cannot ${i} ${n}`)},r=this.routerExceptionsFilter.create({},e,void 0),i=this.routerProxy.createProxy(e,r);t.setNotFoundHandler&&t.setNotFoundHandler(i,this.applicationConfig.getGlobalPrefix())}registerExceptionHandler(){const t=(t,e,r,s)=>{throw this.mapExternalException(t)},e=this.routerExceptionsFilter.create({},t,void 0),r=this.routerProxy.createExceptionLayerProxy(t,e),s=this.container.getHttpAdapterRef();s.setErrorHandler&&s.setErrorHandler(r,this.applicationConfig.getGlobalPrefix())}mapExternalException(t){return 1==(t instanceof SyntaxError||t instanceof URIError)?new s.BadRequestException(t.message):t}getModulePathMetadata(t){const e=this.container.getModules();return Reflect.getMetadata(i.MODULE_PATH+e.applicationId,t)??Reflect.getMetadata(i.MODULE_PATH,t)}getHostMetadata(t){return Reflect.getMetadata(i.HOST_METADATA,t)}getVersionMetadata(t){const e=this.applicationConfig.getVersioning();if(e)return Reflect.getMetadata(i.VERSION_METADATA,t)??e.defaultVersion}}e.RoutesResolver=p},83244:(t,e,r)=>{"use strict";var s=r(73656);Object.defineProperty(e,"__esModule",{value:!0}),e.SseStream=void 0;const i=r(92889),n=r(96704);function o(t){return(0,i.isObject)(t)?o(JSON.stringify(t)):t.split(/\r\n|\r|\n/).map((t=>`data: ${t}\n`)).join("")}class a extends n.Transform{constructor(t){super({objectMode:!0}),this.lastEventId=null,t&&t.socket&&(t.socket.setKeepAlive(!0),t.socket.setNoDelay(!0),t.socket.setTimeout(0))}pipe(t,e){return t.writeHead&&(t.writeHead(200,{...e?.additionalHeaders,"Content-Type":"text/event-stream",Connection:"keep-alive","Cache-Control":"private, no-cache, no-store, must-revalidate, max-age=0, no-transform",Pragma:"no-cache",Expire:"0","X-Accel-Buffering":"no"}),t.flushHeaders()),t.write("\n"),super.pipe(t,e)}_transform(t,e,r){let s=t.type?`event: ${t.type}\n`:"";s+=t.id?`id: ${t.id}\n`:"",s+=t.retry?`retry: ${t.retry}\n`:"",s+=t.data?o(t.data):"",s+="\n",this.push(s),r()}writeMessage(t,e){t.id||(this.lastEventId++,t.id=this.lastEventId.toString()),this.write(t,"utf-8")?s.nextTick(e):this.once("drain",e)}}e.SseStream=a},76001:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRouteExcluded=e.isRequestMethodAll=void 0;const s=r(76301),i=r(92889);e.isRequestMethodAll=t=>s.RequestMethod.ALL===t||-1===t,e.isRouteExcluded=function(t,r,s){return t.some((t=>!(!(0,e.isRequestMethodAll)(t.requestMethod)&&t.requestMethod!==s)&&t.pathRegex.exec((0,i.addLeadingSlash)(r))))}},22681:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.flattenRoutePaths=void 0;const s=r(92889);e.flattenRoutePaths=function t(e){const r=[];return e.forEach((e=>{if(e.module&&e.path&&r.push({module:e.module,path:e.path}),e.children){const i=e.children;i.forEach((t=>{!(0,s.isString)(t)&&t.path?t.path=(0,s.normalizePath)((0,s.normalizePath)(e.path)+(0,s.normalizePath)(t.path)):r.push({path:e.path,module:t})})),r.push(...t(i))}})),r}},13568:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(491);s.__exportStar(r(76001),e),s.__exportStar(r(22681),e)},11470:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DependenciesScanner=void 0;const s=r(36861),i=r(21680),n=r(92889),o=r(73073),a=r(63192),l=r(48875),c=r(54079),u=r(5272),h=r(12634),p=r(75823),d=r(150),f=r(44701),m=r(19290);e.DependenciesScanner=class{constructor(t,e,r,s=new a.ApplicationConfig){this.container=t,this.metadataScanner=e,this.graphInspector=r,this.applicationConfig=s,this.applicationProvidersApplyMap=[]}async scan(t,e){await this.registerCoreModule(e?.overrides),await this.scanForModules({moduleDefinition:t,overrides:e?.overrides}),await this.scanModulesForDependencies(),this.calculateModulesDistance(),this.addScopedEnhancersMetadata(),this.container.bindGlobalScope()}async scanForModules({moduleDefinition:t,lazy:e,scope:r=[],ctxRegistry:i=[],overrides:n=[]}){const{moduleRef:o,inserted:a}=await this.insertOrOverrideModule(t,n,r)??{};t=(t=this.getOverrideModuleByModule(t,n)?.newModule??t)instanceof Promise?await t:t,i.push(t),this.isForwardReference(t)&&(t=t.forwardRef());const l=this.isDynamicModule(t)?[...this.reflectMetadata(s.MODULE_METADATA.IMPORTS,t.module),...t.imports||[]]:this.reflectMetadata(s.MODULE_METADATA.IMPORTS,t);let c=[];for(const[s,o]of l.entries()){if(void 0===o)throw new p.UndefinedModuleException(t,s,r);if(!o)throw new h.InvalidModuleException(t,s,r);if(i.includes(o))continue;const a=await this.scanForModules({moduleDefinition:o,scope:[].concat(r,t),ctxRegistry:i,overrides:n,lazy:e});c=c.concat(a)}return o?(e&&a&&this.container.bindGlobalsToImports(o),[o].concat(c)):c}async insertModule(t,e){const r=this.isForwardReference(t)?t.forwardRef():t;if(this.isInjectable(r)||this.isController(r)||this.isExceptionFilter(r))throw new u.InvalidClassModuleException(t,e);return this.container.addModule(r,e)}async scanModulesForDependencies(t=this.container.getModules()){for(const[e,{metatype:r}]of t)await this.reflectImports(r,e,r.name),this.reflectProviders(r,e),this.reflectControllers(r,e),this.reflectExports(r,e)}async reflectImports(t,e,r){const i=[...this.reflectMetadata(s.MODULE_METADATA.IMPORTS,t),...this.container.getDynamicMetadataByToken(e,s.MODULE_METADATA.IMPORTS)];for(const t of i)await this.insertImport(t,e,r)}reflectProviders(t,e){[...this.reflectMetadata(s.MODULE_METADATA.PROVIDERS,t),...this.container.getDynamicMetadataByToken(e,s.MODULE_METADATA.PROVIDERS)].forEach((t=>{this.insertProvider(t,e),this.reflectDynamicMetadata(t,e)}))}reflectControllers(t,e){[...this.reflectMetadata(s.MODULE_METADATA.CONTROLLERS,t),...this.container.getDynamicMetadataByToken(e,s.MODULE_METADATA.CONTROLLERS)].forEach((t=>{this.insertController(t,e),this.reflectDynamicMetadata(t,e)}))}reflectDynamicMetadata(t,e){t&&t.prototype&&(this.reflectInjectables(t,e,s.GUARDS_METADATA),this.reflectInjectables(t,e,s.INTERCEPTORS_METADATA),this.reflectInjectables(t,e,s.EXCEPTION_FILTERS_METADATA),this.reflectInjectables(t,e,s.PIPES_METADATA),this.reflectParamInjectables(t,e,s.ROUTE_ARGS_METADATA))}reflectExports(t,e){[...this.reflectMetadata(s.MODULE_METADATA.EXPORTS,t),...this.container.getDynamicMetadataByToken(e,s.MODULE_METADATA.EXPORTS)].forEach((t=>this.insertExportedProvider(t,e)))}reflectInjectables(t,e,r){const i=this.reflectMetadata(r,t),n=this.metadataScanner.getAllMethodNames(t.prototype).reduce(((e,s)=>{const i=this.reflectKeyMetadata(t,r,s);return i&&e.push(i),e}),[]);i.forEach((i=>this.insertInjectable(i,e,t,s.ENHANCER_KEY_TO_SUBTYPE_MAP[r]))),n.forEach((i=>{i.metadata.forEach((n=>this.insertInjectable(n,e,t,s.ENHANCER_KEY_TO_SUBTYPE_MAP[r],i.methodKey)))}))}reflectParamInjectables(t,e,r){this.metadataScanner.getAllMethodNames(t.prototype).forEach((s=>{const i=Reflect.getMetadata(r,t,s);i&&Object.values(i).map((t=>t.pipes)).flat(1).forEach((r=>this.insertInjectable(r,e,t,"pipe",s)))}))}reflectKeyMetadata(t,e,r){let s=t.prototype;do{const t=Reflect.getOwnPropertyDescriptor(s,r);if(!t)continue;const i=Reflect.getMetadata(e,t.value);if(!i)return;return{methodKey:r,metadata:i}}while((s=Reflect.getPrototypeOf(s))&&s!==Object.prototype&&s)}calculateModulesDistance(){const t=this.container.getModules().values();t.next();const e=[],r=(t,s=1)=>{t&&!e.includes(t)&&(e.push(t),t.imports.forEach((t=>{t&&(s>t.distance&&(t.distance=s),r(t,s+1))})))},s=t.next().value;r(s)}async insertImport(t,e,r){if((0,n.isUndefined)(t))throw new c.CircularDependencyException(r);if(this.isForwardReference(t))return this.container.addImport(t.forwardRef(),e);await this.container.addImport(t,e)}isCustomProvider(t){return t&&!(0,n.isNil)(t.provide)}insertProvider(t,e){if(!this.isCustomProvider(t))return this.container.addProvider(t,e);const r=this.getApplyProvidersMap(),s=Object.keys(r),i=t.provide;if(!s.includes(i))return this.container.addProvider(t,e);const o=m.UuidFactory.get(i.toString()),a=`${i} (UUID: ${o})`;let c=t.scope;(0,n.isNil)(c)&&t.useClass&&(c=(0,d.getClassScope)(t.useClass)),this.applicationProvidersApplyMap.push({type:i,moduleKey:e,providerKey:a,scope:c});const u={...t,provide:a,scope:c},h=l.ENHANCER_TOKEN_TO_SUBTYPE_MAP[i],p=u;if(this.isRequestOrTransient(p.scope))return this.container.addInjectable(u,e,h);this.container.addProvider(u,e,h)}insertInjectable(t,e,r,s,i){if((0,n.isFunction)(t)){const n=this.container.addInjectable(t,e,s,r);return this.graphInspector.insertEnhancerMetadataCache({moduleToken:e,classRef:r,enhancerInstanceWrapper:n,targetNodeId:n.id,subtype:s,methodKey:i}),n}this.graphInspector.insertEnhancerMetadataCache({moduleToken:e,classRef:r,enhancerRef:t,methodKey:i,subtype:s})}insertExportedProvider(t,e){const r=this.isForwardReference(t)?t.forwardRef():t;this.container.addExportedProvider(r,e)}insertController(t,e){this.container.addController(t,e)}insertOrOverrideModule(t,e,r){const s=this.getOverrideModuleByModule(t,e);return void 0!==s?this.overrideModule(t,s.newModule,r):this.insertModule(t,r)}getOverrideModuleByModule(t,e){return this.isForwardReference(t)?e.find((e=>e.moduleToReplace===t.forwardRef()||e.moduleToReplace.forwardRef?.()===t.forwardRef())):e.find((e=>e.moduleToReplace===t))}async overrideModule(t,e,r){return this.container.replaceModule(this.isForwardReference(t)?t.forwardRef():t,this.isForwardReference(e)?e.forwardRef():e,r)}reflectMetadata(t,e){return Reflect.getMetadata(t,e)||[]}async registerCoreModule(t){const e=f.InternalCoreModuleFactory.create(this.container,this,this.container.getModuleCompiler(),this.container.getHttpAdapterHostRef(),this.graphInspector,t),[r]=await this.scanForModules({moduleDefinition:e,overrides:t});this.container.registerCoreModuleRef(r)}addScopedEnhancersMetadata(){(0,o.iterate)(this.applicationProvidersApplyMap).filter((t=>this.isRequestOrTransient(t.scope))).forEach((({moduleKey:t,providerKey:e})=>{const r=this.container.getModules(),{injectables:s}=r.get(t),i=s.get(e),n=r.values();(0,o.iterate)(n).map((t=>Array.from(t.controllers.values()).concat(t.entryProviders))).flatten().forEach((t=>t.addEnhancerMetadata(i)))}))}applyApplicationProviders(){const t=this.getApplyProvidersMap(),e=this.getApplyRequestProvidersMap(),r=(t,e,r)=>this.container.getModules().get(t)[r].get(e);this.applicationProvidersApplyMap.forEach((({moduleKey:s,providerKey:i,type:n,scope:o})=>{let a;if(this.isRequestOrTransient(o))return a=r(s,i,"injectables"),this.graphInspector.insertAttachedEnhancer(a),e[n](a);a=r(s,i,"providers"),this.graphInspector.insertAttachedEnhancer(a),t[n](a.instance)}))}getApplyProvidersMap(){return{[l.APP_INTERCEPTOR]:t=>this.applicationConfig.addGlobalInterceptor(t),[l.APP_PIPE]:t=>this.applicationConfig.addGlobalPipe(t),[l.APP_GUARD]:t=>this.applicationConfig.addGlobalGuard(t),[l.APP_FILTER]:t=>this.applicationConfig.addGlobalFilter(t)}}getApplyRequestProvidersMap(){return{[l.APP_INTERCEPTOR]:t=>this.applicationConfig.addGlobalRequestInterceptor(t),[l.APP_PIPE]:t=>this.applicationConfig.addGlobalRequestPipe(t),[l.APP_GUARD]:t=>this.applicationConfig.addGlobalRequestGuard(t),[l.APP_FILTER]:t=>this.applicationConfig.addGlobalRequestFilter(t)}}isDynamicModule(t){return t&&!!t.module}isInjectable(t){return!!Reflect.getMetadata(s.INJECTABLE_WATERMARK,t)}isController(t){return!!Reflect.getMetadata(s.CONTROLLER_WATERMARK,t)}isExceptionFilter(t){return!!Reflect.getMetadata(s.CATCH_WATERMARK,t)}isForwardReference(t){return t&&!!t.forwardRef}isRequestOrTransient(t){return t===i.Scope.REQUEST||t===i.Scope.TRANSIENT}}},67784:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(491).__exportStar(r(75955),e)},75955:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Reflector=void 0;const s=r(76301),i=r(92889),n=r(1797);e.Reflector=class{static createDecorator(t={}){const e=t.key??(0,n.uid)(21),r=r=>(i,n,o)=>{const a=t.transform?t.transform(r):r;(0,s.SetMetadata)(e,a??{})(i,n,o)};return r.KEY=e,r}get(t,e){const r=t.KEY??t;return Reflect.getMetadata(r,e)}getAll(t,e){return(e||[]).map((e=>this.get(t,e)))}getAllAndMerge(t,e){const r=this.getAll(t,e).filter((t=>void 0!==t));return(0,i.isEmpty)(r)?r:r.reduce(((t,e)=>Array.isArray(t)?t.concat(e):(0,i.isObject)(t)&&(0,i.isObject)(e)?{...t,...e}:[t,e]))}getAllAndOverride(t,e){for(const r of e){const e=this.get(t,r);if(void 0!==e)return e}}}},6312:(t,e,r)=>{"use strict";function s(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function i(t){return t instanceof s(t).Element||t instanceof Element}function n(t){return t instanceof s(t).HTMLElement||t instanceof HTMLElement}function o(t){return"undefined"!=typeof ShadowRoot&&(t instanceof s(t).ShadowRoot||t instanceof ShadowRoot)}r.d(e,{fi:()=>pt});var a=Math.max,l=Math.min,c=Math.round;function u(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function h(){return!/^((?!chrome|android).)*safari/i.test(u())}function p(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var o=t.getBoundingClientRect(),a=1,l=1;e&&n(t)&&(a=t.offsetWidth>0&&c(o.width)/t.offsetWidth||1,l=t.offsetHeight>0&&c(o.height)/t.offsetHeight||1);var u=(i(t)?s(t):window).visualViewport,p=!h()&&r,d=(o.left+(p&&u?u.offsetLeft:0))/a,f=(o.top+(p&&u?u.offsetTop:0))/l,m=o.width/a,g=o.height/l;return{width:m,height:g,top:f,right:d+m,bottom:f+g,left:d,x:d,y:f}}function d(t){var e=s(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function f(t){return t?(t.nodeName||"").toLowerCase():null}function m(t){return((i(t)?t.ownerDocument:t.document)||window.document).documentElement}function g(t){return p(m(t)).left+d(t).scrollLeft}function y(t){return s(t).getComputedStyle(t)}function v(t){var e=y(t),r=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+s)}function _(t,e,r){void 0===r&&(r=!1);var i,o,a=n(e),l=n(e)&&function(t){var e=t.getBoundingClientRect(),r=c(e.width)/t.offsetWidth||1,s=c(e.height)/t.offsetHeight||1;return 1!==r||1!==s}(e),u=m(e),h=p(t,l,r),y={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(a||!a&&!r)&&(("body"!==f(e)||v(u))&&(y=(i=e)!==s(i)&&n(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:d(i)),n(e)?((_=p(e,!0)).x+=e.clientLeft,_.y+=e.clientTop):u&&(_.x=g(u))),{x:h.left+y.scrollLeft-_.x,y:h.top+y.scrollTop-_.y,width:h.width,height:h.height}}function E(t){var e=p(t),r=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:s}}function b(t){return"html"===f(t)?t:t.assignedSlot||t.parentNode||(o(t)?t.host:null)||m(t)}function A(t){return["html","body","#document"].indexOf(f(t))>=0?t.ownerDocument.body:n(t)&&v(t)?t:A(b(t))}function x(t,e){var r;void 0===e&&(e=[]);var i=A(t),n=i===(null==(r=t.ownerDocument)?void 0:r.body),o=s(i),a=n?[o].concat(o.visualViewport||[],v(i)?i:[]):i,l=e.concat(a);return n?l:l.concat(x(b(a)))}function S(t){return["table","td","th"].indexOf(f(t))>=0}function T(t){return n(t)&&"fixed"!==y(t).position?t.offsetParent:null}function M(t){for(var e=s(t),r=T(t);r&&S(r)&&"static"===y(r).position;)r=T(r);return r&&("html"===f(r)||"body"===f(r)&&"static"===y(r).position)?e:r||function(t){var e=/firefox/i.test(u());if(/Trident/i.test(u())&&n(t)&&"fixed"===y(t).position)return null;var r=b(t);for(o(r)&&(r=r.host);n(r)&&["html","body"].indexOf(f(r))<0;){var s=y(r);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return r;r=r.parentNode}return null}(t)||e}var P="top",C="bottom",w="right",O="left",I="auto",R=[P,C,w,O],k="start",D="end",F="clippingParents",N="viewport",L="popper",j="reference",B=R.reduce((function(t,e){return t.concat([e+"-"+k,e+"-"+D])}),[]),U=[].concat(R,[I]).reduce((function(t,e){return t.concat([e,e+"-"+k,e+"-"+D])}),[]),V=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(t){var e=new Map,r=new Set,s=[];function i(t){r.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!r.has(t)){var s=e.get(t);s&&i(s)}})),s.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){r.has(t.name)||i(t)})),s}var G={placement:"bottom",modifiers:[],strategy:"absolute"};function q(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function z(t){void 0===t&&(t={});var e=t,r=e.defaultModifiers,s=void 0===r?[]:r,n=e.defaultOptions,o=void 0===n?G:n;return function(t,e,r){void 0===r&&(r=o);var n,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},G,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],u=!1,h={state:l,setOptions:function(r){var n="function"==typeof r?r(l.options):r;p(),l.options=Object.assign({},o,l.options,n),l.scrollParents={reference:i(t)?x(t):t.contextElement?x(t.contextElement):[],popper:x(e)};var a,u,d=function(t){var e=H(t);return V.reduce((function(t,r){return t.concat(e.filter((function(t){return t.phase===r})))}),[])}((a=[].concat(s,l.options.modifiers),u=a.reduce((function(t,e){var r=t[e.name];return t[e.name]=r?Object.assign({},r,e,{options:Object.assign({},r.options,e.options),data:Object.assign({},r.data,e.data)}):e,t}),{}),Object.keys(u).map((function(t){return u[t]}))));return l.orderedModifiers=d.filter((function(t){return t.enabled})),l.orderedModifiers.forEach((function(t){var e=t.name,r=t.options,s=void 0===r?{}:r,i=t.effect;if("function"==typeof i){var n=i({state:l,name:e,instance:h,options:s});c.push(n||function(){})}})),h.update()},forceUpdate:function(){if(!u){var t=l.elements,e=t.reference,r=t.popper;if(q(e,r)){l.rects={reference:_(e,M(r),"fixed"===l.options.strategy),popper:E(r)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(t){return l.modifiersData[t.name]=Object.assign({},t.data)}));for(var s=0;s<l.orderedModifiers.length;s++)if(!0!==l.reset){var i=l.orderedModifiers[s],n=i.fn,o=i.options,a=void 0===o?{}:o,c=i.name;"function"==typeof n&&(l=n({state:l,options:a,name:c,instance:h})||l)}else l.reset=!1,s=-1}}},update:(n=function(){return new Promise((function(t){h.forceUpdate(),t(l)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(n())}))}))),a}),destroy:function(){p(),u=!0}};if(!q(t,e))return h;function p(){c.forEach((function(t){return t()})),c=[]}return h.setOptions(r).then((function(t){!u&&r.onFirstUpdate&&r.onFirstUpdate(t)})),h}}var K={passive:!0};function W(t){return t.split("-")[0]}function $(t){return t.split("-")[1]}function Y(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Z(t){var e,r=t.reference,s=t.element,i=t.placement,n=i?W(i):null,o=i?$(i):null,a=r.x+r.width/2-s.width/2,l=r.y+r.height/2-s.height/2;switch(n){case P:e={x:a,y:r.y-s.height};break;case C:e={x:a,y:r.y+r.height};break;case w:e={x:r.x+r.width,y:l};break;case O:e={x:r.x-s.width,y:l};break;default:e={x:r.x,y:r.y}}var c=n?Y(n):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case k:e[c]=e[c]-(r[u]/2-s[u]/2);break;case D:e[c]=e[c]+(r[u]/2-s[u]/2)}}return e}var X={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q(t){var e,r=t.popper,i=t.popperRect,n=t.placement,o=t.variation,a=t.offsets,l=t.position,u=t.gpuAcceleration,h=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=a.x,g=void 0===f?0:f,v=a.y,_=void 0===v?0:v,E="function"==typeof p?p({x:g,y:_}):{x:g,y:_};g=E.x,_=E.y;var b=a.hasOwnProperty("x"),A=a.hasOwnProperty("y"),x=O,S=P,T=window;if(h){var I=M(r),R="clientHeight",k="clientWidth";I===s(r)&&"static"!==y(I=m(r)).position&&"absolute"===l&&(R="scrollHeight",k="scrollWidth"),(n===P||(n===O||n===w)&&o===D)&&(S=C,_-=(d&&I===T&&T.visualViewport?T.visualViewport.height:I[R])-i.height,_*=u?1:-1),n!==O&&(n!==P&&n!==C||o!==D)||(x=w,g-=(d&&I===T&&T.visualViewport?T.visualViewport.width:I[k])-i.width,g*=u?1:-1)}var F,N=Object.assign({position:l},h&&X),L=!0===p?function(t,e){var r=t.x,s=t.y,i=e.devicePixelRatio||1;return{x:c(r*i)/i||0,y:c(s*i)/i||0}}({x:g,y:_},s(r)):{x:g,y:_};return g=L.x,_=L.y,u?Object.assign({},N,((F={})[S]=A?"0":"",F[x]=b?"0":"",F.transform=(T.devicePixelRatio||1)<=1?"translate("+g+"px, "+_+"px)":"translate3d("+g+"px, "+_+"px, 0)",F)):Object.assign({},N,((e={})[S]=A?_+"px":"",e[x]=b?g+"px":"",e.transform="",e))}var J={left:"right",right:"left",bottom:"top",top:"bottom"};function tt(t){return t.replace(/left|right|bottom|top/g,(function(t){return J[t]}))}var et={start:"end",end:"start"};function rt(t){return t.replace(/start|end/g,(function(t){return et[t]}))}function st(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&o(r)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function it(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function nt(t,e,r){return e===N?it(function(t,e){var r=s(t),i=m(t),n=r.visualViewport,o=i.clientWidth,a=i.clientHeight,l=0,c=0;if(n){o=n.width,a=n.height;var u=h();(u||!u&&"fixed"===e)&&(l=n.offsetLeft,c=n.offsetTop)}return{width:o,height:a,x:l+g(t),y:c}}(t,r)):i(e)?function(t,e){var r=p(t,!1,"fixed"===e);return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}(e,r):it(function(t){var e,r=m(t),s=d(t),i=null==(e=t.ownerDocument)?void 0:e.body,n=a(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=a(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-s.scrollLeft+g(t),c=-s.scrollTop;return"rtl"===y(i||r).direction&&(l+=a(r.clientWidth,i?i.clientWidth:0)-n),{width:n,height:o,x:l,y:c}}(m(t)))}function ot(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function at(t,e){return e.reduce((function(e,r){return e[r]=t,e}),{})}function lt(t,e){void 0===e&&(e={});var r=e,s=r.placement,o=void 0===s?t.placement:s,c=r.strategy,u=void 0===c?t.strategy:c,h=r.boundary,d=void 0===h?F:h,g=r.rootBoundary,v=void 0===g?N:g,_=r.elementContext,E=void 0===_?L:_,A=r.altBoundary,S=void 0!==A&&A,T=r.padding,O=void 0===T?0:T,I=ot("number"!=typeof O?O:at(O,R)),k=E===L?j:L,D=t.rects.popper,B=t.elements[S?k:E],U=function(t,e,r,s){var o="clippingParents"===e?function(t){var e=x(b(t)),r=["absolute","fixed"].indexOf(y(t).position)>=0&&n(t)?M(t):t;return i(r)?e.filter((function(t){return i(t)&&st(t,r)&&"body"!==f(t)})):[]}(t):[].concat(e),c=[].concat(o,[r]),u=c[0],h=c.reduce((function(e,r){var i=nt(t,r,s);return e.top=a(i.top,e.top),e.right=l(i.right,e.right),e.bottom=l(i.bottom,e.bottom),e.left=a(i.left,e.left),e}),nt(t,u,s));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}(i(B)?B:B.contextElement||m(t.elements.popper),d,v,u),V=p(t.elements.reference),H=Z({reference:V,element:D,strategy:"absolute",placement:o}),G=it(Object.assign({},D,H)),q=E===L?G:V,z={top:U.top-q.top+I.top,bottom:q.bottom-U.bottom+I.bottom,left:U.left-q.left+I.left,right:q.right-U.right+I.right},K=t.modifiersData.offset;if(E===L&&K){var W=K[o];Object.keys(z).forEach((function(t){var e=[w,C].indexOf(t)>=0?1:-1,r=[P,C].indexOf(t)>=0?"y":"x";z[t]+=W[r]*e}))}return z}function ct(t,e,r){return a(t,l(e,r))}function ut(t,e,r){return void 0===r&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function ht(t){return[P,w,C,O].some((function(e){return t[e]>=0}))}var pt=z({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,r=t.instance,i=t.options,n=i.scroll,o=void 0===n||n,a=i.resize,l=void 0===a||a,c=s(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach((function(t){t.addEventListener("scroll",r.update,K)})),l&&c.addEventListener("resize",r.update,K),function(){o&&u.forEach((function(t){t.removeEventListener("scroll",r.update,K)})),l&&c.removeEventListener("resize",r.update,K)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,r=t.name;e.modifiersData[r]=Z({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,r=t.options,s=r.gpuAcceleration,i=void 0===s||s,n=r.adaptive,o=void 0===n||n,a=r.roundOffsets,l=void 0===a||a,c={placement:W(e.placement),variation:$(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Q(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Q(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var r=e.styles[t]||{},s=e.attributes[t]||{},i=e.elements[t];n(i)&&f(i)&&(Object.assign(i.style,r),Object.keys(s).forEach((function(t){var e=s[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach((function(t){var s=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:r[t]).reduce((function(t,e){return t[e]="",t}),{});n(s)&&f(s)&&(Object.assign(s.style,o),Object.keys(i).forEach((function(t){s.removeAttribute(t)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,r=t.options,s=t.name,i=r.offset,n=void 0===i?[0,0]:i,o=U.reduce((function(t,r){return t[r]=function(t,e,r){var s=W(t),i=[O,P].indexOf(s)>=0?-1:1,n="function"==typeof r?r(Object.assign({},e,{placement:t})):r,o=n[0],a=n[1];return o=o||0,a=(a||0)*i,[O,w].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}(r,e.rects,n),t}),{}),a=o[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[s]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var i=r.mainAxis,n=void 0===i||i,o=r.altAxis,a=void 0===o||o,l=r.fallbackPlacements,c=r.padding,u=r.boundary,h=r.rootBoundary,p=r.altBoundary,d=r.flipVariations,f=void 0===d||d,m=r.allowedAutoPlacements,g=e.options.placement,y=W(g),v=l||(y!==g&&f?function(t){if(W(t)===I)return[];var e=tt(t);return[rt(t),e,rt(e)]}(g):[tt(g)]),_=[g].concat(v).reduce((function(t,r){return t.concat(W(r)===I?function(t,e){void 0===e&&(e={});var r=e,s=r.placement,i=r.boundary,n=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?U:l,u=$(s),h=u?a?B:B.filter((function(t){return $(t)===u})):R,p=h.filter((function(t){return c.indexOf(t)>=0}));0===p.length&&(p=h);var d=p.reduce((function(e,r){return e[r]=lt(t,{placement:r,boundary:i,rootBoundary:n,padding:o})[W(r)],e}),{});return Object.keys(d).sort((function(t,e){return d[t]-d[e]}))}(e,{placement:r,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:m}):r)}),[]),E=e.rects.reference,b=e.rects.popper,A=new Map,x=!0,S=_[0],T=0;T<_.length;T++){var M=_[T],D=W(M),F=$(M)===k,N=[P,C].indexOf(D)>=0,L=N?"width":"height",j=lt(e,{placement:M,boundary:u,rootBoundary:h,altBoundary:p,padding:c}),V=N?F?w:O:F?C:P;E[L]>b[L]&&(V=tt(V));var H=tt(V),G=[];if(n&&G.push(j[D]<=0),a&&G.push(j[V]<=0,j[H]<=0),G.every((function(t){return t}))){S=M,x=!1;break}A.set(M,G)}if(x)for(var q=function(t){var e=_.find((function(e){var r=A.get(e);if(r)return r.slice(0,t).every((function(t){return t}))}));if(e)return S=e,"break"},z=f?3:1;z>0&&"break"!==q(z);z--);e.placement!==S&&(e.modifiersData[s]._skip=!0,e.placement=S,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,s=t.name,i=r.mainAxis,n=void 0===i||i,o=r.altAxis,c=void 0!==o&&o,u=r.boundary,h=r.rootBoundary,p=r.altBoundary,d=r.padding,f=r.tether,m=void 0===f||f,g=r.tetherOffset,y=void 0===g?0:g,v=lt(e,{boundary:u,rootBoundary:h,padding:d,altBoundary:p}),_=W(e.placement),b=$(e.placement),A=!b,x=Y(_),S="x"===x?"y":"x",T=e.modifiersData.popperOffsets,I=e.rects.reference,R=e.rects.popper,D="function"==typeof y?y(Object.assign({},e.rects,{placement:e.placement})):y,F="number"==typeof D?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(T){if(n){var j,B="y"===x?P:O,U="y"===x?C:w,V="y"===x?"height":"width",H=T[x],G=H+v[B],q=H-v[U],z=m?-R[V]/2:0,K=b===k?I[V]:R[V],Z=b===k?-R[V]:-I[V],X=e.elements.arrow,Q=m&&X?E(X):{width:0,height:0},J=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tt=J[B],et=J[U],rt=ct(0,I[V],Q[V]),st=A?I[V]/2-z-rt-tt-F.mainAxis:K-rt-tt-F.mainAxis,it=A?-I[V]/2+z+rt+et+F.mainAxis:Z+rt+et+F.mainAxis,nt=e.elements.arrow&&M(e.elements.arrow),ot=nt?"y"===x?nt.clientTop||0:nt.clientLeft||0:0,at=null!=(j=null==N?void 0:N[x])?j:0,ut=H+it-at,ht=ct(m?l(G,H+st-at-ot):G,H,m?a(q,ut):q);T[x]=ht,L[x]=ht-H}if(c){var pt,dt="x"===x?P:O,ft="x"===x?C:w,mt=T[S],gt="y"===S?"height":"width",yt=mt+v[dt],vt=mt-v[ft],_t=-1!==[P,O].indexOf(_),Et=null!=(pt=null==N?void 0:N[S])?pt:0,bt=_t?yt:mt-I[gt]-R[gt]-Et+F.altAxis,At=_t?mt+I[gt]+R[gt]-Et-F.altAxis:vt,xt=m&&_t?function(t,e,r){var s=ct(t,e,r);return s>r?r:s}(bt,mt,At):ct(m?bt:yt,mt,m?At:vt);T[S]=xt,L[S]=xt-mt}e.modifiersData[s]=L}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,r=t.state,s=t.name,i=t.options,n=r.elements.arrow,o=r.modifiersData.popperOffsets,a=W(r.placement),l=Y(a),c=[O,w].indexOf(a)>=0?"height":"width";if(n&&o){var u=function(t,e){return ot("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:at(t,R))}(i.padding,r),h=E(n),p="y"===l?P:O,d="y"===l?C:w,f=r.rects.reference[c]+r.rects.reference[l]-o[l]-r.rects.popper[c],m=o[l]-r.rects.reference[l],g=M(n),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=f/2-m/2,_=u[p],b=y-h[c]-u[d],A=y/2-h[c]/2+v,x=ct(_,A,b),S=l;r.modifiersData[s]=((e={})[S]=x,e.centerOffset=x-A,e)}},effect:function(t){var e=t.state,r=t.options.element,s=void 0===r?"[data-popper-arrow]":r;null!=s&&("string"!=typeof s||(s=e.elements.popper.querySelector(s)))&&st(e.elements.popper,s)&&(e.elements.arrow=s)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,r=t.name,s=e.rects.reference,i=e.rects.popper,n=e.modifiersData.preventOverflow,o=lt(e,{elementContext:"reference"}),a=lt(e,{altBoundary:!0}),l=ut(o,s),c=ut(a,i,n),u=ht(l),h=ht(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]})},98158:(t,e,r)=>{"use strict";var s=r(86653)("%Object.getOwnPropertyDescriptor%",!0);if(s)try{s([],"length")}catch(t){s=null}t.exports=s},57877:t=>{"use strict";var e={foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof r)}},72770:(t,e,r)=>{"use strict";var s="undefined"!=typeof Symbol&&Symbol,i=r(69578);t.exports=function(){return"function"==typeof s&&"function"==typeof Symbol&&"symbol"==typeof s("foo")&&"symbol"==typeof Symbol("bar")&&i()}},69578:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var s=Object.getOwnPropertySymbols(t);if(1!==s.length||s[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},73342:(t,e,r)=>{"use strict";var s=r(69578);t.exports=function(){return s()&&!!Symbol.toStringTag}},22786:(t,e,r)=>{"use strict";var s=r(22698);t.exports=s.call(Function.call,Object.prototype.hasOwnProperty)},62585:(t,e,r)=>{"use strict";var s=r(21607).Buffer,i=r(13114).Transform;function n(t){i.call(this),this._block=s.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(67483)(n,i),n.prototype._transform=function(t,e,r){var s=null;try{this.update(t,e)}catch(t){s=t}r(s)},n.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},n.prototype.update=function(t,e){if(function(t,e){if(!s.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer")}(t),this._finalized)throw new Error("Digest already called");s.isBuffer(t)||(t=s.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)r[n++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},n.prototype._update=function(){throw new Error("_update is not implemented")},n.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},n.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=n},45370:(t,e,r)=>{var s=e;s.utils=r(28634),s.common=r(65855),s.sha=r(74745),s.ripemd=r(49333),s.hmac=r(11447),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},65855:(t,e,r)=>{"use strict";var s=r(28634),i=r(53);function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=n,n.prototype.update=function(t,e){if(t=s.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=s.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},n.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},n.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,s=new Array(r+this.padLength);s[0]=128;for(var i=1;i<r;i++)s[i]=0;if(t<<=3,"big"===this.endian){for(var n=8;n<this.padLength;n++)s[i++]=0;s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=t>>>24&255,s[i++]=t>>>16&255,s[i++]=t>>>8&255,s[i++]=255&t}else for(s[i++]=255&t,s[i++]=t>>>8&255,s[i++]=t>>>16&255,s[i++]=t>>>24&255,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,n=8;n<this.padLength;n++)s[i++]=0;return s}},11447:(t,e,r)=>{"use strict";var s=r(28634),i=r(53);function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(e,r))}t.exports=n,n.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},n.prototype.update=function(t,e){return this.inner.update(t,e),this},n.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},49333:(t,e,r)=>{"use strict";var s=r(28634),i=r(65855),n=s.rotl32,o=s.sum32,a=s.sum32_3,l=s.sum32_4,c=i.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,r,s){return t<=15?e^r^s:t<=31?e&r|~e&s:t<=47?(e|~r)^s:t<=63?e&s|r&~s:e^(r|~s)}function p(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}s.inherits(u,c),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(t,e){for(var r=this.h[0],s=this.h[1],i=this.h[2],c=this.h[3],u=this.h[4],v=r,_=s,E=i,b=c,A=u,x=0;x<80;x++){var S=o(n(l(r,h(x,s,i,c),t[f[x]+e],p(x)),g[x]),u);r=u,u=c,c=n(i,10),i=s,s=S,S=o(n(l(v,h(79-x,_,E,b),t[m[x]+e],d(x)),y[x]),A),v=A,A=b,b=n(E,10),E=_,_=S}S=a(this.h[1],i,b),this.h[1]=a(this.h[2],c,A),this.h[2]=a(this.h[3],u,v),this.h[3]=a(this.h[4],r,_),this.h[4]=a(this.h[0],s,E),this.h[0]=S},u.prototype._digest=function(t){return"hex"===t?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},74745:(t,e,r)=>{"use strict";e.sha1=r(68051),e.sha224=r(78585),e.sha256=r(60066),e.sha384=r(41547),e.sha512=r(40729)},68051:(t,e,r)=>{"use strict";var s=r(28634),i=r(65855),n=r(64545),o=s.rotl32,a=s.sum32,l=s.sum32_5,c=n.ft_1,u=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(p,u),t.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(t,e){for(var r=this.W,s=0;s<16;s++)r[s]=t[e+s];for(;s<r.length;s++)r[s]=o(r[s-3]^r[s-8]^r[s-14]^r[s-16],1);var i=this.h[0],n=this.h[1],u=this.h[2],p=this.h[3],d=this.h[4];for(s=0;s<r.length;s++){var f=~~(s/20),m=l(o(i,5),c(f,n,u,p),d,r[s],h[f]);d=p,p=u,u=o(n,30),n=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],n),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],p),this.h[4]=a(this.h[4],d)},p.prototype._digest=function(t){return"hex"===t?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},78585:(t,e,r)=>{"use strict";var s=r(28634),i=r(60066);function n(){if(!(this instanceof n))return new n;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(n,i),t.exports=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(t){return"hex"===t?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},60066:(t,e,r)=>{"use strict";var s=r(28634),i=r(65855),n=r(64545),o=r(53),a=s.sum32,l=s.sum32_4,c=s.sum32_5,u=n.ch32,h=n.maj32,p=n.s0_256,d=n.s1_256,f=n.g0_256,m=n.g1_256,g=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}s.inherits(v,g),t.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(t,e){for(var r=this.W,s=0;s<16;s++)r[s]=t[e+s];for(;s<r.length;s++)r[s]=l(m(r[s-2]),r[s-7],f(r[s-15]),r[s-16]);var i=this.h[0],n=this.h[1],g=this.h[2],y=this.h[3],v=this.h[4],_=this.h[5],E=this.h[6],b=this.h[7];for(o(this.k.length===r.length),s=0;s<r.length;s++){var A=c(b,d(v),u(v,_,E),this.k[s],r[s]),x=a(p(i),h(i,n,g));b=E,E=_,_=v,v=a(y,A),y=g,g=n,n=i,i=a(A,x)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],n),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],_),this.h[6]=a(this.h[6],E),this.h[7]=a(this.h[7],b)},v.prototype._digest=function(t){return"hex"===t?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},41547:(t,e,r)=>{"use strict";var s=r(28634),i=r(40729);function n(){if(!(this instanceof n))return new n;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(n,i),t.exports=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(t){return"hex"===t?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},40729:(t,e,r)=>{"use strict";var s=r(28634),i=r(65855),n=r(53),o=s.rotr64_hi,a=s.rotr64_lo,l=s.shr64_hi,c=s.shr64_lo,u=s.sum64,h=s.sum64_hi,p=s.sum64_lo,d=s.sum64_4_hi,f=s.sum64_4_lo,m=s.sum64_5_hi,g=s.sum64_5_lo,y=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function E(t,e,r,s,i){var n=t&r^~t&i;return n<0&&(n+=4294967296),n}function b(t,e,r,s,i,n){var o=e&s^~e&n;return o<0&&(o+=4294967296),o}function A(t,e,r,s,i){var n=t&r^t&i^r&i;return n<0&&(n+=4294967296),n}function x(t,e,r,s,i,n){var o=e&s^e&n^s&n;return o<0&&(o+=4294967296),o}function S(t,e){var r=o(t,e,28)^o(e,t,2)^o(e,t,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function M(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function P(t,e){var r=o(t,e,1)^o(t,e,8)^l(t,e,7);return r<0&&(r+=4294967296),r}function C(t,e){var r=a(t,e,1)^a(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function w(t,e){var r=a(t,e,19)^a(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}s.inherits(_,y),t.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(t,e){for(var r=this.W,s=0;s<32;s++)r[s]=t[e+s];for(;s<r.length;s+=2){var i=(g=r[s-4],y=r[s-3],v=void 0,(v=o(g,y,19)^o(y,g,29)^l(g,y,6))<0&&(v+=4294967296),v),n=w(r[s-4],r[s-3]),a=r[s-14],c=r[s-13],u=P(r[s-30],r[s-29]),h=C(r[s-30],r[s-29]),p=r[s-32],m=r[s-31];r[s]=d(i,n,a,c,u,h,p,m),r[s+1]=f(i,n,a,c,u,h,p,m)}var g,y,v},_.prototype._update=function(t,e){this._prepareBlock(t,e);var r,s,i,a=this.W,l=this.h[0],c=this.h[1],d=this.h[2],f=this.h[3],y=this.h[4],v=this.h[5],_=this.h[6],P=this.h[7],C=this.h[8],w=this.h[9],O=this.h[10],I=this.h[11],R=this.h[12],k=this.h[13],D=this.h[14],F=this.h[15];n(this.k.length===a.length);for(var N=0;N<a.length;N+=2){var L=D,j=F,B=(i=void 0,(i=o(r=C,s=w,14)^o(r,s,18)^o(s,r,9))<0&&(i+=4294967296),i),U=M(C,w),V=E(C,0,O,0,R),H=b(0,w,0,I,0,k),G=this.k[N],q=this.k[N+1],z=a[N],K=a[N+1],W=m(L,j,B,U,V,H,G,q,z,K),$=g(L,j,B,U,V,H,G,q,z,K);L=S(l,c),j=T(l,c),B=A(l,0,d,0,y),U=x(0,c,0,f,0,v);var Y=h(L,j,B,U),Z=p(L,j,B,U);D=R,F=k,R=O,k=I,O=C,I=w,C=h(_,P,W,$),w=p(P,P,W,$),_=y,P=v,y=d,v=f,d=l,f=c,l=h(W,$,Y,Z),c=p(W,$,Y,Z)}u(this.h,0,l,c),u(this.h,2,d,f),u(this.h,4,y,v),u(this.h,6,_,P),u(this.h,8,C,w),u(this.h,10,O,I),u(this.h,12,R,k),u(this.h,14,D,F)},_.prototype._digest=function(t){return"hex"===t?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},64545:(t,e,r)=>{"use strict";var s=r(28634).rotr32;function i(t,e,r){return t&e^~t&r}function n(t,e,r){return t&e^t&r^e&r}function o(t,e,r){return t^e^r}e.ft_1=function(t,e,r,s){return 0===t?i(e,r,s):1===t||3===t?o(e,r,s):2===t?n(e,r,s):void 0},e.ch32=i,e.maj32=n,e.p32=o,e.s0_256=function(t){return s(t,2)^s(t,13)^s(t,22)},e.s1_256=function(t){return s(t,6)^s(t,11)^s(t,25)},e.g0_256=function(t){return s(t,7)^s(t,18)^t>>>3},e.g1_256=function(t){return s(t,17)^s(t,19)^t>>>10}},28634:(t,e,r)=>{"use strict";var s=r(53),i=r(67483);function n(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function l(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var s=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[s++]=o:o<2048?(r[s++]=o>>6|192,r[s++]=63&o|128):n(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[s++]=o>>18|240,r[s++]=o>>12&63|128,r[s++]=o>>6&63|128,r[s++]=63&o|128):(r[s++]=o>>12|224,r[s++]=o>>6&63|128,r[s++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r="",s=0;s<t.length;s++){var i=t[s];"little"===e&&(i=o(i)),r+=l(i.toString(16))}return r},e.zero2=a,e.zero8=l,e.join32=function(t,e,r,i){var n=r-e;s(n%4==0);for(var o=new Array(n/4),a=0,l=e;a<o.length;a++,l+=4){var c;c="big"===i?t[l]<<24|t[l+1]<<16|t[l+2]<<8|t[l+3]:t[l+3]<<24|t[l+2]<<16|t[l+1]<<8|t[l],o[a]=c>>>0}return o},e.split32=function(t,e){for(var r=new Array(4*t.length),s=0,i=0;s<t.length;s++,i+=4){var n=t[s];"big"===e?(r[i]=n>>>24,r[i+1]=n>>>16&255,r[i+2]=n>>>8&255,r[i+3]=255&n):(r[i+3]=n>>>24,r[i+2]=n>>>16&255,r[i+1]=n>>>8&255,r[i]=255&n)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,s){return t+e+r+s>>>0},e.sum32_5=function(t,e,r,s,i){return t+e+r+s+i>>>0},e.sum64=function(t,e,r,s){var i=t[e],n=s+t[e+1]>>>0,o=(n<s?1:0)+r+i;t[e]=o>>>0,t[e+1]=n},e.sum64_hi=function(t,e,r,s){return(e+s>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,s){return e+s>>>0},e.sum64_4_hi=function(t,e,r,s,i,n,o,a){var l=0,c=e;return l+=(c=c+s>>>0)<e?1:0,l+=(c=c+n>>>0)<n?1:0,t+r+i+o+(l+=(c=c+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,s,i,n,o,a){return e+s+n+a>>>0},e.sum64_5_hi=function(t,e,r,s,i,n,o,a,l,c){var u=0,h=e;return u+=(h=h+s>>>0)<e?1:0,u+=(h=h+n>>>0)<n?1:0,u+=(h=h+a>>>0)<a?1:0,t+r+i+o+l+(u+=(h=h+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,r,s,i,n,o,a,l,c){return e+s+n+a+c>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},53250:(t,e,r)=>{"use strict";var s=r(45370),i=r(73721),n=r(53);function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),s=i.toArray(t.pers,t.persEnc||"hex");n(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,s)}t.exports=o,o.prototype._init=function(t,e,r){var s=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,r,s){"string"!=typeof e&&(s=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,s),n(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},o.prototype.generate=function(t,e,r,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(s=r,r=e,e=null),r&&(r=i.toArray(r,s||"hex"),this._update(r));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var o=n.slice(0,t);return this._update(r),this._reseed++,i.encode(o,e)}},10063:(t,e,r)=>{"use strict";var s=r(99415),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};
/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */function l(t){return s.isMemo(t)?o:a[t.$$typeof]||i}a[s.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[s.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,r,s){if("string"!=typeof r){if(f){var i=d(r);i&&i!==f&&t(e,i,s)}var o=u(r);h&&(o=o.concat(h(r)));for(var a=l(e),m=l(r),g=0;g<o.length;++g){var y=o[g];if(!(n[y]||s&&s[y]||m&&m[y]||a&&a[y])){var v=p(r,y);try{c(e,y,v)}catch(t){}}}}return e}},36521:(t,e,r)=>{var s=r(15313).Buffer,i=r(18422),n=r(79664).Transform;r(67483)(d,n),t.exports=d;var o="<".charCodeAt(0),a=">".charCodeAt(0),l="/".charCodeAt(0),c='"'.charCodeAt(0),u="'".charCodeAt(0),h="=".charCodeAt(0),p={endScript:i("</script"),endStyle:i("</style"),endTitle:i("</title"),comment:i("\x3c!--"),endComment:i("--\x3e"),cdata:i("<![CDATA["),endCdata:i("]]>")};function d(){if(!(this instanceof d))return new d;n.call(this),this._readableState.objectMode=!0,this.state="text",this.tagState=null,this.quoteState=null,this.raw=null,this.buffers=[],this._last=[]}function f(t,e){if(t.length<e.length)return!1;for(var r=t.length-1,s=e.length-1;r>=0&&s>=0;r--,s--)if(m(t[r])!==m(e[s]))return!1;return!0}function m(t){return t>=65&&t<=90?t+32:t}function g(t){return 32===t||9===t||10===t||12===t||13===t}d.prototype._transform=function(t,e,r){var i=0,n=0;for(this._prev&&(t=s.concat([this._prev,t]),i=this._prev.length-1,n=this._offset,this._prev=null,this._offset=0);i<t.length;i++){var d=t[i];if(this._last.push(d),this._last.length>9&&this._last.shift(),this.raw){var m=this._testRaw(t,n,i);m&&(this.push(["text",m[0]]),this.raw===p.endComment||this.raw===p.endCdata?(this.state="text",this.buffers=[],this.push(["close",m[1]])):(this.state="open",this.buffers=[m[1]]),this.raw=null,n=i+1)}else{if("text"===this.state&&d===o&&i===t.length-1)return this._prev=t,this._offset=n,r();if("text"!==this.state||d!==o||g(t[i+1]))if(1===this.tagState&&g(d))this.tagState=2;else if(2===this.tagState&&d===h)this.tagState=3;else if(3===this.tagState&&g(d));else if(3===this.tagState&&d!==a)this.tagState=4,this.quoteState=d===c?"double":d===u?"single":null;else if(4===this.tagState&&!this.quoteState&&g(d))this.tagState=2;else if(4===this.tagState&&"double"===this.quoteState&&d===c)this.quoteState=null,this.tagState=2;else if(4===this.tagState&&"single"===this.quoteState&&d===u)this.quoteState=null,this.tagState=2;else if("open"!==this.state||d!==a||this.quoteState)"open"===this.state&&f(this._last,p.comment)?(this.buffers.push(t.slice(n,i+1)),n=i+1,this.state="text",this.raw=p.endComment,this._pushState("open")):"open"===this.state&&f(this._last,p.cdata)&&(this.buffers.push(t.slice(n,i+1)),n=i+1,this.state="text",this.raw=p.endCdata,this._pushState("open"));else if(this.buffers.push(t.slice(n,i+1)),n=i+1,this.state="text",this.tagState=null,this._getChar(1)===l)this._pushState("close");else{var y=this._getTag();"script"===y&&(this.raw=p.endScript),"style"===y&&(this.raw=p.endStyle),"title"===y&&(this.raw=p.endTitle),this._pushState("open")}else i>0&&i-n>0&&this.buffers.push(t.slice(n,i)),n=i,this.state="open",this.tagState=1,this._pushState("text")}}n<t.length&&this.buffers.push(t.slice(n)),r()},d.prototype._flush=function(t){"text"===this.state&&this._pushState("text"),this.push(null),t()},d.prototype._pushState=function(t){if(0!==this.buffers.length){var e=s.concat(this.buffers);this.buffers=[],this.push([t,e])}},d.prototype._getChar=function(t){for(var e=0,r=0;r<this.buffers.length;r++){var s=this.buffers[r];if(e+s.length>t)return s[t-e];e+=s}},d.prototype._getTag=function(){for(var t=0,e="",r=0;r<this.buffers.length;r++){for(var s=this.buffers[r],i=0;i<s.length;i++)if(0!==t||0!==i){var n=String.fromCharCode(s[i]);if(/[^\w-!\[\]]/.test(n))return e.toLowerCase();e+=n}t+=s.length}},d.prototype._testRaw=function(t,e,r){var i=this.raw;if(f(this._last,i)){this.buffers.push(t.slice(e,r+1));var n=(t=s.concat(this.buffers)).length-i.length;return[t.slice(0,n),t.slice(n)]}}},47164:(t,e)=>{e.read=function(t,e,r,s,i){var n,o,a=8*i-s-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,p=r?-1:1,d=t[e+h];for(h+=p,n=d&(1<<-u)-1,d>>=-u,u+=a;u>0;n=256*n+t[e+h],h+=p,u-=8);for(o=n&(1<<-u)-1,n>>=-u,u+=s;u>0;o=256*o+t[e+h],h+=p,u-=8);if(0===n)n=1-c;else{if(n===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,s),n-=c}return(d?-1:1)*o*Math.pow(2,n-s)},e.write=function(t,e,r,s,i,n){var o,a,l,c=8*n-i-1,u=(1<<c)-1,h=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=s?0:n-1,f=s?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=f,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+d]=255&o,d+=f,o/=256,c-=8);t[r+d-f]|=128*m}},81363:t=>{var e=[].indexOf;t.exports=function(t,r){if(e)return t.indexOf(r);for(var s=0;s<t.length;++s)if(t[s]===r)return s;return-1}},67483:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},59462:(t,e,r)=>{"use strict";var s=r(73342)(),i=r(2864)("Object.prototype.toString"),n=function(t){return!(s&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},o=function(t){return!!n(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return n(arguments)}();n.isLegacyArguments=o,t.exports=a?n:o},32086:t=>{t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},49861:t=>{"use strict";var e,r,s=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,e)}catch(t){t!==r&&(i=null)}else i=null;var n=/^\s*class\b/,o=function(t){try{var e=s.call(t);return n.test(e)}catch(t){return!1}},a=function(t){try{return!o(t)&&(s.call(t),!0)}catch(t){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),h=function(){return!1};if("object"==typeof document){var p=document.all;l.call(p)===l.call(document.all)&&(h=function(t){if((u||!t)&&(void 0===t||"object"==typeof t))try{var e=l.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=i?function(t){if(h(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{i(t,null,e)}catch(t){if(t!==r)return!1}return!o(t)&&a(t)}:function(t){if(h(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(c)return a(t);if(o(t))return!1;var e=l.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&a(t)}},37136:(t,e,r)=>{"use strict";var s,i=Object.prototype.toString,n=Function.prototype.toString,o=/^\s*(?:function)?\*/,a=r(73342)(),l=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(o.test(n.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(t);if(!l)return!1;if(void 0===s){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();s=!!e&&l(e)}return l(t)===s}},7485:(t,e,r)=>{"use strict";var s=r(21792);t.exports=function(t){return!!s(t)}},58967:t=>{t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},23161:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},10869:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConcatIterator=class{constructor(t){this.toConcat=t}next(){if(0===this.toConcat.length)return{done:!0};const t=this.toConcat[0].next();return t.done?(this.toConcat.shift(),this.next()):t}}},84479:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FilterIterator=class{constructor(t,e){this.source=t,this.predicate=e}next(){let t;do{t=this.source.next()}while(!t.done&&!this.predicate(t.value));return t}}},43854:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(81316);e.FlattenIterator=class{constructor(t){this.outer=t}next(){if(this.inner){const t=this.inner.next();if(!t.done)return t;this.inner=void 0}const{value:t,done:e}=this.outer.next();return s.isIterable(t)?(this.inner=t[Symbol.iterator](),this.next()):{value:t,done:e}}}},73073:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(45871);e.iterate=s.iterate,e.zip=s.zip,e.default=s.iterate},45871:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(10869),i=r(84479),n=r(43854),o=r(67768),a=r(56304),l=r(81316),c=r(49243);class u{constructor(t){this.source=t}next(){return this.source.next()}[Symbol.iterator](){return this}map(t){return new u(new o.MapIterator(this.source,t))}filter(t){return new u(new i.FilterIterator(this.source,t))}concat(t){return new u(new s.ConcatIterator([this.source,l.toIterator(t)]))}take(t){return new u(new a.SliceIterator(this.source,0,t+1))}drop(t){return new u(new a.SliceIterator(this.source,t,1/0))}slice(t,e=1/0){return new u(new a.SliceIterator(this.source,t,e))}flatten(){return new u(new n.FlattenIterator(this.source))}reduce(t,e){let r;if(void 0===e){if(r=this.source.next(),r.done)throw new TypeError("Reduce of empty Iterator with no initial value");e=r.value}for(;r=this.source.next(),!r.done;)e=t(e,r.value);return e}find(t){let e;for(;;){if(e=this.source.next(),e.done)return;if(t(e.value))return e.value}}includes(t){let e;do{if(e=this.source.next(),!e.done&&e.value===t)return!0}while(!e.done);return!1}some(t){let e;do{if(e=this.source.next(),!e.done&&t(e.value))return!0}while(!e.done);return!1}every(t){let e;do{if(e=this.source.next(),!e.done&&!t(e.value))return!1}while(!e.done);return!0}forEach(t){let e;for(;e=this.source.next(),!e.done;)t(e.value)}join(t=","){let e,r="";for(;e=this.source.next(),!e.done;)r+=t+e.value;return r.substr(t.length)}toArray(){return Array.from(this)}toSet(){const t=new Set;for(;;){const{value:e,done:r}=this.next();if(r)return t;t.add(e)}}toMap(){return new Map(this)}}function h(t){return new u(l.toIterator(t))}e.IteratorWithOperators=u,e.iterate=h,e.zip=function(t,e){return new u(new c.ZipIterator(l.toIterator(t),l.toIterator(e)))},e.default=h},67768:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapIterator=class{constructor(t,e){this.source=t,this.iteratee=e}next(){const{value:t,done:e}=this.source.next();return{value:!e&&this.iteratee(t),done:e}}}},56304:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SliceIterator=class{constructor(t,e,r=1/0){this.source=t,this.start=e,this.end=r,this.i=0}next(){for(;this.i<this.start;){const t=this.source.next();if(t.done)return t;this.i++}return this.i++,this.i>=this.end?{done:!0}:this.source.next()}}},81316:(t,e)=>{"use strict";function r(t){return"object"==typeof t&&null!==t&&"function"==typeof t.next}function s(t){return"object"==typeof t&&null!==t&&"function"==typeof t[Symbol.iterator]}Object.defineProperty(e,"__esModule",{value:!0}),e.isIterator=r,e.isIterable=s,e.toIterator=function(t){if(r(t))return t;if(s(t))return t[Symbol.iterator]();throw new Error("Passed collection is neither an Iterator nor an Iterable")}},49243:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZipIterator=class{constructor(t,e){this.a=t,this.b=e}next(){const t=this.a.next();if(t.done)return{done:!0};const e=this.b.next();return e.done?{done:!0}:{value:[t.value,e.value],done:!1}}}},36008:t=>{
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var e,r,s=9007199254740991,i="[object Arguments]",n="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/,l=Object.prototype,c=l.hasOwnProperty,u=l.toString,h=l.propertyIsEnumerable,p=(e=Object.keys,r=Object,function(t){return e(r(t))}),d=Math.max,f=!h.call({valueOf:1},"valueOf");function m(t,e,r){var s=t[e];c.call(t,e)&&v(s,r)&&(void 0!==r||e in t)||(t[e]=r)}function g(t,e){return!!(e=e??s)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function y(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||l)}function v(t,e){return t===e||t!=t&&e!=e}var _=Array.isArray;function E(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}(t.length)&&!function(t){var e=b(t)?u.call(t):"";return e==n||e==o}(t)}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var A,x=(A=function(t,e){if(f||y(e)||E(e))!function(t,e,r,s){r||(r={});for(var i=-1,n=e.length;++i<n;){var o=e[i];m(r,o,t[o])}}(e,function(t){return E(t)?function(t,e){var r=_(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&E(t)}(t)&&c.call(t,"callee")&&(!h.call(t,"callee")||u.call(t)==i)}(t)?function(t,e){for(var r=-1,s=Array(t);++r<t;)s[r]=e(r);return s}(t.length,String):[],s=r.length,n=!!s;for(var o in t)!e&&!c.call(t,o)||n&&("length"==o||g(o,s))||r.push(o);return r}(t):function(t){if(!y(t))return p(t);var e=[];for(var r in Object(t))c.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}(e),t);else for(var r in e)c.call(e,r)&&m(t,r,e[r])},function(t,e){return e=d(void 0===e?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=d(r.length-e,0),n=Array(i);++s<i;)n[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=n,function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,o)}}((function(t,e){var r=-1,s=e.length,i=s>1?e[s-1]:void 0,n=s>2?e[2]:void 0;for(i=A.length>3&&"function"==typeof i?(s--,i):void 0,n&&function(t,e,r){if(!b(r))return!1;var s=typeof e;return!!("number"==s?E(r)&&g(e,r.length):"string"==s&&e in r)&&v(r[e],t)}(e[0],e[1],n)&&(i=s<3?void 0:i,s=1),t=Object(t);++r<s;){var o=e[r];o&&A(t,o)}return t})));t.exports=x},51899:(t,e,r)=>{
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var s=NaN,i="[object Symbol]",n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,h="object"==typeof self&&self&&self.Object===Object&&self,p=u||h||Function("return this")(),d=Object.prototype.toString,f=Math.max,m=Math.min,g=function(){return p.Date.now()};function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&d.call(t)==i}(t))return s;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var r=a.test(t);return r||l.test(t)?c(t.slice(2),r?2:8):o.test(t)?s:+t}t.exports=function(t,e,r){var s,i,n,o,a,l,c=0,u=!1,h=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var r=s,n=i;return s=i=void 0,c=e,o=t.apply(n,r)}function _(t){var r=t-l;return void 0===l||r>=e||r<0||h&&t-c>=n}function E(){var t=g();if(_(t))return b(t);a=setTimeout(E,function(t){var r=e-(t-l);return h?m(r,n-(t-c)):r}(t))}function b(t){return a=void 0,p&&s?d(t):(s=i=void 0,o)}function A(){var t=g(),r=_(t);if(s=arguments,i=this,l=t,r){if(void 0===a)return function(t){return c=t,a=setTimeout(E,e),u?d(t):o}(l);if(h)return a=setTimeout(E,e),d(l)}return void 0===a&&(a=setTimeout(E,e)),o}return e=v(e)||0,y(r)&&(u=!!r.leading,n=(h="maxWait"in r)?f(v(r.maxWait)||0,e):n,p="trailing"in r?!!r.trailing:p),A.cancel=function(){void 0!==a&&clearTimeout(a),c=0,s=l=i=a=void 0},A.flush=function(){return void 0===a?o:b(g())},A}},59918:t=>{
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var e,r,s=Function.prototype,i=Object.prototype,n=s.toString,o=i.hasOwnProperty,a=n.call(Object),l=i.toString,c=(e=Object.getPrototypeOf,r=Object,function(t){return e(r(t))});t.exports=function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=l.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t))return!1;var e=c(t);if(null===e)return!0;var r=o.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&n.call(r)==a}},98019:(t,e,r)=>{var s,i;"undefined"!=typeof navigator&&(i=window||{},void 0===(s=function(){return function(t){"use strict";var e,r="http://www.w3.org/2000/svg",s="",i=-999999,n=!0,o="",a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),l=Math.pow,c=Math.sqrt,u=Math.floor,h=(Math.max,Math.min),p={};(function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=e.length;for(t=0;t<r;t+=1)p[e[t]]=Math[e[t]]})(),p.random=Math.random,p.abs=function(t){if("object"==typeof t&&t.length){var e,r=k(t.length),s=t.length;for(e=0;e<s;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var d=150,f=Math.PI/180,m=.5519;function g(t){t&&Math.round}function y(t,e,r,s){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=s<0?-1:1}function v(t,e){this.type=t,this.direction=e<0?-1:1}function _(t,e,r,s){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=s<0?-1:1}function E(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function b(t,e){this.type=t,this.target=e}function A(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function x(t){this.type="configError",this.nativeError=t}g(!1);var S,T=(S=0,function(){return o+"__lottie_element_"+(S+=1)});function M(t,e,r){var s,i,n,o,a,l,c,u;switch(l=r*(1-e),c=r*(1-(a=6*t-(o=Math.floor(6*t)))*e),u=r*(1-(1-a)*e),o%6){case 0:s=r,i=u,n=l;break;case 1:s=c,i=r,n=l;break;case 2:s=l,i=r,n=u;break;case 3:s=l,i=c,n=r;break;case 4:s=u,i=l,n=r;break;case 5:s=r,i=l,n=c}return[s,i,n]}function P(t,e,r){var s,i=Math.max(t,e,r),n=Math.min(t,e,r),o=i-n,a=0===i?0:o/i,l=i/255;switch(i){case n:s=0;break;case t:s=e-r+o*(e<r?6:0),s/=6*o;break;case e:s=r-t+2*o,s/=6*o;break;case r:s=t-e+4*o,s/=6*o}return[s,a,l]}function C(t,e){var r=P(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),M(r[0],r[1],r[2])}function w(t,e){var r=P(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),M(r[0],r[1],r[2])}function O(t,e){var r=P(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),M(r[0],r[1],r[2])}!function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1===e.length?"0"+e:e}();function I(){}I.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t],s=0;s<r.length;s+=1)r[s](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,s=this._cbs[t].length;r<s;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,s-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var R=function(){function t(t,e){var r,s=0,i=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(s=0;s<e;s+=1)i.push(r);return i}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,r){return"float32"===e?new Float32Array(r):"int16"===e?new Int16Array(r):"uint8c"===e?new Uint8ClampedArray(r):t(e,r)}:t}();function k(t){return Array.apply(null,{length:t})}function D(t){return document.createElementNS(r,t)}function F(t){return document.createElement(t)}function N(){}N.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var L,j=(L={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return L[t]||""}),B={1:"butt",2:"round",3:"square"},U={1:"miter",2:"round",3:"bevel"},V=function(){var t=Math.cos,e=Math.sin,r=Math.tan,s=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function n(r){if(0===r)return this;var s=t(r),i=e(r);return this._t(s,-i,0,0,i,s,0,0,0,0,1,0,0,0,0,1)}function o(r){if(0===r)return this;var s=t(r),i=e(r);return this._t(1,0,0,0,0,s,-i,0,0,i,s,0,0,0,0,1)}function a(r){if(0===r)return this;var s=t(r),i=e(r);return this._t(s,0,i,0,0,1,0,0,-i,0,s,0,0,0,0,1)}function l(r){if(0===r)return this;var s=t(r),i=e(r);return this._t(s,-i,0,0,i,s,0,0,0,0,1,0,0,0,0,1)}function c(t,e){return this._t(1,e,t,1,0,0)}function u(t,e){return this.shear(r(t),r(e))}function h(s,i){var n=t(i),o=e(i);return this._t(n,o,0,0,-o,n,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(s),1,0,0,0,0,1,0,0,0,0,1)._t(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1)}function p(t,e,r){return r||0===r||(r=1),1===t&&1===e&&1===r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function d(t,e,r,s,i,n,o,a,l,c,u,h,p,d,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=s,this.props[4]=i,this.props[5]=n,this.props[6]=o,this.props[7]=a,this.props[8]=l,this.props[9]=c,this.props[10]=u,this.props[11]=h,this.props[12]=p,this.props[13]=d,this.props[14]=f,this.props[15]=m,this}function f(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function m(t,e,r,s,i,n,o,a,l,c,u,h,p,d,f,m){var g=this.props;if(1===t&&0===e&&0===r&&0===s&&0===i&&1===n&&0===o&&0===a&&0===l&&0===c&&1===u&&0===h)return g[12]=g[12]*t+g[15]*p,g[13]=g[13]*n+g[15]*d,g[14]=g[14]*u+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],v=g[1],_=g[2],E=g[3],b=g[4],A=g[5],x=g[6],S=g[7],T=g[8],M=g[9],P=g[10],C=g[11],w=g[12],O=g[13],I=g[14],R=g[15];return g[0]=y*t+v*i+_*l+E*p,g[1]=y*e+v*n+_*c+E*d,g[2]=y*r+v*o+_*u+E*f,g[3]=y*s+v*a+_*h+E*m,g[4]=b*t+A*i+x*l+S*p,g[5]=b*e+A*n+x*c+S*d,g[6]=b*r+A*o+x*u+S*f,g[7]=b*s+A*a+x*h+S*m,g[8]=T*t+M*i+P*l+C*p,g[9]=T*e+M*n+P*c+C*d,g[10]=T*r+M*o+P*u+C*f,g[11]=T*s+M*a+P*h+C*m,g[12]=w*t+O*i+I*l+R*p,g[13]=w*e+O*n+I*c+R*d,g[14]=w*r+O*o+I*u+R*f,g[15]=w*s+O*a+I*h+R*m,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function v(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function E(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function b(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function A(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function x(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function S(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,r=-this.props[1]/t,s=-this.props[4]/t,i=this.props[0]/t,n=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,a=new V;return a.props[0]=e,a.props[1]=r,a.props[4]=s,a.props[5]=i,a.props[12]=n,a.props[13]=o,a}function T(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function M(t){var e,r=t.length,s=[];for(e=0;e<r;e+=1)s[e]=T(t[e]);return s}function P(t,e,r){var s=R("float32",6);if(this.isIdentity())s[0]=t[0],s[1]=t[1],s[2]=e[0],s[3]=e[1],s[4]=r[0],s[5]=r[1];else{var i=this.props[0],n=this.props[1],o=this.props[4],a=this.props[5],l=this.props[12],c=this.props[13];s[0]=t[0]*i+t[1]*o+l,s[1]=t[0]*n+t[1]*a+c,s[2]=e[0]*i+e[1]*o+l,s[3]=e[0]*n+e[1]*a+c,s[4]=r[0]*i+r[1]*o+l,s[5]=r[0]*n+r[1]*a+c}return s}function C(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function w(t,e){if(this.isIdentity())return t+","+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+","+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function O(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=s(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function I(t){return t<1e-6&&t>0||t>-1e-6&&t<0?s(1e4*t)/1e4:t}function k(){var t=this.props;return"matrix("+I(t[0])+","+I(t[1])+","+I(t[4])+","+I(t[5])+","+I(t[12])+","+I(t[13])+")"}return function(){this.reset=i,this.rotate=n,this.rotateX=o,this.rotateY=a,this.rotateZ=l,this.skew=u,this.skewFromAxis=h,this.shear=c,this.scale=p,this.setTransform=d,this.translate=f,this.transform=m,this.applyToPoint=E,this.applyToX=b,this.applyToY=A,this.applyToZ=x,this.applyToPointArray=C,this.applyToTriplePoints=P,this.applyToPointStringified=w,this.toCSS=O,this.to2dCSS=k,this.clone=v,this.cloneFromProps=_,this.equals=y,this.inversePoints=M,this.inversePoint=T,this.getInverseMatrix=S,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=R("float32",16),this.reset()}}();
/*
 Copyright 2014 David Bau.

 Permission is hereby granted, free of charge, to any person obtaining
 a copy of this software and associated documentation files (the
 "Software"), to deal in the Software without restriction, including
 without limitation the rights to use, copy, modify, merge, publish,
 distribute, sublicense, and/or sell copies of the Software, and to
 permit persons to whom the Software is furnished to do so, subject to
 the following conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

 */
!function(t,e){var r,s=this,i=256,n=6,o="random",a=e.pow(i,n),l=e.pow(2,52),c=2*l,u=i-1;function h(t){var e,r=t.length,s=this,n=0,o=s.i=s.j=0,a=s.S=[];for(r||(t=[r++]);n<i;)a[n]=n++;for(n=0;n<i;n++)a[n]=a[o=u&o+t[n%r]+(e=a[n])],a[o]=e;s.g=function(t){for(var e,r=0,n=s.i,o=s.j,a=s.S;t--;)e=a[n=u&n+1],r=r*i+a[u&(a[n]=a[o=u&o+e])+(a[o]=e)];return s.i=n,s.j=o,r}}function p(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function d(t,e){var r,s=[],i=typeof t;if(e&&"object"==i)for(r in t)try{s.push(d(t[r],e-1))}catch(t){}return s.length?s:"string"==i?t:t+"\0"}function f(t,e){for(var r,s=t+"",i=0;i<s.length;)e[u&i]=u&(r^=19*e[u&i])+s.charCodeAt(i++);return m(e)}function m(t){return String.fromCharCode.apply(0,t)}e["seed"+o]=function(u,g,y){var v=[],_=f(d((g=!0===g?{entropy:!0}:g||{}).entropy?[u,m(t)]:null===u?function(){try{r;var e=new Uint8Array(i);return(s.crypto||s.msCrypto).getRandomValues(e),m(e)}catch(e){var n=s.navigator,o=n&&n.plugins;return[+new Date,s,o,s.screen,m(t)]}}():u,3),v),E=new h(v),b=function(){for(var t=E.g(n),e=a,r=0;t<l;)t=(t+r)*i,e*=i,r=E.g(1);for(;t>=c;)t/=2,e/=2,r>>>=1;return(t+r)/e};return b.int32=function(){return 0|E.g(4)},b.quick=function(){return E.g(4)/4294967296},b.double=b,f(m(E.S),t),(g.pass||y||function(t,r,s,i){return i&&(i.S&&p(i,E),t.state=function(){return p(E,{})}),s?(e[o]=t,r):t})(b,_,"global"in g?g.global:this==e,g.state)},f(e.random(),t)}([],p);var H=function(){var t={getBezierEasing:function(t,r,s,i,n){var o=n||("bez_"+t+"_"+r+"_"+s+"_"+i).replace(/\./g,"p");if(e[o])return e[o];var a=new d([t,r,s,i]);return e[o]=a,a}},e={};var r=4,s=1e-7,i=10,n=11,o=1/(n-1),a="function"==typeof Float32Array;function l(t,e){return 1-3*e+3*t}function c(t,e){return 3*e-6*t}function u(t){return 3*t}function h(t,e,r){return((l(e,r)*t+c(e,r))*t+u(e))*t}function p(t,e,r){return 3*l(e,r)*t*t+2*c(e,r)*t+u(e)}function d(t){this._p=t,this._mSampleValues=a?new Float32Array(n):new Array(n),this._precomputed=!1,this.get=this.get.bind(this)}return d.prototype={get:function(t){var e=this._p[0],r=this._p[1],s=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===r&&s===i?t:0===t?0:1===t?1:h(this._getTForX(t),r,i)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],s=this._p[3];this._precomputed=!0,t===e&&r===s||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<n;++r)this._mSampleValues[r]=h(r*o,t,e)},_getTForX:function(t){for(var e=this._p[0],a=this._p[2],l=this._mSampleValues,c=0,u=1,d=n-1;u!==d&&l[u]<=t;++u)c+=o;var f=c+(t-l[--u])/(l[u+1]-l[u])*o,m=p(f,e,a);return m>=.001?function(t,e,s,i){for(var n=0;n<r;++n){var o=p(e,s,i);if(0===o)return e;e-=(h(e,s,i)-t)/o}return e}(t,f,e,a):0===m?f:function(t,e,r,n,o){var a,l,c=0;do{(a=h(l=e+(r-e)/2,n,o)-t)>0?r=l:e=l}while(Math.abs(a)>s&&++c<i);return l}(t,c,c+o,e,a)}},t}();function G(t,e){var r,s,i=t.length;for(r=0;r<i;r+=1)for(var n in s=t[r].prototype)Object.prototype.hasOwnProperty.call(s,n)&&(e.prototype[n]=s[n])}!function(){for(var e=0,r=["ms","moz","webkit","o"],s=0;s<r.length&&!t.requestAnimationFrame;++s)t.requestAnimationFrame=t[r[s]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[r[s]+"CancelAnimationFrame"]||t[r[s]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){var r=(new Date).getTime(),s=Math.max(0,16-(r-e)),i=setTimeout((function(){t(r+s)}),s);return e=r+s,i}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}();var q=function(){var t=Math;function e(t,e,r,s,i,n){var o=t*s+e*i+r*n-i*s-n*t-r*e;return o>-.001&&o<.001}var r=function(t,e,r,s){var i,n,o,a,u,h,p=d,f=0,m=[],g=[],y=Mt.newElement();for(o=r.length,i=0;i<p;i+=1){for(u=i/(p-1),h=0,n=0;n<o;n+=1)a=l(1-u,3)*t[n]+3*l(1-u,2)*u*r[n]+3*(1-u)*l(u,2)*s[n]+l(u,3)*e[n],m[n]=a,null!==g[n]&&(h+=l(m[n]-g[n],2)),g[n]=m[n];h&&(f+=h=c(h)),y.percents[i]=u,y.lengths[i]=f}return y.addedLength=f,y};function s(t){this.segmentLength=0,this.points=new Array(t)}function i(t,e){this.partialLength=t,this.point=e}var n,o=(n={},function(t,r,o,a){var u=(t[0]+"_"+t[1]+"_"+r[0]+"_"+r[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!n[u]){var h,p,f,m,g,y,v,_=d,E=0,b=null;2===t.length&&(t[0]!==r[0]||t[1]!==r[1])&&e(t[0],t[1],r[0],r[1],t[0]+o[0],t[1]+o[1])&&e(t[0],t[1],r[0],r[1],r[0]+a[0],r[1]+a[1])&&(_=2);var A=new s(_);for(f=o.length,h=0;h<_;h+=1){for(v=k(f),g=h/(_-1),y=0,p=0;p<f;p+=1)m=l(1-g,3)*t[p]+3*l(1-g,2)*g*(t[p]+o[p])+3*(1-g)*l(g,2)*(r[p]+a[p])+l(g,3)*r[p],v[p]=m,null!==b&&(y+=l(v[p]-b[p],2));E+=y=c(y),A.points[h]=new i(y,v),b=v}A.segmentLength=E,n[u]=A}return n[u]});function a(t,e){var r=e.percents,s=e.lengths,i=r.length,n=u((i-1)*t),o=t*e.addedLength,a=0;if(n===i-1||0===n||o===s[n])return r[n];for(var l=s[n]>o?-1:1,c=!0;c;)if(s[n]<=o&&s[n+1]>o?(a=(o-s[n])/(s[n+1]-s[n]),c=!1):n+=l,n<0||n>=i-1){if(n===i-1)return r[n];c=!1}return r[n]+(r[n+1]-r[n])*a}var h=R("float32",8);return{getSegmentsLength:function(t){var e,s=Tt.newElement(),i=t.c,n=t.v,o=t.o,a=t.i,l=t._length,c=s.lengths,u=0;for(e=0;e<l-1;e+=1)c[e]=r(n[e],n[e+1],o[e],a[e+1]),u+=c[e].addedLength;return i&&l&&(c[e]=r(n[e],n[0],o[e],a[0]),u+=c[e].addedLength),s.totalLength=u,s},getNewSegment:function(e,r,s,i,n,o,l){n<0?n=0:n>1&&(n=1);var c,u=a(n,l),p=a(o=o>1?1:o,l),d=e.length,f=1-u,m=1-p,g=f*f*f,y=u*f*f*3,v=u*u*f*3,_=u*u*u,E=f*f*m,b=u*f*m+f*u*m+f*f*p,A=u*u*m+f*u*p+u*f*p,x=u*u*p,S=f*m*m,T=u*m*m+f*p*m+f*m*p,M=u*p*m+f*p*p+u*m*p,P=u*p*p,C=m*m*m,w=p*m*m+m*p*m+m*m*p,O=p*p*m+m*p*p+p*m*p,I=p*p*p;for(c=0;c<d;c+=1)h[4*c]=t.round(1e3*(g*e[c]+y*s[c]+v*i[c]+_*r[c]))/1e3,h[4*c+1]=t.round(1e3*(E*e[c]+b*s[c]+A*i[c]+x*r[c]))/1e3,h[4*c+2]=t.round(1e3*(S*e[c]+T*s[c]+M*i[c]+P*r[c]))/1e3,h[4*c+3]=t.round(1e3*(C*e[c]+w*s[c]+O*i[c]+I*r[c]))/1e3;return h},getPointInSegment:function(e,r,s,i,n,o){var l=a(n,o),c=1-l;return[t.round(1e3*(c*c*c*e[0]+(l*c*c+c*l*c+c*c*l)*s[0]+(l*l*c+c*l*l+l*c*l)*i[0]+l*l*l*r[0]))/1e3,t.round(1e3*(c*c*c*e[1]+(l*c*c+c*l*c+c*c*l)*s[1]+(l*l*c+c*l*l+l*c*l)*i[1]+l*l*l*r[1]))/1e3]},buildBezierData:o,pointOnLine2D:e,pointOnLine3D:function(r,s,i,n,o,a,l,c,u){if(0===i&&0===a&&0===u)return e(r,s,n,o,l,c);var h,p=t.sqrt(t.pow(n-r,2)+t.pow(o-s,2)+t.pow(a-i,2)),d=t.sqrt(t.pow(l-r,2)+t.pow(c-s,2)+t.pow(u-i,2)),f=t.sqrt(t.pow(l-n,2)+t.pow(c-o,2)+t.pow(u-a,2));return(h=p>d?p>f?p-d-f:f-d-p:f>d?f-d-p:d-p-f)>-1e-4&&h<1e-4}}}();var z=function(){function t(i,n,o){var a,l,c,u,h,p,d,f=i.length;for(l=0;l<f;l+=1)if("ks"in(a=i[l])&&!a.completed){if(a.completed=!0,a.tt&&(i[l-1].td=a.tt),a.hasMask){var m=a.masksProperties;for(u=m.length,c=0;c<u;c+=1)if(m[c].pt.k.i)s(m[c].pt.k);else for(p=m[c].pt.k.length,h=0;h<p;h+=1)m[c].pt.k[h].s&&s(m[c].pt.k[h].s[0]),m[c].pt.k[h].e&&s(m[c].pt.k[h].e[0])}0===a.ty?(a.layers=e(a.refId,n),t(a.layers,n,o)):4===a.ty?r(a.shapes):5===a.ty&&(0!==(d=a).t.a.length||"m"in d.t.p||(d.singleShape=!0))}}function e(t,e){for(var r=0,s=e.length;r<s;){if(e[r].id===t)return e[r].layers.__used?JSON.parse(JSON.stringify(e[r].layers)):(e[r].layers.__used=!0,e[r].layers);r+=1}return null}function r(t){var e,i,n;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)s(t[e].ks.k);else for(n=t[e].ks.k.length,i=0;i<n;i+=1)t[e].ks.k[i].s&&s(t[e].ks.k[i].s[0]),t[e].ks.k[i].e&&s(t[e].ks.k[i].e[0]);else"gr"===t[e].ty&&r(t[e].it)}function s(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&null))}var n,o=function(){var t=[4,4,14];function e(t){var e,r,s,i=t.length;for(e=0;e<i;e+=1)5===t[e].ty&&(r=t[e],s=void 0,s=r.t.d,r.t.d={k:[{s,t:0}]})}return function(r){if(i(t,r.v)&&(e(r.layers),r.assets)){var s,n=r.assets.length;for(s=0;s<n;s+=1)r.assets[s].layers&&e(r.assets[s].layers)}}}(),a=(n=[4,7,99],function(t){if(t.chars&&!i(n,t.v)){var e,r,o,a,l,c=t.chars.length;for(e=0;e<c;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(o=(l=t.chars[e].data.shapes[0].it).length,r=0;r<o;r+=1)(a=l[r].ks.k).__converted||(s(l[r].ks.k),a.__converted=!0)}}),l=function(){var t=[4,1,9];function e(t){var r,s,i,n=t.length;for(r=0;r<n;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(i=t[r].c.k.length,s=0;s<i;s+=1)t[r].c.k[s].s&&(t[r].c.k[s].s[0]/=255,t[r].c.k[s].s[1]/=255,t[r].c.k[s].s[2]/=255,t[r].c.k[s].s[3]/=255),t[r].c.k[s].e&&(t[r].c.k[s].e[0]/=255,t[r].c.k[s].e[1]/=255,t[r].c.k[s].e[2]/=255,t[r].c.k[s].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,s=t.length;for(r=0;r<s;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var s,n=e.assets.length;for(s=0;s<n;s+=1)e.assets[s].layers&&r(e.assets[s].layers)}}}(),c=function(){var t=[4,4,18];function e(t){var r,s,i;for(r=t.length-1;r>=0;r-=1)if("sh"===t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(i=t[r].ks.k.length,s=0;s<i;s+=1)t[r].ks.k[s].s&&(t[r].ks.k[s].s[0].c=t[r].closed),t[r].ks.k[s].e&&(t[r].ks.k[s].e[0].c=t[r].closed);else"gr"===t[r].ty&&e(t[r].it)}function r(t){var r,s,i,n,o,a,l=t.length;for(s=0;s<l;s+=1){if((r=t[s]).hasMask){var c=r.masksProperties;for(n=c.length,i=0;i<n;i+=1)if(c[i].pt.k.i)c[i].pt.k.c=c[i].cl;else for(a=c[i].pt.k.length,o=0;o<a;o+=1)c[i].pt.k[o].s&&(c[i].pt.k[o].s[0].c=c[i].cl),c[i].pt.k[o].e&&(c[i].pt.k[o].e[0].c=c[i].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var s,n=e.assets.length;for(s=0;s<n;s+=1)e.assets[s].layers&&r(e.assets[s].layers)}}}(),u={completeData:function(e,r){e.__complete||(l(e),o(e),a(e),c(e),t(e.layers,e.assets,r),e.__complete=!0)}};return u.checkColors=l,u.checkChars=a,u.checkShapes=c,u.completeLayers=t,u}();function K(t){for(var e=t.fStyle?t.fStyle.split(" "):[],r="normal",s="normal",i=e.length,n=0;n<i;n+=1)switch(e[n].toLowerCase()){case"italic":s="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:s,weight:t.fWeight||r}}var W=function(){var t=5e3,e={w:0,size:0,shapes:[]},r=[];r=r.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],i=[65039,8205];function n(t,e){var r=F("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=e;var s=F("span");s.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(s),document.body.appendChild(r);var i=s.offsetWidth;return s.style.fontFamily=function(t){var e,r=t.split(","),s=r.length,i=[];for(e=0;e<s;e+=1)"sans-serif"!==r[e]&&"monospace"!==r[e]&&i.push(r[e]);return i.join(",")}(t)+", "+e,{node:s,w:i,parent:r}}function o(t,e){var r=D("text");r.style.fontSize="100px";var s=K(e);return r.setAttribute("font-family",e.fFamily),r.setAttribute("font-style",s.style),r.setAttribute("font-weight",s.weight),r.textContent="1",e.fClass?(r.style.fontFamily="inherit",r.setAttribute("class",e.fClass)):r.style.fontFamily=e.fFamily,t.appendChild(r),F("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,r}var a=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return a.isModifier=function(t,e){var r=t.toString(16)+e.toString(16);return-1!==s.indexOf(r)},a.isZeroWidthJoiner=function(t,e){return e?t===i[0]&&e===i[1]:t===i[1]},a.isCombinedCharacter=function(t){return-1!==r.indexOf(t)},a.prototype={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var r,s,i=t.length,n=this.chars.length;for(e=0;e<i;e+=1){for(r=0,s=!1;r<n;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(s=!0),r+=1;s||(this.chars.push(t[e]),n+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var r,s=t.list,i=s.length,a=i;for(r=0;r<i;r+=1){var l,c,u=!0;if(s[r].loaded=!1,s[r].monoCase=n(s[r].fFamily,"monospace"),s[r].sansCase=n(s[r].fFamily,"sans-serif"),s[r].fPath){if("p"===s[r].fOrigin||3===s[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+s[r].fFamily+'"], style[f-origin="3"][f-family="'+s[r].fFamily+'"]')).length>0&&(u=!1),u){var h=F("style");h.setAttribute("f-forigin",s[r].fOrigin),h.setAttribute("f-origin",s[r].origin),h.setAttribute("f-family",s[r].fFamily),h.type="text/css",h.innerText="@font-face {font-family: "+s[r].fFamily+"; font-style: normal; src: url('"+s[r].fPath+"');}",e.appendChild(h)}}else if("g"===s[r].fOrigin||1===s[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(s[r].fPath)&&(u=!1);if(u){var p=F("link");p.setAttribute("f-forigin",s[r].fOrigin),p.setAttribute("f-origin",s[r].origin),p.type="text/css",p.rel="stylesheet",p.href=s[r].fPath,document.body.appendChild(p)}}else if("t"===s[r].fOrigin||2===s[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)s[r].fPath===l[c].src&&(u=!1);if(u){var d=F("link");d.setAttribute("f-forigin",s[r].fOrigin),d.setAttribute("f-origin",s[r].origin),d.setAttribute("rel","stylesheet"),d.setAttribute("href",s[r].fPath),e.appendChild(d)}}}else s[r].loaded=!0,a-=1;s[r].helper=o(e,s[r]),s[r].cache={},this.fonts.push(s[r])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,r,s){for(var i=0,n=this.chars.length;i<n;){if(this.chars[i].ch===t&&this.chars[i].style===r&&this.chars[i].fFamily===s)return this.chars[i];i+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,r,s)),e},getFontByName:function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,r){var s=this.getFontByName(e),i=t.charCodeAt(0);if(!s.cache[i+1]){var n=s.helper;if(" "===t){n.textContent="|"+t+"|";var o=n.getComputedTextLength();n.textContent="||";var a=n.getComputedTextLength();s.cache[i+1]=(o-a)/100}else n.textContent=t,s.cache[i+1]=n.getComputedTextLength()/100}return s.cache[i+1]*r},checkLoadedFonts:function(){var e,r,s,i=this.fonts.length,n=i;for(e=0;e<i;e+=1)this.fonts[e].loaded?n-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(r=this.fonts[e].monoCase.node,s=this.fonts[e].monoCase.w,r.offsetWidth!==s?(n-=1,this.fonts[e].loaded=!0):(r=this.fonts[e].sansCase.node,s=this.fonts[e].sansCase.w,r.offsetWidth!==s&&(n-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==n&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},a}(),$=function(){var t=i,e=Math.abs;function r(t,e){var r,i=this.offsetTime;"multidimensional"===this.propType&&(r=R("float32",this.pv.length));for(var n,o,a,l,c,u,h,p,d=e.lastIndex,m=d,g=this.keyframes.length-1,y=!0;y;){if(n=this.keyframes[m],o=this.keyframes[m+1],m===g-1&&t>=o.t-i){n.h&&(n=o),d=0;break}if(o.t-i>t){d=m;break}m<g-1?m+=1:(d=0,y=!1)}var v,_,E,b,A,x,S,T,M,P,C,w,O,I,k,D,F,N,L=o.t-i,j=n.t-i;if(n.to){n.bezierData||(n.bezierData=q.buildBezierData(n.s,o.s||n.e,n.to,n.ti));var B=n.bezierData;if(t>=L||t<j){var U=t>=L?B.points.length-1:0;for(l=B.points[U].point.length,a=0;a<l;a+=1)r[a]=B.points[U].point[a]}else{n.__fnct?p=n.__fnct:(p=H.getBezierEasing(n.o.x,n.o.y,n.i.x,n.i.y,n.n).get,n.__fnct=p),c=p((t-j)/(L-j));var V,G=B.segmentLength*c,z=e.lastFrame<t&&e._lastKeyframeIndex===m?e._lastAddedLength:0;for(h=e.lastFrame<t&&e._lastKeyframeIndex===m?e._lastPoint:0,y=!0,u=B.points.length;y;){if(z+=B.points[h].partialLength,0===G||0===c||h===B.points.length-1){for(l=B.points[h].point.length,a=0;a<l;a+=1)r[a]=B.points[h].point[a];break}if(G>=z&&G<z+B.points[h+1].partialLength){for(V=(G-z)/B.points[h+1].partialLength,l=B.points[h].point.length,a=0;a<l;a+=1)r[a]=B.points[h].point[a]+(B.points[h+1].point[a]-B.points[h].point[a])*V;break}h<u-1?h+=1:y=!1}e._lastPoint=h,e._lastAddedLength=z-B.points[h].partialLength,e._lastKeyframeIndex=m}}else{var K,W,$,Y,Z;if(g=n.s.length,v=o.s||n.e,this.sh&&1!==n.h)t>=L?(r[0]=v[0],r[1]=v[1],r[2]=v[2]):t<=j?(r[0]=n.s[0],r[1]=n.s[1],r[2]=n.s[2]):function(t,e){var r=e[0],s=e[1],i=e[2],n=e[3],o=Math.atan2(2*s*n-2*r*i,1-2*s*s-2*i*i),a=Math.asin(2*r*s+2*i*n),l=Math.atan2(2*r*n-2*s*i,1-2*r*r-2*i*i);t[0]=o/f,t[1]=a/f,t[2]=l/f}(r,(_=s(n.s),E=s(v),b=(t-j)/(L-j),P=[],C=_[0],w=_[1],O=_[2],I=_[3],k=E[0],D=E[1],F=E[2],N=E[3],(x=C*k+w*D+O*F+I*N)<0&&(x=-x,k=-k,D=-D,F=-F,N=-N),1-x>1e-6?(A=Math.acos(x),S=Math.sin(A),T=Math.sin((1-b)*A)/S,M=Math.sin(b*A)/S):(T=1-b,M=b),P[0]=T*C+M*k,P[1]=T*w+M*D,P[2]=T*O+M*F,P[3]=T*I+M*N,P));else for(m=0;m<g;m+=1)1!==n.h&&(t>=L?c=1:t<j?c=0:(n.o.x.constructor===Array?(n.__fnct||(n.__fnct=[]),n.__fnct[m]?p=n.__fnct[m]:(K=void 0===n.o.x[m]?n.o.x[0]:n.o.x[m],W=void 0===n.o.y[m]?n.o.y[0]:n.o.y[m],$=void 0===n.i.x[m]?n.i.x[0]:n.i.x[m],Y=void 0===n.i.y[m]?n.i.y[0]:n.i.y[m],p=H.getBezierEasing(K,W,$,Y).get,n.__fnct[m]=p)):n.__fnct?p=n.__fnct:(K=n.o.x,W=n.o.y,$=n.i.x,Y=n.i.y,p=H.getBezierEasing(K,W,$,Y).get,n.__fnct=p),c=p((t-j)/(L-j)))),v=o.s||n.e,Z=1===n.h?n.s[m]:n.s[m]+(v[m]-n.s[m])*c,"multidimensional"===this.propType?r[m]=Z:r=Z}return e.lastIndex=d,r}function s(t){var e=t[0]*f,r=t[1]*f,s=t[2]*f,i=Math.cos(e/2),n=Math.cos(r/2),o=Math.cos(s/2),a=Math.sin(e/2),l=Math.sin(r/2),c=Math.sin(s/2);return[a*l*o+i*n*c,a*n*o+i*l*c,i*l*o-a*n*c,i*n*o-a*l*c]}function n(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=s&&e>=s||this._caching.lastFrame<r&&e<r))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(e,this._caching);this.pv=i}return this._caching.lastFrame=e,this.pv}function o(t){var r;if("unidimensional"===this.propType)r=t*this.mult,e(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var s=0,i=this.v.length;s<i;)r=t[s]*this.mult,e(this.v[s]-r)>1e-5&&(this.v[s]=r,this._mdf=!0),s+=1}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function l(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function c(t,e,r,s){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.addEffect=l}function u(t,e,r,s){var i;this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var n=e.k.length;for(this.v=R("float32",n),this.pv=R("float32",n),this.vel=R("float32",n),i=0;i<n;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=a,this.setVValue=o,this.addEffect=l}function h(e,s,i,c){this.propType="unidimensional",this.keyframes=s.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=s,this.mult=i||1,this.elem=e,this.container=c,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.interpolateValue=r,this.effectsSequence=[n.bind(this)],this.addEffect=l}function p(e,s,i,c){var u;this.propType="multidimensional";var h,p,d,f,m=s.k.length;for(u=0;u<m-1;u+=1)s.k[u].to&&s.k[u].s&&s.k[u+1]&&s.k[u+1].s&&(h=s.k[u].s,p=s.k[u+1].s,d=s.k[u].to,f=s.k[u].ti,(2===h.length&&(h[0]!==p[0]||h[1]!==p[1])&&q.pointOnLine2D(h[0],h[1],p[0],p[1],h[0]+d[0],h[1]+d[1])&&q.pointOnLine2D(h[0],h[1],p[0],p[1],p[0]+f[0],p[1]+f[1])||3===h.length&&(h[0]!==p[0]||h[1]!==p[1]||h[2]!==p[2])&&q.pointOnLine3D(h[0],h[1],h[2],p[0],p[1],p[2],h[0]+d[0],h[1]+d[1],h[2]+d[2])&&q.pointOnLine3D(h[0],h[1],h[2],p[0],p[1],p[2],p[0]+f[0],p[1]+f[1],p[2]+f[2]))&&(s.k[u].to=null,s.k[u].ti=null),h[0]===p[0]&&h[1]===p[1]&&0===d[0]&&0===d[1]&&0===f[0]&&0===f[1]&&(2===h.length||h[2]===p[2]&&0===d[2]&&0===f[2])&&(s.k[u].to=null,s.k[u].ti=null));this.effectsSequence=[n.bind(this)],this.data=s,this.keyframes=s.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=e,this.container=c,this.comp=e.comp,this.getValue=a,this.setVValue=o,this.interpolateValue=r,this.frameId=-1;var g=s.k[0].s.length;for(this.v=R("float32",g),this.pv=R("float32",g),u=0;u<g;u+=1)this.v[u]=t,this.pv[u]=t;this._caching={lastFrame:t,lastIndex:0,value:R("float32",g)},this.addEffect=l}return{getProp:function(t,e,r,s,i){var n;if(e.k.length)if("number"==typeof e.k[0])n=new u(t,e,s,i);else switch(r){case 0:n=new h(t,e,s,i);break;case 1:n=new p(t,e,s,i)}else n=new c(t,e,s,i);return n.effectsSequence.length&&i.addDynamicProperty(n),n}}}(),Y=function(){var t=[0,0];function e(t,e,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new V,this.pre=new V,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p&&e.p.s?(this.px=$.getProp(t,e.p.x,0,0,this),this.py=$.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=$.getProp(t,e.p.z,0,0,this))):this.p=$.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=$.getProp(t,e.rx,0,f,this),this.ry=$.getProp(t,e.ry,0,f,this),this.rz=$.getProp(t,e.rz,0,f,this),e.or.k[0].ti){var s,i=e.or.k.length;for(s=0;s<i;s+=1)e.or.k[s].to=null,e.or.k[s].ti=null}this.or=$.getProp(t,e.or,1,f,this),this.or.sh=!0}else this.r=$.getProp(t,e.r||{k:0},0,f,this);e.sk&&(this.sk=$.getProp(t,e.sk,0,f,this),this.sa=$.getProp(t,e.sa,0,f,this)),this.a=$.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=$.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=$.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var s,i;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(s=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(s=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(s=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){s=[],i=[];var n=this.px,o=this.py;n._caching.lastFrame+n.offsetTime<=n.keyframes[0].t?(s[0]=n.getValueAtTime((n.keyframes[0].t+.01)/r,0),s[1]=o.getValueAtTime((o.keyframes[0].t+.01)/r,0),i[0]=n.getValueAtTime(n.keyframes[0].t/r,0),i[1]=o.getValueAtTime(o.keyframes[0].t/r,0)):n._caching.lastFrame+n.offsetTime>=n.keyframes[n.keyframes.length-1].t?(s[0]=n.getValueAtTime(n.keyframes[n.keyframes.length-1].t/r,0),s[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/r,0),i[0]=n.getValueAtTime((n.keyframes[n.keyframes.length-1].t-.01)/r,0),i[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/r,0)):(s=[n.pv,o.pv],i[0]=n.getValueAtTime((n._caching.lastFrame+n.offsetTime-.01)/r,n.offsetTime),i[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/r,o.offsetTime))}else s=i=t;this.v.rotate(-Math.atan2(s[1]-i[1],s[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},G([N],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=N.prototype.addDynamicProperty,{getTransformProperty:function(t,r,s){return new e(t,r,s)}}}();function Z(){this.c=!1,this._length=0,this._maxLength=8,this.v=k(this._maxLength),this.o=k(this._maxLength),this.i=k(this._maxLength)}Z.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=At.newElement(),this.o[r]=At.newElement(),this.i[r]=At.newElement(),r+=1},Z.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},Z.prototype.doubleArrayLength=function(){this.v=this.v.concat(k(this._maxLength)),this.i=this.i.concat(k(this._maxLength)),this.o=this.o.concat(k(this._maxLength)),this._maxLength*=2},Z.prototype.setXYAt=function(t,e,r,s,i){var n;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":n=this.v;break;case"i":n=this.i;break;case"o":n=this.o;break;default:n=[]}(!n[s]||n[s]&&!i)&&(n[s]=At.newElement()),n[s][0]=t,n[s][1]=e},Z.prototype.setTripleAt=function(t,e,r,s,i,n,o,a){this.setXYAt(t,e,"v",o,a),this.setXYAt(r,s,"o",o,a),this.setXYAt(i,n,"i",o,a)},Z.prototype.reverse=function(){var t=new Z;t.setPathData(this.c,this._length);var e=this.v,r=this.o,s=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],s[0][0],s[0][1],r[0][0],r[0][1],0,!1),i=1);var n,o=this._length-1,a=this._length;for(n=i;n<a;n+=1)t.setTripleAt(e[o][0],e[o][1],s[o][0],s[o][1],r[o][0],r[o][1],n,!1),o-=1;return t};var X=function(){var t=-999999;function e(t,e,r){var s,i,n,o,a,l,c,u,h,p=r.lastIndex,d=this.keyframes;if(t<d[0].t-this.offsetTime)s=d[0].s[0],n=!0,p=0;else if(t>=d[d.length-1].t-this.offsetTime)s=d[d.length-1].s?d[d.length-1].s[0]:d[d.length-2].e[0],n=!0;else{for(var f,m,g=p,y=d.length-1,v=!0;v&&(f=d[g],!((m=d[g+1]).t-this.offsetTime>t));)g<y-1?g+=1:v=!1;if(p=g,!(n=1===f.h)){if(t>=m.t-this.offsetTime)u=1;else if(t<f.t-this.offsetTime)u=0;else{var _;f.__fnct?_=f.__fnct:(_=H.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,f.__fnct=_),u=_((t-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}i=m.s?m.s[0]:f.e[0]}s=f.s[0]}for(l=e._length,c=s.i[0].length,r.lastIndex=p,o=0;o<l;o+=1)for(a=0;a<c;a+=1)h=n?s.i[o][a]:s.i[o][a]+(i.i[o][a]-s.i[o][a])*u,e.i[o][a]=h,h=n?s.o[o][a]:s.o[o][a]+(i.o[o][a]-s.o[o][a])*u,e.o[o][a]=h,h=n?s.v[o][a]:s.v[o][a]+(i.v[o][a]-s.v[o][a])*u,e.v[o][a]=h}function r(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=this._caching.lastFrame;return i!==t&&(i<r&&e<r||i>s&&e>s)||(this._caching.lastIndex=i<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function s(){this.paths=this.localShapeCollection}function i(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,s=t._length;for(r=0;r<s;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,t)||(this.v=xt.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function n(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(e=0;e<r;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(t,e,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===r?e.pt.k:e.ks.k;this.v=xt.clone(i),this.pv=xt.clone(this.v),this.localShapeCollection=St.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(e,i,n){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===n?i.pt.k:i.ks.k,this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=xt.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=xt.clone(this.v),this.localShapeCollection=St.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=s,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=n,o.prototype.setVValue=i,o.prototype.addEffect=a,l.prototype.getValue=n,l.prototype.interpolateShape=e,l.prototype.setVValue=i,l.prototype.addEffect=a;var c=function(){var t=m;function e(t,e){this.v=xt.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=St.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=$.getProp(t,e.p,1,0,this),this.s=$.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],s=this.s.v[0]/2,i=this.s.v[1]/2,n=3!==this.d,o=this.v;o.v[0][0]=e,o.v[0][1]=r-i,o.v[1][0]=n?e+s:e-s,o.v[1][1]=r,o.v[2][0]=e,o.v[2][1]=r+i,o.v[3][0]=n?e-s:e+s,o.v[3][1]=r,o.i[0][0]=n?e-s*t:e+s*t,o.i[0][1]=r-i,o.i[1][0]=n?e+s:e-s,o.i[1][1]=r-i*t,o.i[2][0]=n?e+s*t:e-s*t,o.i[2][1]=r+i,o.i[3][0]=n?e-s:e+s,o.i[3][1]=r+i*t,o.o[0][0]=n?e+s*t:e-s*t,o.o[0][1]=r-i,o.o[1][0]=n?e+s:e-s,o.o[1][1]=r+i*t,o.o[2][0]=n?e-s*t:e+s*t,o.o[2][1]=r+i,o.o[3][0]=n?e-s:e+s,o.o[3][1]=r-i*t}},G([N],e),e}(),u=function(){function t(t,e){this.v=xt.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=$.getProp(t,e.ir,0,0,this),this.is=$.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=$.getProp(t,e.pt,0,0,this),this.p=$.getProp(t,e.p,1,0,this),this.r=$.getProp(t,e.r,0,f,this),this.or=$.getProp(t,e.or,0,0,this),this.os=$.getProp(t,e.os,0,.01,this),this.localShapeCollection=St.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,s,i=2*Math.floor(this.pt.v),n=2*Math.PI/i,o=!0,a=this.or.v,l=this.ir.v,c=this.os.v,u=this.is.v,h=2*Math.PI*a/(2*i),p=2*Math.PI*l/(2*i),d=-Math.PI/2;d+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<i;t+=1){r=o?c:u,s=o?h:p;var m=(e=o?a:l)*Math.cos(d),g=e*Math.sin(d),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),v=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*s*r*f,g-v*s*r*f,m+y*s*r*f,g+v*s*r*f,t,!0),o=!o,d+=n*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,s=this.or.v,i=this.os.v,n=2*Math.PI*s/(4*e),o=.5*-Math.PI,a=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=s*Math.cos(o),c=s*Math.sin(o),u=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),h=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-u*n*i*a,c-h*n*i*a,l+u*n*i*a,c+h*n*i*a,t,!0),o+=r*a}this.paths.length=0,this.paths[0]=this.v}},G([N],t),t}(),p=function(){function t(t,e){this.v=xt.newElement(),this.v.c=!0,this.localShapeCollection=St.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=$.getProp(t,e.p,1,0,this),this.s=$.getProp(t,e.s,1,0,this),this.r=$.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,s=this.s.v[1]/2,i=h(r,s,this.r.v),n=i*(1-m);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-s+i,t+r,e-s+i,t+r,e-s+n,0,!0),this.v.setTripleAt(t+r,e+s-i,t+r,e+s-n,t+r,e+s-i,1,!0),0!==i?(this.v.setTripleAt(t+r-i,e+s,t+r-i,e+s,t+r-n,e+s,2,!0),this.v.setTripleAt(t-r+i,e+s,t-r+n,e+s,t-r+i,e+s,3,!0),this.v.setTripleAt(t-r,e+s-i,t-r,e+s-i,t-r,e+s-n,4,!0),this.v.setTripleAt(t-r,e-s+i,t-r,e-s+n,t-r,e-s+i,5,!0),this.v.setTripleAt(t-r+i,e-s,t-r+i,e-s,t-r+n,e-s,6,!0),this.v.setTripleAt(t+r-i,e-s,t+r-n,e-s,t+r-i,e-s,7,!0)):(this.v.setTripleAt(t-r,e+s,t-r+n,e+s,t-r,e+s,2),this.v.setTripleAt(t-r,e-s,t-r,e-s+n,t-r,e-s,3))):(this.v.setTripleAt(t+r,e-s+i,t+r,e-s+n,t+r,e-s+i,0,!0),0!==i?(this.v.setTripleAt(t+r-i,e-s,t+r-i,e-s,t+r-n,e-s,1,!0),this.v.setTripleAt(t-r+i,e-s,t-r+n,e-s,t-r+i,e-s,2,!0),this.v.setTripleAt(t-r,e-s+i,t-r,e-s+i,t-r,e-s+n,3,!0),this.v.setTripleAt(t-r,e+s-i,t-r,e+s-n,t-r,e+s-i,4,!0),this.v.setTripleAt(t-r+i,e+s,t-r+i,e+s,t-r+n,e+s,5,!0),this.v.setTripleAt(t+r-i,e+s,t+r-n,e+s,t+r-i,e+s,6,!0),this.v.setTripleAt(t+r,e+s-i,t+r,e+s-i,t+r,e+s-n,7,!0)):(this.v.setTripleAt(t-r,e-s,t-r+n,e-s,t-r,e-s,1,!0),this.v.setTripleAt(t-r,e+s,t-r,e+s-n,t-r,e+s,2,!0),this.v.setTripleAt(t+r,e+s,t+r-n,e+s,t+r,e+s,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},G([N],t),t}();var d={getShapeProp:function(t,e,r){var s;return 3===r||4===r?s=(3===r?e.pt:e.ks).k.length?new l(t,e,r):new o(t,e,r):5===r?s=new p(t,e):6===r?s=new c(t,e):7===r&&(s=new u(t,e)),s.k&&t.addDynamicProperty(s),s},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return l}};return d}(),Q=function(){var t={},e={};return t.registerModifier=function(t,r){e[t]||(e[t]=r)},t.getModifier=function(t,r,s){return new e[t](r,s)},t}();function J(){}function tt(){}function et(){}function rt(){}function st(){}function it(){this._length=0,this._maxLength=4,this.shapes=k(this._maxLength)}function nt(t,e,r,s){var i;this.elem=t,this.frameId=-1,this.dataProps=k(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=R("float32",e.length?e.length-1:0),this.dashoffset=R("float32",1),this.initDynamicPropertyContainer(s);var n,o=e.length||0;for(i=0;i<o;i+=1)n=$.getProp(t,e[i].v,0,0,this),this.k=n.k||this.k,this.dataProps[i]={n:e[i].n,p:n};this.k||this.getValue(!0),this._isAnimated=this.k}function ot(t,e,r){this.data=e,this.c=R("uint8c",4*e.p);var s=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=R("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(r),this.prop=$.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}J.prototype.initModifierProperties=function(){},J.prototype.addShapeToModifier=function(){},J.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:St.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},J.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=i,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},J.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},G([N],J),G([J],tt),tt.prototype.initModifierProperties=function(t,e){this.s=$.getProp(t,e.s,0,.01,this),this.e=$.getProp(t,e.e,0,.01,this),this.o=$.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},tt.prototype.addShapeToModifier=function(t){t.pathsData=[]},tt.prototype.calculateShapeEdges=function(t,e,r,s,i){var n=[];e<=1?n.push({s:t,e}):t>=1?n.push({s:t-1,e:e-1}):(n.push({s:t,e:1}),n.push({s:0,e:e-1}));var o,a,l=[],c=n.length;for(o=0;o<c;o+=1){var u,h;(a=n[o]).e*i<s||a.s*i>s+r||(u=a.s*i<=s?0:(a.s*i-s)/r,h=a.e*i>=s+r?1:(a.e*i-s)/r,l.push([u,h]))}return l.length||l.push([0,0]),l},tt.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)Tt.release(t[e]);return t.length=0,t},tt.prototype.processShapes=function(t){var e,r,s,i;if(this._mdf||t){var n=this.o.v%360/360;if(n<0&&(n+=1),(e=this.s.v>1?1+n:this.s.v<0?0+n:this.s.v+n)>(r=this.e.v>1?1+n:this.e.v<0?0+n:this.e.v+n)){var o=e;e=r,r=o}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var a,l,c,u,h,p=this.shapes.length,d=0;if(r===e)for(i=0;i<p;i+=1)this.shapes[i].localShapeCollection.releaseShapes(),this.shapes[i].shape._mdf=!0,this.shapes[i].shape.paths=this.shapes[i].localShapeCollection,this._mdf&&(this.shapes[i].pathsData.length=0);else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(i=0;i<p;i+=1)this.shapes[i].pathsData.length=0,this.shapes[i].shape._mdf=!0}else{var f,m,g=[];for(i=0;i<p;i+=1)if((f=this.shapes[i]).shape._mdf||this._mdf||t||2===this.m){if(l=(s=f.shape.paths)._length,h=0,!f.shape._mdf&&f.pathsData.length)h=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),a=0;a<l;a+=1)u=q.getSegmentsLength(s.shapes[a]),c.push(u),h+=u.totalLength;f.totalShapeLength=h,f.pathsData=c}d+=h,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var y,v=e,_=r,E=0;for(i=p-1;i>=0;i-=1)if((f=this.shapes[i]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&p>1?(y=this.calculateShapeEdges(e,r,f.totalShapeLength,E,d),E+=f.totalShapeLength):y=[[v,_]],l=y.length,a=0;a<l;a+=1){v=y[a][0],_=y[a][1],g.length=0,_<=1?g.push({s:f.totalShapeLength*v,e:f.totalShapeLength*_}):v>=1?g.push({s:f.totalShapeLength*(v-1),e:f.totalShapeLength*(_-1)}):(g.push({s:f.totalShapeLength*v,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(_-1)}));var b=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var A=b.pop();this.addPaths(b,m),b=this.addShapes(f,g[1],A)}else this.addPaths(b,m),b=this.addShapes(f,g[1]);this.addPaths(b,m)}}f.shape.paths=m}}},tt.prototype.addPaths=function(t,e){var r,s=t.length;for(r=0;r<s;r+=1)e.addShape(t[r])},tt.prototype.addSegment=function(t,e,r,s,i,n,o){i.setXYAt(e[0],e[1],"o",n),i.setXYAt(r[0],r[1],"i",n+1),o&&i.setXYAt(t[0],t[1],"v",n),i.setXYAt(s[0],s[1],"v",n+1)},tt.prototype.addSegmentFromArray=function(t,e,r,s){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),s&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},tt.prototype.addShapes=function(t,e,r){var s,i,n,o,a,l,c,u,h=t.pathsData,p=t.shape.paths.shapes,d=t.shape.paths._length,f=0,m=[],g=!0;for(r?(a=r._length,u=r._length):(r=xt.newElement(),a=0,u=0),m.push(r),s=0;s<d;s+=1){for(l=h[s].lengths,r.c=p[s].c,n=p[s].c?l.length:l.length+1,i=1;i<n;i+=1)if(f+(o=l[i-1]).addedLength<e.s)f+=o.addedLength,r.c=!1;else{if(f>e.e){r.c=!1;break}e.s<=f&&e.e>=f+o.addedLength?(this.addSegment(p[s].v[i-1],p[s].o[i-1],p[s].i[i],p[s].v[i],r,a,g),g=!1):(c=q.getNewSegment(p[s].v[i-1],p[s].v[i],p[s].o[i-1],p[s].i[i],(e.s-f)/o.addedLength,(e.e-f)/o.addedLength,l[i-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1),f+=o.addedLength,a+=1}if(p[s].c&&l.length){if(o=l[i-1],f<=e.e){var y=l[i-1].addedLength;e.s<=f&&e.e>=f+y?(this.addSegment(p[s].v[i-1],p[s].o[i-1],p[s].i[0],p[s].v[0],r,a,g),g=!1):(c=q.getNewSegment(p[s].v[i-1],p[s].v[0],p[s].o[i-1],p[s].i[0],(e.s-f)/y,(e.e-f)/y,l[i-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1)}else r.c=!1;f+=o.addedLength,a+=1}if(r._length&&(r.setXYAt(r.v[u][0],r.v[u][1],"i",u),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),f>e.e)break;s<d-1&&(r=xt.newElement(),g=!0,m.push(r),a=0)}return m},Q.registerModifier("tm",tt),G([J],et),et.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=$.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},et.prototype.processPath=function(t,e){var r,s=xt.newElement();s.c=t.c;var i,n,o,a,l,c,u,h,p,d,f,g,y=t._length,v=0;for(r=0;r<y;r+=1)i=t.v[r],o=t.o[r],n=t.i[r],i[0]===o[0]&&i[1]===o[1]&&i[0]===n[0]&&i[1]===n[1]?0!==r&&r!==y-1||t.c?(a=0===r?t.v[y-1]:t.v[r-1],c=(l=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)))?Math.min(l/2,e)/l:0,u=f=i[0]+(a[0]-i[0])*c,h=g=i[1]-(i[1]-a[1])*c,p=u-(u-i[0])*m,d=h-(h-i[1])*m,s.setTripleAt(u,h,p,d,f,g,v),v+=1,a=r===y-1?t.v[0]:t.v[r+1],c=(l=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)))?Math.min(l/2,e)/l:0,u=p=i[0]+(a[0]-i[0])*c,h=d=i[1]+(a[1]-i[1])*c,f=u-(u-i[0])*m,g=h-(h-i[1])*m,s.setTripleAt(u,h,p,d,f,g,v),v+=1):(s.setTripleAt(i[0],i[1],o[0],o[1],n[0],n[1],v),v+=1):(s.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],v),v+=1);return s},et.prototype.processShapes=function(t){var e,r,s,i,n,o,a=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<a;r+=1){if(o=(n=this.shapes[r]).localShapeCollection,n.shape._mdf||this._mdf||t)for(o.releaseShapes(),n.shape._mdf=!0,e=n.shape.paths.shapes,i=n.shape.paths._length,s=0;s<i;s+=1)o.addShape(this.processPath(e[s],l));n.shape.paths=n.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},Q.registerModifier("rd",et),G([J],rt),rt.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=$.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},rt.prototype.processPath=function(t,e){var r=e/100,s=[0,0],i=t._length,n=0;for(n=0;n<i;n+=1)s[0]+=t.v[n][0],s[1]+=t.v[n][1];s[0]/=i,s[1]/=i;var o,a,l,c,u,h,p=xt.newElement();for(p.c=t.c,n=0;n<i;n+=1)o=t.v[n][0]+(s[0]-t.v[n][0])*r,a=t.v[n][1]+(s[1]-t.v[n][1])*r,l=t.o[n][0]+(s[0]-t.o[n][0])*-r,c=t.o[n][1]+(s[1]-t.o[n][1])*-r,u=t.i[n][0]+(s[0]-t.i[n][0])*-r,h=t.i[n][1]+(s[1]-t.i[n][1])*-r,p.setTripleAt(o,a,l,c,u,h,n);return p},rt.prototype.processShapes=function(t){var e,r,s,i,n,o,a=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<a;r+=1){if(o=(n=this.shapes[r]).localShapeCollection,n.shape._mdf||this._mdf||t)for(o.releaseShapes(),n.shape._mdf=!0,e=n.shape.paths.shapes,i=n.shape.paths._length,s=0;s<i;s+=1)o.addShape(this.processPath(e[s],l));n.shape.paths=n.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},Q.registerModifier("pb",rt),G([J],st),st.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=$.getProp(t,e.c,0,null,this),this.o=$.getProp(t,e.o,0,null,this),this.tr=Y.getTransformProperty(t,e.tr,this),this.so=$.getProp(t,e.tr.so,0,.01,this),this.eo=$.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new V,this.rMatrix=new V,this.sMatrix=new V,this.tMatrix=new V,this.matrix=new V},st.prototype.applyTransforms=function(t,e,r,s,i,n){var o=n?-1:1,a=s.s.v[0]+(1-s.s.v[0])*(1-i),l=s.s.v[1]+(1-s.s.v[1])*(1-i);t.translate(s.p.v[0]*o*i,s.p.v[1]*o*i,s.p.v[2]),e.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),e.rotate(-s.r.v*o*i),e.translate(s.a.v[0],s.a.v[1],s.a.v[2]),r.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),r.scale(n?1/a:a,n?1/l:l),r.translate(s.a.v[0],s.a.v[1],s.a.v[2])},st.prototype.init=function(t,e,r,s){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},st.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},st.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},st.prototype.changeGroupRender=function(t,e){var r,s=t.length;for(r=0;r<s;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},st.prototype.processShapes=function(t){var e,r,s,i,n,o=!1;if(this._mdf||t){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),o=!0}for(n=0,s=0;s<=this._groups.length-1;s+=1){if(a=n<l,this._groups[s]._render=a,this.changeGroupRender(this._groups[s].it,a),!a){var u=this.elemsData[s].it,h=u[u.length-1];0!==h.transform.op.v?(h.transform.op._mdf=!0,h.transform.op.v=0):h.transform.op._mdf=!1}n+=1}this._currentCopies=l;var p=this.o.v,d=p%1,f=p>0?Math.floor(p):Math.ceil(p),m=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var v,_,E=0;if(p>0){for(;E<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),E+=1;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,d,!1),E+=d)}else if(p<0){for(;E>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),E-=1;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-d,!0),E-=d)}for(s=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,n=this._currentCopies;n;){if(_=(r=(e=this.elemsData[s].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(s/(this._currentCopies-1)),0!==E){for((0!==s&&1===i||s!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),v=0;v<_;v+=1)r[v]=this.matrix.props[v];this.matrix.reset()}else for(this.matrix.reset(),v=0;v<_;v+=1)r[v]=this.matrix.props[v];E+=1,n-=1,s+=i}}else for(n=this._currentCopies,s=0,i=1;n;)r=(e=this.elemsData[s].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,n-=1,s+=i;return o},st.prototype.addShape=function(){},Q.registerModifier("rp",st),it.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(k(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},it.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)xt.release(this.shapes[t]);this._length=0},nt.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<r;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},G([N],nt),ot.prototype.comparePoints=function(t,e){for(var r=0,s=this.o.length/2;r<s;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},ot.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},ot.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,s,i=4*this.data.p;for(e=0;e<i;e+=1)r=e%4==0?100:255,s=Math.round(this.prop.v[e]*r),this.c[e]!==s&&(this.c[e]=s,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;e<i;e+=1)r=e%2==0?100:1,s=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==s&&(this.o[e-4*this.data.p]=s,this._omdf=!t);this._mdf=!t}},G([N],ot);var at,lt=function(t,e,r,s){if(0===e)return"";var i,n=t.o,o=t.i,a=t.v,l=" M"+s.applyToPointStringified(a[0][0],a[0][1]);for(i=1;i<e;i+=1)l+=" C"+s.applyToPointStringified(n[i-1][0],n[i-1][1])+" "+s.applyToPointStringified(o[i][0],o[i][1])+" "+s.applyToPointStringified(a[i][0],a[i][1]);return r&&e&&(l+=" C"+s.applyToPointStringified(n[i-1][0],n[i-1][1])+" "+s.applyToPointStringified(o[0][0],o[0][1])+" "+s.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},ct=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),ut=function(){var t=function(){var t=F("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(t,e,r){var s="";if(t.e)s=t.p;else if(e){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),s=e+i}else s=r,s+=t.u?t.u:"",s+=t.p;return s}function i(t){var e=0,r=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(r)),e+=1}.bind(this),50)}function n(t){var e={assetData:t},r=s(t,this.assetsPath,this.path);return dt.load(r,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function o(){this._imageLoaded=e.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=n.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return o.prototype={loadAssets:function(t,e){var r;this.imagesLoadedCb=e;var s=t.length;for(r=0;r<s;r+=1)t[r].layers||(t[r].t&&"seq"!==t[r].t?3===t[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[r]))):(this.totalImages+=1,this.images.push(this._createImageData(t[r]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,r=this.images.length;e<r;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var r=s(e,this.assetsPath,this.path),i=F("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){n.img=t,this._imageLoaded()}.bind(this),!1),i.src=r;var n={img:i,assetData:e};return n},createImageData:function(e){var r=s(e,this.assetsPath,this.path),i=D("image");a?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){n.img=t,this._imageLoaded()}.bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(i):this._elementHelper.appendChild(i);var n={img:i,assetData:e};return n},imageLoaded:e,footageLoaded:r,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},o}(),ht=(at={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(at.maskType=!1),at),pt=function(){var t={};return t.createFilter=function(t,e){var r=D("filter");return r.setAttribute("id",t),!0!==e&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},t.createAlphaToLuminanceFilter=function(){var t=D("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t},t}(),dt=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,r,s){var i,n=new XMLHttpRequest;try{n.responseType="json"}catch(t){}n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status)i=t(n),r(i);else try{i=t(n),r(i)}catch(t){s&&s(t)}},n.open("GET",e,!0),n.send()}}}();function ft(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=k(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function mt(t,e,r){var s={propType:!1},i=$.getProp,n=e.a;this.a={r:n.r?i(t,n.r,0,f,r):s,rx:n.rx?i(t,n.rx,0,f,r):s,ry:n.ry?i(t,n.ry,0,f,r):s,sk:n.sk?i(t,n.sk,0,f,r):s,sa:n.sa?i(t,n.sa,0,f,r):s,s:n.s?i(t,n.s,1,.01,r):s,a:n.a?i(t,n.a,1,0,r):s,o:n.o?i(t,n.o,0,.01,r):s,p:n.p?i(t,n.p,1,0,r):s,sw:n.sw?i(t,n.sw,0,0,r):s,sc:n.sc?i(t,n.sc,1,0,r):s,fc:n.fc?i(t,n.fc,1,0,r):s,fh:n.fh?i(t,n.fh,0,0,r):s,fs:n.fs?i(t,n.fs,0,.01,r):s,fb:n.fb?i(t,n.fb,0,.01,r):s,t:n.t?i(t,n.t,0,0,r):s},this.s=_t.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function gt(t,e,r,s,i,n){this.o=t,this.sw=e,this.sc=r,this.fc=s,this.m=i,this.p=n,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!s,m:!0,p:!0}}function yt(t,e){this._frameId=i,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}ft.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,s=$.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new mt(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},ft.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,s,i,n,o,a,l,c,u,h,p,d,f,m,g,y,v,_,E,b=this._moreOptions.alignment.v,A=this._animatorsData,x=this._textData,S=this.mHelper,T=this._renderType,M=this.renderedLetters.length,P=t.l;if(this._hasMaskedPath){if(E=this._pathData.m,!this._pathData.n||this._pathData._mdf){var I,R=E.v;for(this._pathData.r&&(R=R.reverse()),o={tLength:0,segments:[]},n=R._length-1,y=0,i=0;i<n;i+=1)I=q.buildBezierData(R.v[i],R.v[i+1],[R.o[i][0]-R.v[i][0],R.o[i][1]-R.v[i][1]],[R.i[i+1][0]-R.v[i+1][0],R.i[i+1][1]-R.v[i+1][1]]),o.tLength+=I.segmentLength,o.segments.push(I),y+=I.segmentLength;i=n,E.v.c&&(I=q.buildBezierData(R.v[i],R.v[0],[R.o[i][0]-R.v[i][0],R.o[i][1]-R.v[i][1]],[R.i[0][0]-R.v[0][0],R.i[0][1]-R.v[0][1]]),o.tLength+=I.segmentLength,o.segments.push(I),y+=I.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,a=this._pathData.f.v,p=0,h=1,c=0,u=!0,m=o.segments,a<0&&E.v.c)for(o.tLength<Math.abs(a)&&(a=-Math.abs(a)%o.tLength),h=(f=m[p=m.length-1].points).length-1;a<0;)a+=f[h].partialLength,(h-=1)<0&&(h=(f=m[p-=1].points).length-1);d=(f=m[p].points)[h-1],g=(l=f[h]).partialLength}n=P.length,r=0,s=0;var k,D,F,N,L,j=1.2*t.finalSize*.714,B=!0;F=A.length;var U,V,H,G,z,K,W,$,Y,Z,X,Q,J=-1,tt=a,et=p,rt=h,st=-1,it="",nt=this.defaultPropsArray;if(2===t.j||1===t.j){var ot=0,at=0,lt=2===t.j?-.5:-1,ct=0,ut=!0;for(i=0;i<n;i+=1)if(P[i].n){for(ot&&(ot+=at);ct<i;)P[ct].animatorJustifyOffset=ot,ct+=1;ot=0,ut=!0}else{for(D=0;D<F;D+=1)(k=A[D].a).t.propType&&(ut&&2===t.j&&(at+=k.t.v*lt),(L=A[D].s.getMult(P[i].anIndexes[D],x.a[D].s.totalChars)).length?ot+=k.t.v*L[0]*lt:ot+=k.t.v*L*lt);ut=!1}for(ot&&(ot+=at);ct<i;)P[ct].animatorJustifyOffset=ot,ct+=1}for(i=0;i<n;i+=1){if(S.reset(),G=1,P[i].n)r=0,s+=t.yOffset,s+=B?1:0,a=tt,B=!1,this._hasMaskedPath&&(h=rt,d=(f=m[p=et].points)[h-1],g=(l=f[h]).partialLength,c=0),it="",X="",Y="",Q="",nt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(st!==P[i].line){switch(t.j){case 1:a+=y-t.lineWidths[P[i].line];break;case 2:a+=(y-t.lineWidths[P[i].line])/2}st=P[i].line}J!==P[i].ind&&(P[J]&&(a+=P[J].extra),a+=P[i].an/2,J=P[i].ind),a+=b[0]*P[i].an*.005;var ht=0;for(D=0;D<F;D+=1)(k=A[D].a).p.propType&&((L=A[D].s.getMult(P[i].anIndexes[D],x.a[D].s.totalChars)).length?ht+=k.p.v[0]*L[0]:ht+=k.p.v[0]*L),k.a.propType&&((L=A[D].s.getMult(P[i].anIndexes[D],x.a[D].s.totalChars)).length?ht+=k.a.v[0]*L[0]:ht+=k.a.v[0]*L);for(u=!0;u;)c+g>=a+ht||!f?(v=(a+ht-c)/l.partialLength,V=d.point[0]+(l.point[0]-d.point[0])*v,H=d.point[1]+(l.point[1]-d.point[1])*v,S.translate(-b[0]*P[i].an*.005,-b[1]*j*.01),u=!1):f&&(c+=l.partialLength,(h+=1)>=f.length&&(h=0,m[p+=1]?f=m[p].points:E.v.c?(h=0,f=m[p=0].points):(c-=l.partialLength,f=null)),f&&(d=l,g=(l=f[h]).partialLength));U=P[i].an/2-P[i].add,S.translate(-U,0,0)}else U=P[i].an/2-P[i].add,S.translate(-U,0,0),S.translate(-b[0]*P[i].an*.005,-b[1]*j*.01,0);for(D=0;D<F;D+=1)(k=A[D].a).t.propType&&(L=A[D].s.getMult(P[i].anIndexes[D],x.a[D].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?L.length?a+=k.t.v*L[0]:a+=k.t.v*L:L.length?r+=k.t.v*L[0]:r+=k.t.v*L));for(t.strokeWidthAnim&&(K=t.sw||0),t.strokeColorAnim&&(z=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(W=[t.fc[0],t.fc[1],t.fc[2]]),D=0;D<F;D+=1)(k=A[D].a).a.propType&&((L=A[D].s.getMult(P[i].anIndexes[D],x.a[D].s.totalChars)).length?S.translate(-k.a.v[0]*L[0],-k.a.v[1]*L[1],k.a.v[2]*L[2]):S.translate(-k.a.v[0]*L,-k.a.v[1]*L,k.a.v[2]*L));for(D=0;D<F;D+=1)(k=A[D].a).s.propType&&((L=A[D].s.getMult(P[i].anIndexes[D],x.a[D].s.totalChars)).length?S.scale(1+(k.s.v[0]-1)*L[0],1+(k.s.v[1]-1)*L[1],1):S.scale(1+(k.s.v[0]-1)*L,1+(k.s.v[1]-1)*L,1));for(D=0;D<F;D+=1){if(k=A[D].a,L=A[D].s.getMult(P[i].anIndexes[D],x.a[D].s.totalChars),k.sk.propType&&(L.length?S.skewFromAxis(-k.sk.v*L[0],k.sa.v*L[1]):S.skewFromAxis(-k.sk.v*L,k.sa.v*L)),k.r.propType&&(L.length?S.rotateZ(-k.r.v*L[2]):S.rotateZ(-k.r.v*L)),k.ry.propType&&(L.length?S.rotateY(k.ry.v*L[1]):S.rotateY(k.ry.v*L)),k.rx.propType&&(L.length?S.rotateX(k.rx.v*L[0]):S.rotateX(k.rx.v*L)),k.o.propType&&(L.length?G+=(k.o.v*L[0]-G)*L[0]:G+=(k.o.v*L-G)*L),t.strokeWidthAnim&&k.sw.propType&&(L.length?K+=k.sw.v*L[0]:K+=k.sw.v*L),t.strokeColorAnim&&k.sc.propType)for($=0;$<3;$+=1)L.length?z[$]+=(k.sc.v[$]-z[$])*L[0]:z[$]+=(k.sc.v[$]-z[$])*L;if(t.fillColorAnim&&t.fc){if(k.fc.propType)for($=0;$<3;$+=1)L.length?W[$]+=(k.fc.v[$]-W[$])*L[0]:W[$]+=(k.fc.v[$]-W[$])*L;k.fh.propType&&(W=L.length?O(W,k.fh.v*L[0]):O(W,k.fh.v*L)),k.fs.propType&&(W=L.length?C(W,k.fs.v*L[0]):C(W,k.fs.v*L)),k.fb.propType&&(W=L.length?w(W,k.fb.v*L[0]):w(W,k.fb.v*L))}}for(D=0;D<F;D+=1)(k=A[D].a).p.propType&&(L=A[D].s.getMult(P[i].anIndexes[D],x.a[D].s.totalChars),this._hasMaskedPath?L.length?S.translate(0,k.p.v[1]*L[0],-k.p.v[2]*L[1]):S.translate(0,k.p.v[1]*L,-k.p.v[2]*L):L.length?S.translate(k.p.v[0]*L[0],k.p.v[1]*L[1],-k.p.v[2]*L[2]):S.translate(k.p.v[0]*L,k.p.v[1]*L,-k.p.v[2]*L));if(t.strokeWidthAnim&&(Y=K<0?0:K),t.strokeColorAnim&&(Z="rgb("+Math.round(255*z[0])+","+Math.round(255*z[1])+","+Math.round(255*z[2])+")"),t.fillColorAnim&&t.fc&&(X="rgb("+Math.round(255*W[0])+","+Math.round(255*W[1])+","+Math.round(255*W[2])+")"),this._hasMaskedPath){if(S.translate(0,-t.ls),S.translate(0,b[1]*j*.01+s,0),x.p.p){_=(l.point[1]-d.point[1])/(l.point[0]-d.point[0]);var pt=180*Math.atan(_)/Math.PI;l.point[0]<d.point[0]&&(pt+=180),S.rotate(-pt*Math.PI/180)}S.translate(V,H,0),a-=b[0]*P[i].an*.005,P[i+1]&&J!==P[i+1].ind&&(a+=P[i].an/2,a+=.001*t.tr*t.finalSize)}else{switch(S.translate(r,s,0),t.ps&&S.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:S.translate(P[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[P[i].line]),0,0);break;case 2:S.translate(P[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[P[i].line])/2,0,0)}S.translate(0,-t.ls),S.translate(U,0,0),S.translate(b[0]*P[i].an*.005,b[1]*j*.01,0),r+=P[i].l+.001*t.tr*t.finalSize}"html"===T?it=S.toCSS():"svg"===T?it=S.to2dCSS():nt=[S.props[0],S.props[1],S.props[2],S.props[3],S.props[4],S.props[5],S.props[6],S.props[7],S.props[8],S.props[9],S.props[10],S.props[11],S.props[12],S.props[13],S.props[14],S.props[15]],Q=G}M<=i?(N=new gt(Q,Y,Z,X,it,nt),this.renderedLetters.push(N),M+=1,this.lettersChangedFlag=!0):(N=this.renderedLetters[i],this.lettersChangedFlag=N.update(Q,Y,Z,X,it,nt)||this.lettersChangedFlag)}}},ft.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},ft.prototype.mHelper=new V,ft.prototype.defaultPropsArray=[],G([N],ft),gt.prototype.update=function(t,e,r,s,i,n){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,o=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,o=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,o=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,o=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,o=!0),!n.length||this.p[0]===n[0]&&this.p[1]===n[1]&&this.p[4]===n[4]&&this.p[5]===n[5]&&this.p[12]===n[12]&&this.p[13]===n[13]||(this.p=n,this._mdf.p=!0,o=!0),o},yt.prototype.defaultBoxWidth=[0,0],yt.prototype.copyData=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},yt.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},yt.prototype.searchProperty=function(){return this.searchKeyframes()},yt.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},yt.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},yt.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var s;this.lock=!0,this._mdf=!1;var i=this.effectsSequence.length,n=t||this.data.d.k[this.keysIndex].s;for(s=0;s<i;s+=1)n=r!==this.keysIndex?this.effectsSequence[s](n,n.t):this.effectsSequence[s](this.currentData,n.t);e!==n&&this.setCurrentData(n),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},yt.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,s=t.length;r<=s-1&&!(r===s-1||t[r+1].t>e);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},yt.prototype.buildFinalText=function(t){for(var e,r,s=[],i=0,n=t.length,o=!1;i<n;)e=t.charCodeAt(i),W.isCombinedCharacter(e)?s[s.length-1]+=t.charAt(i):e>=55296&&e<=56319?(r=t.charCodeAt(i+1))>=56320&&r<=57343?(o||W.isModifier(e,r)?(s[s.length-1]+=t.substr(i,2),o=!1):s.push(t.substr(i,2)),i+=1):s.push(t.charAt(i)):e>56319?(r=t.charCodeAt(i+1),W.isZeroWidthJoiner(e,r)?(o=!0,s[s.length-1]+=t.substr(i,2),i+=1):s.push(t.charAt(i))):W.isZeroWidthJoiner(e)?(s[s.length-1]+=t.charAt(i),o=!0):s.push(t.charAt(i)),i+=1;return s},yt.prototype.completeTextData=function(t){t.__complete=!0;var e,r,s,i,n,o,a,l=this.elem.globalData.fontManager,c=this.data,u=[],h=0,p=c.m.g,d=0,f=0,m=0,g=[],y=0,v=0,_=l.getFontByName(t.f),E=0,b=K(_);t.fWeight=b.weight,t.fStyle=b.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),r=t.finalText.length,t.finalLineHeight=t.lh;var A,x=t.tr/1e3*t.finalSize;if(t.sz)for(var S,T,M=!0,P=t.sz[0],C=t.sz[1];M;){S=0,y=0,r=(T=this.buildFinalText(t.t)).length,x=t.tr/1e3*t.finalSize;var w=-1;for(e=0;e<r;e+=1)A=T[e].charCodeAt(0),s=!1," "===T[e]?w=e:13!==A&&3!==A||(y=0,s=!0,S+=t.finalLineHeight||1.2*t.finalSize),l.chars?(a=l.getCharData(T[e],_.fStyle,_.fFamily),E=s?0:a.w*t.finalSize/100):E=l.measureText(T[e],t.f,t.finalSize),y+E>P&&" "!==T[e]?(-1===w?r+=1:e=w,S+=t.finalLineHeight||1.2*t.finalSize,T.splice(e,w===e?1:0,"\r"),w=-1,y=0):(y+=E,y+=x);S+=_.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&C<S?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=T,r=t.finalText.length,M=!1)}y=-x,E=0;var O,I=0;for(e=0;e<r;e+=1)if(s=!1,13===(A=(O=t.finalText[e]).charCodeAt(0))||3===A?(I=0,g.push(y),v=y>v?y:v,y=-2*x,i="",s=!0,m+=1):i=O,l.chars?(a=l.getCharData(O,_.fStyle,l.getFontByName(t.f).fFamily),E=s?0:a.w*t.finalSize/100):E=l.measureText(i,t.f,t.finalSize)," "===O?I+=E+x:(y+=E+x+I,I=0),u.push({l:E,an:E,add:d,n:s,anIndexes:[],val:i,line:m,animatorJustifyOffset:0}),2==p){if(d+=E,""===i||" "===i||e===r-1){for(""!==i&&" "!==i||(d-=E);f<=e;)u[f].an=d,u[f].ind=h,u[f].extra=E,f+=1;h+=1,d=0}}else if(3==p){if(d+=E,""===i||e===r-1){for(""===i&&(d-=E);f<=e;)u[f].an=d,u[f].ind=h,u[f].extra=E,f+=1;d=0,h+=1}}else u[h].ind=h,u[h].extra=0,h+=1;if(t.l=u,v=y>v?y:v,g.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var R,k,D,F,N=c.a;o=N.length;var L=[];for(n=0;n<o;n+=1){for((R=N[n]).a.sc&&(t.strokeColorAnim=!0),R.a.sw&&(t.strokeWidthAnim=!0),(R.a.fc||R.a.fh||R.a.fs||R.a.fb)&&(t.fillColorAnim=!0),F=0,D=R.s.b,e=0;e<r;e+=1)(k=u[e]).anIndexes[n]=F,(1==D&&""!==k.val||2==D&&""!==k.val&&" "!==k.val||3==D&&(k.n||" "==k.val||e==r-1)||4==D&&(k.n||e==r-1))&&(1===R.s.rn&&L.push(F),F+=1);c.a[n].s.totalChars=F;var j,B=-1;if(1===R.s.rn)for(e=0;e<r;e+=1)B!=(k=u[e]).anIndexes[n]&&(B=k.anIndexes[n],j=L.splice(Math.floor(Math.random()*L.length),1)[0]),k.anIndexes[n]=j}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=_.ascent*t.finalSize/100},yt.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.elem.addDynamicProperty(this)},yt.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},yt.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},yt.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var vt,_t=function(){var t=Math.max,e=Math.min,r=Math.floor;function s(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=$.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?$.getProp(t,e.e,0,0,this):{v:100},this.o=$.getProp(t,e.o||{k:0},0,0,this),this.xe=$.getProp(t,e.xe||{k:0},0,0,this),this.ne=$.getProp(t,e.ne||{k:0},0,0,this),this.a=$.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return s.prototype={getMult:function(s){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,n=0,o=1,a=1;this.ne.v>0?i=this.ne.v/100:n=-this.ne.v/100,this.xe.v>0?o=1-this.xe.v/100:a=1+this.xe.v/100;var l=H.getBezierEasing(i,n,o,a).get,c=0,u=this.finalS,h=this.finalE,p=this.data.sh;if(2===p)c=l(c=h===u?s>=h?1:0:t(0,e(.5/(h-u)+(s-u)/(h-u),1)));else if(3===p)c=l(c=h===u?s>=h?0:1:1-t(0,e(.5/(h-u)+(s-u)/(h-u),1)));else if(4===p)h===u?c=0:(c=t(0,e(.5/(h-u)+(s-u)/(h-u),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===p){if(h===u)c=0;else{var d=h-u,f=-d/2+(s=e(t(0,s+.5-u),h-u)),m=d/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===p?(h===u?c=0:(s=e(t(0,s+.5-u),h-u),c=(1+Math.cos(Math.PI+2*Math.PI*s/(h-u)))/2),c=l(c)):(s>=r(u)&&(c=t(0,e(s-u<0?e(h,1)-(u-s):h-s,1))),c=l(c));return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/e,s=this.s.v/e+r,i=this.e.v/e+r;if(s>i){var n=s;s=i,i=n}this.finalS=s,this.finalE=i}},G([N],s),{getTextSelectorProp:function(t,e,r){return new s(t,e,r)}}}(),Et=function(t,e,r){var s=0,i=t,n=k(i);return{newElement:function(){return s?n[s-=1]:e()},release:function(t){s===i&&(n=bt.double(n),i*=2),r&&r(t),n[s]=t,s+=1}}},bt={double:function(t){return t.concat(k(t.length))}},At=Et(8,(function(){return R("float32",2)})),xt=((vt=Et(4,(function(){return new Z}),(function(t){var e,r=t._length;for(e=0;e<r;e+=1)At.release(t.v[e]),At.release(t.i[e]),At.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}))).clone=function(t){var e,r=vt.newElement(),s=void 0===t._length?t.v.length:t._length;for(r.setLength(s),r.c=t.c,e=0;e<s;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},vt),St=function(){var t={newShapeCollection:function(){return e?s[e-=1]:new it},release:function(t){var i,n=t._length;for(i=0;i<n;i+=1)xt.release(t.shapes[i]);t._length=0,e===r&&(s=bt.double(s),r*=2),s[e]=t,e+=1}},e=0,r=4,s=k(r);return t}(),Tt=Et(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)Mt.release(t.lengths[e]);t.lengths.length=0})),Mt=Et(8,(function(){return{addedLength:0,percents:R("float32",d),lengths:R("float32",d)}})),Pt=function(){function t(t){for(var e,r=t.split("\r\n"),s={},i=0,n=0;n<r.length;n+=1)2===(e=r[n].split(":")).length&&(s[e[0]]=e[1].trim(),i+=1);if(0===i)throw new Error;return s}return function(e){for(var r=[],s=0;s<e.length;s+=1){var i=e[s],n={time:i.tm,duration:i.dr};try{n.payload=JSON.parse(e[s].cm)}catch(r){try{n.payload=t(e[s].cm)}catch(t){n.payload={name:e[s]}}}r.push(n)}return r}}();function Ct(){}function wt(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=D("svg");var r="";if(e&&e.title){var s=D("title"),i=T();s.setAttribute("id",i),s.textContent=e.title,this.svgElement.appendChild(s),r+=i}if(e&&e.description){var n=D("desc"),o=T();n.setAttribute("id",o),n.textContent=e.description,this.svgElement.appendChild(n),r+=" "+o}r&&this.svgElement.setAttribute("aria-labelledby",r);var a=D("defs");this.svgElement.appendChild(a);var l=D("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function Ot(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,n,o=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=k(a),this.solidPath="";var l,c,u,h,p,d,f=this.masksProperties,m=0,g=[],y=T(),v="clipPath",_="clip-path";for(i=0;i<a;i+=1)if(("a"!==f[i].mode&&"n"!==f[i].mode||f[i].inv||100!==f[i].o.k||f[i].o.x)&&(v="mask",_="mask"),"s"!==f[i].mode&&"i"!==f[i].mode||0!==m?u=null:((u=D("rect")).setAttribute("fill","#ffffff"),u.setAttribute("width",this.element.comp.data.w||0),u.setAttribute("height",this.element.comp.data.h||0),g.push(u)),n=D("path"),"n"===f[i].mode)this.viewData[i]={op:$.getProp(this.element,f[i].o,0,.01,this.element),prop:X.getShapeProp(this.element,f[i],3),elem:n,lastPath:""},o.appendChild(n);else{var E;if(m+=1,n.setAttribute("fill","s"===f[i].mode?"#000000":"#ffffff"),n.setAttribute("clip-rule","nonzero"),0!==f[i].x.k?(v="mask",_="mask",d=$.getProp(this.element,f[i].x,0,null,this.element),E=T(),(h=D("filter")).setAttribute("id",E),(p=D("feMorphology")).setAttribute("operator","erode"),p.setAttribute("in","SourceGraphic"),p.setAttribute("radius","0"),h.appendChild(p),o.appendChild(h),n.setAttribute("stroke","s"===f[i].mode?"#000000":"#ffffff")):(p=null,d=null),this.storedData[i]={elem:n,x:d,expan:p,lastPath:"",lastOperator:"",filterId:E,lastRadius:0},"i"===f[i].mode){c=g.length;var b=D("g");for(l=0;l<c;l+=1)b.appendChild(g[l]);var A=D("mask");A.setAttribute("mask-type","alpha"),A.setAttribute("id",y+"_"+m),A.appendChild(n),o.appendChild(A),b.setAttribute("mask","url("+s+"#"+y+"_"+m+")"),g.length=0,g.push(b)}else g.push(n);f[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:n,lastPath:"",op:$.getProp(this.element,f[i].o,0,.01,this.element),prop:X.getShapeProp(this.element,f[i],3),invRect:u},this.viewData[i].prop.k||this.drawPath(f[i],this.viewData[i].prop.v,this.viewData[i])}for(this.maskElement=D(v),a=g.length,i=0;i<a;i+=1)this.maskElement.appendChild(g[i]);m>0&&(this.maskElement.setAttribute("id",y),this.element.maskedElement.setAttribute(_,"url("+s+"#"+y+")"),o.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function It(){}function Rt(){}function kt(){}function Dt(){}function Ft(){}function Nt(t,e){this.elem=t,this.pos=e}function Lt(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=D("path"),this.msElem=null}function jt(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var s=0,i=t.length;s<i;){if(t[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}function Bt(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function Ut(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=$.getProp(t,e.o,0,.01,this),this.w=$.getProp(t,e.w,0,null,this),this.d=new nt(t,e.d||{},"svg",this),this.c=$.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function Vt(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=$.getProp(t,e.o,0,.01,this),this.c=$.getProp(t,e.c,1,255,this),this.style=r}function Ht(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function Gt(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=$.getProp(t,e.w,0,null,this),this.d=new nt(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function qt(){this.it=[],this.prevViewData=[],this.gr=D("g")}Ct.prototype.checkLayers=function(t){var e,r,s=this.layers.length;for(this.completeLayers=!0,e=s-1;e>=0;e-=1)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},Ct.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},Ct.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},Ct.prototype.createAudio=function(t){return new te(t,this.globalData,this)},Ct.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},Ct.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},Ct.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var r,s=t.length,i=this.layers.length;for(e=0;e<s;e+=1)for(r=0;r<i;){if(this.layers[r].id===t[e].id){this.layers[r]=t[e];break}r+=1}},Ct.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},Ct.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},Ct.prototype.buildElementParenting=function(t,e,r){for(var s=this.elements,i=this.layers,n=0,o=i.length;n<o;)i[n].ind==e&&(s[n]&&!0!==s[n]?(r.push(s[n]),s[n].setAsParent(),void 0!==i[n].parent?this.buildElementParenting(t,i[n].parent,r):t.setHierarchy(r)):(this.buildItem(n),this.addPendingElement(t))),n+=1},Ct.prototype.addPendingElement=function(t){this.pendingElements.push(t)},Ct.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var s=this.createComp(t[e]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},Ct.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new W,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},G([Ct],wt),wt.prototype.createNull=function(t){return new Wt(t,this.globalData,this)},wt.prototype.createShape=function(t){return new se(t,this.globalData,this)},wt.prototype.createText=function(t){return new re(t,this.globalData,this)},wt.prototype.createImage=function(t){return new Qt(t,this.globalData,this)},wt.prototype.createComp=function(t){return new ee(t,this.globalData,this)},wt.prototype.createSolid=function(t){return new Jt(t,this.globalData,this)},wt.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=D("clipPath"),i=D("rect");i.setAttribute("width",t.w),i.setAttribute("height",t.h),i.setAttribute("x",0),i.setAttribute("y",0);var n=T();r.setAttribute("id",n),r.appendChild(i),this.layerElement.setAttribute("clip-path","url("+s+"#"+n+")"),e.appendChild(r),this.layers=t.layers,this.elements=k(t.layers.length)},wt.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},wt.prototype.updateContainerSize=function(){},wt.prototype.buildItem=function(t){var r=this.elements;if(!r[t]&&99!==this.layers[t].ty){r[t]=!0;var s=this.createItem(this.layers[t]);r[t]=s,e&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(s),s.initExpressions()),this.appendElementInPos(s,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?s.setMatte(r[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(s)))}},wt.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},wt.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},wt.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var s,i=0;i<e;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(s=this.elements[i].getBaseElement()),i+=1;s?this.layerElement.insertBefore(r,s):this.layerElement.appendChild(r)}},wt.prototype.hide=function(){this.layerElement.style.display="none"},wt.prototype.show=function(){this.layerElement.style.display="block"},Ot.prototype.getMaskProperty=function(t){return this.viewData[t].prop},Ot.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,i=this.masksProperties.length;for(e=0;e<i;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var n=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+s+"#"+this.storedData[e].filterId+")")),n.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},Ot.prototype.getMaskelement=function(){return this.maskElement},Ot.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},Ot.prototype.drawPath=function(t,e,r){var s,i,n=" M"+e.v[0][0]+","+e.v[0][1];for(i=e._length,s=1;s<i;s+=1)n+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[s][0]+","+e.i[s][1]+" "+e.v[s][0]+","+e.v[s][1];if(e.c&&i>1&&(n+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==n){var o="";r.elem&&(e.c&&(o=t.inv?this.solidPath+n:n),r.elem.setAttribute("d",o)),r.lastPath=n}},Ot.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},It.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},Rt.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,s=this.dynamicProperties.length;for(r=0;r<s;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},kt.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?Y.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new V},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,s=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<s;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<s;r+=1)t=this.hierarchy[r].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r,s=!0,i=this.comp;s;)i.finalTransform?(i.data.hasMask&&e.splice(0,0,i.finalTransform),i=i.comp):s=!1;var n,o=e.length;for(r=0;r<o;r+=1)n=e[r].mat.applyToPointArray(0,0,0),t=[t[0]-n[0],t[1]-n[1],0];return t},mHelper:new V},Dt.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},G([Dt,function(t){function e(){}return e.prototype=t,e}({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],Ft),Lt.prototype.reset=function(){this.d="",this._mdf=!1},jt.prototype.setAsAnimated=function(){this._isAnimated=!0},G([N],Ut),G([N],Vt),Ht.prototype.initGradientData=function(t,e,r){this.o=$.getProp(t,e.o,0,.01,this),this.s=$.getProp(t,e.s,1,null,this),this.e=$.getProp(t,e.e,1,null,this),this.h=$.getProp(t,e.h||{k:0},0,.01,this),this.a=$.getProp(t,e.a||{k:0},0,f,this),this.g=new ot(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},Ht.prototype.setGradientData=function(t,e){var r=T(),i=D(1===e.t?"linearGradient":"radialGradient");i.setAttribute("id",r),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var n,o,a,l=[];for(a=4*e.g.p,o=0;o<a;o+=4)n=D("stop"),i.appendChild(n),l.push(n);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+s+"#"+r+")"),this.gf=i,this.cst=l},Ht.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,i,n,o=D("mask"),a=D("path");o.appendChild(a);var l=T(),c=T();o.setAttribute("id",c);var u=D(1===t.t?"linearGradient":"radialGradient");u.setAttribute("id",l),u.setAttribute("spreadMethod","pad"),u.setAttribute("gradientUnits","userSpaceOnUse"),n=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var h=this.stops;for(i=4*t.g.p;i<n;i+=2)(r=D("stop")).setAttribute("stop-color","rgb(255,255,255)"),u.appendChild(r),h.push(r);a.setAttribute("gf"===t.ty?"fill":"stroke","url("+s+"#"+l+")"),"gs"===t.ty&&(a.setAttribute("stroke-linecap",B[t.lc||2]),a.setAttribute("stroke-linejoin",U[t.lj||2]),1===t.lj&&a.setAttribute("stroke-miterlimit",t.ml)),this.of=u,this.ms=o,this.ost=h,this.maskId=c,e.msElem=a}},G([N],Ht),G([Ht,N],Gt);var zt=function(){var t=new V,e=new V;function r(t,e,r){(r||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(r||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function s(r,s,i){var n,o,a,l,c,u,h,p,d,f,m,g=s.styles.length,y=s.lvl;for(u=0;u<g;u+=1){if(l=s.sh._mdf||i,s.styles[u].lvl<y){for(p=e.reset(),f=y-s.styles[u].lvl,m=s.transformers.length-1;!l&&f>0;)l=s.transformers[m].mProps._mdf||l,f-=1,m-=1;if(l)for(f=y-s.styles[u].lvl,m=s.transformers.length-1;f>0;)d=s.transformers[m].mProps.v.props,p.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),f-=1,m-=1}else p=t;if(o=(h=s.sh.paths)._length,l){for(a="",n=0;n<o;n+=1)(c=h.shapes[n])&&c._length&&(a+=lt(c,c._length,c.c,p));s.caches[u]=a}else a=s.caches[u];s.styles[u].d+=!0===r.hd?"":a,s.styles[u]._mdf=l||s.styles[u]._mdf}}function i(t,e,r){var s=e.style;(e.c._mdf||r)&&s.pElem.setAttribute("fill","rgb("+u(e.c.v[0])+","+u(e.c.v[1])+","+u(e.c.v[2])+")"),(e.o._mdf||r)&&s.pElem.setAttribute("fill-opacity",e.o.v)}function n(t,e,r){o(t,e,r),a(0,e,r)}function o(t,e,r){var s,i,n,o,a,l=e.gf,c=e.g._hasOpacity,u=e.s.v,h=e.e.v;if(e.o._mdf||r){var p="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(p,e.o.v)}if(e.s._mdf||r){var d=1===t.t?"x1":"cx",f="x1"===d?"y1":"cy";l.setAttribute(d,u[0]),l.setAttribute(f,u[1]),c&&!e.g._collapsable&&(e.of.setAttribute(d,u[0]),e.of.setAttribute(f,u[1]))}if(e.g._cmdf||r){s=e.cst;var m=e.g.c;for(n=s.length,i=0;i<n;i+=1)(o=s[i]).setAttribute("offset",m[4*i]+"%"),o.setAttribute("stop-color","rgb("+m[4*i+1]+","+m[4*i+2]+","+m[4*i+3]+")")}if(c&&(e.g._omdf||r)){var g=e.g.o;for(n=(s=e.g._collapsable?e.cst:e.ost).length,i=0;i<n;i+=1)o=s[i],e.g._collapsable||o.setAttribute("offset",g[2*i]+"%"),o.setAttribute("stop-opacity",g[2*i+1])}if(1===t.t)(e.e._mdf||r)&&(l.setAttribute("x2",h[0]),l.setAttribute("y2",h[1]),c&&!e.g._collapsable&&(e.of.setAttribute("x2",h[0]),e.of.setAttribute("y2",h[1])));else if((e.s._mdf||e.e._mdf||r)&&(a=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)),l.setAttribute("r",a),c&&!e.g._collapsable&&e.of.setAttribute("r",a)),e.e._mdf||e.h._mdf||e.a._mdf||r){a||(a=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)));var y=Math.atan2(h[1]-u[1],h[0]-u[0]),v=e.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var _=a*v,E=Math.cos(y+e.a.v)*_+u[0],b=Math.sin(y+e.a.v)*_+u[1];l.setAttribute("fx",E),l.setAttribute("fy",b),c&&!e.g._collapsable&&(e.of.setAttribute("fx",E),e.of.setAttribute("fy",b))}}function a(t,e,r){var s=e.style,i=e.d;i&&(i._mdf||r)&&i.dashStr&&(s.pElem.setAttribute("stroke-dasharray",i.dashStr),s.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),e.c&&(e.c._mdf||r)&&s.pElem.setAttribute("stroke","rgb("+u(e.c.v[0])+","+u(e.c.v[1])+","+u(e.c.v[2])+")"),(e.o._mdf||r)&&s.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||r)&&(s.pElem.setAttribute("stroke-width",e.w.v),s.msElem&&s.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return i;case"gf":return o;case"gs":return n;case"st":return a;case"sh":case"el":case"rc":case"sr":return s;case"tr":return r;default:return null}}}}();function Kt(){}function Wt(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function $t(){}function Yt(){}function Zt(){}function Xt(){}function Qt(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function Jt(t,e,r){this.initElement(t,e,r)}function te(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?$.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function ee(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?k(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?$.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function re(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}function se(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function ie(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function ne(t,e){this.filterManager=e;var r=this.filterManager.effectElements,s=D("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),s=D("feComponentTransfer")),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}Kt.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=j(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=T(),this.data.sr||(this.data.sr=1),this.effectsManager=new he(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},Wt.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},Wt.prototype.renderFrame=function(){},Wt.prototype.getBaseElement=function(){return null},Wt.prototype.destroy=function(){},Wt.prototype.sourceRectAtTime=function(){},Wt.prototype.hide=function(){},G([Kt,kt,It,Rt],Wt),$t.prototype={initRendererElement:function(){this.layerElement=D("g")},createContainerElements:function(){this.matteElement=D("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,r,i=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var n=D("mask");n.setAttribute("id",this.layerId),n.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),n.appendChild(this.layerElement),i=n,this.globalData.defs.appendChild(n),ht.maskType||1!=this.data.td||(n.setAttribute("mask-type","luminance"),t=T(),e=pt.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(pt.createAlphaToLuminanceFilter()),(r=D("g")).appendChild(this.layerElement),i=r,n.appendChild(r),r.setAttribute("filter","url("+s+"#"+t+")"))}else if(2==this.data.td){var o=D("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type","alpha");var a=D("g");o.appendChild(a),t=T(),e=pt.createFilter(t);var l=D("feComponentTransfer");l.setAttribute("in","SourceGraphic"),e.appendChild(l);var c=D("feFuncA");c.setAttribute("type","table"),c.setAttribute("tableValues","1.0 0.0"),l.appendChild(c),this.globalData.defs.appendChild(e);var u=D("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),a.setAttribute("filter","url("+s+"#"+t+")"),a.appendChild(u),a.appendChild(this.layerElement),i=a,ht.maskType||(o.setAttribute("mask-type","luminance"),e.appendChild(pt.createAlphaToLuminanceFilter()),r=D("g"),a.appendChild(u),r.appendChild(this.layerElement),i=r,a.appendChild(r)),this.globalData.defs.appendChild(o)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var h=D("clipPath"),p=D("path");p.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=T();if(h.setAttribute("id",d),h.appendChild(p),this.globalData.defs.appendChild(h),this.checkMasks()){var f=D("g");f.setAttribute("clip-path","url("+s+"#"+d+")"),f.appendChild(this.layerElement),this.transformedElement=f,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+s+"#"+d+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new Ot(this.data,this,this.globalData),this.renderableEffectsManager=new le(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+s+"#"+t+")")}},Yt.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,s=e.length;r<s;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,s=r.length;s;)if(r[s-=1].elem===t)return void(r[s].pos=e);r.push(new Nt(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},Zt.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new yt(this,t.t,this.dynamicProperties),this.textAnimator=new ft(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},Zt.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},Zt.prototype.createPathShape=function(t,e){var r,s,i=e.length,n="";for(r=0;r<i;r+=1)s=e[r].ks.k,n+=lt(s,s.i.length,!0,t);return n},Zt.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},Zt.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},Zt.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},Zt.prototype.applyTextPropertiesToMatrix=function(t,e,r,s,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(s,i,0)},Zt.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},Zt.prototype.emptyProp=new gt,Zt.prototype.destroy=function(){},G([Kt,kt,It,Rt,Ft],Xt),Xt.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},Xt.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},Xt.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},Xt.prototype.setElements=function(t){this.elements=t},Xt.prototype.getElements=function(){return this.elements},Xt.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},Xt.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},G([Kt,kt,$t,It,Rt,Ft],Qt),Qt.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=D("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},Qt.prototype.sourceRectAtTime=function(){return this.sourceRect},G([Qt],Jt),Jt.prototype.createContent=function(){var t=D("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},te.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}},G([Dt,Kt,Rt],te),te.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},te.prototype.show=function(){},te.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},te.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},te.prototype.resume=function(){this._canPlay=!0},te.prototype.setRate=function(t){this.audio.rate(t)},te.prototype.volume=function(t){this.audio.volume(t)},te.prototype.getBaseElement=function(){return null},te.prototype.destroy=function(){},te.prototype.sourceRectAtTime=function(){},te.prototype.initExpressions=function(){},G([wt,Xt,$t],ee),G([Kt,kt,$t,It,Rt,Ft,Zt],re),re.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=D("text"))},re.prototype.buildTextContents=function(t){for(var e=0,r=t.length,s=[],i="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(s.push(i),i=""):i+=t[e],e+=1;return s.push(i),s},re.prototype.buildNewText=function(){var t,e,r=this.textProperty.currentData;this.renderedLetters=k(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var s=this.globalData.fontManager.getFontByName(r.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var i=r.fWeight,n=r.fStyle;this.layerElement.setAttribute("font-style",n),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",r.t);var o,a=r.l||[],l=!!this.globalData.fontManager.chars;e=a.length;var c,u=this.mHelper,h="",p=this.data.singleShape,d=0,f=0,m=!0,g=.001*r.tr*r.finalSize;if(!p||l||r.sz){var y,v,_=this.textSpans.length;for(t=0;t<e;t+=1)l&&p&&0!==t||(o=_>t?this.textSpans[t]:D(l?"path":"text"),_<=t&&(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=o,this.layerElement.appendChild(o)),o.style.display="inherit"),u.reset(),u.scale(r.finalSize/100,r.finalSize/100),p&&(a[t].n&&(d=-g,f+=r.yOffset,f+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(r,u,a[t].line,d,f),d+=a[t].l||0,d+=g),l?(c=(y=(v=this.globalData.fontManager.getCharData(r.finalText[t],s.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&v.data||{}).shapes?y.shapes[0].it:[],p?h+=this.createPathShape(u,c):o.setAttribute("d",this.createPathShape(u,c))):(p&&o.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),o.textContent=a[t].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));p&&o&&o.setAttribute("d",h)}else{var E=this.textContainer,b="start";switch(r.j){case 1:b="end";break;case 2:b="middle";break;default:b="start"}E.setAttribute("text-anchor",b),E.setAttribute("letter-spacing",g);var A=this.buildTextContents(r.finalText);for(e=A.length,f=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(o=this.textSpans[t]||D("tspan")).textContent=A[t],o.setAttribute("x",0),o.setAttribute("y",f),o.style.display="inherit",E.appendChild(o),this.textSpans[t]=o,f+=r.finalLineHeight;this.layerElement.appendChild(E)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},re.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},re.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,s,i=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l;for(e=n.length,t=0;t<e;t+=1)n[t].n||(r=i[t],s=this.textSpans[t],r._mdf.m&&s.setAttribute("transform",r.m),r._mdf.o&&s.setAttribute("opacity",r.o),r._mdf.sw&&s.setAttribute("stroke-width",r.sw),r._mdf.sc&&s.setAttribute("stroke",r.sc),r._mdf.fc&&s.setAttribute("fill",r.fc))}},G([Kt,kt,$t,Yt,It,Rt,Ft],se),se.prototype.initSecondaryElement=function(){},se.prototype.identityMatrix=new V,se.prototype.buildExpressionInterface=function(){},se.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},se.prototype.filterUniqueShapes=function(){var t,e,r,s,i=this.shapes.length,n=this.stylesList.length,o=[],a=!1;for(r=0;r<n;r+=1){for(s=this.stylesList[r],a=!1,o.length=0,t=0;t<i;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(s)&&(o.push(e),a=e._isAnimated||a);o.length>1&&a&&this.setShapesAsAnimated(o)}},se.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},se.prototype.createStyleElement=function(t,e){var r,i=new Lt(t,e),n=i.pElem;return"st"===t.ty?r=new Ut(this,t,i):"fl"===t.ty?r=new Vt(this,t,i):"gf"!==t.ty&&"gs"!==t.ty||(r=new("gf"===t.ty?Ht:Gt)(this,t,i),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute("mask","url("+s+"#"+r.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(n.setAttribute("stroke-linecap",B[t.lc||2]),n.setAttribute("stroke-linejoin",U[t.lj||2]),n.setAttribute("fill-opacity","0"),1===t.lj&&n.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&n.setAttribute("fill-rule","evenodd"),t.ln&&n.setAttribute("id",t.ln),t.cl&&n.setAttribute("class",t.cl),t.bm&&(n.style["mix-blend-mode"]=j(t.bm)),this.stylesList.push(i),this.addToAnimatedContents(t,r),r},se.prototype.createGroupElement=function(t){var e=new qt;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=j(t.bm)),e},se.prototype.createTransformElement=function(t,e){var r=Y.getTransformProperty(this,t,this),s=new Bt(r,r.o,e);return this.addToAnimatedContents(t,s),s},se.prototype.createShapeElement=function(t,e,r){var s=4;"rc"===t.ty?s=5:"el"===t.ty?s=6:"sr"===t.ty&&(s=7);var i=new jt(e,r,X.getShapeProp(this,t,s,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(t,i),i},se.prototype.addToAnimatedContents=function(t,e){for(var r=0,s=this.animatedContents.length;r<s;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:zt.createRenderFunction(t),element:e,data:t})},se.prototype.setElementStyles=function(t){var e,r=t.styles,s=this.stylesList.length;for(e=0;e<s;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},se.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},se.prototype.searchShapes=function(t,e,r,s,i,n,o){var a,l,c,u,h,p,d=[].concat(n),f=t.length-1,m=[],g=[];for(a=f;a>=0;a-=1){if((p=this.searchProcessedElement(t[a]))?e[a]=r[p-1]:t[a]._render=o,"fl"===t[a].ty||"st"===t[a].ty||"gf"===t[a].ty||"gs"===t[a].ty)p?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],i),t[a]._render&&s.appendChild(e[a].style.pElem),m.push(e[a].style);else if("gr"===t[a].ty){if(p)for(c=e[a].it.length,l=0;l<c;l+=1)e[a].prevViewData[l]=e[a].it[l];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,e[a].gr,i+1,d,o),t[a]._render&&s.appendChild(e[a].gr)}else"tr"===t[a].ty?(p||(e[a]=this.createTransformElement(t[a],s)),u=e[a].transform,d.push(u)):"sh"===t[a].ty||"rc"===t[a].ty||"el"===t[a].ty||"sr"===t[a].ty?(p||(e[a]=this.createShapeElement(t[a],d,i)),this.setElementStyles(e[a])):"tm"===t[a].ty||"rd"===t[a].ty||"ms"===t[a].ty||"pb"===t[a].ty?(p?(h=e[a]).closed=!1:((h=Q.getModifier(t[a].ty)).init(this,t[a]),e[a]=h,this.shapeModifiers.push(h)),g.push(h)):"rp"===t[a].ty&&(p?(h=e[a]).closed=!0:(h=Q.getModifier(t[a].ty),e[a]=h,h.init(this,t,a,e),this.shapeModifiers.push(h),o=!1),g.push(h));this.addProcessedElement(t[a],a+1)}for(f=m.length,a=0;a<f;a+=1)m[a].closed=!0;for(f=g.length,a=0;a<f;a+=1)g[a].closed=!0},se.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},se.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},se.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},ie.prototype.initialize=function(){var t,e,r,i,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(i=this.elem.maskManager.masksProperties.length,r=0):i=1+(r=this.filterManager.effectElements[0].p.v-1),(e=D("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<i;r+=1)t=D("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var o=D("mask"),a=T();o.setAttribute("id",a),o.setAttribute("mask-type","alpha"),o.appendChild(e),this.elem.globalData.defs.appendChild(o);var l=D("g");for(l.setAttribute("mask","url("+s+"#"+a+")");n[0];)l.appendChild(n[0]);this.elem.layerElement.appendChild(l),this.masker=o,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},ie.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var r,s,i=this.paths.length;for(e=0;e<i;e+=1)if(-1!==this.paths[e].m&&(r=this.elem.maskManager.viewData[this.paths[e].m],s=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&s.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var n;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=s.getTotalLength();n="0 0 0 "+l*o+" ";var c,h=l*(a-o),p=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,d=Math.floor(h/p);for(c=0;c<d;c+=1)n+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";n+="0 "+10*l+" 0 0"}else n="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;s.setAttribute("stroke-dasharray",n)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var f=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+u(255*f[0])+","+u(255*f[1])+","+u(255*f[2])+")")}},ne.prototype.createFeFunc=function(t,e){var r=D(t);return r.setAttribute("type","table"),e.appendChild(r),r},ne.prototype.getTableValue=function(t,e,r,s,i){for(var n,o,a=0,l=Math.min(t,e),c=Math.max(t,e),u=Array.call(null,{length:256}),h=0,p=i-s,d=e-t;a<=256;)o=(n=a/256)<=l?d<0?i:s:n>=c?d<0?s:i:s+p*Math.pow((n-t)/d,1/r),u[h]=o,h+=1,a+=256/255;return u.join(" ")},ne.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};var oe=[];function ae(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=D("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function le(){}ae.prototype.findSymbol=function(t){for(var e=0,r=oe.length;e<r;){if(oe[e]===t)return oe[e];e+=1}return null},ae.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var s,i=r.children,n=0,o=i.length;n<o&&i[n]!==t.layerElement;)n+=1;n<=o-2&&(s=i[n+1]);var a=D("use");a.setAttribute("href","#"+e),s?r.insertBefore(a,s):r.appendChild(a)}},ae.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=T(),s=D("mask");s.setAttribute("id",e.layerId),s.setAttribute("mask-type","alpha"),oe.push(e);var i=t.globalData.defs;i.appendChild(s);var n=D("symbol");n.setAttribute("id",r),this.replaceInParent(e,r),n.appendChild(e.layerElement),i.appendChild(n);var o=D("use");o.setAttribute("href","#"+r),s.appendChild(o),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},ae.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,s=e.length;r<s;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},ae.prototype.renderFrame=function(){this.initialized||this.initialize()};var ce=function(){var e={},r=[],s=0,i=0,n=0,o=!0,a=!1;function l(t){for(var e=0,s=t.target;e<i;)r[e].animation===s&&(r.splice(e,1),e-=1,i-=1,s.isPaused||h()),e+=1}function c(t,e){if(!t)return null;for(var s=0;s<i;){if(r[s].elem===t&&null!==r[s].elem)return r[s].animation;s+=1}var n=new ue;return p(n,t),n.setData(t,e),n}function u(){n+=1,m()}function h(){n-=1}function p(t,e){t.addEventListener("destroy",l),t.addEventListener("_active",u),t.addEventListener("_idle",h),r.push({elem:e,animation:t}),i+=1}function d(e){var l,c=e-s;for(l=0;l<i;l+=1)r[l].animation.advanceTime(c);s=e,n&&!a?t.requestAnimationFrame(d):o=!0}function f(e){s=e,t.requestAnimationFrame(d)}function m(){!a&&n&&o&&(t.requestAnimationFrame(f),o=!1)}return e.registerAnimation=c,e.loadAnimation=function(t){var e=new ue;return p(e,null),e.setParams(t),e},e.setSpeed=function(t,e){var s;for(s=0;s<i;s+=1)r[s].animation.setSpeed(t,e)},e.setDirection=function(t,e){var s;for(s=0;s<i;s+=1)r[s].animation.setDirection(t,e)},e.play=function(t){var e;for(e=0;e<i;e+=1)r[e].animation.play(t)},e.pause=function(t){var e;for(e=0;e<i;e+=1)r[e].animation.pause(t)},e.stop=function(t){var e;for(e=0;e<i;e+=1)r[e].animation.stop(t)},e.togglePause=function(t){var e;for(e=0;e<i;e+=1)r[e].animation.togglePause(t)},e.searchAnimations=function(t,e,r){var s,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),n=i.length;for(s=0;s<n;s+=1)r&&i[s].setAttribute("data-bm-type",r),c(i[s],t);if(e&&0===n){r||(r="svg");var o=document.getElementsByTagName("body")[0];o.innerText="";var a=F("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",r),o.appendChild(a),c(a,t)}},e.resize=function(){var t;for(t=0;t<i;t+=1)r[t].animation.resize()},e.goToAndStop=function(t,e,s){var n;for(n=0;n<i;n+=1)r[n].animation.goToAndStop(t,e,s)},e.destroy=function(t){var e;for(e=i-1;e>=0;e-=1)r[e].animation.destroy(t)},e.freeze=function(){a=!0},e.unfreeze=function(){a=!1,m()},e.setVolume=function(t,e){var s;for(s=0;s<i;s+=1)r[s].animation.setVolume(t,e)},e.mute=function(t){var e;for(e=0;e<i;e+=1)r[e].animation.mute(t)},e.unmute=function(t){var e;for(e=0;e<i;e+=1)r[e].animation.unmute(t)},e.getRegisteredAnimations=function(){var t,e=r.length,s=[];for(t=0;t<e;t+=1)s.push(r[t].animation);return s},e}(),ue=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=T(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=n,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface={},this.imagePreloader=new ut,this.audioController=ct(),this.markers=[]};function he(){this.effectElements=[]}G([I],ue),ue.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";switch(t.animType?e=t.animType:t.renderer&&(e=t.renderer),e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new wt(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.configAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dt.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},ue.prototype.setData=function(t,e){e&&"object"!=typeof e&&(e=JSON.parse(e));var r={wrapper:t,animationData:e},s=t.attributes;r.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",r.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:"canvas";var i=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";"false"===i?r.loop=!1:"true"===i?r.loop=!0:""!==i&&(r.loop=parseInt(i,10));var n=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value;r.autoplay="false"!==n,r.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},ue.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var r,s,i=this.animationData.layers,n=i.length,o=t.layers,a=o.length;for(s=0;s<a;s+=1)for(r=0;r<n;){if(i[r].id===o[s].id){i[r]=o[s];break}r+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(n=t.assets.length,r=0;r<n;r+=1)this.animationData.assets.push(t.assets[r]);this.animationData.__complete=!1,z.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),e&&e.initExpressions(this),this.loadNextSegment()},ue.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dt.load(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},ue.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},ue.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},ue.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},ue.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=Pt(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},ue.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},ue.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,z.completeData(this.animationData,this.renderer.globalData.fontManager),e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},ue.prototype.resize=function(){this.renderer.updateContainerSize()},ue.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},ue.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},ue.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},ue.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},ue.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},ue.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},ue.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},ue.prototype.getMarkerData=function(t){for(var e,r=0;r<this.markers.length;r+=1)if((e=this.markers[r]).payload&&e.payload.name===t)return e;return null},ue.prototype.goToAndStop=function(t,e,r){if(!r||this.name===r){var s=Number(t);if(isNaN(s)){var i=this.getMarkerData(t);i&&this.goToAndStop(i.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},ue.prototype.goToAndPlay=function(t,e,r){if(!r||this.name===r){var s=Number(t);if(isNaN(s)){var i=this.getMarkerData(t);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(s,e,r);this.play()}},ue.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},ue.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},ue.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},ue.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var r,s=t.length;for(r=0;r<s;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},ue.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},ue.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},ue.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},ue.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},ue.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},ue.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},ue.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},ue.prototype.getVolume=function(){return this.audioController.getVolume()},ue.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},ue.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},ue.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},ue.prototype.getPath=function(){return this.path},ue.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},ue.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},ue.prototype.hide=function(){this.renderer.hide()},ue.prototype.show=function(){this.renderer.show()},ue.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},ue.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new y(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new _(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new v(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new E(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new b(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new y(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new _(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new v(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new E(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new b(t,this))},ue.prototype.triggerRenderFrameError=function(t){var e=new A(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},ue.prototype.triggerConfigError=function(t){var e=new x(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var pe={};function de(){!0===me?ce.searchAnimations(ge,me,ye):ce.searchAnimations()}pe.play=ce.play,pe.pause=ce.pause,pe.setLocationHref=function(t){s=t},pe.togglePause=ce.togglePause,pe.setSpeed=ce.setSpeed,pe.setDirection=ce.setDirection,pe.stop=ce.stop,pe.searchAnimations=de,pe.registerAnimation=ce.registerAnimation,pe.loadAnimation=function(t){return!0===me&&(t.animationData=JSON.parse(ge)),ce.loadAnimation(t)},pe.setSubframeRendering=function(t){n=t},pe.resize=ce.resize,pe.goToAndStop=ce.goToAndStop,pe.destroy=ce.destroy,pe.setQuality=function(t){if("string"==typeof t)switch(t){case"high":d=200;break;default:case"medium":d=50;break;case"low":d=10}else!isNaN(t)&&t>1&&(d=t);g(!(d>=50))},pe.inBrowser=function(){return"undefined"!=typeof navigator},pe.installPlugin=function(t,r){"expressions"===t&&(e=r)},pe.freeze=ce.freeze,pe.unfreeze=ce.unfreeze,pe.setVolume=ce.setVolume,pe.mute=ce.mute,pe.unmute=ce.unmute,pe.getRegisteredAnimations=ce.getRegisteredAnimations,pe.setIDPrefix=function(t){o=t},pe.__getFactory=function(t){switch(t){case"propertyFactory":return $;case"shapePropertyFactory":return X;case"matrix":return V;default:return null}},pe.version="5.7.13";var fe,me="__[STANDALONE]__",ge="__[ANIMATIONDATA]__",ye="";if(me){var ve=document.getElementsByTagName("script"),_e=ve[ve.length-1]||{src:""};fe=_e.src.replace(/^[^\?]+\??/,""),ye=function(t){for(var e=fe.split("&"),r=0;r<e.length;r+=1){var s=e[r].split("=");if(decodeURIComponent(s[0])==t)return decodeURIComponent(s[1])}return null}("renderer")}var Ee=setInterval((function(){"complete"===document.readyState&&(clearInterval(Ee),de())}),100);return pe}(i)}.call(e,r,e,t))||(t.exports=s))},67732:(t,e,r)=>{"use strict";var s=r(67483),i=r(62585),n=r(21607).Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(t,e){return t<<e|t>>>32-e}function c(t,e,r,s,i,n,o){return l(t+(e&r|~e&s)+i+n|0,o)+e|0}function u(t,e,r,s,i,n,o){return l(t+(e&s|r&~s)+i+n|0,o)+e|0}function h(t,e,r,s,i,n,o){return l(t+(e^r^s)+i+n|0,o)+e|0}function p(t,e,r,s,i,n,o){return l(t+(r^(e|~s))+i+n|0,o)+e|0}s(a,i),a.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,s=this._b,i=this._c,n=this._d;r=c(r,s,i,n,t[0],3614090360,7),n=c(n,r,s,i,t[1],3905402710,12),i=c(i,n,r,s,t[2],606105819,17),s=c(s,i,n,r,t[3],3250441966,22),r=c(r,s,i,n,t[4],4118548399,7),n=c(n,r,s,i,t[5],1200080426,12),i=c(i,n,r,s,t[6],2821735955,17),s=c(s,i,n,r,t[7],4249261313,22),r=c(r,s,i,n,t[8],1770035416,7),n=c(n,r,s,i,t[9],2336552879,12),i=c(i,n,r,s,t[10],4294925233,17),s=c(s,i,n,r,t[11],2304563134,22),r=c(r,s,i,n,t[12],1804603682,7),n=c(n,r,s,i,t[13],4254626195,12),i=c(i,n,r,s,t[14],2792965006,17),r=u(r,s=c(s,i,n,r,t[15],1236535329,22),i,n,t[1],4129170786,5),n=u(n,r,s,i,t[6],3225465664,9),i=u(i,n,r,s,t[11],643717713,14),s=u(s,i,n,r,t[0],3921069994,20),r=u(r,s,i,n,t[5],3593408605,5),n=u(n,r,s,i,t[10],38016083,9),i=u(i,n,r,s,t[15],3634488961,14),s=u(s,i,n,r,t[4],3889429448,20),r=u(r,s,i,n,t[9],568446438,5),n=u(n,r,s,i,t[14],3275163606,9),i=u(i,n,r,s,t[3],4107603335,14),s=u(s,i,n,r,t[8],1163531501,20),r=u(r,s,i,n,t[13],2850285829,5),n=u(n,r,s,i,t[2],4243563512,9),i=u(i,n,r,s,t[7],1735328473,14),r=h(r,s=u(s,i,n,r,t[12],2368359562,20),i,n,t[5],4294588738,4),n=h(n,r,s,i,t[8],2272392833,11),i=h(i,n,r,s,t[11],1839030562,16),s=h(s,i,n,r,t[14],4259657740,23),r=h(r,s,i,n,t[1],2763975236,4),n=h(n,r,s,i,t[4],1272893353,11),i=h(i,n,r,s,t[7],4139469664,16),s=h(s,i,n,r,t[10],3200236656,23),r=h(r,s,i,n,t[13],681279174,4),n=h(n,r,s,i,t[0],3936430074,11),i=h(i,n,r,s,t[3],3572445317,16),s=h(s,i,n,r,t[6],76029189,23),r=h(r,s,i,n,t[9],3654602809,4),n=h(n,r,s,i,t[12],3873151461,11),i=h(i,n,r,s,t[15],530742520,16),r=p(r,s=h(s,i,n,r,t[2],3299628645,23),i,n,t[0],4096336452,6),n=p(n,r,s,i,t[7],1126891415,10),i=p(i,n,r,s,t[14],2878612391,15),s=p(s,i,n,r,t[5],4237533241,21),r=p(r,s,i,n,t[12],1700485571,6),n=p(n,r,s,i,t[3],2399980690,10),i=p(i,n,r,s,t[10],4293915773,15),s=p(s,i,n,r,t[1],2240044497,21),r=p(r,s,i,n,t[8],1873313359,6),n=p(n,r,s,i,t[15],4264355552,10),i=p(i,n,r,s,t[6],2734768916,15),s=p(s,i,n,r,t[13],1309151649,21),r=p(r,s,i,n,t[4],4149444226,6),n=p(n,r,s,i,t[11],3174756917,10),i=p(i,n,r,s,t[2],718787259,15),s=p(s,i,n,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+s|0,this._c=this._c+i|0,this._d=this._d+n|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},13239:t=>{"use strict";var e={};function r(t,s){var i;return"string"!=typeof s&&(s=r.defaultChars),i=function(t){var r,s,i=e[t];if(i)return i;for(i=e[t]=[],r=0;r<128;r++)s=String.fromCharCode(r),i.push(s);for(r=0;r<t.length;r++)i[s=t.charCodeAt(r)]="%"+("0"+s.toString(16).toUpperCase()).slice(-2);return i}(s),t.replace(/(%[a-f0-9]{2})+/gi,(function(t){var e,r,s,n,o,a,l,c="";for(e=0,r=t.length;e<r;e+=3)(s=parseInt(t.slice(e+1,e+3),16))<128?c+=i[s]:192==(224&s)&&e+3<r&&128==(192&(n=parseInt(t.slice(e+4,e+6),16)))?(c+=(l=s<<6&1984|63&n)<128?"��":String.fromCharCode(l),e+=3):224==(240&s)&&e+6<r&&(n=parseInt(t.slice(e+4,e+6),16),o=parseInt(t.slice(e+7,e+9),16),128==(192&n)&&128==(192&o))?(c+=(l=s<<12&61440|n<<6&4032|63&o)<2048||l>=55296&&l<=57343?"���":String.fromCharCode(l),e+=6):240==(248&s)&&e+9<r&&(n=parseInt(t.slice(e+4,e+6),16),o=parseInt(t.slice(e+7,e+9),16),a=parseInt(t.slice(e+10,e+12),16),128==(192&n)&&128==(192&o)&&128==(192&a))?((l=s<<18&1835008|n<<12&258048|o<<6&4032|63&a)<65536||l>1114111?c+="����":(l-=65536,c+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),e+=9):c+="�";return c}))}r.defaultChars=";/?:@&=+$,#",r.componentChars="",t.exports=r},77385:t=>{"use strict";var e={};function r(t,s,i){var n,o,a,l,c,u="";for("string"!=typeof s&&(i=s,s=r.defaultChars),void 0===i&&(i=!0),c=function(t){var r,s,i=e[t];if(i)return i;for(i=e[t]=[],r=0;r<128;r++)s=String.fromCharCode(r),/^[0-9a-z]$/i.test(s)?i.push(s):i.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2));for(r=0;r<t.length;r++)i[t.charCodeAt(r)]=t[r];return i}(s),n=0,o=t.length;n<o;n++)if(a=t.charCodeAt(n),i&&37===a&&n+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3)))u+=t.slice(n,n+3),n+=2;else if(a<128)u+=c[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<o&&(l=t.charCodeAt(n+1))>=56320&&l<=57343){u+=encodeURIComponent(t[n]+t[n+1]),n++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(t[n]);return u}r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",t.exports=r},54772:(t,e,r)=>{var s=r(28891),i=r(1512);function n(t){this.rand=t||new i.Rand}t.exports=n,n.create=function(t){return new n(t)},n.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var i=new s(this.rand.generate(r))}while(i.cmp(t)>=0);return i},n.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},n.prototype.test=function(t,e,r){var i=t.bitLength(),n=s.mont(t),o=new s(1).toRed(n);e||(e=Math.max(1,i/48|0));for(var a=t.subn(1),l=0;!a.testn(l);l++);for(var c=t.shrn(l),u=a.toRed(n);e>0;e--){var h=this._randrange(new s(2),a);r&&r(h);var p=h.toRed(n).redPow(c);if(0!==p.cmp(o)&&0!==p.cmp(u)){for(var d=1;d<l;d++){if(0===(p=p.redSqr()).cmp(o))return!1;if(0===p.cmp(u))break}if(d===l)return!1}}return!0},n.prototype.getDivisor=function(t,e){var r=t.bitLength(),i=s.mont(t),n=new s(1).toRed(i);e||(e=Math.max(1,r/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var l=t.shrn(a),c=o.toRed(i);e>0;e--){var u=this._randrange(new s(2),o),h=t.gcd(u);if(0!==h.cmpn(1))return h;var p=u.toRed(i).redPow(l);if(0!==p.cmp(n)&&0!==p.cmp(c)){for(var d=1;d<a;d++){if(0===(p=p.redSqr()).cmp(n))return p.fromRed().subn(1).gcd(t);if(0===p.cmp(c))break}if(d===a)return(p=p.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},53:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},73721:(t,e)=>{"use strict";var r=e;function s(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=s(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var s=0;s<t.length;s++)r[s]=0|t[s];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),s=0;s<t.length;s+=2)r.push(parseInt(t[s]+t[s+1],16));else for(s=0;s<t.length;s++){var i=t.charCodeAt(s),n=i>>8,o=255&i;n?r.push(n,o):r.push(o)}return r},r.zero2=s,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}},19704:(t,e,r)=>{var s=r(73656),i=r(96719),n=r(96704).PassThrough,o=r(96704).PassThrough,a=r(52458),l=[].slice,c={bubbleErrors:!1,objectMode:!0};t.exports=function(t,e,r){Array.isArray(t)||(t=l.call(arguments),e=null,r=null);var u=t[t.length-1];"function"==typeof u&&(r=t.splice(-1)[0],u=t[t.length-1]),"object"==typeof u&&"function"!=typeof u.pipe&&(e=t.splice(-1)[0]);var h,p=t[0],d=t[t.length-1];if(e=a({},c,e),!p)return r&&s.nextTick(r),new n(e);if(h=p.writable&&d.readable?i(e,p,d):1==t.length?new o(e).wrap(t[0]):p.writable?p:d.readable?d:new n(e),t.forEach((function(e,r){var s=t[r+1];s&&e.pipe(s),e!=h&&e.on("error",h.emit.bind(h,"error"))})),r){var f=!1;function m(t){f||(f=!0,r(t))}h.on("error",m),d.on("finish",(function(){m()})),d.on("close",(function(){m()}))}return h}},52458:t=>{"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(t){s[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(t){return!1}}()?Object.assign:function(t,i){for(var n,o,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))r.call(n,c)&&(a[c]=n[c]);if(e){o=e(n);for(var u=0;u<o.length;u++)s.call(n,o[u])&&(a[o[u]]=n[o[u]])}}return a}},71544:(t,e,r)=>{t.exports=r(71544)},47983:(t,e,r)=>{"use strict";var s=r(41469);e.certificate=r(50775);var i=s.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=i;var n=s.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=n;var o=s.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));e.PublicKey=o;var a=s.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),l=s.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=l;var c=s.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=c;var u=s.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=u,e.DSAparam=s.define("DSAparam",(function(){this.int()}));var h=s.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=h;var p=s.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));e.signature=s.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},50775:(t,e,r)=>{"use strict";var s=r(41469),i=s.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),n=s.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),o=s.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=s.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())})),l=s.define("RelativeDistinguishedName",(function(){this.setof(n)})),c=s.define("RDNSequence",(function(){this.seqof(l)})),u=s.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),h=s.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),p=s.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=s.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(u),this.key("validity").use(h),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())})),f=s.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())}));t.exports=f},88759:(t,e,r)=>{var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=r(59409),a=r(43962),l=r(21607).Buffer;t.exports=function(t,e){var r,c=t.toString(),u=c.match(s);if(u){var h="aes"+u[1],p=l.from(u[2],"hex"),d=l.from(u[3].replace(/[\r\n]/g,""),"base64"),f=o(e,p.slice(0,8),parseInt(u[1],10)).key,m=[],g=a.createDecipheriv(h,f,p);m.push(g.update(d)),m.push(g.final()),r=l.concat(m)}else{var y=c.match(n);r=l.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:r}}},8742:(t,e,r)=>{var s=r(47983),i=r(79629),n=r(88759),o=r(43962),a=r(33803),l=r(21607).Buffer;function c(t){var e;"object"!=typeof t||l.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=l.from(t));var r,c,u=n(t,e),h=u.tag,p=u.data;switch(h){case"CERTIFICATE":c=s.certificate.decode(p,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=s.PublicKey.decode(p,"der")),r=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=s.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":p=function(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,s=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=i[t.algorithm.decrypt.cipher.algo.join(".")],c=t.algorithm.decrypt.cipher.iv,u=t.subjectPrivateKey,h=parseInt(n.split("-")[1],10)/8,p=a.pbkdf2Sync(e,r,s,h,"sha1"),d=o.createDecipheriv(n,p,c),f=[];return f.push(d.update(u)),f.push(d.final()),l.concat(f)}(p=s.EncryptedPrivateKey.decode(p,"der"),e);case"PRIVATE KEY":switch(r=(c=s.PrivateKey.decode(p,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:s.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=s.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(p,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(p,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(p,"der")};case"EC PRIVATE KEY":return{curve:(p=s.ECPrivateKey.decode(p,"der")).parameters.value,privateKey:p.privateKey};default:throw new Error("unknown key type "+h)}}t.exports=c,c.signature=s.signature},54156:t=>{t.exports=function(t){if("string"!=typeof t)throw new TypeError("expected a string.");return 1===(t=t.replace(/([A-Z])/g," $1")).length?t.toUpperCase():(t=(t=t.replace(/^[\W_]+|[\W_]+$/g,"").toLowerCase()).charAt(0).toUpperCase()+t.slice(1)).replace(/[\W_]+(\w|$)/g,(function(t,e){return e.toUpperCase()}))}},43943:t=>{t.exports=u,t.exports.match=function(t,e){var r=[];return i(u(t,r,e),r)},t.exports.regexpToFunction=i,t.exports.parse=s,t.exports.compile=function(t,e){return n(s(t,e),e)},t.exports.tokensToFunction=n,t.exports.tokensToRegExp=c;var e="/",r=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function s(t,s){for(var i,n=[],l=0,c=0,u="",h=s&&s.delimiter||e,p=s&&s.whitelist||void 0,d=!1;null!==(i=r.exec(t));){var f=i[0],m=i[1],g=i.index;if(u+=t.slice(c,g),c=g+f.length,m)u+=m[1],d=!0;else{var y="",v=i[2],_=i[3],E=i[4],b=i[5];if(!d&&u.length){var A=u.length-1,x=u[A];(!p||p.indexOf(x)>-1)&&(y=x,u=u.slice(0,A))}u&&(n.push(u),u="",d=!1);var S="+"===b||"*"===b,T="?"===b||"*"===b,M=_||E,P=y||h;n.push({name:v||l++,prefix:y,delimiter:P,optional:T,repeat:S,pattern:M?a(M):"[^"+o(P===h?P:P+h)+"]+?"})}}return(u||c<t.length)&&n.push(u+t.substr(c)),n}function i(t,e){return function(r,s){var i=t.exec(r);if(!i)return!1;for(var n=i[0],o=i.index,a={},l=s&&s.decode||decodeURIComponent,c=1;c<i.length;c++)if(void 0!==i[c]){var u=e[c-1];u.repeat?a[u.name]=i[c].split(u.delimiter).map((function(t){return l(t,u)})):a[u.name]=l(i[c],u)}return{path:n,index:o,params:a}}}function n(t,e){for(var r=new Array(t.length),s=0;s<t.length;s++)"object"==typeof t[s]&&(r[s]=new RegExp("^(?:"+t[s].pattern+")$",l(e)));return function(e,s){for(var i="",n=s&&s.encode||encodeURIComponent,o=!s||!1!==s.validate,a=0;a<t.length;a++){var l=t[a];if("string"!=typeof l){var c,u=e?e[l.name]:void 0;if(Array.isArray(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but got array');if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<u.length;h++){if(c=n(u[h],l),o&&!r[a].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'"');i+=(0===h?l.prefix:l.delimiter)+c}}else if("string"!=typeof u&&"number"!=typeof u&&"boolean"!=typeof u){if(!l.optional)throw new TypeError('Expected "'+l.name+'" to be '+(l.repeat?"an array":"a string"))}else{if(c=n(String(u),l),o&&!r[a].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function o(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function a(t){return t.replace(/([=!:$/()])/g,"\\$1")}function l(t){return t&&t.sensitive?"":"i"}function c(t,r,s){for(var i=(s=s||{}).strict,n=!1!==s.start,a=!1!==s.end,c=s.delimiter||e,u=[].concat(s.endsWith||[]).map(o).concat("$").join("|"),h=n?"^":"",p=0;p<t.length;p++){var d=t[p];if("string"==typeof d)h+=o(d);else{var f=d.repeat?"(?:"+d.pattern+")(?:"+o(d.delimiter)+"(?:"+d.pattern+"))*":d.pattern;r&&r.push(d),d.optional?d.prefix?h+="(?:"+o(d.prefix)+"("+f+"))?":h+="("+f+")?":h+=o(d.prefix)+"("+f+")"}}if(a)i||(h+="(?:"+o(c)+")?"),h+="$"===u?"$":"(?="+u+")";else{var m=t[t.length-1],g="string"==typeof m?m[m.length-1]===c:void 0===m;i||(h+="(?:"+o(c)+"(?="+u+"))?"),g||(h+="(?="+o(c)+"|"+u+")")}return new RegExp(h,l(s))}function u(t,e,r){return t instanceof RegExp?function(t,e){if(!e)return t;var r=t.source.match(/\((?!\?)/g);if(r)for(var s=0;s<r.length;s++)e.push({name:s,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,r){for(var s=[],i=0;i<t.length;i++)s.push(u(t[i],e,r).source);return new RegExp("(?:"+s.join("|")+")",l(r))}(t,e,r):function(t,e,r){return c(s(t,r),e,r)}(t,e,r)}},33803:(t,e,r)=>{e.pbkdf2=r(59601),e.pbkdf2Sync=r(68358)},59601:(t,e,r)=>{var s,i,n=r(21607).Buffer,o=r(45323),a=r(87663),l=r(68358),c=r(43623),u=r.g.crypto&&r.g.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];function d(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function f(t,e,r,s,i){return u.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return u.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},t,s<<3)})).then((function(t){return n.from(t)}))}t.exports=function(t,e,i,m,g,y){"function"==typeof g&&(y=g,g=void 0);var v=h[(g=g||"sha1").toLowerCase()];if(v&&"function"==typeof r.g.Promise){if(o(i,m),t=c(t,a,"Password"),e=c(e,a,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){d()((function(){e(null,t)}))}),(function(t){d()((function(){e(t)}))}))}(function(t){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==p[t])return p[t];var e=f(s=s||n.alloc(8),s,10,128,t).then((function(){return!0})).catch((function(){return!1}));return p[t]=e,e}(v).then((function(r){return r?f(t,e,i,m,v):l(t,e,i,m,g)})),y)}else d()((function(){var r;try{r=l(t,e,i,m,g)}catch(t){return y(t)}y(null,r)}))}},87663:(t,e,r)=>{var s,i=r(73656);s=r.g.process&&r.g.process.browser?"utf-8":r.g.process&&r.g.process.version?parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",t.exports=s},45323:t=>{var e=Math.pow(2,30)-1;t.exports=function(t,r){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>e||r!=r)throw new TypeError("Bad key length")}},68358:(t,e,r)=>{var s=r(87522),i=r(22016),n=r(55402),o=r(21607).Buffer,a=r(45323),l=r(87663),c=r(43623),u=o.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(t,e,r){var a=function(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new i).update(t).digest()}:"md5"===t?s:function(e){return n(t).update(e).digest()}}(t),l="sha512"===t||"sha384"===t?128:64;e.length>l?e=a(e):e.length<l&&(e=o.concat([e,u],l));for(var c=o.allocUnsafe(l+h[t]),p=o.allocUnsafe(l+h[t]),d=0;d<l;d++)c[d]=54^e[d],p[d]=92^e[d];var f=o.allocUnsafe(l+r+4);c.copy(f,0,0,l),this.ipad1=f,this.ipad2=c,this.opad=p,this.alg=t,this.blocksize=l,this.hash=a,this.size=h[t]}p.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,s,i){a(r,s);var n=new p(i=i||"sha1",t=c(t,l,"Password"),(e=c(e,l,"Salt")).length),u=o.allocUnsafe(s),d=o.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var f=0,m=h[i],g=Math.ceil(s/m),y=1;y<=g;y++){d.writeUInt32BE(y,e.length);for(var v=n.run(d,n.ipad1),_=v,E=1;E<r;E++){_=n.run(_,n.ipad2);for(var b=0;b<m;b++)v[b]^=_[b]}v.copy(u,f),f+=m}return u}},43623:(t,e,r)=>{var s=r(21607).Buffer;t.exports=function(t,e,r){if(s.isBuffer(t))return t;if("string"==typeof t)return s.from(t,e);if(ArrayBuffer.isView(t))return s.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},5992:t=>{"use strict";t.exports=function(t,e){var r;return 0===e&&"zero"in t&&(r="zero"),t[r=r||(1===e?"one":"other")]}},6646:(t,e,r)=>{"use strict";var s=r(73656);void 0===s||!s.version||0===s.version.indexOf("v0.")||0===s.version.indexOf("v1.")&&0!==s.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var n,o,a=arguments.length;switch(a){case 0:case 1:return s.nextTick(t);case 2:return s.nextTick((function(){t.call(null,e)}));case 3:return s.nextTick((function(){t.call(null,e,r)}));case 4:return s.nextTick((function(){t.call(null,e,r,i)}));default:for(n=new Array(a-1),o=0;o<n.length;)n[o++]=arguments[o];return s.nextTick((function(){t.apply(null,n)}))}}}:t.exports=s},73656:t=>{var e,r,s=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:n}catch(t){r=n}}();var a,l=[],c=!1,u=-1;function h(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&p())}function p(){if(!c){var t=o(h);c=!0;for(var e=l.length;e;){for(a=l,l=[];++u<e;)a&&a[u].run();u=-1,e=l.length}a=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===n||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function f(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new d(t,e)),1!==l.length||c||o(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},31772:(t,e,r)=>{"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=r(25148);function i(){}function n(){}n.resetWarningCache=i,t.exports=function(){function t(t,e,r,i,n,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:n,resetWarningCache:i};return r.PropTypes=r,r}},7862:(t,e,r)=>{t.exports=r(31772)()},25148:t=>{"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},65938:(t,e,r)=>{e.publicEncrypt=r(68741),e.privateDecrypt=r(60220),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}},70439:(t,e,r)=>{var s=r(20160),i=r(21607).Buffer;function n(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,o=i.alloc(0),a=0;o.length<e;)r=n(a++),o=i.concat([o,s("sha1").update(t).update(r).digest()]);return o.slice(0,e)}},60220:(t,e,r)=>{var s=r(8742),i=r(70439),n=r(35115),o=r(28891),a=r(57364),l=r(20160),c=r(34546),u=r(21607).Buffer;t.exports=function(t,e,r){var h;h=t.padding?t.padding:r?1:4;var p,d=s(t),f=d.modulus.byteLength();if(e.length>f||new o(e).cmp(d.modulus)>=0)throw new Error("decryption error");p=r?c(new o(e),d):a(e,d);var m=u.alloc(f-p.length);if(p=u.concat([m,p],f),4===h)return function(t,e){var r=t.modulus.byteLength(),s=l("sha1").update(u.alloc(0)).digest(),o=s.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,o+1),c=e.slice(o+1),h=n(a,i(c,o)),p=n(c,i(h,r-o-1));if(function(t,e){t=u.from(t),e=u.from(e);var r=0,s=t.length;t.length!==e.length&&(r++,s=Math.min(t.length,e.length));for(var i=-1;++i<s;)r+=t[i]^e[i];return r}(s,p.slice(0,o)))throw new Error("decryption error");for(var d=o;0===p[d];)d++;if(1!==p[d++])throw new Error("decryption error");return p.slice(d)}(d,p);if(1===h)return function(t,e,r){for(var s=e.slice(0,2),i=2,n=0;0!==e[i++];)if(i>=e.length){n++;break}var o=e.slice(2,i-1);if(("0002"!==s.toString("hex")&&!r||"0001"!==s.toString("hex")&&r)&&n++,o.length<8&&n++,n)throw new Error("decryption error");return e.slice(i)}(0,p,r);if(3===h)return p;throw new Error("unknown padding")}},68741:(t,e,r)=>{var s=r(8742),i=r(98773),n=r(20160),o=r(70439),a=r(35115),l=r(28891),c=r(34546),u=r(57364),h=r(21607).Buffer;t.exports=function(t,e,r){var p;p=t.padding?t.padding:r?1:4;var d,f=s(t);if(4===p)d=function(t,e){var r=t.modulus.byteLength(),s=e.length,c=n("sha1").update(h.alloc(0)).digest(),u=c.length,p=2*u;if(s>r-p-2)throw new Error("message too long");var d=h.alloc(r-s-p-2),f=r-u-1,m=i(u),g=a(h.concat([c,d,h.alloc(1,1),e],f),o(m,f)),y=a(m,o(g,u));return new l(h.concat([h.alloc(1),y,g],r))}(f,e);else if(1===p)d=function(t,e,r){var s,n=e.length,o=t.modulus.byteLength();if(n>o-11)throw new Error("message too long");return s=r?h.alloc(o-n-3,255):function(t){for(var e,r=h.allocUnsafe(t),s=0,n=i(2*t),o=0;s<t;)o===n.length&&(n=i(2*t),o=0),(e=n[o++])&&(r[s++]=e);return r}(o-n-3),new l(h.concat([h.from([0,r?1:2]),s,h.alloc(1),e],o))}(f,e,r);else{if(3!==p)throw new Error("unknown padding");if((d=new l(e)).cmp(f.modulus)>=0)throw new Error("data too long for modulus")}return r?u(d,f):c(d,f)}},34546:(t,e,r)=>{var s=r(28891),i=r(21607).Buffer;t.exports=function(t,e){return i.from(t.toRed(s.mont(e.modulus)).redPow(new s(e.publicExponent)).fromRed().toArray())}},35115:t=>{t.exports=function(t,e){for(var r=t.length,s=-1;++s<r;)t[s]^=e[s];return t}},11590:(t,e,r)=>{"use strict";r.d(e,{H9:()=>g,xX:()=>m});const s=2147483647,i=36,n=/^xn--/,o=/[^\0-\x7E]/,a=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,u=String.fromCharCode;function h(t){throw new RangeError(l[t])}function p(t,e){const r=t.split("@");let s="";r.length>1&&(s=r[0]+"@",t=r[1]);const i=function(t,e){const r=[];let s=t.length;for(;s--;)r[s]=e(t[s]);return r}((t=t.replace(a,".")).split("."),e).join(".");return s+i}const d=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},f=function(t,e,r){let s=0;for(t=r?c(t/700):t>>1,t+=c(t/e);t>455;s+=i)t=c(t/35);return c(s+36*t/(t+38))},m=function(t){return p(t,(function(t){return n.test(t)?function(t){const e=[],r=t.length;let n=0,o=128,a=72,l=t.lastIndexOf("-");l<0&&(l=0);for(let r=0;r<l;++r)t.charCodeAt(r)>=128&&h("not-basic"),e.push(t.charCodeAt(r));for(let p=l>0?l+1:0;p<r;){let l=n;for(let e=1,o=i;;o+=i){p>=r&&h("invalid-input");const l=(u=t.charCodeAt(p++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:i;(l>=i||l>c((s-n)/e))&&h("overflow"),n+=l*e;const d=o<=a?1:o>=a+26?26:o-a;if(l<d)break;const f=i-d;e>c(s/f)&&h("overflow"),e*=f}const d=e.length+1;a=f(n-l,d,0==l),c(n/d)>s-o&&h("overflow"),o+=c(n/d),n%=d,e.splice(n++,0,o)}var u;return String.fromCodePoint(...e)}(t.slice(4).toLowerCase()):t}))},g=function(t){return p(t,(function(t){return o.test(t)?"xn--"+function(t){const e=[];let r=(t=function(t){const e=[];let r=0;const s=t.length;for(;r<s;){const i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<s){const s=t.charCodeAt(r++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),r--)}else e.push(i)}return e}(t)).length,n=128,o=0,a=72;for(const r of t)r<128&&e.push(u(r));let l=e.length,p=l;for(l&&e.push("-");p<r;){let r=s;for(const e of t)e>=n&&e<r&&(r=e);const m=p+1;r-n>c((s-o)/m)&&h("overflow"),o+=(r-n)*m,n=r;for(const r of t)if(r<n&&++o>s&&h("overflow"),r==n){let t=o;for(let r=i;;r+=i){const s=r<=a?1:r>=a+26?26:r-a;if(t<s)break;const n=t-s,o=i-s;e.push(u(d(s+n%o,0))),t=c(n/o)}e.push(u(d(t,0))),a=f(o,m,p==l),o=0,++p}++o,++n}return e.join("")}(t):t}))}},12527:(t,e,r)=>{"use strict";function s(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(null==t||t(s),!1===r||!s.defaultPrevented)return null==e?void 0:e(s)}}r.d(e,{M:()=>s})},39188:(t,e,r)=>{"use strict";r.d(e,{F:()=>i,e:()=>n});var s=r(96832);function i(...t){return e=>t.forEach((t=>function(t,e){"function"==typeof t?t(e):null!=t&&(t.current=e)}(t,e)))}function n(...t){return(0,s.useCallback)(i(...t),t)}},81710:(t,e,r)=>{"use strict";r.d(e,{b:()=>i});var s=r(96832);function i(t,e=[]){let r=[];const i=()=>{const e=r.map((t=>(0,s.createContext)(t)));return function(r){const i=(null==r?void 0:r[t])||e;return(0,s.useMemo)((()=>({[`__scope${t}`]:{...r,[t]:i}})),[r,i])}};return i.scopeName=t,[function(e,i){const n=(0,s.createContext)(i),o=r.length;function a(e){const{scope:r,children:i,...a}=e,l=(null==r?void 0:r[t][o])||n,c=(0,s.useMemo)((()=>a),Object.values(a));return(0,s.createElement)(l.Provider,{value:c},i)}return r=[...r,i],a.displayName=e+"Provider",[a,function(r,a){const l=(null==a?void 0:a[t][o])||n,c=(0,s.useContext)(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${r}\` must be used within \`${e}\``)}]},n(i,...e)]}function n(...t){const e=t[0];if(1===t.length)return e;const r=()=>{const r=t.map((t=>({useScope:t(),scopeName:t.scopeName})));return function(t){const i=r.reduce(((e,{useScope:r,scopeName:s})=>({...e,...r(t)[`__scope${s}`]})),{});return(0,s.useMemo)((()=>({[`__scope${e.scopeName}`]:i})),[i])}};return r.scopeName=e.scopeName,r}},77923:(t,e,r)=>{"use strict";r.d(e,{XB:()=>p});var s=r(24552),i=r(96832),n=r(12527),o=r(94669),a=r(39188),l=r(18863);const c="dismissableLayer.update";let u;const h=(0,i.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),p=(0,i.forwardRef)(((t,e)=>{var r;const{disableOutsidePointerEvents:p=!1,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:v,onDismiss:_,...E}=t,b=(0,i.useContext)(h),[A,x]=(0,i.useState)(null),S=null!==(r=null==A?void 0:A.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,T]=(0,i.useState)({}),M=(0,a.e)(e,(t=>x(t))),P=Array.from(b.layers),[C]=[...b.layersWithOutsidePointerEventsDisabled].slice(-1),w=P.indexOf(C),O=A?P.indexOf(A):-1,I=b.layersWithOutsidePointerEventsDisabled.size>0,R=O>=w,k=function(t,e=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=(0,l.W)(t),s=(0,i.useRef)(!1),n=(0,i.useRef)((()=>{}));return(0,i.useEffect)((()=>{const t=t=>{if(t.target&&!s.current){const i={originalEvent:t};function o(){f("dismissableLayer.pointerDownOutside",r,i,{discrete:!0})}"touch"===t.pointerType?(e.removeEventListener("click",n.current),n.current=o,e.addEventListener("click",n.current,{once:!0})):o()}else e.removeEventListener("click",n.current);s.current=!1},i=window.setTimeout((()=>{e.addEventListener("pointerdown",t)}),0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",t),e.removeEventListener("click",n.current)}}),[e,r]),{onPointerDownCapture:()=>s.current=!0}}((t=>{const e=t.target,r=[...b.branches].some((t=>t.contains(e)));R&&!r&&(null==g||g(t),null==v||v(t),t.defaultPrevented||null==_||_())}),S),D=function(t,e=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=(0,l.W)(t),s=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{const t=t=>{t.target&&!s.current&&f("dismissableLayer.focusOutside",r,{originalEvent:t},{discrete:!1})};return e.addEventListener("focusin",t),()=>e.removeEventListener("focusin",t)}),[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}((t=>{const e=t.target;[...b.branches].some((t=>t.contains(e)))||(null==y||y(t),null==v||v(t),t.defaultPrevented||null==_||_())}),S);return function(t,e=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=(0,l.W)(t);(0,i.useEffect)((()=>{const t=t=>{"Escape"===t.key&&r(t)};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}),[r,e])}((t=>{O===b.layers.size-1&&(null==m||m(t),!t.defaultPrevented&&_&&(t.preventDefault(),_()))}),S),(0,i.useEffect)((()=>{if(A)return p&&(0===b.layersWithOutsidePointerEventsDisabled.size&&(u=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),b.layersWithOutsidePointerEventsDisabled.add(A)),b.layers.add(A),d(),()=>{p&&1===b.layersWithOutsidePointerEventsDisabled.size&&(S.body.style.pointerEvents=u)}}),[A,S,p,b]),(0,i.useEffect)((()=>()=>{A&&(b.layers.delete(A),b.layersWithOutsidePointerEventsDisabled.delete(A),d())}),[A,b]),(0,i.useEffect)((()=>{const t=()=>T({});return document.addEventListener(c,t),()=>document.removeEventListener(c,t)}),[]),(0,i.createElement)(o.WV.div,(0,s.Z)({},E,{ref:M,style:{pointerEvents:I?R?"auto":"none":void 0,...t.style},onFocusCapture:(0,n.M)(t.onFocusCapture,D.onFocusCapture),onBlurCapture:(0,n.M)(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:(0,n.M)(t.onPointerDownCapture,k.onPointerDownCapture)}))}));function d(){const t=new CustomEvent(c);document.dispatchEvent(t)}function f(t,e,r,{discrete:s}){const i=r.originalEvent.target,n=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),s?(0,o.jH)(i,n):i.dispatchEvent(n)}},60107:(t,e,r)=>{"use strict";r.d(e,{VY:()=>$t,ck:()=>Yt,Uv:()=>Wt,fC:()=>zt,xz:()=>Kt});var s=r(24552),i=r(96832),n=r(12527),o=r(39188),a=r(81710),l=r(536),c=r(94669),u=r(32218);function h(t){const e=t+"CollectionProvider",[r,s]=(0,a.b)(e),[n,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=t+"CollectionSlot",h=t+"CollectionItemSlot",p="data-radix-collection-item";return[{Provider:t=>{const{scope:e,children:r}=t,s=i.useRef(null),o=i.useRef(new Map).current;return i.createElement(n,{scope:e,itemMap:o,collectionRef:s},r)},Slot:i.forwardRef(((t,e)=>{const{scope:r,children:s}=t,n=l(c,r),a=(0,o.e)(e,n.collectionRef);return i.createElement(u.g7,{ref:a},s)})),ItemSlot:i.forwardRef(((t,e)=>{const{scope:r,children:s,...n}=t,a=i.useRef(null),c=(0,o.e)(e,a),d=l(h,r);return i.useEffect((()=>(d.itemMap.set(a,{ref:a,...n}),()=>{d.itemMap.delete(a)}))),i.createElement(u.g7,{[p]:"",ref:c},s)}))},function(e){const r=l(t+"CollectionConsumer",e);return i.useCallback((()=>{const t=r.collectionRef.current;if(!t)return[];const e=Array.from(t.querySelectorAll(`[${p}]`));return Array.from(r.itemMap.values()).sort(((t,r)=>e.indexOf(t.ref.current)-e.indexOf(r.ref.current)))}),[r.collectionRef,r.itemMap])},s]}const p=(0,i.createContext)(void 0);function d(t){const e=(0,i.useContext)(p);return t||e||"ltr"}var f=r(77923);let m=0;function g(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var y=r(18863);const v="focusScope.autoFocusOnMount",_="focusScope.autoFocusOnUnmount",E={bubbles:!1,cancelable:!0},b=(0,i.forwardRef)(((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=t,[h,p]=(0,i.useState)(null),d=(0,y.W)(a),f=(0,y.W)(l),m=(0,i.useRef)(null),g=(0,o.e)(e,(t=>p(t))),b=(0,i.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,i.useEffect)((()=>{if(n){function t(t){if(b.paused||!h)return;const e=t.target;h.contains(e)?m.current=e:T(m.current,{select:!0})}function e(t){if(b.paused||!h)return;const e=t.relatedTarget;null!==e&&(h.contains(e)||T(m.current,{select:!0}))}function r(t){if(document.activeElement===document.body)for(const e of t)e.removedNodes.length>0&&T(h)}document.addEventListener("focusin",t),document.addEventListener("focusout",e);const s=new MutationObserver(r);return h&&s.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",t),document.removeEventListener("focusout",e),s.disconnect()}}}),[n,h,b.paused]),(0,i.useEffect)((()=>{if(h){M.add(b);const t=document.activeElement;if(!h.contains(t)){const e=new CustomEvent(v,E);h.addEventListener(v,d),h.dispatchEvent(e),e.defaultPrevented||(function(t,{select:e=!1}={}){const r=document.activeElement;for(const s of t)if(T(s,{select:e}),document.activeElement!==r)return}(A(h).filter((t=>"A"!==t.tagName)),{select:!0}),document.activeElement===t&&T(h))}return()=>{h.removeEventListener(v,d),setTimeout((()=>{const e=new CustomEvent(_,E);h.addEventListener(_,f),h.dispatchEvent(e),e.defaultPrevented||T(null!=t?t:document.body,{select:!0}),h.removeEventListener(_,f),M.remove(b)}),0)}}}),[h,d,f,b]);const S=(0,i.useCallback)((t=>{if(!r&&!n)return;if(b.paused)return;const e="Tab"===t.key&&!t.altKey&&!t.ctrlKey&&!t.metaKey,s=document.activeElement;if(e&&s){const e=t.currentTarget,[i,n]=function(t){const e=A(t);return[x(e,t),x(e.reverse(),t)]}(e);i&&n?t.shiftKey||s!==n?t.shiftKey&&s===i&&(t.preventDefault(),r&&T(n,{select:!0})):(t.preventDefault(),r&&T(i,{select:!0})):s===e&&t.preventDefault()}}),[r,n,b.paused]);return(0,i.createElement)(c.WV.div,(0,s.Z)({tabIndex:-1},u,{ref:g,onKeyDown:S}))}));function A(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const e="INPUT"===t.tagName&&"hidden"===t.type;return t.disabled||t.hidden||e?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function x(t,e){for(const r of t)if(!S(r,{upTo:e}))return r}function S(t,{upTo:e}){if("hidden"===getComputedStyle(t).visibility)return!0;for(;t;){if(void 0!==e&&t===e)return!1;if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}function T(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&function(t){return t instanceof HTMLInputElement&&"select"in t}(t)&&e&&t.select()}}const M=function(){let t=[];return{add(e){const r=t[0];e!==r&&(null==r||r.pause()),t=P(t,e),t.unshift(e)},remove(e){var r;t=P(t,e),null===(r=t[0])||void 0===r||r.resume()}}}();function P(t,e){const r=[...t],s=r.indexOf(e);return-1!==s&&r.splice(s,1),r}var C=r(84008),w=r(99487),O=r(87559),I=r(5479);const R="rovingFocusGroup.onEntryFocus",k={bubbles:!1,cancelable:!0},D="RovingFocusGroup",[F,N,L]=h(D),[j,B]=(0,a.b)(D,[L]),[U,V]=j(D),H=(0,i.forwardRef)(((t,e)=>(0,i.createElement)(F.Provider,{scope:t.__scopeRovingFocusGroup},(0,i.createElement)(F.Slot,{scope:t.__scopeRovingFocusGroup},(0,i.createElement)(G,(0,s.Z)({},t,{ref:e})))))),G=(0,i.forwardRef)(((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:u=!1,dir:h,currentTabStopId:p,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:g,...v}=t,_=(0,i.useRef)(null),E=(0,o.e)(e,_),b=d(h),[A=null,x]=(0,l.T)({prop:p,defaultProp:f,onChange:m}),[S,T]=(0,i.useState)(!1),M=(0,y.W)(g),P=N(r),C=(0,i.useRef)(!1),[w,O]=(0,i.useState)(0);return(0,i.useEffect)((()=>{const t=_.current;if(t)return t.addEventListener(R,M),()=>t.removeEventListener(R,M)}),[M]),(0,i.createElement)(U,{scope:r,orientation:a,dir:b,loop:u,currentTabStopId:A,onItemFocus:(0,i.useCallback)((t=>x(t)),[x]),onItemShiftTab:(0,i.useCallback)((()=>T(!0)),[]),onFocusableItemAdd:(0,i.useCallback)((()=>O((t=>t+1))),[]),onFocusableItemRemove:(0,i.useCallback)((()=>O((t=>t-1))),[])},(0,i.createElement)(c.WV.div,(0,s.Z)({tabIndex:S||0===w?-1:0,"data-orientation":a},v,{ref:E,style:{outline:"none",...t.style},onMouseDown:(0,n.M)(t.onMouseDown,(()=>{C.current=!0})),onFocus:(0,n.M)(t.onFocus,(t=>{const e=!C.current;if(t.target===t.currentTarget&&e&&!S){const e=new CustomEvent(R,k);if(t.currentTarget.dispatchEvent(e),!e.defaultPrevented){const t=P().filter((t=>t.focusable));K([t.find((t=>t.active)),t.find((t=>t.id===A)),...t].filter(Boolean).map((t=>t.ref.current)))}}C.current=!1})),onBlur:(0,n.M)(t.onBlur,(()=>T(!1)))})))})),q=(0,i.forwardRef)(((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:a=!1,tabStopId:l,...u}=t,h=(0,C.M)(),p=l||h,d=V("RovingFocusGroupItem",r),f=d.currentTabStopId===p,m=N(r),{onFocusableItemAdd:g,onFocusableItemRemove:y}=d;return(0,i.useEffect)((()=>{if(o)return g(),()=>y()}),[o,g,y]),(0,i.createElement)(F.ItemSlot,{scope:r,id:p,focusable:o,active:a},(0,i.createElement)(c.WV.span,(0,s.Z)({tabIndex:f?0:-1,"data-orientation":d.orientation},u,{ref:e,onMouseDown:(0,n.M)(t.onMouseDown,(t=>{o?d.onItemFocus(p):t.preventDefault()})),onFocus:(0,n.M)(t.onFocus,(()=>d.onItemFocus(p))),onKeyDown:(0,n.M)(t.onKeyDown,(t=>{if("Tab"===t.key&&t.shiftKey)return void d.onItemShiftTab();if(t.target!==t.currentTarget)return;const e=function(t,e,r){const s=function(t,e){return"rtl"!==e?t:"ArrowLeft"===t?"ArrowRight":"ArrowRight"===t?"ArrowLeft":t}(t.key,r);return"vertical"===e&&["ArrowLeft","ArrowRight"].includes(s)||"horizontal"===e&&["ArrowUp","ArrowDown"].includes(s)?void 0:z[s]}(t,d.orientation,d.dir);if(void 0!==e){t.preventDefault();let i=m().filter((t=>t.focusable)).map((t=>t.ref.current));if("last"===e)i.reverse();else if("prev"===e||"next"===e){"prev"===e&&i.reverse();const n=i.indexOf(t.currentTarget);i=d.loop?(s=n+1,(r=i).map(((t,e)=>r[(s+e)%r.length]))):i.slice(n+1)}setTimeout((()=>K(i)))}var r,s}))})))})),z={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function K(t){const e=document.activeElement;for(const r of t){if(r===e)return;if(r.focus(),document.activeElement!==e)return}}const W=H,$=q;var Y=r(40627),Z=r(54786);const X=["Enter"," "],Q=["ArrowUp","PageDown","End"],J=["ArrowDown","PageUp","Home",...Q],tt="Menu",[et,rt,st]=h(tt),[it,nt]=(0,a.b)(tt,[st,w.D7,B]),ot=(0,w.D7)(),at=B(),[lt,ct]=it(tt),[ut,ht]=it(tt),pt=(0,i.forwardRef)(((t,e)=>{const{__scopeMenu:r,...n}=t,o=ot(r);return(0,i.createElement)(w.ee,(0,s.Z)({},o,n,{ref:e}))})),dt="MenuPortal",[ft,mt]=it(dt,{forceMount:void 0}),gt="MenuContent",[yt,vt]=it(gt),_t=(0,i.forwardRef)(((t,e)=>{const r=mt(gt,t.__scopeMenu),{forceMount:n=r.forceMount,...o}=t,a=ct(gt,t.__scopeMenu),l=ht(gt,t.__scopeMenu);return(0,i.createElement)(et.Provider,{scope:t.__scopeMenu},(0,i.createElement)(I.z,{present:n||a.open},(0,i.createElement)(et.Slot,{scope:t.__scopeMenu},l.modal?(0,i.createElement)(Et,(0,s.Z)({},o,{ref:e})):(0,i.createElement)(bt,(0,s.Z)({},o,{ref:e})))))})),Et=(0,i.forwardRef)(((t,e)=>{const r=ct(gt,t.__scopeMenu),a=(0,i.useRef)(null),l=(0,o.e)(e,a);return(0,i.useEffect)((()=>{const t=a.current;if(t)return(0,Y.Ry)(t)}),[]),(0,i.createElement)(At,(0,s.Z)({},t,{ref:l,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,n.M)(t.onFocusOutside,(t=>t.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))})),bt=(0,i.forwardRef)(((t,e)=>{const r=ct(gt,t.__scopeMenu);return(0,i.createElement)(At,(0,s.Z)({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))})),At=(0,i.forwardRef)(((t,e)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:h,disableOutsidePointerEvents:p,onEntryFocus:d,onEscapeKeyDown:y,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:E,onDismiss:A,disableOutsideScroll:x,...S}=t,T=ct(gt,r),M=ht(gt,r),P=ot(r),C=at(r),O=rt(r),[I,R]=(0,i.useState)(null),k=(0,i.useRef)(null),D=(0,o.e)(e,k,T.onContentChange),F=(0,i.useRef)(0),N=(0,i.useRef)(""),L=(0,i.useRef)(0),j=(0,i.useRef)(null),B=(0,i.useRef)("right"),U=(0,i.useRef)(0),V=x?Z.Z:i.Fragment,H=x?{as:u.g7,allowPinchZoom:!0}:void 0;(0,i.useEffect)((()=>()=>window.clearTimeout(F.current)),[]),(0,i.useEffect)((()=>{var t,e;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(t=r[0])&&void 0!==t?t:g()),document.body.insertAdjacentElement("beforeend",null!==(e=r[1])&&void 0!==e?e:g()),m++,()=>{1===m&&document.querySelectorAll("[data-radix-focus-guard]").forEach((t=>t.remove())),m--}}),[]);const G=(0,i.useCallback)((t=>{var e,r;return B.current===(null===(e=j.current)||void 0===e?void 0:e.side)&&function(t,e){if(!e)return!1;return function(t,e){const{x:r,y:s}=t;let i=!1;for(let t=0,n=e.length-1;t<e.length;n=t++){const o=e[t].x,a=e[t].y,l=e[n].x,c=e[n].y;a>s!=c>s&&r<(l-o)*(s-a)/(c-a)+o&&(i=!i)}return i}({x:t.clientX,y:t.clientY},e)}(t,null===(r=j.current)||void 0===r?void 0:r.area)}),[]);return(0,i.createElement)(yt,{scope:r,searchRef:N,onItemEnter:(0,i.useCallback)((t=>{G(t)&&t.preventDefault()}),[G]),onItemLeave:(0,i.useCallback)((t=>{var e;G(t)||(null===(e=k.current)||void 0===e||e.focus(),R(null))}),[G]),onTriggerLeave:(0,i.useCallback)((t=>{G(t)&&t.preventDefault()}),[G]),pointerGraceTimerRef:L,onPointerGraceIntentChange:(0,i.useCallback)((t=>{j.current=t}),[])},(0,i.createElement)(V,H,(0,i.createElement)(b,{asChild:!0,trapped:l,onMountAutoFocus:(0,n.M)(c,(t=>{var e;t.preventDefault(),null===(e=k.current)||void 0===e||e.focus()})),onUnmountAutoFocus:h},(0,i.createElement)(f.XB,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:y,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:E,onDismiss:A},(0,i.createElement)(W,(0,s.Z)({asChild:!0},C,{dir:M.dir,orientation:"vertical",loop:a,currentTabStopId:I,onCurrentTabStopIdChange:R,onEntryFocus:(0,n.M)(d,(t=>{M.isUsingKeyboardRef.current||t.preventDefault()}))}),(0,i.createElement)(w.VY,(0,s.Z)({role:"menu","aria-orientation":"vertical","data-state":(q=T.open,q?"open":"closed"),"data-radix-menu-content":"",dir:M.dir},P,S,{ref:D,style:{outline:"none",...S.style},onKeyDown:(0,n.M)(S.onKeyDown,(t=>{const e=t.target.closest("[data-radix-menu-content]")===t.currentTarget,r=t.ctrlKey||t.altKey||t.metaKey,s=1===t.key.length;e&&("Tab"===t.key&&t.preventDefault(),!r&&s&&(t=>{var e,r;const s=N.current+t,i=O().filter((t=>!t.disabled)),n=document.activeElement,o=null===(e=i.find((t=>t.ref.current===n)))||void 0===e?void 0:e.textValue,a=function(t,e,r){const s=e.length>1&&Array.from(e).every((t=>t===e[0]))?e[0]:e,i=r?t.indexOf(r):-1;let n=(o=t,a=Math.max(i,0),o.map(((t,e)=>o[(a+e)%o.length])));var o,a;1===s.length&&(n=n.filter((t=>t!==r)));const l=n.find((t=>t.toLowerCase().startsWith(s.toLowerCase())));return l!==r?l:void 0}(i.map((t=>t.textValue)),s,o),l=null===(r=i.find((t=>t.textValue===a)))||void 0===r?void 0:r.ref.current;!function t(e){N.current=e,window.clearTimeout(F.current),""!==e&&(F.current=window.setTimeout((()=>t("")),1e3))}(s),l&&setTimeout((()=>l.focus()))})(t.key));const i=k.current;if(t.target!==i)return;if(!J.includes(t.key))return;t.preventDefault();const n=O().filter((t=>!t.disabled)).map((t=>t.ref.current));Q.includes(t.key)&&n.reverse(),function(t){const e=document.activeElement;for(const r of t){if(r===e)return;if(r.focus(),document.activeElement!==e)return}}(n)})),onBlur:(0,n.M)(t.onBlur,(t=>{t.currentTarget.contains(t.target)||(window.clearTimeout(F.current),N.current="")})),onPointerMove:(0,n.M)(t.onPointerMove,kt((t=>{const e=t.target,r=U.current!==t.clientX;if(t.currentTarget.contains(e)&&r){const e=t.clientX>U.current?"right":"left";B.current=e,U.current=t.clientX}})))})))))));var q})),xt="MenuItem",St="menu.itemSelect",Tt=(0,i.forwardRef)(((t,e)=>{const{disabled:r=!1,onSelect:a,...l}=t,u=(0,i.useRef)(null),h=ht(xt,t.__scopeMenu),p=vt(xt,t.__scopeMenu),d=(0,o.e)(e,u),f=(0,i.useRef)(!1);return(0,i.createElement)(Mt,(0,s.Z)({},l,{ref:d,disabled:r,onClick:(0,n.M)(t.onClick,(()=>{const t=u.current;if(!r&&t){const e=new CustomEvent(St,{bubbles:!0,cancelable:!0});t.addEventListener(St,(t=>null==a?void 0:a(t)),{once:!0}),(0,c.jH)(t,e),e.defaultPrevented?f.current=!1:h.onClose()}})),onPointerDown:e=>{var r;null===(r=t.onPointerDown)||void 0===r||r.call(t,e),f.current=!0},onPointerUp:(0,n.M)(t.onPointerUp,(t=>{var e;f.current||null===(e=t.currentTarget)||void 0===e||e.click()})),onKeyDown:(0,n.M)(t.onKeyDown,(t=>{const e=""!==p.searchRef.current;r||e&&" "===t.key||X.includes(t.key)&&(t.currentTarget.click(),t.preventDefault())}))}))})),Mt=(0,i.forwardRef)(((t,e)=>{const{__scopeMenu:r,disabled:a=!1,textValue:l,...u}=t,h=vt(xt,r),p=at(r),d=(0,i.useRef)(null),f=(0,o.e)(e,d),[m,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)("");return(0,i.useEffect)((()=>{const t=d.current;var e;t&&v((null!==(e=t.textContent)&&void 0!==e?e:"").trim())}),[u.children]),(0,i.createElement)(et.ItemSlot,{scope:r,disabled:a,textValue:null!=l?l:y},(0,i.createElement)($,(0,s.Z)({asChild:!0},p,{focusable:!a}),(0,i.createElement)(c.WV.div,(0,s.Z)({role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0},u,{ref:f,onPointerMove:(0,n.M)(t.onPointerMove,kt((t=>{a?h.onItemLeave(t):(h.onItemEnter(t),t.defaultPrevented||t.currentTarget.focus())}))),onPointerLeave:(0,n.M)(t.onPointerLeave,kt((t=>h.onItemLeave(t)))),onFocus:(0,n.M)(t.onFocus,(()=>g(!0))),onBlur:(0,n.M)(t.onBlur,(()=>g(!1)))}))))})),[Pt,Ct]=it("MenuRadioGroup",{value:void 0,onValueChange:()=>{}}),[wt,Ot]=it("MenuItemIndicator",{checked:!1}),[It,Rt]=it("MenuSub");function kt(t){return e=>"mouse"===e.pointerType?t(e):void 0}const Dt=t=>{const{__scopeMenu:e,open:r=!1,children:s,dir:n,onOpenChange:o,modal:a=!0}=t,l=ot(e),[c,u]=(0,i.useState)(null),h=(0,i.useRef)(!1),p=(0,y.W)(o),f=d(n);return(0,i.useEffect)((()=>{const t=()=>{h.current=!0,document.addEventListener("pointerdown",e,{capture:!0,once:!0}),document.addEventListener("pointermove",e,{capture:!0,once:!0})},e=()=>h.current=!1;return document.addEventListener("keydown",t,{capture:!0}),()=>{document.removeEventListener("keydown",t,{capture:!0}),document.removeEventListener("pointerdown",e,{capture:!0}),document.removeEventListener("pointermove",e,{capture:!0})}}),[]),(0,i.createElement)(w.fC,l,(0,i.createElement)(lt,{scope:e,open:r,onOpenChange:p,content:c,onContentChange:u},(0,i.createElement)(ut,{scope:e,onClose:(0,i.useCallback)((()=>p(!1)),[p]),isUsingKeyboardRef:h,dir:f,modal:a},s)))},Ft=pt,Nt=t=>{const{__scopeMenu:e,forceMount:r,children:s,container:n}=t,o=ct(dt,e);return(0,i.createElement)(ft,{scope:e,forceMount:r},(0,i.createElement)(I.z,{present:r||o.open},(0,i.createElement)(O.h,{asChild:!0,container:n},s)))},Lt=_t,jt=Tt,Bt="DropdownMenu",[Ut,Vt]=(0,a.b)(Bt,[nt]),Ht=nt(),[Gt,qt]=Ut(Bt),zt=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:o,defaultOpen:a,onOpenChange:c,modal:u=!0}=t,h=Ht(e),p=(0,i.useRef)(null),[d=!1,f]=(0,l.T)({prop:o,defaultProp:a,onChange:c});return(0,i.createElement)(Gt,{scope:e,triggerId:(0,C.M)(),triggerRef:p,contentId:(0,C.M)(),open:d,onOpenChange:f,onOpenToggle:(0,i.useCallback)((()=>f((t=>!t))),[f]),modal:u},(0,i.createElement)(Dt,(0,s.Z)({},h,{open:d,onOpenChange:f,dir:n,modal:u}),r))},Kt=(0,i.forwardRef)(((t,e)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...l}=t,u=qt("DropdownMenuTrigger",r),h=Ht(r);return(0,i.createElement)(Ft,(0,s.Z)({asChild:!0},h),(0,i.createElement)(c.WV.button,(0,s.Z)({type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":a?"":void 0,disabled:a},l,{ref:(0,o.F)(e,u.triggerRef),onPointerDown:(0,n.M)(t.onPointerDown,(t=>{a||0!==t.button||!1!==t.ctrlKey||(u.onOpenToggle(),u.open||t.preventDefault())})),onKeyDown:(0,n.M)(t.onKeyDown,(t=>{a||(["Enter"," "].includes(t.key)&&u.onOpenToggle(),"ArrowDown"===t.key&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(t.key)&&t.preventDefault())}))})))})),Wt=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ht(e);return(0,i.createElement)(Nt,(0,s.Z)({},n,r))},$t=(0,i.forwardRef)(((t,e)=>{const{__scopeDropdownMenu:r,...o}=t,a=qt("DropdownMenuContent",r),l=Ht(r),c=(0,i.useRef)(!1);return(0,i.createElement)(Lt,(0,s.Z)({id:a.contentId,"aria-labelledby":a.triggerId},l,o,{ref:e,onCloseAutoFocus:(0,n.M)(t.onCloseAutoFocus,(t=>{var e;c.current||null===(e=a.triggerRef.current)||void 0===e||e.focus(),c.current=!1,t.preventDefault()})),onInteractOutside:(0,n.M)(t.onInteractOutside,(t=>{const e=t.detail.originalEvent,r=0===e.button&&!0===e.ctrlKey,s=2===e.button||r;a.modal&&!s||(c.current=!0)})),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))})),Yt=(0,i.forwardRef)(((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=Ht(r);return(0,i.createElement)(jt,(0,s.Z)({},o,n,{ref:e}))}))},84008:(t,e,r)=>{"use strict";var s;r.d(e,{M:()=>l});var i=r(96832),n=r(27934);const o=(s||(s=r.t(i,2)))["useId".toString()]||(()=>{});let a=0;function l(t){const[e,r]=i.useState(o());return(0,n.b)((()=>{t||r((t=>null!=t?t:String(a++)))}),[t]),t||(e?`radix-${e}`:"")}},99487:(t,e,r)=>{"use strict";r.d(e,{ee:()=>w,Eh:()=>I,VY:()=>O,fC:()=>C,D7:()=>g});var s=r(24552),i=r(96832),n=r(60116),o=r(37441),a=r(24562),l=r(94669);const c=(0,i.forwardRef)(((t,e)=>{const{children:r,width:n=10,height:o=5,...a}=t;return(0,i.createElement)(l.WV.svg,(0,s.Z)({},a,{ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?r:(0,i.createElement)("polygon",{points:"0,0 30,0 15,10"}))}));var u=r(39188),h=r(81710),p=r(18863),d=r(27934);const f="Popper",[m,g]=(0,h.b)(f),[y,v]=m(f),_=(0,i.forwardRef)(((t,e)=>{const{__scopePopper:r,virtualRef:n,...o}=t,a=v("PopperAnchor",r),c=(0,i.useRef)(null),h=(0,u.e)(e,c);return(0,i.useEffect)((()=>{a.onAnchorChange((null==n?void 0:n.current)||c.current)})),n?null:(0,i.createElement)(l.WV.div,(0,s.Z)({},o,{ref:h}))})),E="PopperContent",[b,A]=m(E),x=(0,i.forwardRef)(((t,e)=>{var r,c,h,f,m,g,y,_;const{__scopePopper:A,side:x="bottom",sideOffset:S=0,align:C="center",alignOffset:w=0,arrowPadding:O=0,avoidCollisions:I=!0,collisionBoundary:R=[],collisionPadding:k=0,sticky:D="partial",hideWhenDetached:F=!1,updatePositionStrategy:N="optimized",onPlaced:L,...j}=t,B=v(E,A),[U,V]=(0,i.useState)(null),H=(0,u.e)(e,(t=>V(t))),[G,q]=(0,i.useState)(null),z=function(t){const[e,r]=(0,i.useState)(void 0);return(0,d.b)((()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const e=new ResizeObserver((e=>{if(!Array.isArray(e))return;if(!e.length)return;const s=e[0];let i,n;if("borderBoxSize"in s){const t=s.borderBoxSize,e=Array.isArray(t)?t[0]:t;i=e.inlineSize,n=e.blockSize}else i=t.offsetWidth,n=t.offsetHeight;r({width:i,height:n})}));return e.observe(t,{box:"border-box"}),()=>e.unobserve(t)}r(void 0)}),[t]),e}(G),K=null!==(r=null==z?void 0:z.width)&&void 0!==r?r:0,W=null!==(c=null==z?void 0:z.height)&&void 0!==c?c:0,$=x+("center"!==C?"-"+C:""),Y="number"==typeof k?k:{top:0,right:0,bottom:0,left:0,...k},Z=Array.isArray(R)?R:[R],X=Z.length>0,Q={padding:Y,boundary:Z.filter(T),altBoundary:X},{refs:J,floatingStyles:tt,placement:et,isPositioned:rt,middlewareData:st}=(0,n.YF)({strategy:"fixed",placement:$,whileElementsMounted:(...t)=>(0,o.Me)(...t,{animationFrame:"always"===N}),elements:{reference:B.anchor},middleware:[(0,a.cv)({mainAxis:S+W,alignmentAxis:w}),I&&(0,a.uY)({mainAxis:!0,crossAxis:!1,limiter:"partial"===D?(0,a.dr)():void 0,...Q}),I&&(0,a.RR)({...Q}),(0,a.dp)({...Q,apply:({elements:t,rects:e,availableWidth:r,availableHeight:s})=>{const{width:i,height:n}=e.reference,o=t.floating.style;o.setProperty("--radix-popper-available-width",`${r}px`),o.setProperty("--radix-popper-available-height",`${s}px`),o.setProperty("--radix-popper-anchor-width",`${i}px`),o.setProperty("--radix-popper-anchor-height",`${n}px`)}}),G&&(0,n.x7)({element:G,padding:O}),M({arrowWidth:K,arrowHeight:W}),F&&(0,a.Cp)({strategy:"referenceHidden",...Q})]}),[it,nt]=P(et),ot=(0,p.W)(L);(0,d.b)((()=>{rt&&(null==ot||ot())}),[rt,ot]);const at=null===(h=st.arrow)||void 0===h?void 0:h.x,lt=null===(f=st.arrow)||void 0===f?void 0:f.y,ct=0!==(null===(m=st.arrow)||void 0===m?void 0:m.centerOffset),[ut,ht]=(0,i.useState)();return(0,d.b)((()=>{U&&ht(window.getComputedStyle(U).zIndex)}),[U]),(0,i.createElement)("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...tt,transform:rt?tt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[null===(g=st.transformOrigin)||void 0===g?void 0:g.x,null===(y=st.transformOrigin)||void 0===y?void 0:y.y].join(" ")},dir:t.dir},(0,i.createElement)(b,{scope:A,placedSide:it,onArrowChange:q,arrowX:at,arrowY:lt,shouldHideArrow:ct},(0,i.createElement)(l.WV.div,(0,s.Z)({"data-side":it,"data-align":nt},j,{ref:H,style:{...j.style,animation:rt?void 0:"none",opacity:null!==(_=st.hide)&&void 0!==_&&_.referenceHidden?0:void 0}}))))})),S={top:"bottom",right:"left",bottom:"top",left:"right"};function T(t){return null!==t}const M=t=>({name:"transformOrigin",options:t,fn(e){var r,s,i,n,o;const{placement:a,rects:l,middlewareData:c}=e,u=0!==(null===(r=c.arrow)||void 0===r?void 0:r.centerOffset),h=u?0:t.arrowWidth,p=u?0:t.arrowHeight,[d,f]=P(a),m={start:"0%",center:"50%",end:"100%"}[f],g=(null!==(s=null===(i=c.arrow)||void 0===i?void 0:i.x)&&void 0!==s?s:0)+h/2,y=(null!==(n=null===(o=c.arrow)||void 0===o?void 0:o.y)&&void 0!==n?n:0)+p/2;let v="",_="";return"bottom"===d?(v=u?m:`${g}px`,_=-p+"px"):"top"===d?(v=u?m:`${g}px`,_=`${l.floating.height+p}px`):"right"===d?(v=-p+"px",_=u?m:`${y}px`):"left"===d&&(v=`${l.floating.width+p}px`,_=u?m:`${y}px`),{data:{x:v,y:_}}}});function P(t){const[e,r="center"]=t.split("-");return[e,r]}const C=t=>{const{__scopePopper:e,children:r}=t,[s,n]=(0,i.useState)(null);return(0,i.createElement)(y,{scope:e,anchor:s,onAnchorChange:n},r)},w=_,O=x,I=(0,i.forwardRef)((function(t,e){const{__scopePopper:r,...n}=t,o=A("PopperArrow",r),a=S[o.placedSide];return(0,i.createElement)("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0}},(0,i.createElement)(c,(0,s.Z)({},n,{ref:e,style:{...n.style,display:"block"}})))}))},87559:(t,e,r)=>{"use strict";r.d(e,{h:()=>a});var s=r(24552),i=r(96832),n=r(51285),o=r(94669);const a=(0,i.forwardRef)(((t,e)=>{var r;const{container:a=(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body),...l}=t;return a?n.createPortal((0,i.createElement)(o.WV.div,(0,s.Z)({},l,{ref:e})),a):null}))},5479:(t,e,r)=>{"use strict";r.d(e,{z:()=>a});var s=r(96832),i=r(51285),n=r(39188),o=r(27934);const a=t=>{const{present:e,children:r}=t,a=function(t){const[e,r]=(0,s.useState)(),n=(0,s.useRef)({}),a=(0,s.useRef)(t),c=(0,s.useRef)("none"),u=t?"mounted":"unmounted",[h,p]=function(t,e){return(0,s.useReducer)(((t,r)=>{const s=e[t][r];return null!=s?s:t}),t)}(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,s.useEffect)((()=>{const t=l(n.current);c.current="mounted"===h?t:"none"}),[h]),(0,o.b)((()=>{const e=n.current,r=a.current;if(r!==t){const s=c.current,i=l(e);t?p("MOUNT"):"none"===i||"none"===(null==e?void 0:e.display)?p("UNMOUNT"):p(r&&s!==i?"ANIMATION_OUT":"UNMOUNT"),a.current=t}}),[t,p]),(0,o.b)((()=>{if(e){const t=t=>{const r=l(n.current).includes(t.animationName);t.target===e&&r&&(0,i.flushSync)((()=>p("ANIMATION_END")))},r=t=>{t.target===e&&(c.current=l(n.current))};return e.addEventListener("animationstart",r),e.addEventListener("animationcancel",t),e.addEventListener("animationend",t),()=>{e.removeEventListener("animationstart",r),e.removeEventListener("animationcancel",t),e.removeEventListener("animationend",t)}}p("ANIMATION_END")}),[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:(0,s.useCallback)((t=>{t&&(n.current=getComputedStyle(t)),r(t)}),[])}}(e),c="function"==typeof r?r({present:a.isPresent}):s.Children.only(r),u=(0,n.e)(a.ref,c.ref);return"function"==typeof r||a.isPresent?(0,s.cloneElement)(c,{ref:u}):null};function l(t){return(null==t?void 0:t.animationName)||"none"}a.displayName="Presence"},94669:(t,e,r)=>{"use strict";r.d(e,{WV:()=>a,jH:()=>l});var s=r(24552),i=r(96832),n=r(51285),o=r(32218);const a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((t,e)=>{const r=(0,i.forwardRef)(((t,r)=>{const{asChild:n,...a}=t,l=n?o.g7:e;return(0,i.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,i.createElement)(l,(0,s.Z)({},a,{ref:r}))}));return r.displayName=`Primitive.${e}`,{...t,[e]:r}}),{});function l(t,e){t&&(0,n.flushSync)((()=>t.dispatchEvent(e)))}},32218:(t,e,r)=>{"use strict";r.d(e,{A4:()=>l,g7:()=>o});var s=r(24552),i=r(96832),n=r(39188);const o=(0,i.forwardRef)(((t,e)=>{const{children:r,...n}=t,o=i.Children.toArray(r),l=o.find(c);if(l){const t=l.props.children,r=o.map((e=>e===l?i.Children.count(t)>1?i.Children.only(null):(0,i.isValidElement)(t)?t.props.children:null:e));return(0,i.createElement)(a,(0,s.Z)({},n,{ref:e}),(0,i.isValidElement)(t)?(0,i.cloneElement)(t,void 0,r):null)}return(0,i.createElement)(a,(0,s.Z)({},n,{ref:e}),r)}));o.displayName="Slot";const a=(0,i.forwardRef)(((t,e)=>{const{children:r,...s}=t;return(0,i.isValidElement)(r)?(0,i.cloneElement)(r,{...u(s,r.props),ref:e?(0,n.F)(e,r.ref):r.ref}):i.Children.count(r)>1?i.Children.only(null):null}));a.displayName="SlotClone";const l=({children:t})=>(0,i.createElement)(i.Fragment,null,t);function c(t){return(0,i.isValidElement)(t)&&t.type===l}function u(t,e){const r={...e};for(const s in e){const i=t[s],n=e[s];/^on[A-Z]/.test(s)?i&&n?r[s]=(...t)=>{n(...t),i(...t)}:i&&(r[s]=i):"style"===s?r[s]={...i,...n}:"className"===s&&(r[s]=[i,n].filter(Boolean).join(" "))}return{...t,...r}}},12545:(t,e,r)=>{"use strict";r.d(e,{Eh:()=>G,VY:()=>H,h_:()=>V,zt:()=>j,fC:()=>B,xz:()=>U});var s=r(24552),i=r(96832),n=r(12527),o=r(39188),a=r(81710),l=r(77923),c=r(84008),u=r(99487),h=r(87559),p=r(5479),d=r(94669),f=r(32218),m=r(536);const g=(0,i.forwardRef)(((t,e)=>(0,i.createElement)(d.WV.span,(0,s.Z)({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})))),[y,v]=(0,a.b)("Tooltip",[u.D7]),_=(0,u.D7)(),E=700,b="tooltip.open",[A,x]=y("TooltipProvider"),S="Tooltip",[T,M]=y(S),P="TooltipTrigger",C=(0,i.forwardRef)(((t,e)=>{const{__scopeTooltip:r,...a}=t,l=M(P,r),c=x(P,r),h=_(r),p=(0,i.useRef)(null),f=(0,o.e)(e,p,l.onTriggerChange),m=(0,i.useRef)(!1),g=(0,i.useRef)(!1),y=(0,i.useCallback)((()=>m.current=!1),[]);return(0,i.useEffect)((()=>()=>document.removeEventListener("pointerup",y)),[y]),(0,i.createElement)(u.ee,(0,s.Z)({asChild:!0},h),(0,i.createElement)(d.WV.button,(0,s.Z)({"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute},a,{ref:f,onPointerMove:(0,n.M)(t.onPointerMove,(t=>{"touch"!==t.pointerType&&(g.current||c.isPointerInTransitRef.current||(l.onTriggerEnter(),g.current=!0))})),onPointerLeave:(0,n.M)(t.onPointerLeave,(()=>{l.onTriggerLeave(),g.current=!1})),onPointerDown:(0,n.M)(t.onPointerDown,(()=>{m.current=!0,document.addEventListener("pointerup",y,{once:!0})})),onFocus:(0,n.M)(t.onFocus,(()=>{m.current||l.onOpen()})),onBlur:(0,n.M)(t.onBlur,l.onClose),onClick:(0,n.M)(t.onClick,l.onClose)})))})),w="TooltipPortal",[O,I]=y(w,{forceMount:void 0}),R="TooltipContent",k=(0,i.forwardRef)(((t,e)=>{const r=I(R,t.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...a}=t,l=M(R,t.__scopeTooltip);return(0,i.createElement)(p.z,{present:n||l.open},l.disableHoverableContent?(0,i.createElement)(L,(0,s.Z)({side:o},a,{ref:e})):(0,i.createElement)(D,(0,s.Z)({side:o},a,{ref:e})))})),D=(0,i.forwardRef)(((t,e)=>{const r=M(R,t.__scopeTooltip),n=x(R,t.__scopeTooltip),a=(0,i.useRef)(null),l=(0,o.e)(e,a),[c,u]=(0,i.useState)(null),{trigger:h,onClose:p}=r,d=a.current,{onPointerInTransitChange:f}=n,m=(0,i.useCallback)((()=>{u(null),f(!1)}),[f]),g=(0,i.useCallback)(((t,e)=>{const r=t.currentTarget,s={x:t.clientX,y:t.clientY},i=function(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r})}return s}(s,function(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),n=Math.abs(e.left-t.x);switch(Math.min(r,s,i,n)){case n:return"left";case i:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}(s,r.getBoundingClientRect())),n=function(t){const e=t.slice();return e.sort(((t,e)=>t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0)),function(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const t=e[e.length-1],r=e[e.length-2];if(!((t.x-r.x)*(s.y-r.y)>=(t.y-r.y)*(s.x-r.x)))break;e.pop()}e.push(s)}e.pop();const r=[];for(let e=t.length-1;e>=0;e--){const s=t[e];for(;r.length>=2;){const t=r[r.length-1],e=r[r.length-2];if(!((t.x-e.x)*(s.y-e.y)>=(t.y-e.y)*(s.x-e.x)))break;r.pop()}r.push(s)}return r.pop(),1===e.length&&1===r.length&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}(e)}([...i,...function(t){const{top:e,right:r,bottom:s,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:s},{x:i,y:s}]}(e.getBoundingClientRect())]);u(n),f(!0)}),[f]);return(0,i.useEffect)((()=>()=>m()),[m]),(0,i.useEffect)((()=>{if(h&&d){const t=t=>g(t,d),e=t=>g(t,h);return h.addEventListener("pointerleave",t),d.addEventListener("pointerleave",e),()=>{h.removeEventListener("pointerleave",t),d.removeEventListener("pointerleave",e)}}}),[h,d,g,m]),(0,i.useEffect)((()=>{if(c){const t=t=>{const e=t.target,r={x:t.clientX,y:t.clientY},s=(null==h?void 0:h.contains(e))||(null==d?void 0:d.contains(e)),i=!function(t,e){const{x:r,y:s}=t;let i=!1;for(let t=0,n=e.length-1;t<e.length;n=t++){const o=e[t].x,a=e[t].y,l=e[n].x,c=e[n].y;a>s!=c>s&&r<(l-o)*(s-a)/(c-a)+o&&(i=!i)}return i}(r,c);s?m():i&&(m(),p())};return document.addEventListener("pointermove",t),()=>document.removeEventListener("pointermove",t)}}),[h,d,c,p,m]),(0,i.createElement)(L,(0,s.Z)({},t,{ref:l}))})),[F,N]=y(S,{isInside:!1}),L=(0,i.forwardRef)(((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...h}=t,p=M(R,r),d=_(r),{onClose:m}=p;return(0,i.useEffect)((()=>(document.addEventListener(b,m),()=>document.removeEventListener(b,m))),[m]),(0,i.useEffect)((()=>{if(p.trigger){const t=t=>{const e=t.target;null!=e&&e.contains(p.trigger)&&m()};return window.addEventListener("scroll",t,{capture:!0}),()=>window.removeEventListener("scroll",t,{capture:!0})}}),[p.trigger,m]),(0,i.createElement)(l.XB,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:t=>t.preventDefault(),onDismiss:m},(0,i.createElement)(u.VY,(0,s.Z)({"data-state":p.stateAttribute},d,h,{ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),(0,i.createElement)(f.A4,null,n),(0,i.createElement)(F,{scope:r,isInside:!0},(0,i.createElement)(g,{id:p.contentId,role:"tooltip"},o||n))))})),j=t=>{const{__scopeTooltip:e,delayDuration:r=E,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:o}=t,[a,l]=(0,i.useState)(!0),c=(0,i.useRef)(!1),u=(0,i.useRef)(0);return(0,i.useEffect)((()=>{const t=u.current;return()=>window.clearTimeout(t)}),[]),(0,i.createElement)(A,{scope:e,isOpenDelayed:a,delayDuration:r,onOpen:(0,i.useCallback)((()=>{window.clearTimeout(u.current),l(!1)}),[]),onClose:(0,i.useCallback)((()=>{window.clearTimeout(u.current),u.current=window.setTimeout((()=>l(!0)),s)}),[s]),isPointerInTransitRef:c,onPointerInTransitChange:(0,i.useCallback)((t=>{c.current=t}),[]),disableHoverableContent:n},o)},B=t=>{const{__scopeTooltip:e,children:r,open:s,defaultOpen:n=!1,onOpenChange:o,disableHoverableContent:a,delayDuration:l}=t,h=x(S,t.__scopeTooltip),p=_(e),[d,f]=(0,i.useState)(null),g=(0,c.M)(),y=(0,i.useRef)(0),v=null!=a?a:h.disableHoverableContent,E=null!=l?l:h.delayDuration,A=(0,i.useRef)(!1),[M=!1,P]=(0,m.T)({prop:s,defaultProp:n,onChange:t=>{t?(h.onOpen(),document.dispatchEvent(new CustomEvent(b))):h.onClose(),null==o||o(t)}}),C=(0,i.useMemo)((()=>M?A.current?"delayed-open":"instant-open":"closed"),[M]),w=(0,i.useCallback)((()=>{window.clearTimeout(y.current),A.current=!1,P(!0)}),[P]),O=(0,i.useCallback)((()=>{window.clearTimeout(y.current),P(!1)}),[P]),I=(0,i.useCallback)((()=>{window.clearTimeout(y.current),y.current=window.setTimeout((()=>{A.current=!0,P(!0)}),E)}),[E,P]);return(0,i.useEffect)((()=>()=>window.clearTimeout(y.current)),[]),(0,i.createElement)(u.fC,p,(0,i.createElement)(T,{scope:e,contentId:g,open:M,stateAttribute:C,trigger:d,onTriggerChange:f,onTriggerEnter:(0,i.useCallback)((()=>{h.isOpenDelayed?I():w()}),[h.isOpenDelayed,I,w]),onTriggerLeave:(0,i.useCallback)((()=>{v?O():window.clearTimeout(y.current)}),[O,v]),onOpen:w,onClose:O,disableHoverableContent:v},r))},U=C,V=t=>{const{__scopeTooltip:e,forceMount:r,children:s,container:n}=t,o=M(w,e);return(0,i.createElement)(O,{scope:e,forceMount:r},(0,i.createElement)(p.z,{present:r||o.open},(0,i.createElement)(h.h,{asChild:!0,container:n},s)))},H=k,G=(0,i.forwardRef)(((t,e)=>{const{__scopeTooltip:r,...n}=t,o=_(r);return N("TooltipArrow",r).isInside?null:(0,i.createElement)(u.Eh,(0,s.Z)({},o,n,{ref:e}))}))},18863:(t,e,r)=>{"use strict";r.d(e,{W:()=>i});var s=r(96832);function i(t){const e=(0,s.useRef)(t);return(0,s.useEffect)((()=>{e.current=t})),(0,s.useMemo)((()=>(...t)=>{var r;return null===(r=e.current)||void 0===r?void 0:r.call(e,...t)}),[])}},536:(t,e,r)=>{"use strict";r.d(e,{T:()=>n});var s=r(96832),i=r(18863);function n({prop:t,defaultProp:e,onChange:r=(()=>{})}){const[n,o]=function({defaultProp:t,onChange:e}){const r=(0,s.useState)(t),[n]=r,o=(0,s.useRef)(n),a=(0,i.W)(e);return(0,s.useEffect)((()=>{o.current!==n&&(a(n),o.current=n)}),[n,o,a]),r}({defaultProp:e,onChange:r}),a=void 0!==t,l=a?t:n,c=(0,i.W)(r);return[l,(0,s.useCallback)((e=>{if(a){const r="function"==typeof e?e(t):e;r!==t&&c(r)}else o(e)}),[a,t,o,c])]}},27934:(t,e,r)=>{"use strict";r.d(e,{b:()=>i});var s=r(96832);const i=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?s.useLayoutEffect:()=>{}},55556:(t,e,r)=>{"use strict";function s(t){return"string"==typeof t||t instanceof String}function i(t){var e;return"object"==typeof t&&null!=t&&"Object"===(null==t||null==(e=t.constructor)?void 0:e.name)}function n(t,e){return Array.isArray(e)?n(t,((t,r)=>e.includes(r))):Object.entries(t).reduce(((t,r)=>{let[s,i]=r;return e(i,s)&&(t[s]=i),t}),{})}r.d(e,{ZP:()=>f});const o="NONE",a="LEFT",l="FORCE_LEFT",c="RIGHT",u="FORCE_RIGHT";function h(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function p(t,e){if(e===t)return!0;const r=Array.isArray(e),s=Array.isArray(t);let i;if(r&&s){if(e.length!=t.length)return!1;for(i=0;i<e.length;i++)if(!p(e[i],t[i]))return!1;return!0}if(r!=s)return!1;if(e&&t&&"object"==typeof e&&"object"==typeof t){const r=e instanceof Date,s=t instanceof Date;if(r&&s)return e.getTime()==t.getTime();if(r!=s)return!1;const n=e instanceof RegExp,o=t instanceof RegExp;if(n&&o)return e.toString()==t.toString();if(n!=o)return!1;const a=Object.keys(e);for(i=0;i<a.length;i++)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=0;i<a.length;i++)if(!p(t[a[i]],e[a[i]]))return!1;return!0}return!(!e||!t||"function"!=typeof e||"function"!=typeof t)&&e.toString()===t.toString()}class d{constructor(t){for(Object.assign(this,t);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?o:this.oldSelection.end!==this.cursorPos&&this.oldSelection.start!==this.cursorPos||this.oldSelection.end!==this.oldSelection.start?a:c}}function f(t,e){return new f.InputMask(t,e)}function m(t){if(null==t)throw new Error("mask property should be defined");return t instanceof RegExp?f.MaskedRegExp:s(t)?f.MaskedPattern:t===Date?f.MaskedDate:t===Number?f.MaskedNumber:Array.isArray(t)||t===Array?f.MaskedDynamic:f.Masked&&t.prototype instanceof f.Masked?t:f.Masked&&t instanceof f.Masked?t.constructor:t instanceof Function?f.MaskedFunction:(console.warn("Mask not found for mask",t),f.Masked)}function g(t){if(!t)throw new Error("Options in not defined");if(f.Masked){if(t.prototype instanceof f.Masked)return{mask:t};const{mask:e,...r}=t instanceof f.Masked?{mask:t}:i(t)&&t.mask instanceof f.Masked?t:{};if(e){const t=e.mask;return{...n(e,((t,e)=>!e.startsWith("_"))),mask:e.constructor,_mask:t,...r}}}return i(t)?{...t}:{mask:t}}function y(t){if(f.Masked&&t instanceof f.Masked)return t;const e=g(t),r=m(e.mask);if(!r)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===r&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new r(e)}f.createMask=y;class v{get selectionStart(){let t;try{t=this._unsafeSelectionStart}catch{}return null!=t?t:this.value.length}get selectionEnd(){let t;try{t=this._unsafeSelectionEnd}catch{}return null!=t?t:this.value.length}select(t,e){if(null!=t&&null!=e&&(t!==this.selectionStart||e!==this.selectionEnd))try{this._unsafeSelect(t,e)}catch{}}get isActive(){return!1}}f.MaskElement=v;class _ extends v{constructor(t){super(),this.input=t,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var t,e,r;return null!=(t=null==(e=(r=this.input).getRootNode)?void 0:e.call(r))?t:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(t){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",t.drop),this.input.addEventListener("click",t.click),this.input.addEventListener("focus",t.focus),this.input.addEventListener("blur",t.commit),this._handlers=t}_onKeydown(t){return this._handlers.redo&&(90===t.keyCode&&t.shiftKey&&(t.metaKey||t.ctrlKey)||89===t.keyCode&&t.ctrlKey)?(t.preventDefault(),this._handlers.redo(t)):this._handlers.undo&&90===t.keyCode&&(t.metaKey||t.ctrlKey)?(t.preventDefault(),this._handlers.undo(t)):void(t.isComposing||this._handlers.selectionChange(t))}_onBeforeinput(t){return"historyUndo"===t.inputType&&this._handlers.undo?(t.preventDefault(),this._handlers.undo(t)):"historyRedo"===t.inputType&&this._handlers.redo?(t.preventDefault(),this._handlers.redo(t)):void 0}_onCompositionEnd(t){this._handlers.input(t)}_onInput(t){t.isComposing||this._handlers.input(t)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}f.HTMLMaskElement=_;class E extends _{constructor(t){super(t),this.input=t}get _unsafeSelectionStart(){return null!=this.input.selectionStart?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(t,e){this.input.setSelectionRange(t,e)}get value(){return this.input.value}set value(t){this.input.value=t}}f.HTMLMaskElement=_;class b extends _{get _unsafeSelectionStart(){const t=this.rootElement,e=t.getSelection&&t.getSelection(),r=e&&e.anchorOffset,s=e&&e.focusOffset;return null==s||null==r||r<s?r:s}get _unsafeSelectionEnd(){const t=this.rootElement,e=t.getSelection&&t.getSelection(),r=e&&e.anchorOffset,s=e&&e.focusOffset;return null==s||null==r||r>s?r:s}_unsafeSelect(t,e){if(!this.rootElement.createRange)return;const r=this.rootElement.createRange();r.setStart(this.input.firstChild||this.input,t),r.setEnd(this.input.lastChild||this.input,e);const s=this.rootElement,i=s.getSelection&&s.getSelection();i&&(i.removeAllRanges(),i.addRange(r))}get value(){return this.input.textContent||""}set value(t){this.input.textContent=t}}f.HTMLContenteditableMaskElement=b;class A{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return 0===this.states.length}push(t){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(t),this.states.length>A.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(t){return this.currentIndex=Math.min(Math.max(this.currentIndex+t,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}A.MAX_LENGTH=100,f.InputMask=class{constructor(t,e){this.el=t instanceof v?t:t.isContentEditable&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName?new b(t):new E(t),this.masked=y(e),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new A,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this._onChange()}maskEquals(t){var e;return null==t||(null==(e=this.masked)?void 0:e.maskEquals(t))}get mask(){return this.masked.mask}set mask(t){if(this.maskEquals(t))return;if(!(t instanceof f.Masked)&&this.masked.constructor===m(t))return void this.masked.updateOptions({mask:t});const e=t instanceof f.Masked?t:y({mask:t});e.unmaskedValue=this.masked.unmaskedValue,this.masked=e}get value(){return this._value}set value(t){this.value!==t&&(this.masked.value=t,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(t){this.unmaskedValue!==t&&(this.masked.unmaskedValue=t,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(t){this.rawInputValue!==t&&(this.masked.rawInputValue=t,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(t){this.masked.typedValueEquals(t)||(this.masked.typedValue=t,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(t,e){const r=this._listeners[t];r&&r.forEach((t=>t(e)))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(t){this.el&&this.el.isActive&&(this.el.select(t,t),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(t){const e=this.masked.unmaskedValue,r=this.masked.value,s=this.masked.rawInputValue,i=this.displayValue,n=this.unmaskedValue!==e||this.value!==r||this._rawInputValue!==s;this._unmaskedValue=e,this._value=r,this._rawInputValue=s,this.el.value!==i&&(this.el.value=i),"auto"===t?this.alignCursor():null!=t&&(this.cursorPos=t),n&&this._fireChangeEvents(),this._historyChanging||!n&&!this.history.isEmpty||this.history.push({unmaskedValue:e,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(t){const{mask:e,...r}=t,s=!this.maskEquals(e),i=this.masked.optionsIsChanged(r);s&&(this.mask=e),i&&this.masked.updateOptions(r),(s||i)&&this.updateControl()}updateCursor(t){null!=t&&(this.cursorPos=t,this._delayUpdateCursor(t))}_delayUpdateCursor(t){this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout((()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())}),10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,a))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this}off(t,e){if(!this._listeners[t])return this;if(!e)return delete this._listeners[t],this;const r=this._listeners[t].indexOf(e);return r>=0&&this._listeners[t].splice(r,1),this}_onInput(t){this._inputEvent=t,this._abortUpdateCursor();const e=new d({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),r=this.masked.rawInputValue,s=this.masked.splice(e.startChangePos,e.removed.length,e.inserted,e.removeDirection,{input:!0,raw:!0}).offset,i=r===this.masked.rawInputValue?e.removeDirection:o;let n=this.masked.nearestInputPos(e.startChangePos+s,i);i!==o&&(n=this.masked.nearestInputPos(n,o)),this.updateControl(n),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(t){t.preventDefault(),t.stopPropagation()}_onFocus(t){this.alignCursorFriendly()}_onClick(t){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(t){t&&(this._historyChanging=!0,this.unmaskedValue=t.unmaskedValue,this.el.select(t.selection.start,t.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};class x{static normalize(t){return Array.isArray(t)?t:[t,new x]}constructor(t){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},t)}aggregate(t){return this.inserted+=t.inserted,this.rawInserted+=t.rawInserted,this.tailShift+=t.tailShift,this.skip=this.skip||t.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return Boolean(this.rawInserted)||this.skip}equals(t){return this.inserted===t.inserted&&this.tailShift===t.tailShift&&this.rawInserted===t.rawInserted&&this.skip===t.skip}}f.ChangeDetails=x;class S{constructor(t,e,r){void 0===t&&(t=""),void 0===e&&(e=0),this.value=t,this.from=e,this.stop=r}toString(){return this.value}extend(t){this.value+=String(t)}appendTo(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(t){Object.assign(this,t)}unshift(t){if(!this.value.length||null!=t&&this.from>=t)return"";const e=this.value[0];return this.value=this.value.slice(1),e}shift(){if(!this.value.length)return"";const t=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),t}}class T{constructor(t){this._value="",this._update({...T.DEFAULTS,...t}),this._initialized=!0}updateOptions(t){this.optionsIsChanged(t)&&this.withValueRefresh(this._update.bind(this,t))}_update(t){Object.assign(this,t)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value}reset(){this._value=""}get value(){return this._value}set value(t){this.resolve(t,{input:!0})}resolve(t,e){void 0===e&&(e={input:!0}),this.reset(),this.append(t,e,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(t){this.resolve(t,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(t){this.format?this.value=this.format(t,this):this.unmaskedValue=String(t)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(t){this.resolve(t,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(t,e){return t}totalInputPositions(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),Math.min(this.displayValue.length,e-t)}extractInput(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),this.displayValue.slice(t,e)}extractTail(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),new S(this.extractInput(t,e),t)}appendTail(t){return s(t)&&(t=new S(String(t))),t.appendTo(this)}_appendCharRaw(t,e){return t?(this._value+=t,new x({inserted:t,rawInserted:t})):new x}_appendChar(t,e,r){void 0===e&&(e={});const s=this.state;let i;if([t,i]=this.doPrepareChar(t,e),t&&(i=i.aggregate(this._appendCharRaw(t,e)),!i.rawInserted&&"pad"===this.autofix)){const r=this.state;this.state=s;let n=this.pad(e);const o=this._appendCharRaw(t,e);n=n.aggregate(o),o.rawInserted||n.equals(i)?i=n:this.state=r}if(i.inserted){let t,n=!1!==this.doValidate(e);if(n&&null!=r){const e=this.state;if(!0===this.overwrite){t=r.state;for(let t=0;t<i.rawInserted.length;++t)r.unshift(this.displayValue.length-i.tailShift)}let s=this.appendTail(r);if(n=s.rawInserted.length===r.toString().length,!(n&&s.inserted||"shift"!==this.overwrite)){this.state=e,t=r.state;for(let t=0;t<i.rawInserted.length;++t)r.shift();s=this.appendTail(r),n=s.rawInserted.length===r.toString().length}n&&s.inserted&&(this.state=e)}n||(i=new x,this.state=s,r&&t&&(r.state=t))}return i}_appendPlaceholder(){return new x}_appendEager(){return new x}append(t,e,r){if(!s(t))throw new Error("value should be string");const i=s(r)?new S(String(r)):r;let n;null!=e&&e.tail&&(e._beforeTailState=this.state),[t,n]=this.doPrepare(t,e);for(let r=0;r<t.length;++r){const s=this._appendChar(t[r],e,i);if(!s.rawInserted&&!this.doSkipInvalid(t[r],e,i))break;n.aggregate(s)}return(!0===this.eager||"append"===this.eager)&&null!=e&&e.input&&t&&n.aggregate(this._appendEager()),null!=i&&(n.tailShift+=this.appendTail(i).tailShift),n}remove(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),this._value=this.displayValue.slice(0,t)+this.displayValue.slice(e),new x}withValueRefresh(t){if(this._refreshing||!this._initialized)return t();this._refreshing=!0;const e=this.rawInputValue,r=this.value,s=t();return this.rawInputValue=e,this.value&&this.value!==r&&0===r.indexOf(this.value)&&(this.append(r.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,s}runIsolated(t){if(this._isolated||!this._initialized)return t(this);this._isolated=!0;const e=this.state,r=t(this);return this.state=e,delete this._isolated,r}doSkipInvalid(t,e,r){return Boolean(this.skipInvalid)}doPrepare(t,e){return void 0===e&&(e={}),x.normalize(this.prepare?this.prepare(t,this,e):t)}doPrepareChar(t,e){return void 0===e&&(e={}),x.normalize(this.prepareChar?this.prepareChar(t,this,e):t)}doValidate(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}doCommit(){this.commit&&this.commit(this.value,this)}splice(t,e,r,s,i){void 0===r&&(r=""),void 0===s&&(s=o),void 0===i&&(i={input:!0});const n=t+e,h=this.extractTail(n),p=!0===this.eager||"remove"===this.eager;let d;p&&(s=function(t){switch(t){case a:return l;case c:return u;default:return t}}(s),d=this.extractInput(0,n,{raw:!0}));let f=t;const m=new x;if(s!==o&&(f=this.nearestInputPos(t,e>1&&0!==t&&!p?o:s),m.tailShift=f-t),m.aggregate(this.remove(f)),p&&s!==o&&d===this.rawInputValue)if(s===l){let t;for(;d===this.rawInputValue&&(t=this.displayValue.length);)m.aggregate(new x({tailShift:-1})).aggregate(this.remove(t-1))}else s===u&&h.unshift();return m.aggregate(this.append(r,i,h))}maskEquals(t){return this.mask===t}optionsIsChanged(t){return!p(this,t)}typedValueEquals(t){const e=this.typedValue;return t===e||T.EMPTY_VALUES.includes(t)&&T.EMPTY_VALUES.includes(e)||!!this.format&&this.format(t,this)===this.format(this.typedValue,this)}pad(t){return new x}}T.DEFAULTS={skipInvalid:!0},T.EMPTY_VALUES=[void 0,null,""],f.Masked=T;class M{constructor(t,e){void 0===t&&(t=[]),void 0===e&&(e=0),this.chunks=t,this.from=e}toString(){return this.chunks.map(String).join("")}extend(t){if(!String(t))return;t=s(t)?new S(String(t)):t;const e=this.chunks[this.chunks.length-1],r=e&&(e.stop===t.stop||null==t.stop)&&t.from===e.from+e.toString().length;if(t instanceof S)r?e.extend(t.toString()):this.chunks.push(t);else if(t instanceof M){if(null==t.stop){let e;for(;t.chunks.length&&null==t.chunks[0].stop;)e=t.chunks.shift(),e.from+=t.from,this.extend(e)}t.toString()&&(t.stop=t.blockIndex,this.chunks.push(t))}}appendTo(t){if(!(t instanceof f.MaskedPattern))return new S(this.toString()).appendTo(t);const e=new x;for(let r=0;r<this.chunks.length;++r){const s=this.chunks[r],i=t._mapPosToBlock(t.displayValue.length),n=s.stop;let o;if(null!=n&&(!i||i.index<=n)&&((s instanceof M||t._stops.indexOf(n)>=0)&&e.aggregate(t._appendPlaceholder(n)),o=s instanceof M&&t._blocks[n]),o){const r=o.appendTail(s);e.aggregate(r);const i=s.toString().slice(r.rawInserted.length);i&&e.aggregate(t.append(i,{tail:!0}))}else e.aggregate(t.append(s.toString(),{tail:!0}))}return e}get state(){return{chunks:this.chunks.map((t=>t.state)),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(t){const{chunks:e,...r}=t;Object.assign(this,r),this.chunks=e.map((t=>{const e="chunks"in t?new M:new S;return e.state=t,e}))}unshift(t){if(!this.chunks.length||null!=t&&this.from>=t)return"";const e=null!=t?t-this.from:t;let r=0;for(;r<this.chunks.length;){const t=this.chunks[r],s=t.unshift(e);if(t.toString()){if(!s)break;++r}else this.chunks.splice(r,1);if(s)return s}return""}shift(){if(!this.chunks.length)return"";let t=this.chunks.length-1;for(;0<=t;){const e=this.chunks[t],r=e.shift();if(e.toString()){if(!r)break;--t}else this.chunks.splice(t,1);if(r)return r}return""}}class P{constructor(t,e){this.masked=t,this._log=[];const{offset:r,index:s}=t._mapPosToBlock(e)||(e<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=r,this.index=s,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(t){Object.assign(this,t)}pushState(){this._log.push(this.state)}popState(){const t=this._log.pop();return t&&(this.state=t),t}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(t){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=(null==(e=this.block)?void 0:e.displayValue.length)||0){var e;if(t())return this.ok=!0}return this.ok=!1}_pushRight(t){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(t())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft((()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,l),0!==this.offset||void 0}))}pushLeftBeforeInput(){return this._pushLeft((()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,a),!0}))}pushLeftBeforeRequired(){return this._pushLeft((()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,a),!0}))}pushRightBeforeFilled(){return this._pushRight((()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,u),this.offset!==this.block.value.length||void 0}))}pushRightBeforeInput(){return this._pushRight((()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,o),!0}))}pushRightBeforeRequired(){return this._pushRight((()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,o),!0}))}}class C{constructor(t){Object.assign(this,t),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(t,e){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),this._value=this._value.slice(0,t)+this._value.slice(e),this._value||(this._isRawInput=!1),new x}nearestInputPos(t,e){void 0===e&&(e=o);const r=this._value.length;switch(e){case a:case l:return 0;default:return r}}totalInputPositions(t,e){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),this._isRawInput?e-t:0}extractInput(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),void 0===r&&(r={}),r.raw&&this._isRawInput&&this._value.slice(t,e)||""}get isComplete(){return!0}get isFilled(){return Boolean(this._value)}_appendChar(t,e){if(void 0===e&&(e={}),this.isFilled)return new x;const r=!0===this.eager||"append"===this.eager,s=this.char===t&&(this.isUnmasking||e.input||e.raw)&&(!e.raw||!r)&&!e.tail,i=new x({inserted:this.char,rawInserted:s?this.char:""});return this._value=this.char,this._isRawInput=s&&(e.raw||e.input),i}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const t=new x;return this.isFilled||(this._value=t.inserted=this.char),t}extractTail(){return new S("")}appendTail(t){return s(t)&&(t=new S(String(t))),t.appendTo(this)}append(t,e,r){const s=this._appendChar(t[0],e);return null!=r&&(s.tailShift+=this.appendTail(r).tailShift),s}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value,this._isRawInput=Boolean(t._rawInputValue)}pad(t){return this._appendPlaceholder()}}class w{constructor(t){const{parent:e,isOptional:r,placeholderChar:s,displayChar:i,lazy:n,eager:o,...a}=t;this.masked=y(a),Object.assign(this,{parent:e,isOptional:r,placeholderChar:s,displayChar:i,lazy:n,eager:o})}reset(){this.isFilled=!1,this.masked.reset()}remove(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.value.length),0===t&&e>=1?(this.isFilled=!1,this.masked.remove(t,e)):new x}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return Boolean(this.masked.value)||this.isOptional}_appendChar(t,e){if(void 0===e&&(e={}),this.isFilled)return new x;const r=this.masked.state;let s=this.masked._appendChar(t,this.currentMaskFlags(e));return s.inserted&&!1===this.doValidate(e)&&(s=new x,this.masked.state=r),s.inserted||this.isOptional||this.lazy||e.input||(s.inserted=this.placeholderChar),s.skip=!s.inserted&&!this.isOptional,this.isFilled=Boolean(s.inserted),s}append(t,e,r){return this.masked.append(t,this.currentMaskFlags(e),r)}_appendPlaceholder(){return this.isFilled||this.isOptional?new x:(this.isFilled=!0,new x({inserted:this.placeholderChar}))}_appendEager(){return new x}extractTail(t,e){return this.masked.extractTail(t,e)}appendTail(t){return this.masked.appendTail(t)}extractInput(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=this.value.length),this.masked.extractInput(t,e,r)}nearestInputPos(t,e){void 0===e&&(e=o);const r=this.value.length,s=Math.min(Math.max(t,0),r);switch(e){case a:case l:return this.isComplete?s:0;case c:case u:return this.isComplete?s:r;default:return s}}totalInputPositions(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.value.length),this.value.slice(t,e).length}doValidate(t){return this.masked.doValidate(this.currentMaskFlags(t))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(t)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(t){this.masked.state=t.masked,this.isFilled=t.isFilled}currentMaskFlags(t){var e;return{...t,_beforeTailState:(null==t||null==(e=t._beforeTailState)?void 0:e.masked)||(null==t?void 0:t._beforeTailState)}}pad(t){return new x}}w.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},f.MaskedRegExp=class extends T{updateOptions(t){super.updateOptions(t)}_update(t){const e=t.mask;e&&(t.validate=t=>t.search(e)>=0),super._update(t)}};class O extends T{constructor(t){super({...O.DEFAULTS,...t,definitions:Object.assign({},w.DEFAULT_DEFINITIONS,null==t?void 0:t.definitions)})}updateOptions(t){super.updateOptions(t)}_update(t){t.definitions=Object.assign({},this.definitions,t.definitions),super._update(t),this._rebuildMask()}_rebuildMask(){const t=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const e=this.mask;if(!e||!t)return;let r=!1,s=!1;for(let i=0;i<e.length;++i){if(this.blocks){const t=e.slice(i),r=Object.keys(this.blocks).filter((e=>0===t.indexOf(e)));r.sort(((t,e)=>e.length-t.length));const s=r[0];if(s){const{expose:t,repeat:e,...r}=g(this.blocks[s]),n={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...r,repeat:e,parent:this},o=null!=e?new f.RepeatBlock(n):y(n);o&&(this._blocks.push(o),t&&(this.exposeBlock=o),this._maskedBlocks[s]||(this._maskedBlocks[s]=[]),this._maskedBlocks[s].push(this._blocks.length-1)),i+=s.length-1;continue}}let n=e[i],o=n in t;if(n===O.STOP_CHAR){this._stops.push(this._blocks.length);continue}if("{"===n||"}"===n){r=!r;continue}if("["===n||"]"===n){s=!s;continue}if(n===O.ESCAPE_CHAR){if(++i,n=e[i],!n)break;o=!1}const a=o?new w({isOptional:s,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...g(t[n]),parent:this}):new C({char:n,eager:this.eager,isUnmasking:r});this._blocks.push(a)}}get state(){return{...super.state,_blocks:this._blocks.map((t=>t.state))}}set state(t){if(!t)return void this.reset();const{_blocks:e,...r}=t;this._blocks.forEach(((t,r)=>t.state=e[r])),super.state=r}reset(){super.reset(),this._blocks.forEach((t=>t.reset()))}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every((t=>t.isComplete))}get isFilled(){return this._blocks.every((t=>t.isFilled))}get isFixed(){return this._blocks.every((t=>t.isFixed))}get isOptional(){return this._blocks.every((t=>t.isOptional))}doCommit(){this._blocks.forEach((t=>t.doCommit())),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce(((t,e)=>t+e.unmaskedValue),"")}set unmaskedValue(t){if(this.exposeBlock){const e=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=t,this.appendTail(e),this.doCommit()}else super.unmaskedValue=t}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce(((t,e)=>t+e.value),"")}set value(t){if(this.exposeBlock){const e=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=t,this.appendTail(e),this.doCommit()}else super.value=t}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(t){if(this.exposeBlock){const e=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=t,this.appendTail(e),this.doCommit()}else super.typedValue=t}get displayValue(){return this._blocks.reduce(((t,e)=>t+e.displayValue),"")}appendTail(t){return super.appendTail(t).aggregate(this._appendPlaceholder())}_appendEager(){var t;const e=new x;let r=null==(t=this._mapPosToBlock(this.displayValue.length))?void 0:t.index;if(null==r)return e;this._blocks[r].isFilled&&++r;for(let t=r;t<this._blocks.length;++t){const r=this._blocks[t]._appendEager();if(!r.inserted)break;e.aggregate(r)}return e}_appendCharRaw(t,e){void 0===e&&(e={});const r=this._mapPosToBlock(this.displayValue.length),s=new x;if(!r)return s;for(let n,o=r.index;n=this._blocks[o];++o){var i;const r=n._appendChar(t,{...e,_beforeTailState:null==(i=e._beforeTailState)||null==(i=i._blocks)?void 0:i[o]});if(s.aggregate(r),r.consumed)break}return s}extractTail(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);const r=new M;return t===e||this._forEachBlocksInRange(t,e,((t,e,s,i)=>{const n=t.extractTail(s,i);n.stop=this._findStopBefore(e),n.from=this._blockStartPos(e),n instanceof M&&(n.blockIndex=e),r.extend(n)})),r}extractInput(t,e,r){if(void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),void 0===r&&(r={}),t===e)return"";let s="";return this._forEachBlocksInRange(t,e,((t,e,i,n)=>{s+=t.extractInput(i,n,r)})),s}_findStopBefore(t){let e;for(let r=0;r<this._stops.length;++r){const s=this._stops[r];if(!(s<=t))break;e=s}return e}_appendPlaceholder(t){const e=new x;if(this.lazy&&null==t)return e;const r=this._mapPosToBlock(this.displayValue.length);if(!r)return e;const s=r.index,i=null!=t?t:this._blocks.length;return this._blocks.slice(s,i).forEach((r=>{var s;r.lazy&&null==t||e.aggregate(r._appendPlaceholder(null==(s=r._blocks)?void 0:s.length))})),e}_mapPosToBlock(t){let e="";for(let r=0;r<this._blocks.length;++r){const s=this._blocks[r],i=e.length;if(e+=s.displayValue,t<=e.length)return{index:r,offset:t-i}}}_blockStartPos(t){return this._blocks.slice(0,t).reduce(((t,e)=>t+e.displayValue.length),0)}_forEachBlocksInRange(t,e,r){void 0===e&&(e=this.displayValue.length);const s=this._mapPosToBlock(t);if(s){const t=this._mapPosToBlock(e),i=t&&s.index===t.index,n=s.offset,o=t&&i?t.offset:this._blocks[s.index].displayValue.length;if(r(this._blocks[s.index],s.index,n,o),t&&!i){for(let e=s.index+1;e<t.index;++e)r(this._blocks[e],e,0,this._blocks[e].displayValue.length);r(this._blocks[t.index],t.index,0,t.offset)}}}remove(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);const r=super.remove(t,e);return this._forEachBlocksInRange(t,e,((t,e,s,i)=>{r.aggregate(t.remove(s,i))})),r}nearestInputPos(t,e){if(void 0===e&&(e=o),!this._blocks.length)return 0;const r=new P(this,t);if(e===o)return r.pushRightBeforeInput()?r.pos:(r.popState(),r.pushLeftBeforeInput()?r.pos:this.displayValue.length);if(e===a||e===l){if(e===a){if(r.pushRightBeforeFilled(),r.ok&&r.pos===t)return t;r.popState()}if(r.pushLeftBeforeInput(),r.pushLeftBeforeRequired(),r.pushLeftBeforeFilled(),e===a){if(r.pushRightBeforeInput(),r.pushRightBeforeRequired(),r.ok&&r.pos<=t)return r.pos;if(r.popState(),r.ok&&r.pos<=t)return r.pos;r.popState()}return r.ok?r.pos:e===l?0:(r.popState(),r.ok?r.pos:(r.popState(),r.ok?r.pos:0))}return e===c||e===u?(r.pushRightBeforeInput(),r.pushRightBeforeRequired(),r.pushRightBeforeFilled()?r.pos:e===u?this.displayValue.length:(r.popState(),r.ok?r.pos:(r.popState(),r.ok?r.pos:this.nearestInputPos(t,a)))):t}totalInputPositions(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);let r=0;return this._forEachBlocksInRange(t,e,((t,e,s,i)=>{r+=t.totalInputPositions(s,i)})),r}maskedBlock(t){return this.maskedBlocks(t)[0]}maskedBlocks(t){const e=this._maskedBlocks[t];return e?e.map((t=>this._blocks[t])):[]}pad(t){const e=new x;return this._forEachBlocksInRange(0,this.displayValue.length,(r=>e.aggregate(r.pad(t)))),e}}O.DEFAULTS={...T.DEFAULTS,lazy:!0,placeholderChar:"_"},O.STOP_CHAR="`",O.ESCAPE_CHAR="\\",O.InputDefinition=w,O.FixedDefinition=C,f.MaskedPattern=O;class I extends O{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(t){super(t)}updateOptions(t){super.updateOptions(t)}_update(t){const{to:e=this.to||0,from:r=this.from||0,maxLength:s=this.maxLength||0,autofix:i=this.autofix,...n}=t;this.to=e,this.from=r,this.maxLength=Math.max(String(e).length,s),this.autofix=i;const o=String(this.from).padStart(this.maxLength,"0"),a=String(this.to).padStart(this.maxLength,"0");let l=0;for(;l<a.length&&a[l]===o[l];)++l;n.mask=a.slice(0,l).replace(/0/g,"\\0")+"0".repeat(this.maxLength-l),super._update(n)}get isComplete(){return super.isComplete&&Boolean(this.value)}boundaries(t){let e="",r="";const[,s,i]=t.match(/^(\D*)(\d*)(\D*)/)||[];return i&&(e="0".repeat(s.length)+i,r="9".repeat(s.length)+i),e=e.padEnd(this.maxLength,"0"),r=r.padEnd(this.maxLength,"9"),[e,r]}doPrepareChar(t,e){let r;return void 0===e&&(e={}),[t,r]=super.doPrepareChar(t.replace(/\D/g,""),e),t||(r.skip=!this.isComplete),[t,r]}_appendCharRaw(t,e){if(void 0===e&&(e={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(t,e);const r=String(this.from).padStart(this.maxLength,"0"),s=String(this.to).padStart(this.maxLength,"0"),[i,n]=this.boundaries(this.value+t);return Number(n)<this.from?super._appendCharRaw(r[this.value.length],e):Number(i)>this.to?!e.tail&&"pad"===this.autofix&&this.value.length+1<this.maxLength?super._appendCharRaw(r[this.value.length],e).aggregate(this._appendCharRaw(t,e)):super._appendCharRaw(s[this.value.length],e):super._appendCharRaw(t,e)}doValidate(t){const e=this.value;if(-1===e.search(/[^0]/)&&e.length<=this._matchFrom)return!0;const[r,s]=this.boundaries(e);return this.from<=Number(s)&&Number(r)<=this.to&&super.doValidate(t)}pad(t){const e=new x;if(this.value.length===this.maxLength)return e;const r=this.value,s=this.maxLength-this.value.length;if(s){this.reset();for(let r=0;r<s;++r)e.aggregate(super._appendCharRaw("0",t));r.split("").forEach((t=>this._appendCharRaw(t)))}return e}}f.MaskedRange=I;class R extends O{static extractPatternOptions(t){const{mask:e,pattern:r,...i}=t;return{...i,mask:s(e)?e:r}}constructor(t){super(R.extractPatternOptions({...R.DEFAULTS,...t}))}updateOptions(t){super.updateOptions(t)}_update(t){const{mask:e,pattern:r,blocks:i,...n}={...R.DEFAULTS,...t},o=Object.assign({},R.GET_DEFAULT_BLOCKS());t.min&&(o.Y.from=t.min.getFullYear()),t.max&&(o.Y.to=t.max.getFullYear()),t.min&&t.max&&o.Y.from===o.Y.to&&(o.m.from=t.min.getMonth()+1,o.m.to=t.max.getMonth()+1,o.m.from===o.m.to&&(o.d.from=t.min.getDate(),o.d.to=t.max.getDate())),Object.assign(o,this.blocks,i),super._update({...n,mask:s(e)?e:r,blocks:o})}doValidate(t){const e=this.date;return super.doValidate(t)&&(!this.isComplete||this.isDateExist(this.value)&&null!=e&&(null==this.min||this.min<=e)&&(null==this.max||e<=this.max))}isDateExist(t){return this.format(this.parse(t,this),this).indexOf(t)>=0}get date(){return this.typedValue}set date(t){this.typedValue=t}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(t){super.typedValue=t}maskEquals(t){return t===Date||super.maskEquals(t)}optionsIsChanged(t){return super.optionsIsChanged(R.extractPatternOptions(t))}}R.GET_DEFAULT_BLOCKS=()=>({d:{mask:I,from:1,to:31,maxLength:2},m:{mask:I,from:1,to:12,maxLength:2},Y:{mask:I,from:1900,to:9999}}),R.DEFAULTS={...O.DEFAULTS,mask:Date,pattern:"d{.}`m{.}`Y",format:(t,e)=>t?[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()].join("."):"",parse:(t,e)=>{const[r,s,i]=t.split(".").map(Number);return new Date(i,s-1,r)}},f.MaskedDate=R;class k extends T{constructor(t){super({...k.DEFAULTS,...t}),this.currentMask=void 0}updateOptions(t){super.updateOptions(t)}_update(t){super._update(t),"mask"in t&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(t.mask)?t.mask.map((t=>{const{expose:e,...r}=g(t),s=y({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...r});return e&&(this.exposeMask=s),s})):[])}_appendCharRaw(t,e){void 0===e&&(e={});const r=this._applyDispatch(t,e);return this.currentMask&&r.aggregate(this.currentMask._appendChar(t,this.currentMaskFlags(e))),r}_applyDispatch(t,e,r){void 0===t&&(t=""),void 0===e&&(e={}),void 0===r&&(r="");const s=e.tail&&null!=e._beforeTailState?e._beforeTailState._value:this.value,i=this.rawInputValue,n=e.tail&&null!=e._beforeTailState?e._beforeTailState._rawInputValue:i,o=i.slice(n.length),a=this.currentMask,l=new x,c=null==a?void 0:a.state;return this.currentMask=this.doDispatch(t,{...e},r),this.currentMask&&(this.currentMask!==a?(this.currentMask.reset(),n&&(this.currentMask.append(n,{raw:!0}),l.tailShift=this.currentMask.value.length-s.length),o&&(l.tailShift+=this.currentMask.append(o,{raw:!0,tail:!0}).tailShift)):c&&(this.currentMask.state=c)),l}_appendPlaceholder(){const t=this._applyDispatch();return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t}_appendEager(){const t=this._applyDispatch();return this.currentMask&&t.aggregate(this.currentMask._appendEager()),t}appendTail(t){const e=new x;return t&&e.aggregate(this._applyDispatch("",{},t)),e.aggregate(this.currentMask?this.currentMask.appendTail(t):super.appendTail(t))}currentMaskFlags(t){var e,r;return{...t,_beforeTailState:(null==(e=t._beforeTailState)?void 0:e.currentMaskRef)===this.currentMask&&(null==(r=t._beforeTailState)?void 0:r.currentMask)||t._beforeTailState}}doDispatch(t,e,r){return void 0===e&&(e={}),void 0===r&&(r=""),this.dispatch(t,this,e,r)}doValidate(t){return super.doValidate(t)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(t)))}doPrepare(t,e){void 0===e&&(e={});let[r,s]=super.doPrepare(t,e);if(this.currentMask){let t;[r,t]=super.doPrepare(r,this.currentMaskFlags(e)),s=s.aggregate(t)}return[r,s]}doPrepareChar(t,e){void 0===e&&(e={});let[r,s]=super.doPrepareChar(t,e);if(this.currentMask){let t;[r,t]=super.doPrepareChar(r,this.currentMaskFlags(e)),s=s.aggregate(t)}return[r,s]}reset(){var t;null==(t=this.currentMask)||t.reset(),this.compiledMasks.forEach((t=>t.reset()))}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(t){this.exposeMask?(this.exposeMask.value=t,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=t}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(t){this.exposeMask?(this.exposeMask.unmaskedValue=t,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=t}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(t){if(this.exposeMask)return this.exposeMask.typedValue=t,this.currentMask=this.exposeMask,void this._applyDispatch();let e=String(t);this.currentMask&&(this.currentMask.typedValue=t,e=this.currentMask.unmaskedValue),this.unmaskedValue=e}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var t;return Boolean(null==(t=this.currentMask)?void 0:t.isComplete)}get isFilled(){var t;return Boolean(null==(t=this.currentMask)?void 0:t.isFilled)}remove(t,e){const r=new x;return this.currentMask&&r.aggregate(this.currentMask.remove(t,e)).aggregate(this._applyDispatch()),r}get state(){var t;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((t=>t.state)),currentMaskRef:this.currentMask,currentMask:null==(t=this.currentMask)?void 0:t.state}}set state(t){const{compiledMasks:e,currentMaskRef:r,currentMask:s,...i}=t;e&&this.compiledMasks.forEach(((t,r)=>t.state=e[r])),null!=r&&(this.currentMask=r,this.currentMask.state=s),super.state=i}extractInput(t,e,r){return this.currentMask?this.currentMask.extractInput(t,e,r):""}extractTail(t,e){return this.currentMask?this.currentMask.extractTail(t,e):super.extractTail(t,e)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(t,e){return this.currentMask?this.currentMask.nearestInputPos(t,e):super.nearestInputPos(t,e)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(t){this._overwrite=t}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(t){this._eager=t}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(t){this._skipInvalid=t}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(t){this._autofix=t}maskEquals(t){return Array.isArray(t)?this.compiledMasks.every(((e,r)=>{if(!t[r])return;const{mask:s,...i}=t[r];return p(e,i)&&e.maskEquals(s)})):super.maskEquals(t)}typedValueEquals(t){var e;return Boolean(null==(e=this.currentMask)?void 0:e.typedValueEquals(t))}}k.DEFAULTS={...T.DEFAULTS,dispatch:(t,e,r,s)=>{if(!e.compiledMasks.length)return;const i=e.rawInputValue,n=e.compiledMasks.map(((n,o)=>{const a=e.currentMask===n,c=a?n.displayValue.length:n.nearestInputPos(n.displayValue.length,l);return n.rawInputValue!==i?(n.reset(),n.append(i,{raw:!0})):a||n.remove(c),n.append(t,e.currentMaskFlags(r)),n.appendTail(s),{index:o,weight:n.rawInputValue.length,totalInputPositions:n.totalInputPositions(0,Math.max(c,n.nearestInputPos(n.displayValue.length,l)))}}));return n.sort(((t,e)=>e.weight-t.weight||e.totalInputPositions-t.totalInputPositions)),e.compiledMasks[n[0].index]}},f.MaskedDynamic=k;class D extends O{constructor(t){super({...D.DEFAULTS,...t})}updateOptions(t){super.updateOptions(t)}_update(t){const{enum:e,...r}=t;if(e){const t=e.map((t=>t.length)),s=Math.min(...t),i=Math.max(...t)-s;r.mask="*".repeat(s),i&&(r.mask+="["+"*".repeat(i)+"]"),this.enum=e}super._update(r)}_appendCharRaw(t,e){void 0===e&&(e={});const r=Math.min(this.nearestInputPos(0,u),this.value.length),s=this.enum.filter((e=>this.matchValue(e,this.unmaskedValue+t,r)));if(s.length){1===s.length&&this._forEachBlocksInRange(0,this.value.length,((t,r)=>{const i=s[0][r];r>=this.value.length||i===t.value||(t.reset(),t._appendChar(i,e))}));const t=super._appendCharRaw(s[0][this.value.length],e);return 1===s.length&&s[0].slice(this.unmaskedValue.length).split("").forEach((e=>t.aggregate(super._appendCharRaw(e)))),t}return new x({skip:!this.isComplete})}extractTail(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),new S("",t)}remove(t,e){if(void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),t===e)return new x;const r=Math.min(super.nearestInputPos(0,u),this.value.length);let s;for(s=t;s>=0&&!(this.enum.filter((t=>this.matchValue(t,this.value.slice(r,s),r))).length>1);--s);const i=super.remove(s,e);return i.tailShift+=s-t,i}get isComplete(){return this.enum.indexOf(this.value)>=0}}var F;D.DEFAULTS={...O.DEFAULTS,matchValue:(t,e,r)=>t.indexOf(e,r)===r},f.MaskedEnum=D,f.MaskedFunction=class extends T{updateOptions(t){super.updateOptions(t)}_update(t){super._update({...t,validate:t.mask})}};class N extends T{constructor(t){super({...N.DEFAULTS,...t})}updateOptions(t){super.updateOptions(t)}_update(t){super._update(t),this._updateRegExps()}_updateRegExps(){const t="^"+(this.allowNegative?"[+|\\-]?":""),e=(this.scale?"("+h(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(t+"\\d*"+e),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(h).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(h(this.thousandsSeparator),"g")}_removeThousandsSeparators(t){return t.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(t){const e=t.split(this.radix);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),e.join(this.radix)}doPrepareChar(t,e){void 0===e&&(e={});const[r,s]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(e.input&&e.raw||!e.input&&!e.raw)?t.replace(this._mapToRadixRegExp,this.radix):t),e);return t&&!r&&(s.skip=!0),!r||this.allowPositive||this.value||"-"===r||s.aggregate(this._appendChar("-")),[r,s]}_separatorsCount(t,e){void 0===e&&(e=!1);let r=0;for(let s=0;s<t;++s)this._value.indexOf(this.thousandsSeparator,s)===s&&(++r,e&&(t+=this.thousandsSeparator.length));return r}_separatorsCountFromSlice(t){return void 0===t&&(t=this._value),this._separatorsCount(this._removeThousandsSeparators(t).length,!0)}extractInput(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),[t,e]=this._adjustRangeWithSeparators(t,e),this._removeThousandsSeparators(super.extractInput(t,e,r))}_appendCharRaw(t,e){void 0===e&&(e={});const r=e.tail&&e._beforeTailState?e._beforeTailState._value:this._value,s=this._separatorsCountFromSlice(r);this._value=this._removeThousandsSeparators(this.value);const i=this._value;this._value+=t;const n=this.number;let o,a=!isNaN(n),l=!1;if(a){let t;null!=this.min&&this.min<0&&this.number<this.min&&(t=this.min),null!=this.max&&this.max>0&&this.number>this.max&&(t=this.max),null!=t&&(this.autofix?(this._value=this.format(t,this).replace(N.UNMASKED_RADIX,this.radix),l||(l=i===this._value&&!e.tail)):a=!1),a&&(a=Boolean(this._value.match(this._numberRegExp)))}a?o=new x({inserted:this._value.slice(i.length),rawInserted:l?"":t,skip:l}):(this._value=i,o=new x),this._value=this._insertThousandsSeparators(this._value);const c=e.tail&&e._beforeTailState?e._beforeTailState._value:this._value,u=this._separatorsCountFromSlice(c);return o.tailShift+=(u-s)*this.thousandsSeparator.length,o}_findSeparatorAround(t){if(this.thousandsSeparator){const e=t-this.thousandsSeparator.length+1,r=this.value.indexOf(this.thousandsSeparator,e);if(r<=t)return r}return-1}_adjustRangeWithSeparators(t,e){const r=this._findSeparatorAround(t);r>=0&&(t=r);const s=this._findSeparatorAround(e);return s>=0&&(e=s+this.thousandsSeparator.length),[t,e]}remove(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),[t,e]=this._adjustRangeWithSeparators(t,e);const r=this.value.slice(0,t),s=this.value.slice(e),i=this._separatorsCount(r.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(r+s));const n=this._separatorsCountFromSlice(r);return new x({tailShift:(n-i)*this.thousandsSeparator.length})}nearestInputPos(t,e){if(!this.thousandsSeparator)return t;switch(e){case o:case a:case l:{const r=this._findSeparatorAround(t-1);if(r>=0){const s=r+this.thousandsSeparator.length;if(t<s||this.value.length<=s||e===l)return r}break}case c:case u:{const e=this._findSeparatorAround(t);if(e>=0)return e+this.thousandsSeparator.length}}return t}doCommit(){if(this.value){const t=this.number;let e=t;null!=this.min&&(e=Math.max(e,this.min)),null!=this.max&&(e=Math.min(e,this.max)),e!==t&&(this.unmaskedValue=this.format(e,this));let r=this.value;this.normalizeZeros&&(r=this._normalizeZeros(r)),this.padFractionalZeros&&this.scale>0&&(r=this._padFractionalZeros(r)),this._value=r}super.doCommit()}_normalizeZeros(t){const e=this._removeThousandsSeparators(t).split(this.radix);return e[0]=e[0].replace(/^(\D*)(0*)(\d*)/,((t,e,r,s)=>e+s)),t.length&&!/\d$/.test(e[0])&&(e[0]=e[0]+"0"),e.length>1&&(e[1]=e[1].replace(/0*$/,""),e[1].length||(e.length=1)),this._insertThousandsSeparators(e.join(this.radix))}_padFractionalZeros(t){if(!t)return t;const e=t.split(this.radix);return e.length<2&&e.push(""),e[1]=e[1].padEnd(this.scale,"0"),e.join(this.radix)}doSkipInvalid(t,e,r){void 0===e&&(e={});const s=0===this.scale&&t!==this.thousandsSeparator&&(t===this.radix||t===N.UNMASKED_RADIX||this.mapToRadix.includes(t));return super.doSkipInvalid(t,e,r)&&!s}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,N.UNMASKED_RADIX)}set unmaskedValue(t){super.unmaskedValue=t}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(t){this.rawInputValue=this.format(t,this).replace(N.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(t){this.typedValue=t}get allowNegative(){return null!=this.min&&this.min<0||null!=this.max&&this.max<0}get allowPositive(){return null!=this.min&&this.min>0||null!=this.max&&this.max>0}typedValueEquals(t){return(super.typedValueEquals(t)||N.EMPTY_VALUES.includes(t)&&N.EMPTY_VALUES.includes(this.typedValue))&&!(0===t&&""===this.value)}}F=N,N.UNMASKED_RADIX=".",N.EMPTY_VALUES=[...T.EMPTY_VALUES,0],N.DEFAULTS={...T.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[F.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:t=>t.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})},f.MaskedNumber=N;const L={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function j(t,e,r){void 0===e&&(e=L.MASKED),void 0===r&&(r=L.MASKED);const s=y(t);return t=>s.runIsolated((s=>(s[e]=t,s[r])))}f.PIPE_TYPE=L,f.createPipe=j,f.pipe=function(t,e,r,s){return j(e,r,s)(t)},f.RepeatBlock=class extends O{get repeatFrom(){var t;return null!=(t=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)?t:0}get repeatTo(){var t;return null!=(t=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)?t:1/0}constructor(t){super(t)}updateOptions(t){super.updateOptions(t)}_update(t){var e,r,s;const{repeat:i,...n}=g(t);this._blockOpts=Object.assign({},this._blockOpts,n);const o=y(this._blockOpts);this.repeat=null!=(e=null!=(r=null!=i?i:o.repeat)?r:this.repeat)?e:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&(null==(s=this._blocks)?void 0:s.length)||0,this.repeatFrom)),blocks:{m:o},eager:o.eager,overwrite:o.overwrite,skipInvalid:o.skipInvalid,lazy:o.lazy,placeholderChar:o.placeholderChar,displayChar:o.displayChar})}_allocateBlock(t){return t<this._blocks.length?this._blocks[t]:this.repeatTo===1/0||this._blocks.length<this.repeatTo?(this._blocks.push(y(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]):void 0}_appendCharRaw(t,e){void 0===e&&(e={});const r=new x;for(let a,l,c=null!=(s=null==(i=this._mapPosToBlock(this.displayValue.length))?void 0:i.index)?s:Math.max(this._blocks.length-1,0);a=null!=(n=this._blocks[c])?n:l=!l&&this._allocateBlock(c);++c){var s,i,n,o;const u=a._appendChar(t,{...e,_beforeTailState:null==(o=e._beforeTailState)||null==(o=o._blocks)?void 0:o[c]});if(u.skip&&l){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(r.aggregate(u),u.consumed)break}return r}_trimEmptyTail(t,e){var r,s;void 0===t&&(t=0);const i=Math.max((null==(r=this._mapPosToBlock(t))?void 0:r.index)||0,this.repeatFrom,0);let n;null!=e&&(n=null==(s=this._mapPosToBlock(e))?void 0:s.index),null==n&&(n=this._blocks.length-1);let o=0;for(let t=n;i<=t&&!this._blocks[t].unmaskedValue;--t,++o);o&&(this._blocks.splice(n-o+1,o),this.mask=this.mask.slice(o))}reset(){super.reset(),this._trimEmptyTail()}remove(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);const r=super.remove(t,e);return this._trimEmptyTail(t,e),r}totalInputPositions(t,e){return void 0===t&&(t=0),null==e&&this.repeatTo===1/0?1/0:super.totalInputPositions(t,e)}get state(){return super.state}set state(t){this._blocks.length=t._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=t}};try{globalThis.IMask=f}catch{}},16389:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var s=r(28782);const i=function(t,e){for(var r=t.length;r--;)if((0,s.Z)(t[r][0],e))return r;return-1};var n=Array.prototype.splice;function o(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}o.prototype.clear=function(){this.__data__=[],this.size=0},o.prototype.delete=function(t){var e=this.__data__,r=i(e,t);return!(r<0||(r==e.length-1?e.pop():n.call(e,r,1),--this.size,0))},o.prototype.get=function(t){var e=this.__data__,r=i(e,t);return r<0?void 0:e[r][1]},o.prototype.has=function(t){return i(this.__data__,t)>-1},o.prototype.set=function(t,e){var r=this.__data__,s=i(r,t);return s<0?(++this.size,r.push([t,e])):r[s][1]=e,this};const a=o},7737:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});var s=r(9352),i=r(47627);const n=(0,s.Z)(i.Z,"Map")},58139:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});const s=(0,r(9352).Z)(Object,"create");var i=Object.prototype.hasOwnProperty;var n=Object.prototype.hasOwnProperty;function o(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}o.prototype.clear=function(){this.__data__=s?s(null):{},this.size=0},o.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},o.prototype.get=function(t){var e=this.__data__;if(s){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0},o.prototype.has=function(t){var e=this.__data__;return s?void 0!==e[t]:n.call(e,t)},o.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=s&&void 0===e?"__lodash_hash_undefined__":e,this};const a=o;var l=r(16389),c=r(7737);const u=function(t,e){var r,s,i=t.__data__;return("string"==(s=typeof(r=e))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map};function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}h.prototype.clear=function(){this.size=0,this.__data__={hash:new a,map:new(c.Z||l.Z),string:new a}},h.prototype.delete=function(t){var e=u(this,t).delete(t);return this.size-=e?1:0,e},h.prototype.get=function(t){return u(this,t).get(t)},h.prototype.has=function(t){return u(this,t).has(t)},h.prototype.set=function(t,e){var r=u(this,t),s=r.size;return r.set(t,e),this.size+=r.size==s?0:1,this};const p=h},344:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});const s=r(47627).Z.Symbol},90675:(t,e,r)=>{"use strict";r.d(e,{Z:()=>Yt});var s=r(16389);var i=r(7737),n=r(58139);function o(t){var e=this.__data__=new s.Z(t);this.size=e.size}o.prototype.clear=function(){this.__data__=new s.Z,this.size=0},o.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},o.prototype.get=function(t){return this.__data__.get(t)},o.prototype.has=function(t){return this.__data__.has(t)},o.prototype.set=function(t,e){var r=this.__data__;if(r instanceof s.Z){var o=r.__data__;if(!i.Z||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new n.Z(o)}return r.set(t,e),this.size=r.size,this};const a=o;var l=r(9352);const c=function(){try{var t=(0,l.Z)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),u=function(t,e,r){"__proto__"==e&&c?c(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var h=r(28782),p=Object.prototype.hasOwnProperty;const d=function(t,e,r){var s=t[e];p.call(t,e)&&(0,h.Z)(s,r)&&(void 0!==r||e in t)||u(t,e,r)},f=function(t,e,r,s){var i=!r;r||(r={});for(var n=-1,o=e.length;++n<o;){var a=e[n],l=s?s(r[a],t[a],a,r,t):void 0;void 0===l&&(l=t[a]),i?u(r,a,l):d(r,a,l)}return r};var m=r(97909),g=r(54764);const y=function(t){return(0,g.Z)(t)&&"[object Arguments]"==(0,m.Z)(t)};var v=Object.prototype,_=v.hasOwnProperty,E=v.propertyIsEnumerable;const b=y(function(){return arguments}())?y:function(t){return(0,g.Z)(t)&&_.call(t,"callee")&&!E.call(t,"callee")};var A=r(83788),x=r(47627);var S="object"==typeof exports&&exports&&!exports.nodeType&&exports,T=S&&"object"==typeof module&&module&&!module.nodeType&&module,M=T&&T.exports===S?x.Z.Buffer:void 0;const P=(M?M.isBuffer:void 0)||function(){return!1};var C=/^(?:0|[1-9]\d*)$/;const w=function(t,e){var r=typeof t;return!!(e=e??9007199254740991)&&("number"==r||"symbol"!=r&&C.test(t))&&t>-1&&t%1==0&&t<e};const O=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Arguments]"]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object Boolean]"]=I["[object DataView]"]=I["[object Date]"]=I["[object Error]"]=I["[object Function]"]=I["[object Map]"]=I["[object Number]"]=I["[object Object]"]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object WeakMap]"]=!1;const R=function(t){return function(e){return t(e)}};var k=r(96184),D="object"==typeof exports&&exports&&!exports.nodeType&&exports,F=D&&"object"==typeof module&&module&&!module.nodeType&&module,N=F&&F.exports===D&&k.Z.process;const L=function(){try{return F&&F.require&&F.require("util").types||N&&N.binding&&N.binding("util")}catch(t){}}();var j=L&&L.isTypedArray;const B=j?R(j):function(t){return(0,g.Z)(t)&&O(t.length)&&!!I[(0,m.Z)(t)]};var U=Object.prototype.hasOwnProperty;const V=function(t,e){var r=(0,A.Z)(t),s=!r&&b(t),i=!r&&!s&&P(t),n=!r&&!s&&!i&&B(t),o=r||s||i||n,a=o?function(t,e){for(var r=-1,s=Array(t);++r<t;)s[r]=e(r);return s}(t.length,String):[],l=a.length;for(var c in t)!e&&!U.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||n&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||w(c,l))||a.push(c);return a};var H=Object.prototype;const G=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||H)},q=(0,r(91534).Z)(Object.keys,Object);var z=Object.prototype.hasOwnProperty;var K=r(89477);const W=function(t){return null!=t&&O(t.length)&&!(0,K.Z)(t)},$=function(t){return W(t)?V(t):function(t){if(!G(t))return q(t);var e=[];for(var r in Object(t))z.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)};var Y=r(7247);var Z=Object.prototype.hasOwnProperty;const X=function(t){if(!(0,Y.Z)(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=G(t),r=[];for(var s in t)("constructor"!=s||!e&&Z.call(t,s))&&r.push(s);return r},Q=function(t){return W(t)?V(t,!0):X(t)};var J="object"==typeof exports&&exports&&!exports.nodeType&&exports,tt=J&&"object"==typeof module&&module&&!module.nodeType&&module,et=tt&&tt.exports===J?x.Z.Buffer:void 0,rt=et?et.allocUnsafe:void 0;var st=r(82857);const it=function(){return[]};var nt=Object.prototype.propertyIsEnumerable,ot=Object.getOwnPropertySymbols;const at=ot?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,s=null==t?0:t.length,i=0,n=[];++r<s;){var o=t[r];e(o,r,t)&&(n[i++]=o)}return n}(ot(t),(function(e){return nt.call(t,e)})))}:it,lt=function(t,e){for(var r=-1,s=e.length,i=t.length;++r<s;)t[i+r]=e[r];return t};var ct=r(98263);const ut=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)lt(e,at(t)),t=(0,ct.Z)(t);return e}:it,ht=function(t,e,r){var s=e(t);return(0,A.Z)(t)?s:lt(s,r(t))},pt=function(t){return ht(t,$,at)},dt=function(t){return ht(t,Q,ut)},ft=(0,l.Z)(x.Z,"DataView"),mt=(0,l.Z)(x.Z,"Promise"),gt=(0,l.Z)(x.Z,"Set"),yt=(0,l.Z)(x.Z,"WeakMap");var vt=r(27785),_t="[object Map]",Et="[object Promise]",bt="[object Set]",At="[object WeakMap]",xt="[object DataView]",St=(0,vt.Z)(ft),Tt=(0,vt.Z)(i.Z),Mt=(0,vt.Z)(mt),Pt=(0,vt.Z)(gt),Ct=(0,vt.Z)(yt),wt=m.Z;(ft&&wt(new ft(new ArrayBuffer(1)))!=xt||i.Z&&wt(new i.Z)!=_t||mt&&wt(mt.resolve())!=Et||gt&&wt(new gt)!=bt||yt&&wt(new yt)!=At)&&(wt=function(t){var e=(0,m.Z)(t),r="[object Object]"==e?t.constructor:void 0,s=r?(0,vt.Z)(r):"";if(s)switch(s){case St:return xt;case Tt:return _t;case Mt:return Et;case Pt:return bt;case Ct:return At}return e});const Ot=wt;var It=Object.prototype.hasOwnProperty;const Rt=x.Z.Uint8Array,kt=function(t){var e=new t.constructor(t.byteLength);return new Rt(e).set(new Rt(t)),e};var Dt=/\w*$/;var Ft=r(344),Nt=Ft.Z?Ft.Z.prototype:void 0,Lt=Nt?Nt.valueOf:void 0;const jt=function(t,e,r){var s,i,n,o=t.constructor;switch(e){case"[object ArrayBuffer]":return kt(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var r=e?kt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?kt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(n=new(i=t).constructor(i.source,Dt.exec(i))).lastIndex=i.lastIndex,n;case"[object Symbol]":return s=t,Lt?Object(Lt.call(s)):{}}};var Bt=Object.create;const Ut=function(){function t(){}return function(e){if(!(0,Y.Z)(e))return{};if(Bt)return Bt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var Vt=L&&L.isMap;const Ht=Vt?R(Vt):function(t){return(0,g.Z)(t)&&"[object Map]"==Ot(t)};var Gt=L&&L.isSet;const qt=Gt?R(Gt):function(t){return(0,g.Z)(t)&&"[object Set]"==Ot(t)};var zt="[object Arguments]",Kt="[object Function]",Wt="[object Object]",$t={};$t[zt]=$t["[object Array]"]=$t["[object ArrayBuffer]"]=$t["[object DataView]"]=$t["[object Boolean]"]=$t["[object Date]"]=$t["[object Float32Array]"]=$t["[object Float64Array]"]=$t["[object Int8Array]"]=$t["[object Int16Array]"]=$t["[object Int32Array]"]=$t["[object Map]"]=$t["[object Number]"]=$t[Wt]=$t["[object RegExp]"]=$t["[object Set]"]=$t["[object String]"]=$t["[object Symbol]"]=$t["[object Uint8Array]"]=$t["[object Uint8ClampedArray]"]=$t["[object Uint16Array]"]=$t["[object Uint32Array]"]=!0,$t["[object Error]"]=$t[Kt]=$t["[object WeakMap]"]=!1;const Yt=function t(e,r,s,i,n,o){var l,c=1&r,u=2&r,h=4&r;if(s&&(l=n?s(e,i,n,o):s(e)),void 0!==l)return l;if(!(0,Y.Z)(e))return e;var p=(0,A.Z)(e);if(p){if(l=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&It.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!c)return(0,st.Z)(e,l)}else{var m=Ot(e),g=m==Kt||"[object GeneratorFunction]"==m;if(P(e))return function(t,e){if(e)return t.slice();var r=t.length,s=rt?rt(r):new t.constructor(r);return t.copy(s),s}(e,c);if(m==Wt||m==zt||g&&!n){if(l=u||g?{}:function(t){return"function"!=typeof t.constructor||G(t)?{}:Ut((0,ct.Z)(t))}(e),!c)return u?function(t,e){return f(t,ut(t),e)}(e,function(t,e){return t&&f(e,Q(e),t)}(l,e)):function(t,e){return f(t,at(t),e)}(e,function(t,e){return t&&f(e,$(e),t)}(l,e))}else{if(!$t[m])return n?e:{};l=jt(e,m,c)}}o||(o=new a);var y=o.get(e);if(y)return y;o.set(e,l),qt(e)?e.forEach((function(i){l.add(t(i,r,s,i,e,o))})):Ht(e)&&e.forEach((function(i,n){l.set(n,t(i,r,s,n,e,o))}));var v=p?void 0:(h?u?dt:pt:u?Q:$)(e);return function(t,e){for(var r=-1,s=null==t?0:t.length;++r<s&&!1!==e(t[r],r,t););}(v||e,(function(i,n){v&&(i=e[n=i]),d(l,n,t(i,r,s,n,e,o))})),l}},97909:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var s=r(344),i=Object.prototype,n=i.hasOwnProperty,o=i.toString,a=s.Z?s.Z.toStringTag:void 0;var l=Object.prototype.toString;var c=s.Z?s.Z.toStringTag:void 0;const u=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":c&&c in Object(t)?function(t){var e=n.call(t,a),r=t[a];try{t[a]=void 0;var s=!0}catch(t){}var i=o.call(t);return s&&(e?t[a]=r:delete t[a]),i}(t):function(t){return l.call(t)}(t)}},82857:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});const s=function(t,e){var r=-1,s=t.length;for(e||(e=Array(s));++r<s;)e[r]=t[r];return e}},96184:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});const s="object"==typeof global&&global&&global.Object===Object&&global},9352:(t,e,r)=>{"use strict";r.d(e,{Z:()=>g});var s=r(89477);const i=r(47627).Z["__core-js_shared__"];var n,o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";var a=r(7247),l=r(27785),c=/^\[object .+?Constructor\]$/,u=Function.prototype,h=Object.prototype,p=u.toString,d=h.hasOwnProperty,f=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const m=function(t){return!(!(0,a.Z)(t)||(e=t,o&&o in e))&&((0,s.Z)(t)?f:c).test((0,l.Z)(t));var e},g=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return m(r)?r:void 0}},98263:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});const s=(0,r(91534).Z)(Object.getPrototypeOf,Object)},91534:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});const s=function(t,e){return function(r){return t(e(r))}}},47627:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});var s=r(96184),i="object"==typeof self&&self&&self.Object===Object&&self;const n=s.Z||i||Function("return this")()},27785:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var s=Function.prototype.toString;const i=function(t){if(null!=t){try{return s.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},24220:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var s=r(90675);const i=function(t){return(0,s.Z)(t,4)}},46440:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var s=r(90675);const i=function(t){return(0,s.Z)(t,5)}},28782:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});const s=function(t,e){return t===e||t!=t&&e!=e}},83788:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});const s=Array.isArray},89477:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});var s=r(97909),i=r(7247);const n=function(t){if(!(0,i.Z)(t))return!1;var e=(0,s.Z)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},7247:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});const s=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},54764:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});const s=function(t){return null!=t&&"object"==typeof t}},56643:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var s=r(97909),i=r(98263),n=r(54764),o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=l.call(Object);const h=function(t){if(!(0,n.Z)(t)||"[object Object]"!=(0,s.Z)(t))return!1;var e=(0,i.Z)(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==u}},98443:(t,e,r)=>{"use strict";r.d(e,{Z:()=>x});const s=function(t,e){for(var r=-1,s=null==t?0:t.length,i=Array(s);++r<s;)i[r]=e(t[r],r,t);return i};var i=r(82857),n=r(83788),o=r(97909),a=r(54764);const l=function(t){return"symbol"==typeof t||(0,a.Z)(t)&&"[object Symbol]"==(0,o.Z)(t)};var c=r(58139),u="Expected a function";function h(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(u);var r=function(){var s=arguments,i=e?e.apply(this,s):s[0],n=r.cache;if(n.has(i))return n.get(i);var o=t.apply(this,s);return r.cache=n.set(i,o)||n,o};return r.cache=new(h.Cache||c.Z),r}h.Cache=c.Z;var p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g;const f=(m=h((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(p,(function(t,r,s,i){e.push(s?i.replace(d,"$1"):r||t)})),e}),(function(t){return 500===g.size&&g.clear(),t})),g=m.cache,m);var m,g;const y=function(t){if("string"==typeof t||l(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var v=r(344),_=v.Z?v.Z.prototype:void 0,E=_?_.toString:void 0;const b=function t(e){if("string"==typeof e)return e;if((0,n.Z)(e))return s(e,t)+"";if(l(e))return E?E.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r},A=function(t){return null==t?"":b(t)},x=function(t){return(0,n.Z)(t)?s(t,y):l(t)?[t]:(0,i.Z)(f(A(t)))}},79629:t=>{"use strict";t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}}]);