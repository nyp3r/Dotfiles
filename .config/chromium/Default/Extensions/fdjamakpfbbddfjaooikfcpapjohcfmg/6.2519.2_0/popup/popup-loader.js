(()=>{"use strict";let n=function(n){return n.POPUP_LAUNCH="POPUP_LAUNCH",n.BUNDLE_LOADED="BUNDLE_LOADED",n.BUNDLE_AVAILABLE="BUNDLE_AVAILABLE",n.POPUP_INITIALISED="POPUP_INITIALISED",n.LOGIN_CLICK="LOGIN_CLICK",n}({});const e=()=>{},t=()=>{},o=()=>{},i=document.getElementById("slow-background-init-warning-container"),d=document.getElementById("error-background-init-container");e(n.POPUP_LAUNCH);let a=!1;function r(){i&&(i.style.display="block")}function c(){d&&(d.style.display="block",function(){const n=document.getElementById("loader-animation");n&&(n.style.display="none")}())}!function(){if(window.location!==window.parent.location)throw new Error("Popup should not be run in an iframe");window.addEventListener("display-app",(()=>{a=!0,function(){if(!a)return;const e=document.getElementById("skeleton-loader"),i=document.getElementById("app"),d=document.getElementById("loader-container");i&&e&&d&&(e.classList.add("hidden"),d.classList.add("hidden"),d.setAttribute("aria-busy","false"),i.classList.remove("hidden"),t("Showing native HTML loading state",n.POPUP_LAUNCH),o())}()}),{once:!0}),window.addEventListener("slow-background-init",r,{once:!0}),window.addEventListener("error-background-init",c,{once:!0})}()})();