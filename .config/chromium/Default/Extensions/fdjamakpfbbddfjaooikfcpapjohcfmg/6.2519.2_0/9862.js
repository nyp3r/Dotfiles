"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[9862],{42521:(e,t,a)=>{a.d(t,{Jh:()=>r,UE:()=>s,ZP:()=>d});var l=a(96832),i=a(26849);const s=(0,i.compose)(i.not,i.isEmpty,i.trim,(0,i.defaultTo)("")),n=/.+@.+\..+/,r=e=>n.test(e.trim());class d extends l.Component{constructor(e){super(e),this.setInternalState=e=>{this.setState({internal:{...this.state.internal,...e}})},this.setUpdatedValues=e=>{const{signalEditedValues:t,onValuesUpdated:a}=this.props,l={...this.state.values,...e};this.setState({values:l},(()=>{t&&t(this.hasFormBeenEdited()),a&&a(l)}))},this.handleChange=(e,t="")=>{if(e instanceof Event&&t)throw new Error("handleChange was called with both a ChangeEvent and key.");const a=e?.target?{[e.target.dataset.name]:e.target.value}:{[t]:e};this.setUpdatedValues(a)},this.handleChanges=e=>{this.setUpdatedValues(e)},this.validateValues=e=>{if(0===Object.keys(e).length)return!0;const t=(0,i.reduce)(((t,a)=>(t[a]=e[a]?(0,i.compose)(i.not,e[a]):()=>!1,t)),{},Object.keys(this.state.values)),a=(0,i.evolve)(t,this.state.values);return this.setState({errors:a}),(0,i.all)((0,i.equals)(!1),(0,i.values)(a))},this.hasFormBeenEdited=()=>!(0,i.equals)(this.state.values,this.props.currentValues),this.getValues=()=>this.state.values;const t=Object.keys(e.currentValues).reduce(((e,t)=>(e[t]=!1,e)),{});this.state={internal:{},values:e.currentValues,errors:t}}componentDidUpdate(e){(0,i.equals)(this.props.currentValues,e.currentValues)||this.setState({values:this.props.currentValues})}}},79862:(e,t,a)=>{a.d(t,{P:()=>E});var l=a(26849),i=a(26311),s=a(59115),n=a(75968),r=a(93853),d=a(70674),o=a(42521),h=a(42670),u=a(67406),p=a(50506);let _=function(e){return e[e.TITLE=0]="TITLE",e[e.FIRSTNAME=1]="FIRSTNAME",e[e.MIDDLENAME=2]="MIDDLENAME",e[e.LASTNAME=3]="LASTNAME",e[e.LASTNAME2=4]="LASTNAME2",e[e.PSEUDO=5]="PSEUDO",e[e.BIRTHDATE=6]="BIRTHDATE",e[e.BIRTHPLACE=7]="BIRTHPLACE",e}({});const c=e=>e!==p.n.JAPAN,b=e=>e===p.n.NORTH_AMERICA_AND_ASIA,v=e=>e===p.n.SPANISH;var m=a(68037),y=a(36351);const f="webapp_personal_info_edition_identity_error",g="webapp_personal_info_edition_identity_birthdate_label";class E extends o.ZP{constructor(...e){super(...e),this.isFieldVisible=(e=>{const t=(0,p.S)(e),a={[_.TITLE]:c(t),[_.FIRSTNAME]:!0,[_.MIDDLENAME]:b(t),[_.LASTNAME]:!0,[_.LASTNAME2]:v(t),[_.PSEUDO]:!0,[_.BIRTHDATE]:!0,[_.BIRTHPLACE]:!0};return(e,t)=>a[e]||!!t})(this.props.currentValues.localeFormat)}isFormValid(){return this.validateValues({firstName:o.UE,lastName:o.UE})}render(){var e,t,a;const o=this.props.lee.translate,{shouldShowFrozenStateDialog:h}=this.context,p=[{label:o("webapp_personal_info_edition_identity_title_mr"),value:i.t.Mr},{label:o("webapp_personal_info_edition_identity_title_mrs"),value:i.t.Mrs},{label:o("webapp_personal_info_edition_identity_title_miss"),value:i.t.Miss},{label:o("webapp_personal_info_edition_identity_title_ms"),value:i.t.Ms},{label:o("webapp_personal_info_edition_identity_title_mx"),value:i.t.Mx},{label:o("webapp_personal_info_edition_identity_title_none_of_these"),value:i.t.NoneOfThese}],c=(0,l.uniqBy)((e=>e.label),p),b=null!=(e=c.find((({value:e})=>this.state.values.title===e)))?e:c[c.length-1];return(0,y.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,y.BX)(m.u,{title:o("webapp_payment_edition_content_identity_details_label"),additionalSx:{display:"flex",flexDirection:"column",gap:"8px"},children:[this.isFieldVisible(_.TITLE,null!=(t=this.state.values.title)?t:"")&&(0,y.tZ)(s.m,{label:o("webapp_personal_info_edition_identity_title_label"),placeholder:b.label,"data-name":"title",value:b.value,onChange:e=>this.handleChange(e,"title"),disabled:!!h,children:c.map((e=>(0,y.tZ)(n.$,{value:e.value,children:e.label},e.value)))}),this.isFieldVisible(_.FIRSTNAME,this.state.values.firstName)&&(0,y.tZ)(r.n,{required:!0,label:o("webapp_personal_info_edition_identity_firstname_label"),placeholder:o("webapp_personal_info_edition_identity_placeholder_no_firstname"),"data-name":"firstName",onChange:this.handleChange,readOnly:!!h,value:this.state.values.firstName,error:this.state.errors.firstName,feedback:this.state.errors.firstName?{text:o(f)}:void 0}),this.isFieldVisible(_.MIDDLENAME,this.state.values.middleName)&&(0,y.tZ)(r.n,{label:o("webapp_personal_info_edition_identity_middlename_label"),placeholder:o("webapp_personal_info_edition_identity_placeholder_no_middlename"),"data-name":"middleName",value:this.state.values.middleName,onChange:this.handleChange,readOnly:!!h}),this.isFieldVisible(_.LASTNAME,this.state.values.lastName)&&(0,y.tZ)(r.n,{required:!0,label:o("webapp_personal_info_edition_identity_lastname_label"),placeholder:o("webapp_personal_info_edition_identity_placeholder_no_lastname"),"data-name":"lastName",value:this.state.values.lastName,onChange:this.handleChange,readOnly:!!h,error:this.state.errors.lastName,feedback:this.state.errors.lastName?{text:o(f)}:void 0}),this.isFieldVisible(_.LASTNAME2,this.state.values.lastName2)&&(0,y.tZ)(r.n,{label:o("webapp_personal_info_edition_identity_lastname2_label"),placeholder:o("webapp_personal_info_edition_identity_placeholder_no_lastname2"),"data-name":"lastName2",value:this.state.values.lastName2,onChange:this.handleChange,readOnly:!!h}),this.isFieldVisible(_.PSEUDO,this.state.values.pseudo)&&(0,y.tZ)(r.n,{label:o("webapp_personal_info_edition_identity_pseudo_label"),placeholder:o("webapp_personal_info_edition_identity_placeholder_no_pseudo"),"data-name":"pseudo",value:this.state.values.pseudo,onChange:this.handleChange,readOnly:!!h}),this.isFieldVisible(_.BIRTHDATE,this.state.values.birthDate)&&(0,y.tZ)(d.N,{value:this.state.values.birthDate,calendarButtonLabel:o(g),label:o(g),onChange:e=>{this.handleChange(e.target.value,"birthDate")},readOnly:!!h}),this.isFieldVisible(_.BIRTHPLACE,this.state.values.birthPlace)&&(0,y.tZ)(r.n,{label:o("webapp_personal_info_edition_identity_birthplace_label"),placeholder:o("webapp_personal_info_edition_identity_placeholder_no_birthplace"),"data-name":"birthPlace",value:this.state.values.birthPlace,onChange:this.handleChange,readOnly:!!h})]}),(0,y.tZ)(u.M,{isUsingNewDesign:!0,wrapInContentCard:!0,contentCardLabel:o("webapp_payment_edition_content_identity_organization_label"),labelSx:u.e,spaceId:null!=(a=this.state.values.spaceId)?a:"",onChange:e=>this.handleChange(e,"spaceId"),disabled:!!h})]})}}E.contextType=h.CQ},70674:(e,t,a)=>{a.d(t,{N:()=>p});var l=a(36351),i=a(96832),s=a(17459),n=a(9190),r=a(68999),d=a(81560),o=a(16166);const h=["baseField","input","calendarButtonWrapper"],u={baseField:{zIndex:"0"},input:{width:"100%",border:"unset",outline:"unset",background:"none",padding:"0",variant:"text.ds.body.standard.regular",color:"ds.text.neutral.catchy","::placeholder":{color:"ds.text.neutral.quiet",variant:"text.ds.body.standard.regular"}},calendarButtonWrapper:{display:"flex",backgroundColor:"ds.container.agnostic.neutral.supershy",zIndex:"1",marginLeft:"-32px"}},p=(0,i.forwardRef)((({id:e,label:t,calendarButtonLabel:a,required:p,feedback:_,actions:c,value:b,onChange:v,error:m=!1,disabled:y=!1,readOnly:f=!1,className:g,onFocus:E,onBlur:N,"aria-describedby":C,...A},T)=>{const M=y?"disabled":m?"error":"neutral",{inputID:S,describedByIDs:w,feedbackWithID:I}=(0,n.F)({id:e,ariaDescribedBy:C,feedback:_}),{content:x,setContent:D,inputRef:F}=(0,n.t)({defaultValue:A.defaultValue,ref:T,value:b}),[V,O]=(0,i.useState)(!1),B=(e=>(0,o.y0)(h,[u,"error"===e?{input:{color:"ds.text.danger.standard"}}:{},"disabled"===e?{input:{color:"ds.text.oddity.disabled"},calendarButtonWrapper:{backgroundColor:"transparent"}}:{}]))(M);return(0,l.tZ)(s.n,{sx:B.baseField,label:t,required:p,labelFor:S,isFocused:V,onClick:()=>{F.current?.focus()},feedback:I,error:m,disabled:y,readOnly:f,readOnlyContent:`${x}     `,suffixSlot:[(0,l.BX)("div",{sx:B.calendarButtonWrapper,children:[(0,l.tZ)(r.z,{"aria-label":a,tooltip:a,icon:"CalendarOutlined",layout:"iconOnly",intensity:"supershy",disabled:y||f,onClick:()=>{F.current?.showPicker()}}),!y&&c?[c.map((e=>(0,d.g)(x,e)))]:[]]},"calendar")],className:g,children:(0,l.tZ)("input",{id:S,type:"date",value:x,ref:F,disabled:"disabled"===M,readOnly:f,sx:B.input,spellCheck:!1,"aria-describedby":w,"aria-invalid":"error"===M,"aria-live":"assertive",onFocus:(...e)=>{E?.(...e),O(!0)},onBlur:(...e)=>{N?.(...e),O(!1)},onChange:e=>{v&&v(e),D(e.target.value)},...A})})}));p.displayName="DateField"},26311:(e,t,a)=>{a.d(t,{t:()=>l});var l=function(e){return e.Mr="MR",e.Mrs="MRS",e.Miss="MISS",e.Ms="MS",e.Mx="MX",e.NoneOfThese="NONEOFTHESE",e}({})}}]);