"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[8673],{42521:(e,t,a)=>{a.d(t,{Jh:()=>i,UE:()=>l,ZP:()=>o});var s=a(96832),n=a(26849);const l=(0,n.compose)(n.not,n.isEmpty,n.trim,(0,n.defaultTo)("")),r=/.+@.+\..+/,i=e=>r.test(e.trim());class o extends s.Component{constructor(e){super(e),this.setInternalState=e=>{this.setState({internal:{...this.state.internal,...e}})},this.setUpdatedValues=e=>{const{signalEditedValues:t,onValuesUpdated:a}=this.props,s={...this.state.values,...e};this.setState({values:s},(()=>{t&&t(this.hasFormBeenEdited()),a&&a(s)}))},this.handleChange=(e,t="")=>{if(e instanceof Event&&t)throw new Error("handleChange was called with both a ChangeEvent and key.");const a=e?.target?{[e.target.dataset.name]:e.target.value}:{[t]:e};this.setUpdatedValues(a)},this.handleChanges=e=>{this.setUpdatedValues(e)},this.validateValues=e=>{if(0===Object.keys(e).length)return!0;const t=(0,n.reduce)(((t,a)=>(t[a]=e[a]?(0,n.compose)(n.not,e[a]):()=>!1,t)),{},Object.keys(this.state.values)),a=(0,n.evolve)(t,this.state.values);return this.setState({errors:a}),(0,n.all)((0,n.equals)(!1),(0,n.values)(a))},this.hasFormBeenEdited=()=>!(0,n.equals)(this.state.values,this.props.currentValues),this.getValues=()=>this.state.values;const t=Object.keys(e.currentValues).reduce(((e,t)=>(e[t]=!1,e)),{});this.state={internal:{},values:e.currentValues,errors:t}}componentDidUpdate(e){(0,n.equals)(this.props.currentValues,e.currentValues)||this.setState({values:this.props.currentValues})}}},48673:(e,t,a)=>{a.r(t),a.d(t,{CompanyAddPanel:()=>o}),a(96832);var s=a(39431),n=a(62606),l=a(53748),r=a(15446),i=a(36351);const o=(0,l.B)({iconType:r.Tu.company,vaultItemType:s.U.Company,renderForm:(e,t,a,s)=>{const l={jobTitle:"",companyName:"",spaceId:s};return(0,i.tZ)(n.$,{lee:e,currentValues:l,signalEditedValues:a,ref:t})}})},62606:(e,t,a)=>{a.d(t,{$:()=>d});var s=a(93853),n=a(42670),l=a(42521),r=a(67406),i=a(68037),o=a(36351);class d extends l.ZP{isFormValid(){return this.validateValues({companyName:l.UE})}render(){var e;const t=this.props.lee.translate.namespace("webapp_personal_info_edition_company_"),{shouldShowFrozenStateDialog:a}=this.context;return(0,o.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,o.BX)(i.u,{title:t("content_card_details_label"),additionalSx:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,o.tZ)(s.n,{required:!0,label:t("name_label"),placeholder:t("placeholder_no_name"),"data-name":"companyName",value:this.state.values.companyName,error:this.state.errors.companyName,onChange:this.handleChange,readOnly:!!a}),(0,o.tZ)(s.n,{label:t("jobTitle_label"),placeholder:t("placeholder_no_jobTitle"),"data-name":"jobTitle",value:this.state.values.jobTitle,onChange:this.handleChange,readOnly:!!a})]}),(0,o.tZ)(r.M,{isUsingNewDesign:!0,wrapInContentCard:!0,contentCardLabel:t("content_card_organization_label"),labelSx:r.e,spaceId:null!=(e=this.state.values.spaceId)?e:"",onChange:e=>this.handleChange(e,"spaceId"),disabled:!!a})]})}}d.contextType=n.CQ},53748:(e,t,a)=>{a.d(t,{B:()=>b});var s=a(96832),n=a(73704),l=a(14900),r=a(8180),i=a(14877),o=a(39431),d=a(92077),c=a(39649),u=a(86498),h=a(88203),p=a(45272),m=a(42670),g=a(63520),v=a(15446),y=a(18462),V=a(36351);function b(e){const{renderForm:t,vaultItemType:a,iconType:b}=e;return({lee:e})=>{const{translate:C}=(0,h.Z)(),{routes:_}=(0,d.Xo)(),I=(0,u.V)(),{createVaultItem:w}=(0,r.u)(i.L),f=(0,s.useRef)(null),{openDialog:E,shouldShowFrozenStateDialog:U}=(0,m.Ub)(),[P,T]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e={[o.U.Address]:n.PageView.ItemAddressCreate,[o.U.Company]:n.PageView.ItemCompanyCreate,[o.U.Email]:n.PageView.ItemEmailCreate,[o.U.Identity]:n.PageView.ItemIdentityCreate,[o.U.Phone]:n.PageView.ItemPhoneCreate,[o.U.Website]:n.PageView.ItemWebsiteCreate};(0,p.Nc)(e[a])}),[]),(0,s.useEffect)((()=>{U&&E()}),[U]);const S=()=>{(0,p.Nc)(n.PageView.ItemPersonalInfoList),(0,d.uX)(_.userPersonalInfo)},x=(0,c.B)(e.globalState),Z=(0,V.tZ)(v.ZP,{iconSize:v.Jh.headerEditPanelIcon,iconType:b}),B=(0,y.gV)(C,a);return(0,V.tZ)(g.zI,{isUsingNewDesign:!0,isViewingExistingItem:!1,itemHasBeenEdited:P,onNavigateOut:S,onSubmit:async()=>{Boolean(f.current?.isFormValid())&&(await(async()=>{const e=f.current?.getValues();e&&"success"!==(await w({vaultItemType:a,content:e})).tag&&I.showAlert(C("_common_generic_error"),l.BLW.ERROR)})(),S())},formId:"add_personalinfo_panel",header:(0,V.tZ)(g.V9,{icon:Z,title:B}),children:t(e,f,(()=>T(!0)),x)})}}}}]);