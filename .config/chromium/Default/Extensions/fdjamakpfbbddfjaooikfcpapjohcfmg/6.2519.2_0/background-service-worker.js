(()=>{var e={63847:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=63847,e.exports=t},91102:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=91102,e.exports=t},95157:function(e,t,n){"use strict";var i=n(33030),r=n(63753),o=n(16238),a=n(48855),s=n(15518),c=n(58607),l=n(58279),u=n(85500),d=n(544),h=n(41650),m=n(32028);let p=h.V.create({container:"background",module:"amphora",domain:"no-domain",infra:new m.e}),f=async()=>{try{let e=(0,u.A)("runtime-config.json");if(!e)throw Error("Could not build path to runtime-config.json");let t=await fetch(e),n=await t.json();return{buildType:function(e){if(!(e.buildType&&"string"==typeof e.buildType&&Object.values(d.P).map(e=>e.toString()).includes(e.buildType)))throw Error("Build type from runtime-config.json is invalid");return d.P[e.buildType]}(n)}}catch(e){return p.error("Unable to read buildType from runtime-config.json",{error:e}),{buildType:d.P.PRODUCTION}}},g=async()=>{let{buildType:e}=await f();return e};async function w(){let e=await g();return{platformName:"server_standalone",appVersion:(0,l.W)().version,versionName:(0,l.W)().version_name,browser:s.getBrowserName(),browserVersion:s.getBrowserVersion(),country:s.getBrowserCountry(),os:c.getOSName()??"",osCountry:s.getBrowserCountry(),osVersion:c.getOSVersion(),lang:s.getBrowserLanguage(),manifestVersion:(0,l.W)().manifest_version,buildType:e}}let b={appAccess:"C4F8H4SEAMXNBQVSASVBWDDZNCVTESMY",appSecret:"Na9Dz3WcmjMZ5pdYU1AmC5TdYkeWAOzvOK6PkbU4QjfjPQTSaXY8pjPwrvHfVH14"},y=()=>{},v={...b,styxAccess:"DASHQ7DNHYSPYSG6JSF6",styxSecret:"LNS273zaVvwNM+VKOjotBYygJyPaM0CXshpdf0j7",...y()??{}},_={LOG_LEVEL:4,CODE_NAME:"amphora",MANIFEST_VERSION:(0,l.W)().manifest_version,...Object.fromEntries(Object.entries({[a.DashlaneAPISchemesNames.DASHLANE_API_HOST_WITH_SCHEME]:"https://api.dashlane.com",[a.DashlaneAPISchemesNames.DASHLANE_WS_HOST_WITH_SCHEME]:""}).filter(([,e])=>e))};async function S({apiConnector:e,debugConnector:t,infrastructureConnectors:n,legacyExtensionConnector:i,legacyWebappConnector:r,legacyMaverickConnector:s,publicPath:c,storageLayer:l,sessionStorage:u,app:d}){p.debug("Carbon initialization started");let h=await w(),m=await (0,a.init)({connectors:{api:e,debug:t,extension:i,leeloo:r,maverick:s},infrastructure:{connectors:n},platformInfo:h,publicPath:c,storageLayer:l,sessionStorage:u,keys:v,config:_,settings:{sync:{syncWithLocalClients:!0},userABTestNames:["ace_password_health_labels",o.v]},createClients:d.createClient});return p.debug("Carbon initialization done"),m}var k=n(26906),E=n(81010),P=n(18656),C=n(47636),L=n(861),x=n(81470),A=n(26837),T=n(79193),U=n(12791),O=n(90960),R=n(7917),W=n(92691),I=n(10235),$=n(16484),D=n(17658);function j(e){return(0,U.createEventBus)({events:O.X,channels:e})}function N(e){return(0,U.createEventBus)({events:W.z,channels:e})}function F(e,t){return(0,U.createEventBus)({events:I.N,channels:e,ignoredEvents:t})}function B(e){return(0,U.createEventBus)({events:$.I,channels:e})}let{PopupCarbon:M,PopupCarbonLoader:H,OptionsCarbon:z,WebappCarbon:V}=T.Om;var K=n(39189);function X(e){K.Y.addListener(e)}let Y=(e,t)=>{t(),p.info(`Executing task "${e}"`)},G="assets/argon2/argon2.min.js",q="assets/argon2/argon2.wasm";var Z=n(68136),Q=n(26577);async function J(e,t){let n=t.flowLoginCredentialOnWebSite;n&&(await (0,Q.$)(n.domain),await (0,Z.U)({url:n.url}),await e.updateWebOnboardingMode({flowLoginCredentialOnWebSite:null}))}function ee({connectors:{extensionToCarbonApiConnector:e,extensionToCarbonLegacyConnector:t}}){e.liveWebOnboardingMode.on(e=>{J(t,e)})}var et=n(9523);async function en({connectors:{extensionToCarbonApiConnector:e}}){try{let t=new URL("https://www.dashlane.com/feedback"),n=await e.getPlatformName();t.searchParams.append("platform",n);let i=await e.getAnonymousComputerId();t.searchParams.append("aci",i),(0,et.S)(t.toString())}catch(e){p.warn("Error on display of survey after extension removal",{error:e})}}var ei=n(54454),er=n(51376);let eo="silent_deploy";async function ea(){try{let e=await (0,er.U)();if("object"==typeof e&&null!==e&&eo in e&&!0===e[eo]){p.info("Silent Deploy is set, the webapp will not be launched");return}}catch{}(0,ei.b)({route:"/signup"})}var es=n(30399),ec=n(83533);async function el(){let e=await (0,es.g)({domain:"dashlane.com",name:"userFunnelCookie"}).catch(e=>(p.error("Error while getting dashlane cookies",{error:e}),[]));if(e[0]){let t=decodeURIComponent(e[0].value);try{return JSON.parse(t)}catch(e){p.error("Error parsing userFunnelCookie",{error:e})}}return{}}function eu(e){return""!==e?e:void 0}async function ed({connectors:{extensionToCarbonApiConnector:e}}){let t=await el(),n=0===Object.keys(t).length?{has_cookie:!1}:{has_cookie:!0,heap_identity:t.trackingId,gclid:t.gclid,everflow_transaction_id:t.transaction_id,utm_pathname:t.pathname,utm_referrer:eu(t.referrer),utm_source:eu(t.utm_source),utm_campaign:eu(t.utm_campaign),utm_medium:eu(t.utm_medium),utm_content:eu(t.utm_content),utm_term:eu(t.utm_term),utm_visit_timestamp:t.utm_visitTimestamp,utm_last_click_pathname:t.last_click_pathname,utm_last_click_referrer:eu(t.last_click_referrer),utm_last_click_source:eu(t.last_click_source),utm_last_click_campaign:eu(t.last_click_campaign),utm_last_click_medium:eu(t.last_click_medium),utm_last_click_content:eu(t.last_click_content),utm_last_click_term:eu(t.last_click_term),utm_last_click_visit_timestamp:t.last_click_visitTimestamp};e.logEvent({event:new ec.UserFirstLaunchEvent({web:n})})}var eh=n(69016);function em({connectors:{carbonToExtensionLegacyConnector:e}}){e.reloadExtension.on(async e=>{try{e||(0,eh.H)()}catch(e){throw p.error("Error while reloading extension",{error:e}),e}})}var ep=n(19446),ef=n(56144),eg=n(42589),ew=n(81433),eb=n(72907),ey=n(306);async function ev(e){try{await (0,ep.F)({isUserAuthenticated:e})}catch(e){p.error("Failed to update toolbar action icon",{error:e})}}function e_({appClient:e}){e.session.queries.selectedOpenedSession().pipe((0,ef.h)(ey.d6),(0,eg.U)(e=>!!e.data),(0,ew.x)(),(0,eb.w)(ev)).subscribe()}var eS=n(65756),ek=n(54864);async function eE(){try{var e;let t=(e=await g(),"BETA"===e?{text:"BETA",color:"#FFB81C"}:null);t&&((0,eS.d)({text:t.text}),(0,ek._)({color:t.color}))}catch(e){p.warn("Error on initialization of icon toolbar icon badge",{error:e})}}var eP=n(31256),eC=n(31488),eL=n(34701);async function ex(){return(await (0,eC.z)()).map(e=>e.id)}let eA=new eP.WU;async function eT(e){await eA.runExclusive(async()=>{let t=await ex(),n=function(e,t){var n,i;let r=(0,u.A)(""),o=new URL(r).hostname,a=new URL(r).protocol;return[{priority:1,action:{type:"redirect",redirect:{regexSubstitution:`${a}//${o}/index.html\\1#/\\2`}},condition:{regexFilter:"^https?://w*\\.?app\\.dashlane\\.com(\\??[^/#]*)[^#]*#?/?(.*)$",resourceTypes:["main_frame"]}},{priority:1,action:{type:"redirect",redirect:{regexSubstitution:`${a}//${o}/index.html\\1#/console/\\2`}},condition:{regexFilter:"^https?://w*\\.?console\\.dashlane\\.com(\\??[^/#]*)[^#]*#?/?(.*)$",resourceTypes:["main_frame"]}},{priority:2,action:{type:"redirect",redirect:{regexSubstitution:`${a}//${o}/loading.html`}},condition:{regexFilter:"^https://sso.nitro(staging)?.dashlane.com/saml/callback$",resourceTypes:["main_frame","sub_frame"]}},{priority:n=2,action:{type:"allowAllRequests"},condition:{regexFilter:"https?:w*\\.?[a-z]+\\.dashlane\\.com/cdn-cgi/access/authorized.*$",resourceTypes:["main_frame"]}},{priority:n,action:{type:"allowAllRequests"},condition:{regexFilter:"https?://w*\\.?[a-z]+\\.dashlane\\.com.+noredirect.*$",resourceTypes:["main_frame"]}},...(i=t+2,e.map(e=>{let t=e.replace(/[.]/g,"\\$&");return{priority:i,action:{type:"redirect",redirect:{regexSubstitution:`${a}//${o}/index.html?token=${btoa(encodeURIComponent(e))}#/anti-phishing`}},condition:{regexFilter:`^https?://.*${t}.*$`,resourceTypes:["main_frame"]}}}))].map((e,t)=>({id:t+1,...e}))}(e,1);(0,eL.O)({removeRuleIds:t,addRules:n})})}var eU=n(29109),eO=n(1969),eR=n(26101);function eW(e){let{hostname:t,hash:n,search:i}=new URL(e),r=t.includes("console.dashlane.com")?`index.html${i}#/console${n.replace("#","/").replace("//","/")}`:`index.html${i}${n.replace("#","#/").replace("//","/")}`;return(0,u.A)(r)}let eI=RegExp("(console|app).dashlane.com/cdn-cgi/access/authorized"),e$=["https://app.dashlane.com/*","https://console.dashlane.com/*"],eD=["https://sso.nitro.dashlane.com/saml/callback","https://sso.nitrostaging.dashlane.com/saml/callback"],ej="main_frame";function eN(e){let{url:t,tabId:n}=e,i=t.includes("/sso");return!(t.includes("noredirect")||t.match(eI))&&(0,eU.V)(n,{active:!i,url:eW(t)}),{}}function eF(e){let{tabId:t}=e;return(0,eU.V)(t,{active:!0,url:(0,u.A)("loading.html")}),{cancel:!0}}let eB=()=>{e$.forEach(e=>{eO.a.addListener(eN,{urls:[e],types:[ej]},[eR.X.Blocking])})},eM=()=>{eO.a.addListener(eF,{urls:eD,types:[ej,"sub_frame"]},[eR.X.Blocking])},eH=()=>{eB(),eM()};var ez=n(83463);function eV(e){let{tabId:t,url:n}=e;if(!t)return{};let i=eW((0,u.A)(""));return(0,eU.V)(e.tabId,{url:`${i}?token=${btoa(encodeURIComponent(new ez.Y(n).getRootDomain()))}#/anti-phishing`}),{}}var eK=n(54022),eX=n(55466);class eY{getState(e){let t=this.state.get(e);return t?Promise.resolve(t):Promise.resolve({})}setState(e,t){return 0===Object.keys(t).length?this.state.delete(e):this.state.set(e,t),Promise.resolve()}constructor(){(0,eX._)(this,"state",new Map)}}class eG{async getState(e){let t=await (0,L.U)(e);return t[e]?t[e]:{}}async setState(e,t){0===Object.keys(t).length?await (0,C.O)(e):await (0,x.t)({[e]:t})}}let eq=h.V.create({container:"background",module:"autofill-engine",domain:"autofill",infra:new m.e});function eZ({connectors:{autofillEngineCarbonConnector:e,autofillEngineLegacyCarbonConnector:t},appClient:n}){let r=(0,i.G)()?new eG:new eY,o=new eK.Ps().getBrowserApi();(0,eK.B5)(o,{carbon:e,legacyCarbon:t,grapheneClientPromise:n},r,(e,t)=>{eq.debug(e,t)}),(0,eK.sr)(o)}var eQ=n(87275);let eJ=h.V.create({container:"background",module:"tiresias",domain:"no-domain",infra:new m.e});function e0(e,t){eJ.debug(e,t)}function e1({connectors:{tiresiasBackgroundToCarbonConnector:e},appClient:t}){eJ.info("Creation of Tiresias background process"),new eQ.w({messageLogger:e0,carbonConnectorApi:e,grapheneClient:t})}var e5=n(71181),e6=n(52726),e2=n(55507),e3=n(2587),e4=n(16055),e8=n(16892),e7=n(98942),e9=n(57048),te=n(11278),tt=n(6908),tn=n(19285),ti=n(31676),tr=n(14952),to=n(33762),ta=n(63691),ts=n(18942),tc=n(84504),tl=n(43225),tu=n(37809),td=n(5777),th=n(68041),tm=n(79869),tp=n(303),tf=n(36679),tg=n(41809),tw=n(36703),tb=n(5767),ty=n(79954),tv=n(4843),t_=n(88288),tS=n(57626),tk=n(88610),tE=n(36085),tP=n(38758),tC=n(25072),tL=n(38164),tx=n(37662),tA=n(39637),tT=n(87253),tU=n(64745),tO=n(63505),tR=n(22104),tW=n(33031),tI=n(32786),t$=n(19988),tD=n(18395),tj=n(1419),tN=n(27616),tF=n(36795),tB=n(40048),tM=n(27021),tH=n(47653),tz=n(97845),tV=n(96619),tK=n(69931),tX=n(3911),tY=n(41542),tG=n(6097),tq=n(65257),tZ=n(14657),tQ=n(94234),tJ=n(58866),t0=n(22783),t1=n(17822),t5=n(99467),t6=n(73746),t2=n(316),t3=n(19549),t4=n(44419),t8=n(18381),t7=n(12157),t9=n(83486),ne=n(64784),nt=n(84265),nn=n(79350),ni=n(91857),nr=n(73441),no=n(78293),na=n(39956),ns=n(92608),nc=n(34104),nl=n(2706),nu=n(19444),nd=n(19741),nh=n(26179),nm=n(16734),np=n(32004),nf=n(60436),ng=n(60366),nw=n(68426),nb=n(20082),ny=n(1929),nv=n(77510),n_=n(7132),nS=n(77977),nk=n(59317),nE=n(86836),nP=n(11671),nC=n(8179),nL=n(19195),nx=n(89544),nA=n(95205),nT=n(28266),nU=n(12552),nO=n(45315),nR=n(11060),nW=n(32683),nI=n(37404),n$=n(27458),nD=n(59578),nj=n(28330),nN=n(77261),nF=n(78631),nB=n(81778),nM=n(90735),nH=n(81173),nz=n(75719),nV=n(59311),nK=n(96044),nX=n(99269),nY=n(61962),nG=n(8605),nq=n(9827),nZ=n(47846),nQ=n(55905),nJ=n(34317),n0=n(88134),n1=n(38336),n5=n(34e3),n6=n(41098),n2=n(87141),n3=n(7588),n4=n(31147),n8=n(91866),n7=n(59173),n9=n(91255),ie=n(93812);let it=h.V.create({container:"background",module:"carbon",domain:"no-domain",infra:new m.e});(0,nt.Q)(self,p,{filterUnhandledPromiseRejectionsFn:e=>e.reason instanceof TypeError&&"Failed to fetch"===e.reason.message&&!!e.reason.stack?.includes("assets/argon2/argon2.min.js")});let ii=new tF.y,ir={accessKey:"",secretKey:""},io=((0,nW.x)("prod"),"prod"),ia=y(),is=(0,ne.w)();async function ic(e){p.debug("Starting application modules");let t=new a.CarbonLegacyInfrastructure,n=(0,tB.Y)();return{app:await (0,tc.uT)({externalLoggers:[p,it],appDefinition:e5.O,channels:{},channelsListener:e,currentNode:"background",diagnosticsLogProcessor:(0,tl.$)(tp.T),exceptionLogging:{logsAugmenter:(0,tl.$)(tf.$),sink:(0,tl.$)(tg.u8)},implementations:{publicApi:ie.M,cloudPasskey:nv.A,accountCreation:tI.Z,deleteOrResetAccount:t$.T,subscriptionCode:tD.q,accountReferral:tj.o,analytics:tw.I,featureFlips:tb.k,"carbon-legacy":{module:a.CarbonLegacyModule,configurations:{infrastructure:(0,tl.z)(t)}},family:n7.p,permissions:nR.B,passwordHealth:nn.C,authenticationFlow:{module:nl.c,configurations:{authenticationFlowContextInfrastructure:(0,tl.z)(new ny.e(nu.kg))}},deviceTransfer:nd.I,activityLogs:nA.Z,accountManagement:tN.c,credentialRiskDetection:nT.b,identityVerificationFlow:nh.f,autofillSettings:n_.P,autofillData:nS.U,autofillTracking:nk.V,autofillSecurity:nE.k,autofillNotifications:nP.r,linkedWebsites:nC.J,teamEnclave:nD.Z,confidentialSSOApi:{module:nI.D,configurations:{enclaveLoginContextInfrastructure:(0,tl.z)(new nj.X)}},scim:n$.i,nudges:nO._,session:{module:e2._,configurations:{session:(0,tl.$)(e3.h)}},sync:e6.R,importOrchestrator:te.F,vaultReport:ni.E,vaultItemsCrud:tt.z,passwordHistory:tn.U,vaultSearch:ti.U,vaultNotifications:tr.K,vaultOrganization:to.H,secureFiles:ta.E,uiSettings:ty.Y,passwordLimit:ts.a,pinCode:nm.N,otp:nr.f,masterPasswordSecurity:n6.f,emailMonitoring:no.S,breaches:na.t,sharingCollections:nN.a,sharingItems:nF.F,sharingInvites:nB.p,sharingRecipients:nM.u,sharingSync:nH.P,antiphishing:ns.v,phishingResistance:np.i,overrides:nL.x,mlAntiPhishing:nx.s,accountRecoveryKey:nc.D,teamMembers:nK.X,teamVat:nX.K,teamPlanDetails:nY.H,teamPlanUpdate:nG.c,teamUserGroups:n0.q,inviteLink:nq._,customerSupport:nZ.F,teamAdminNotifications:nQ.E,notifications:n1.F,changeMasterPassword:e4.M,teamPasswordHealth:nJ.V,userConsents:n3.K,vaultAccess:e8.r,vpnNotifications:n2.u,userVerification:nf.Z,getStarted:n4.$,profileAdmin:n8.y,deviceRegistration:ng._,b2cPlansApi:n9.X,webServices:tv.n.configure({baseUrl:"https://api.dashlane.com",appKeys:{appAccessKey:b.appAccess,appSecretKey:b.appSecret},...ia?{cloudflareKeys:{cloudflareAccessKey:ia.cloudflareAccess,cloudflareSecretKey:ia.cloudflareSecret}}:{}},(0,tl.$)(e7.w)),platformInfo:t_.i,authentication:nw.R,securityKey:nb.r,siem:nU.g,deviceManagement:n5.B,icons:tS.p,"file-download":{module:tu.l,configurations:{fileDownloadEmitterChannel:(0,tl.z)(new tM.m().makeFileDownloadEmitterChannel())}},"file-upload":{module:td.O,configurations:{fileUploadListener:n?(0,tl.$)(tH.w.initializeListener()):(0,tl.$)(tz.b)}},killSwitch:tk.B,sharingRemoteControl:nz.D,sharingCenter:nV.k},otherModules:[...n?[th.f.configure((0,tl.$)(tV.D))]:[],tE.F.configure(),tP.T,tm.X.configure((0,tl.z)(new tK.A)),tC.Q.configure((0,tl.$)(tL.U),(0,tl.$)(tx.P),(0,tl.$)(tA.c)),tT.D.configure((0,tl.z)(new tU.i({computeHash:tX.x,decryptAes256:tY.$,decryptRsaOaep:tG.G,deriveKeyArgon2d:tq.f,deriveKeyPbkdf2:tZ.x,encryptAes256:tQ.P,encryptRsaOaep:tJ.b,generateKeyAes256:t0.o,generateKeyPairRsaOaep:t1.Y,getRandomValues:t5.P,signHmacSha:t6.n,signRsassaPkcs1:t2.f,unsafeComputeMd5Hash:t3.H,verifyHmacSha:t4.o,verifyRsassaPkcs1:t8.e}))),tR.G.configure((0,tl.z)(new tW.N6({appAccessKey:b.appAccess,appSecretKey:b.appSecret},ir,"https://sso.nitro.dashlane.com/","https://api.dashlane.com",io)))],storeInfrastructureFactory:is,jsonFetcher:new t7.W,cronSource:ii,keyValueStorageInfrastructure:new m.e,managedStorageInfrastructure:new t9.e(p),defaultDeviceStorageEncryptionCodec:(0,tl.$)(tO.n),defaultUserStorageEncryptionCodec:(0,tl.$)(e9.Y)}),signalCarbonReady:(e,n,i)=>{t.ready({apiEvents:n,leelooEvents:i,leelooEventsCommands:i,coreServices:e})},signalCarbonInitFailed:e=>{t.initFailed(e)}}}var il=n(48102),iu=n(90704);let id=["/content/injectedts/vendors.js","/content/contentScripts/kwift.CHROME.js"],ih="options.useInjectScriptOnStart";async function im(){try{(await (0,k.U)(ih))[ih]&&(await (0,il.I)({url:["http://*/*","https://*/*"]})).forEach(({id:e})=>{e&&(0,iu.k)({target:{tabId:e,allFrames:!0},files:id})})}catch(e){throw p.error("Failed to inject script on existing tabs",{error:e}),e}}function ip(){im()}let ig=["error","info","log","warning"];var iw=n(21682),ib=n(6590),iy=n(15623);let iv="crd.massDeploymentDeviceId",i_="MassDeployedTeamKey";async function iS({connectors:{extensionToCarbonApiConnector:e}}){try{if(!(await (0,k.U)(iv))[iv]){let t=await (0,er.U)();if("object"==typeof t&&null!==t&&i_ in t&&"string"==typeof t[i_]){p.info("log device protected by CRD");let n=t[i_].split("-")[0],i=crypto.randomUUID();(0,P.t)({[iv]:i}),e.logEvent({event:new ec.AnonymousMassDeploymentStatusEvent({isProtectedByCredentialRiskDetection:!!n,massDeploymentAccessKey:n,massDeploymentDeviceId:i})})}}}catch(e){p.error(`${e}`)}}async function ik(e,t){let n=new a.CarbonStorage({itemExists:async e=>await (0,A.j)(e),readItem:async e=>{let t=(await (0,k.U)(e))[e];return"string"!=typeof t&&null!==t?null:t},removeItem:async e=>{await (0,E.O)(e)},writeItem:async(e,t)=>{await (0,P.t)({[e]:t})}}),r=(0,i.G)()?{removeItem:async e=>await (0,C.O)(e),getItem:async e=>(await (0,L.U)(e))[e],setItem:async(e,t)=>{await (0,x.t)({[e]:t}).catch(t=>{throw Error(`carbon storing ${e}: ${t.message}`)})}}:void 0,{app:o,signalCarbonReady:s,signalCarbonInitFailed:c}=await ic(t),{applicationModulesToCarbonApiConnector:l,carbonApiConnector:u,carbonDebugConnector:d,carbonLegacyWebappConnectorForGraphene:h,carbonInfrastructureConnectors:m,carbonToExtensionLegacyConnector:p,carbonLegacyWebappConnector:f,carbonLegacyMaverickConnector:g}=e;try{let e=await S({apiConnector:u,debugConnector:d,infrastructureConnectors:m,legacyExtensionConnector:p,legacyWebappConnector:f,legacyMaverickConnector:g,publicPath:"./",storageLayer:n,sessionStorage:r,app:o});s(e,l,h)}catch(e){c(e)}return o}"pbenjapkjdkdlfdjjokeendimjkgjgjb"===chrome.runtime.id||chrome.runtime.id,!function(){let e=new ib.P("graphene-background-port"),t=new iy.L(e,p);try{var n,i,o,s;p.debug("Starting background initialization"),t.start(),function(){try{addEventListener("install",()=>{p.debug("Extension ServiceWorker installing")}),addEventListener("activate",()=>{p.debug("Extension ServiceWorker activated")}),chrome.runtime.onStartup?.addListener(()=>{p.debug("Browser profile startup")}),chrome.runtime.onSuspend?.addListener(()=>{p.debug("Extension event page suspend event")}),chrome.runtime.onSuspendCanceled?.addListener(()=>{p.debug("Extension event page suspend cancelled")}),chrome.runtime.onUpdateAvailable?.addListener(()=>{p.debug("Extension update available")}),chrome.runtime.onRestartRequired?.addListener(()=>{p.debug("Browser update available")}),chrome.runtime.onBrowserUpdateAvailable?.addListener(()=>{p.debug("Browser update available")}),chrome.runtime.onRestartRequired?.addListener(e=>{p.debug("Restart required by browser",{reason:e})}),chrome.extension?.isIncognitoContext&&p.debug("Is in incognito context"),chrome.idle?.onStateChanged?.addListener(e=>{p.debug("Idle state changed",{state:e})}),chrome.runtime.onPerformanceWarning?.addListener(e=>{let{category:t,severity:n,tabId:i,description:r}=e;p.debug("Performance warning emitted for the extension",{category:t,severity:n,tabId:i,description:r})}),chrome.runtime.onInstalled?.addListener(e=>{let{reason:t}=e;if("install"===t)p.debug("Extension got installed");else if("update"===t){let{previousVersion:t}=e;p.debug("Extension got updated",{previousVersion:t??""})}else if("chrome_update"===t)p.debug("Chrome got updated");else if("browser_update"===t)p.debug("Browser got updated");else if("shared_module_update"===t){let{id:t}=e;p.debug("A shared module got updated",{sharedModuleId:t??""})}e.temporary&&p.debug("Extension is installed temporarily")})}catch(e){p.error("Failed setting up extension lifecycle event logs",{error:e instanceof Error?e.message:String(e)})}}();let c=function(){var e;p.debug("Initializing communication connectors 5000");let t=new T.sh(H,5e3);t.listen();let n=new T.sh(M,5e3);n.listen();let i=new T.sh(z,5e3);i.listen();let r=new T.Yg(V,5e3);r.listen();let o=new T.y$,s=new T.y$(3e4),c=new T.y$,l=new T.y$,u=B([o]),{carbonToExtensionLegacyConnector:d,extensionToCarbonLegacyConnector:h}=function(e){let t=new T.y$,n=new T.y$;return(0,T.PN)(t,n),{carbonToExtensionLegacyConnector:N([...e,t]),extensionToCarbonLegacyConnector:N([n])}}([t,n]),m=new T.y$(3e4),f=new T.y$(3e4);(0,T.PN)(m,f);let g=F([r,m]),w=F([f],a.LEGACY_LEELOO_SLOTS_TO_IGNORE),b=j([t,n,i,r,o,s,c,l]),y=(0,U.createEventBus)({events:R.o}),v={deviceLimit:(e=[r],(0,U.createEventBus)({events:D.D,channels:e}))},{autofillEngineCarbonConnector:_,autofillEngineLegacyCarbonConnector:S}=function(e){let t=new T.y$;return(0,T.PN)(e,t),{autofillEngineCarbonConnector:j([t]),autofillEngineLegacyCarbonConnector:B([t])}}(o),k=function(e){let t=new T.y$;return(0,T.PN)(e,t),j([t])}(l);return{applicationModulesToCarbonApiConnector:function(e){let t=new T.y$(3e4);return(0,T.PN)(e,t),j([t])}(s),autofillEngineCarbonConnector:_,autofillEngineLegacyCarbonConnector:S,carbonApiConnector:b,carbonDebugConnector:y,carbonInfrastructureConnectors:v,carbonLegacyMaverickConnector:u,carbonLegacyWebappConnector:g,carbonToExtensionLegacyConnector:d,extensionToCarbonApiConnector:function(e){let t=new T.y$;return(0,T.PN)(e,t),j([t])}(c),extensionToCarbonLegacyConnector:h,tiresiasBackgroundToCarbonConnector:k,carbonLegacyWebappConnectorForGraphene:w}}();p.debug("Starting Carbon & Application Modules");let l=ik(c,e).then(e=>e.createClient()).then(e=>(t.ready(),e)).catch(e=>{throw t.failure(e),p.error("Promise appClientPromise rejected",{error:e}),e});p.info("Running initialization tasks ...");let u=(n={appClient:l,connectors:c},{withAppClientReady(e){n.appClient.then(t=>{e.forEach(({name:e,fn:i})=>{var r;Promise.race([Promise.resolve().then(()=>Y(e,()=>{i({appClient:t,connectors:n.connectors})})),(r=()=>Error(`Initialization Task ${e} timed out (10000ms)`),new Promise((e,t)=>setTimeout(()=>t(r),1e4)))]).then(()=>{p.info(`${e} task completed`)}).catch(t=>{throw p.error(`Initialization Task ${e} failed`,{error:t instanceof Error?t.message:String(t)}),t})})})},withAppClientPromise(e){e.forEach(e=>{try{Y(e.name,()=>e.fn(n))}catch(t){throw p.error(`Error while running task; "${e.name}"`,{error:t instanceof Error?t.message:String(t)}),t}})}});if((p.info("Running redirection initialization tasks ..."),(0,r.G)())?(i=c.extensionToCarbonApiConnector,eT([]),i.livePhishingURLList.on(e=>{p.info("'Execute on carbon event antiPhishing change from carbon endpoint: livePhishingURLList'"),eT(Array.from(e))})):(eH(),function(e){e.livePhishingURLList.on(e=>{p.info("Execute on carbon event antiPhishing change from carbon endpoint: livePhishingURLList"),function(e){if(!e.size)return;let t=Array.from(e).reduce((e,t)=>{let n=["https","http"].map(e=>`${e}://*.${t}/*`);return e.push(...n),e},[]);eO.a.hasListener(eV)&&eO.a.removeListener(eV),eO.a.addListener(eV,{urls:t,types:["main_frame"]})}(e)})}(c.extensionToCarbonApiConnector)),(()=>{var e;p.info("Initializing CarbonDebugConnector Debug Logger ..."),e=c.carbonDebugConnector,ig.forEach(t=>{e[t].on(e=>{if(!["error","info","log","warning"].some(e=>e===t))throw Error("Invalid debug connector event");let n={timestamp:new Date(e.date).getTime(),optionalParams:e.optionalParams};switch(t){case"error":it.error(e.message,n);break;case"info":it.info(e.message,n);break;case"log":it.debug(e.message,n);break;case"warning":it.warn(e.message,n)}})}),p.info("Initilializing argon2 ..."),("serviceWorker"in self?function(){try{self.loadArgon2WasmModule=()=>(importScripts(G),Promise.resolve()),self.loadArgon2WasmBinary=async()=>{let e=await fetch(q),t=await e.arrayBuffer();return new Uint8Array(t)},importScripts(G)}catch(e){throw p.error("Error when importing ARGON2_JS_WRAPPER_FOR_WASM script",{error:e}),e}}:function(){try{self.loadArgon2WasmBinary=async()=>{let e=await fetch(q),t=await e.arrayBuffer();return new Uint8Array(t)}}catch(e){throw p.error("Failed to assign to self.loadArgon2WasmBinary",{error:e}),e}})(),p.info('Running "onExtensionStart" init tasks with the app client promise ...'),u.withAppClientPromise([{name:"reloadOnLogout",fn:em},{name:"initAutofillEngine",fn:eZ}]),p.info('Running "onExtensionStart" init tasks with the app client ready ...'),u.withAppClientReady([{name:"initOnboarding",fn:ee},{name:"surveyOnUninstall",fn:en},{name:"initToolbarIcon",fn:e_},{name:"initToolbarIconBadge",fn:eE},{name:"initTiresias",fn:e1}])})(),o=()=>{p.info('Running "onExtensionFirstInstall" init tasks with the app client ready ...'),u.withAppClientReady([{name:"logWebAppFirstLaunch",fn:ed},{name:"logDeviceProtected",fn:iS},{name:"openWebAppSignUp",fn:ea}])},X(e=>{"install"===e.reason&&o(e)}),X(()=>{p.info("Disabling browser native autofill .."),(0,iw.D)()}),s=()=>{p.info('Running "onExtensionUpdate" init tasks with the app client ready ...'),u.withAppClientReady([{name:"logDeviceProtected",fn:iS},{name:"injectScriptOnExistingTabs",fn:ip}])},X(e=>{"update"===e.reason&&s(e)}),chrome.runtime.onStartup.addListener(()=>{p.info("chrome.runtime.onStartup event")}),"serviceWorker"in self&&self instanceof ServiceWorkerGlobalScope){p.info("Attaching Chrome MV3 Service Worker event handlers ...");let e=self.skipWaiting,t=self.clients;self.oninstall=()=>{p.info("self.oninstall event"),e().then(()=>{p.info("Promise skipWaiting() resolved")}).catch(e=>{throw p.error("Promise skipWaiting() rejected",{error:e}),e})},self.addEventListener("activate",e=>{p.info("'activate' event triggered"),e.waitUntil(new Promise(e=>{p.info('ExtendableEvent.waitUntil() pending on "activate" event'),t.claim().then(()=>{p.info("Promise clients.claim() resolved")}).catch(e=>{throw p.error("Promise clients.claim() rejected",{error:e instanceof Error?e.message:String(e)}),e}).then(e)}))})}p.info("Background initialization initiated.")}catch(e){throw t.failure(e),p.error("Error during the initialization of the background",{error:e}),e}}()},38161:function(){},15521:function(){},83242:function(){},29532:function(){},55078:function(){},53052:function(){},68635:function(){},4229:function(){},87103:function(){},83108:function(){},2528:function(){},51598:function(){},82448:function(){},65443:function(){},48609:function(){},29973:function(){},12857:function(e,t,n){"use strict";n.r(t),n.d(t,{ParsedURL:()=>i.Y});var i=n(83463)},83463:function(e,t,n){"use strict";n.d(t,{Y:()=>E});var i=n(55466),r=n(46078),o=n(54388);let a=(e,t)=>(t&&(e=e.slice(0,-t.length-1)),e),s=/^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$/,c=e=>e.startsWith(".")||e.endsWith("."),l=e=>s.test(e),u=e=>e.startsWith("["),d=e=>({etld:"",mainDomain:e,subdomain:"",subdomainWithoutLeadingWww:""}),h=e=>({etld:"",mainDomain:e.slice(1,-1),subdomain:"",subdomainWithoutLeadingWww:""}),m=e=>e.length>1?e.slice(0,-1).join("."):"",p=e=>e.length>1&&"www"===e[0]?e.slice(1):e,f=e=>{let t=function(e){if(!e)return"";let t=function(e){let t=[],n=e.split(".");for(;1!==n.length;)t.push((n=n.slice(1)).join("."));return t}(e);if(0===t.length)return"";if(o.ETLD_RULES.exception.has(e))return t[0];for(let e=0;e<t.length;e++){let n=t[e];if(o.ETLD_RULES.exception.has(n))return t[e+1];if(o.ETLD_RULES.basic.has(n))return n;let i=t[e+1];if(o.ETLD_RULES.wildcard.has(i))return n}return""}(e),n=a(e,t).split("."),i=p(n),r=i[i.length-1]?i[i.length-1]:"";return{etld:t,mainDomain:r,subdomain:m(n),subdomainWithoutLeadingWww:m(i)}},g=e=>!e||c(e)?{etld:"",mainDomain:"",subdomain:"",subdomainWithoutLeadingWww:""}:"localhost"===e?{etld:"",mainDomain:e,subdomain:"",subdomainWithoutLeadingWww:""}:l(e)?d(e):u(e)?h(e):f(e),w=/^[A-Za-z+\-.]+:\/\//,b=e=>w.test(e),y=e=>e.startsWith("http://")||e.startsWith("https://"),v=e=>""!==e,_=e=>e.endsWith(".")?e.slice(0,-1):e,S=e=>{let t={hash:"",host:"",hostname:"",href:"",origin:"",password:"",pathname:"",port:"",protocol:"",search:"",username:"",userInput:"",userInputWithProtocol:""},n=e;if(!(e=e.trim()))return t;b(e)||(e=`https://${e}`);try{let t=new URL(_(e));return{hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,password:t.password,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search,username:t.username,userInput:n,userInputWithProtocol:e}}catch(e){return t}},k=e=>{if(!e)return"";if(!["http:","https:"].includes(e.protocol))return e.href;try{let t=b(e.userInput)?e.origin:e.origin.split("://")[1],n=(()=>{if("/"!==e.pathname)return e.pathname;let t=e.userInput.split(e.host);return t.length>1&&t[1].startsWith("/")?e.pathname:""})();return t+n+e.hash}catch(e){return""}};class E{getRootDomain(){let e=this.appendETLD(this.rootDomainName);return this.isUnicode?(0,r.xX)(e):e}getRootDomainName(){return this.isUnicode?(0,r.xX)(this.rootDomainName):this.rootDomainName}getSubdomain(){return this.isUnicode?(0,r.xX)(this.subdomain):this.subdomain}getSubdomainWithoutLeadingWww(){return this.isUnicode?(0,r.xX)(this.subdomainWithoutLeadingWww):this.subdomainWithoutLeadingWww}getHostname(){return this.isUnicode?(0,r.xX)(this.hostname):this.hostname}getHost(){return this.isUnicode?(0,r.xX)(this.host):this.host}getETLD(){return this.isUnicode?(0,r.xX)(this.etld):this.etld}getPIIStrippedURL(){if(this.isUnicode){let e=this.piiStrippedURL.split("://");return`${e[0]}://${(0,r.xX)(e[1])}`}return this.piiStrippedURL}getSearch(){return this.isUnicode?(0,r.xX)(this.search):this.search}getPathname(){return this.pathname}isUrlValid(e={}){let{IPv4Allowed:t=!0,IPv6Allowed:n=!0,mustBeHttpOrHttps:i=!1,requireEtld:r=!1}=e;return!(!t&&l(this.hostname)||!n&&u(this.hostname))&&(!i||!!this.hasHTTPProtocol)&&(!r||!!v(this.etld))&&(this.hasHTTPProtocol||v(this.etld)||this.isUrlIP())}hasHTTPLikeProtocol(){return this.hasHTTPProtocol}getUrlWithFallbackHttpsProtocol(){return this.isUnicode?(0,r.xX)(this.userInputWithProtocol):this.userInputWithProtocol}isUrlIP(){return l(this.hostname)||u(this.hostname)}constructor(e){(0,i._)(this,"etld",void 0),(0,i._)(this,"hasHTTPProtocol",void 0),(0,i._)(this,"hostname",void 0),(0,i._)(this,"host",void 0),(0,i._)(this,"isUnicode",void 0),(0,i._)(this,"pathname",void 0),(0,i._)(this,"piiStrippedURL",void 0),(0,i._)(this,"rootDomainName",void 0),(0,i._)(this,"search",void 0),(0,i._)(this,"subdomain",void 0),(0,i._)(this,"subdomainWithoutLeadingWww",void 0),(0,i._)(this,"userInput",void 0),(0,i._)(this,"userInputWithProtocol",void 0),(0,i._)(this,"appendETLD",e=>this.etld?`${e}.${this.etld}`:e);let t=S(e="string"==typeof e?e:"");this.isUnicode=e!==(0,r.H9)(e),this.hostname=t.hostname,this.host=t.host,this.pathname=t.pathname,this.piiStrippedURL=k(t),this.search=t.search,this.hasHTTPProtocol=y(e);let{etld:n,mainDomain:o,subdomain:a,subdomainWithoutLeadingWww:s}=g(this.hostname);this.etld=n,this.rootDomainName=o,this.subdomain=a,this.subdomainWithoutLeadingWww=s,this.userInput=t.userInput,this.userInputWithProtocol=t.userInputWithProtocol}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.x=()=>{var e=n.O(void 0,["185","577","954","393","766","466","417","427","2","418","72","593"],function(){return n(95157)});return n.O(e)},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(i,r){if(1&r&&(i=this(i)),8&r||"object"==typeof i&&i&&(4&r&&i.__esModule||16&r&&"function"==typeof i.then))return i;var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(function(e){a[e]=function(){return i[e]}});return a.default=function(){return i},n.d(o,a),o}})(),n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce(function(t,i){return n.f[i](e,t),t},[]))},n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.u=function(e){return""+({185:"background-vendors~0",2:"background-legacy",393:"background-vendors~3",417:"background-domains~1",418:"background-framework",427:"background-libs",466:"background-domains~0",577:"background-vendors~1",593:"background-shared",72:"background-autofill",766:"background-vendors~4",954:"background-vendors~2"})[e]+".js"},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},(()=>{var e=[];n.O=function(t,i,r,o){if(i){o=o||0;for(var a=e.length;a>0&&e[a-1][2]>o;a--)e[a]=e[a-1];e[a]=[i,r,o];return}for(var s=1/0,a=0;a<e.length;a++){for(var i=e[a][0],r=e[a][1],o=e[a][2],c=!0,l=0;l<i.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every(function(e){return n.O[e](i[l])})?i.splice(l--,1):(c=!1,o<s&&(s=o));if(c){e.splice(a--,1);var u=r();void 0!==u&&(t=u)}}return t}})(),n.rv=function(){return"1.2.5"},(()=>{var e=n.x;n.x=function(){return Promise.all(["185","577","954","393","766","466","417","427","2","418","72","593"].map(n.e,n)).then(e)}})(),(()=>{n.g.importScripts&&(e=n.g.location+"");var e,t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=i[r--].src}if(!e)throw Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{n.b=self.location+"";var e={795:1};n.f.i=function(t,i){e[t]||importScripts(n.p+n.u(t))};var t=globalThis.webpackChunk_dashlane_amphora=globalThis.webpackChunk_dashlane_amphora||[],i=t.push.bind(t);t.push=function(t){var r=t[0],o=t[1],a=t[2];for(var s in o)n.o(o,s)&&(n.m[s]=o[s]);for(a&&a(n);r.length;)e[r.pop()]=1;i(t)}})(),n.ruid="bundler=rspack@1.2.5",n.x()})();